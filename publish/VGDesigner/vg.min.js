function js2data(t,e){if(Array.isArray(t)){for(var i=[],n={},l=[],o={};t.length;){var r=t.shift();if("[object Object]"!==Object.prototype.toString.call(r))return;var s=r.object?"object":"mxCell",a=r[s+"@id"];a&&"1"!==a&&(r["mxCell@edge"]||"0"===a&&"model"!==e||(n[a]={}),"object"!==s?"0"===a&&"model"!==e||(r["mxCell@edge"]?function(t,n){"model"!==e&&i.push({properties:{id:t,name:n["mxCell@name"]||"",type:n["mxCell@type"]||"",sourceId:n["mxCell@source"],targetId:n["mxCell@target"]}})}(a,r):(l.push(a),n[a].properties={id:a},r["mxCell@parent"]&&(n[a].parent=r["mxCell@parent"],"1"!==r["mxCell@parent"]&&n[r["mxCell@parent"]]&&(n[r["mxCell@parent"]].active=!0)))):function(t,i){var r={},s=[],a=i["object@intrinsic"];if(a){try{a=JSON.parse(a)}catch(t){}if(Array.isArray(a)&&a.length){if("model"!==e&&"0"===t)return void a.forEach(function(t){o[t.name]=t.value[0]});a.forEach(function(t){r[t.name]=t.value[0]}),n[t].active=!0}}if("model"===e||"0"!==t){if(a=i["object@extended"]){try{a=JSON.parse(a)}catch(t){}Array.isArray(a)&&a.length&&(s=a.map(function(t){return getOperand(t)}))}l.push(t),r.id=t,n[t].properties=r;var g=i.object["mxCell@parent"];g&&(n[t].parent=g,"1"!==g&&n[g]&&(n[g].active=!0)),s.length&&(n[t].operand={operands:s},n[t].active=!0)}}(a,r))}i.map(function(t){var e=findDevice(n,t.properties.sourceId,t.properties.targetId);return t.properties.sourceDevId=e.sid,t.properties.targetDevId=e.tid,t});var g={};if("model"!==e){g.properties=o;var C=list2tree(n,l);return C.length&&(g.resources=C),i.length&&(g.relations=i),g}return g.properties={name:n[0]?n[0].properties.name:""},(C=list2tree(n,l)).length&&(g.resources=C),g}}function getOperand(t){for(var e=t.name,i=t.value,n=t.operator,l=t.logic,o={key:e,value:i[0],operator:n[0]},r=0;"none"!==l[r];r++)o.composeType!==l[r]?o={operands:[o,{key:e,value:i[r+1],operator:n[r+1]}],composeType:l[r]}:o.operands.push({key:e,value:i[r+1],operator:n[r+1]});return o}function findDevice(t,e,i){var n="1",l="1";for(e&&t[e]&&(t[e].active=!0,n=t[e].parent),i&&t[i]&&(t[i].active=!0,l=t[i].parent);n&&"1"!==n||l&&"1"!==l;)"1"!==n&&(n=t[e=n].parent),"1"!==l&&(l=t[i=l].parent);return{sid:e,tid:i}}function list2tree(t,e){for(;e.length;){var i=e.pop();if(t[i].active){delete t[i].active;var n=t[i].parent;delete t[i].parent,n&&(t[n]||(n="0"),t[n]&&(t[n].resources||(t[n].resources=[]),t[n].resources.push(t[i]),delete t[i]))}else delete t[i]}return objValues(t)}function objValues(t){if(Object.values)return Object.values(t);var e=[];for(var i in t)e.push(t[i]);return e}function loadJsCssFiles(t){var e;for(var i in t){var n=t[i],l=n.lastIndexOf(".");"js"==(e=n.substr(l+1).toLowerCase())?document.write('<script type="text/javascript" src="'+n+'"><\/script>'):"css"==e&&document.write('<link rel="stylesheet" type="text/css" href="'+n+'">')}}function GetRequest(){var t=location.search,e=new Object;if(-1!=t.indexOf("?"))for(var i=t.substr(1).split("&"),n=0;n<i.length;n++)e[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return e}function mxDictionary(){this.clear()}function mxPoint(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0}function mxRectangle(t,e,i,n){mxPoint.call(this,t,e),this.width=parseInt(null!=i?i:0),this.height=parseInt(null!=n?n:0)}function mxEventObject(t){this.name=t,this.properties=[];for(var e=1;e<arguments.length;e+=2)null!=arguments[e+1]&&(this.properties[arguments[e]]=arguments[e+1])}function mxMouseEvent(t,e){this.evt=t,this.state=e,this.sourceState=e}function mxEventSource(t){this.setEventSource(t)}function mxXmlRequest(t,e,i,n,l,o){this.url=t,this.params=e,this.method=i||"POST",this.async=null==n||n,this.username=l,this.password=o}function mxWindow(t,e,i,n,l,o,r,s,a,g){null!=e&&(r=null==r||r,this.content=e,this.init(i,n,l,o,g),this.installMaximizeHandler(),this.installMinimizeHandler(),this.installCloseHandler(),this.setMinimizable(r),this.setTitle(t),(null==s||s)&&this.installMoveHandler(),null!=a&&null!=a.parentNode?a.parentNode.replaceChild(this.div,a):this.vgdContainer.appendChild(this.div))}function mxForm(t){this.table=document.createElement("table"),this.table.className=t,this.body=document.createElement("tbody"),this.table.appendChild(this.body)}function mxImage(t,e,i){this.src=t,this.width=e,this.height=i}function mxDivResizer(t,e){if("div"==t.nodeName.toLowerCase()){null==e&&(e=window),this.div=t;var i=mxUtils.getCurrentStyle(t);null!=i&&(this.resizeWidth="auto"==i.width,this.resizeHeight="auto"==i.height),mxEvent.addListener(e,"resize",mxUtils.bind(this,function(t){this.handlingResize||(this.handlingResize=!0,this.resize(),this.handlingResize=!1)})),this.resize()}}function mxDragSource(t,e){this.element=t,this.dropHandler=e,mxEvent.addGestureListeners(t,mxUtils.bind(this,function(t){this.mouseDown(t)})),mxEvent.addListener(t,"dragstart",function(t){mxEvent.consume(t)}),this.eventConsumer=function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");i!=mxEvent.MOUSE_DOWN&&n.consume()}}function mxToolbar(t){this.container=t}function mxUndoableEdit(t,e){this.source=t,this.changes=[],this.significant=null==e||e}function mxUndoManager(t){this.size=null!=t?t:100,this.clear()}function mxPanningManager(t){this.thread=null,this.active=!1,this.tdx=0,this.tdy=0,this.t0x=0,this.t0y=0,this.dx=0,this.dy=0,this.scrollbars=!1,this.scrollLeft=0,this.scrollTop=0,this.mouseListener={mouseDown:function(t,e){},mouseMove:function(t,e){},mouseUp:mxUtils.bind(this,function(t,e){this.active&&this.stop()})},t.addMouseListener(this.mouseListener),mxEvent.addListener(document,"mouseup",mxUtils.bind(this,function(){this.active&&this.stop()}));var e=mxUtils.bind(this,function(){return this.scrollbars=mxUtils.hasScrollbars(t.container),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop,window.setInterval(mxUtils.bind(this,function(){if(this.tdx-=this.dx,this.tdy-=this.dy,this.scrollbars){var e=-t.container.scrollLeft-Math.ceil(this.dx),i=-t.container.scrollTop-Math.ceil(this.dy);t.panGraph(e,i),t.panDx=this.scrollLeft-t.container.scrollLeft,t.panDy=this.scrollTop-t.container.scrollTop,t.fireEvent(new mxEventObject(mxEvent.PAN))}else t.panGraph(this.getDx(),this.getDy())}),this.delay)});this.isActive=function(){return active},this.getDx=function(){return Math.round(this.tdx)},this.getDy=function(){return Math.round(this.tdy)},this.start=function(){this.t0x=t.view.translate.x,this.t0y=t.view.translate.y,this.active=!0},this.panTo=function(i,n,l,o){this.active||this.start(),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop,l=null!=l?l:0,o=null!=o?o:0;var r=t.container;this.dx=i+l-r.scrollLeft-r.clientWidth,this.dx<0&&Math.abs(this.dx)<this.border?this.dx=this.border+this.dx:this.handleMouseOut?this.dx=Math.max(this.dx,0):this.dx=0,0==this.dx&&(this.dx=i-r.scrollLeft,this.dx>0&&this.dx<this.border?this.dx=this.dx-this.border:this.handleMouseOut?this.dx=Math.min(0,this.dx):this.dx=0),this.dy=n+o-r.scrollTop-r.clientHeight,this.dy<0&&Math.abs(this.dy)<this.border?this.dy=this.border+this.dy:this.handleMouseOut?this.dy=Math.max(this.dy,0):this.dy=0,0==this.dy&&(this.dy=n-r.scrollTop,this.dy>0&&this.dy<this.border?this.dy=this.dy-this.border:this.handleMouseOut?this.dy=Math.min(0,this.dy):this.dy=0),0!=this.dx||0!=this.dy?(this.dx*=this.damper,this.dy*=this.damper,null==this.thread&&(this.thread=e())):null!=this.thread&&(window.clearInterval(this.thread),this.thread=null)},this.stop=function(){if(this.active)if(this.active=!1,null!=this.thread&&(window.clearInterval(this.thread),this.thread=null),this.tdx=0,this.tdy=0,this.scrollbars)t.panDx=0,t.panDy=0,t.fireEvent(new mxEventObject(mxEvent.PAN));else{var e=t.panDx,i=t.panDy;0==e&&0==i||(t.panGraph(0,0),t.view.setTranslate(this.t0x+e/t.view.scale,this.t0y+i/t.view.scale))}},this.destroy=function(){t.removeMouseListener(this.mouseListener)}}function mxPopupMenu(t){this.factoryMethod=t,null!=t&&this.init()}function mxAutoSaveManager(t){this.changeHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.graphModelChanged(e.getProperty("edit").changes)}),this.setGraph(t)}function mxAnimation(t){this.delay=null!=t?t:20}function mxMorphing(t,e,i,n){mxAnimation.call(this,n),this.graph=t,this.steps=null!=e?e:6,this.ease=null!=i?i:1.5}function mxImageBundle(t){this.images=[],this.alt=null!=t&&t}function mxImageExport(){}function mxAbstractCanvas2D(){this.converter=this.createUrlConverter(),this.reset()}function mxXmlCanvas2D(t){mxAbstractCanvas2D.call(this),this.root=t,this.writeDefaults()}function mxSvgCanvas2D(t,e){mxAbstractCanvas2D.call(this),this.root=t,this.gradients=[],this.defs=null,this.styleEnabled=null!=e&&e;var i=null;if(t.ownerDocument!=document){for(var n=t;null!=n&&"svg"!=n.nodeName;)n=n.parentNode;i=n}null!=i&&(i.getElementsByTagName("defs").length>0&&(this.defs=i.getElementsByTagName("defs")[0]),null==this.defs&&(this.defs=this.createElement("defs"),null!=i.firstChild?i.insertBefore(this.defs,i.firstChild):i.appendChild(this.defs)),this.styleEnabled&&this.defs.appendChild(this.createStyle()))}function mxGuide(t,e){this.graph=t,this.setStates(e)}function mxStencil(t){this.desc=t,this.parseDescription(),this.parseConstraints()}function mxShape(t){this.stencil=t,this.initStyles()}function mxActor(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxCloud(t,e,i,n){mxActor.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxRectangleShape(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxEllipse(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxDoubleEllipse(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxRhombus(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxPolyline(t,e,i){mxShape.call(this),this.points=t,this.stroke=e,this.strokewidth=null!=i?i:1}function mxArrow(t,e,i,n,l,o,r){mxShape.call(this),this.points=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1,this.arrowWidth=null!=l?l:mxConstants.ARROW_WIDTH,this.spacing=null!=o?o:mxConstants.ARROW_SPACING,this.endSize=null!=r?r:mxConstants.ARROW_SIZE}function mxArrowConnector(t,e,i,n,l,o,r){mxShape.call(this),this.points=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1,this.arrowWidth=null!=l?l:mxConstants.ARROW_WIDTH,this.arrowSpacing=null!=o?o:mxConstants.ARROW_SPACING,this.startSize=mxConstants.ARROW_SIZE/5,this.endSize=mxConstants.ARROW_SIZE/5}function mxText(t,e,i,n,l,o,r,s,a,g,C,h,A,I,c,d,u,p,m,x,v){mxShape.call(this),this.value=t,this.bounds=e,this.color=null!=l?l:"black",this.align=null!=i?i:"",this.valign=null!=n?n:"",this.family=null!=o?o:mxConstants.DEFAULT_FONTFAMILY,this.size=null!=r?r:mxConstants.DEFAULT_FONTSIZE,this.fontStyle=null!=s?s:mxConstants.DEFAULT_FONTSTYLE,this.spacing=parseInt(a||2),this.spacingTop=this.spacing+parseInt(g||0),this.spacingRight=this.spacing+parseInt(C||0),this.spacingBottom=this.spacing+parseInt(h||0),this.spacingLeft=this.spacing+parseInt(A||0),this.horizontal=null==I||I,this.background=c,this.border=d,this.wrap=null!=u&&u,this.clipped=null!=p&&p,this.overflow=null!=m?m:"visible",this.labelPadding=null!=x?x:0,this.textDirection=v,this.rotation=0,this.updateMargin()}function mxTriangle(){mxActor.call(this)}function mxHexagon(){mxActor.call(this)}function mxLine(t,e,i){mxShape.call(this),this.bounds=t,this.stroke=e,this.strokewidth=null!=i?i:1}function mxImageShape(t,e,i,n,l){mxShape.call(this),this.bounds=t,this.image=e,this.fill=i,this.stroke=n,this.strokewidth=null!=l?l:1,this.shadow=!1}function mxLabel(t,e,i,n){mxRectangleShape.call(this,t,e,i,n)}function mxCylinder(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxConnector(t,e,i){mxPolyline.call(this,t,e,i)}function mxSwimlane(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxGraphLayout(t){this.graph=t}function mxStackLayout(t,e,i,n,l,o){mxGraphLayout.call(this,t),this.horizontal=null==e||e,this.spacing=null!=i?i:0,this.x0=null!=n?n:0,this.y0=null!=l?l:0,this.border=null!=o?o:0}function mxPartitionLayout(t,e,i,n){mxGraphLayout.call(this,t),this.horizontal=null==e||e,this.spacing=i||0,this.border=n||0}function mxCompactTreeLayout(t,e,i){mxGraphLayout.call(this,t),this.horizontal=null==e||e,this.invert=null!=i&&i}function WeightedCellSorter(t,e){this.cell=t,this.weightedValue=e}function mxRadialTreeLayout(t){mxCompactTreeLayout.call(this,t,!1)}function mxFastOrganicLayout(t){mxGraphLayout.call(this,t)}function mxCircleLayout(t,e){mxGraphLayout.call(this,t),this.radius=null!=e?e:100}function mxParallelEdgeLayout(t){mxGraphLayout.call(this,t)}function mxCompositeLayout(t,e,i){mxGraphLayout.call(this,t),this.layouts=e,this.master=i}function mxEdgeLabelLayout(t,e){mxGraphLayout.call(this,t)}function mxGraphAbstractHierarchyCell(){this.x=[],this.y=[],this.temp=[]}function mxGraphHierarchyNode(t){mxGraphAbstractHierarchyCell.apply(this,arguments),this.cell=t,this.id=mxObjectIdentity.get(t),this.connectsAsTarget=[],this.connectsAsSource=[]}function mxGraphHierarchyEdge(t){mxGraphAbstractHierarchyCell.apply(this,arguments),this.edges=t,this.ids=[];for(var e=0;e<t.length;e++)this.ids.push(mxObjectIdentity.get(t[e]))}function mxGraphHierarchyModel(t,e,i,n,l){t.getGraph();this.tightenToSource=l,this.roots=i,this.parent=n,this.vertexMapper=new mxDictionary,this.edgeMapper=new mxDictionary,this.maxRank=0;var o=[];null==e&&(e=this.graph.getChildVertices(n)),this.maxRank=this.SOURCESCANSTARTRANK,this.createInternalCells(t,e,o);for(var r=0;r<e.length;r++){for(var s=o[r].connectsAsSource,a=0;a<s.length;a++){var g=s[a],C=g.edges;if(null!=C&&C.length>0){var h=C[0],A=t.getVisibleTerminal(h,!1);if(t.filterChildFlag){var I=mxUtils.indexOfNestedArray(e,A,"children");I>=0&&(A=e[I])}var c=this.vertexMapper.get(A);o[r]==c&&(A=t.getVisibleTerminal(h,!0),c=this.vertexMapper.get(A)),null!=c&&o[r]!=c&&(g.target=c,0==c.connectsAsTarget.length&&(c.connectsAsTarget=[]),mxUtils.indexOf(c.connectsAsTarget,g)<0&&c.connectsAsTarget.push(g))}}o[r].temp[0]=1}}function mxSwimlaneModel(t,e,i,n,l){t.getGraph();this.tightenToSource=l,this.roots=i,this.parent=n,this.vertexMapper=new mxDictionary,this.edgeMapper=new mxDictionary,this.maxRank=0;var o=[];null==e&&(e=this.graph.getChildVertices(n)),this.maxRank=this.SOURCESCANSTARTRANK,this.createInternalCells(t,e,o);for(var r=0;r<e.length;r++){for(var s=o[r].connectsAsSource,a=0;a<s.length;a++){var g=s[a],C=g.edges;if(null!=C&&C.length>0){var h=C[0],A=t.getVisibleTerminal(h,!1),I=this.vertexMapper.get(A);o[r]==I&&(A=t.getVisibleTerminal(h,!0),I=this.vertexMapper.get(A)),null!=I&&o[r]!=I&&(g.target=I,0==I.connectsAsTarget.length&&(I.connectsAsTarget=[]),mxUtils.indexOf(I.connectsAsTarget,g)<0&&I.connectsAsTarget.push(g))}}o[r].temp[0]=1}}function mxHierarchicalLayoutStage(){}function mxMedianHybridCrossingReduction(t){this.layout=t}function MedianCellSorter(){}function mxMinimumCycleRemover(t){this.layout=t}function mxCoordinateAssignment(t,e,i,n,l,o){this.layout=t,this.intraCellSpacing=e,this.interRankCellSpacing=i,this.orientation=n,this.initialX=l,this.parallelEdgeSpacing=o}function WeightedCellSorter(t,e){this.cell=t,this.weightedValue=e}function mxSwimlaneOrdering(t){this.layout=t}function mxHierarchicalLayout(t,e,i){mxGraphLayout.call(this,t),this.orientation=null!=e?e:mxConstants.DIRECTION_NORTH,this.deterministic=null==i||i}function mxSwimlaneLayout(t,e,i){mxGraphLayout.call(this,t),this.orientation=null!=e?e:mxConstants.DIRECTION_NORTH,this.deterministic=null==i||i}function mxGraphModel(t){this.currentEdit=this.createUndoableEdit(),null!=t?this.setRoot(t):this.clear()}function mxRootChange(t,e){this.model=t,this.root=e,this.previous=e}function mxChildChange(t,e,i,n){this.model=t,this.parent=e,this.previous=e,this.child=i,this.index=n,this.previousIndex=n}function mxTerminalChange(t,e,i,n){this.model=t,this.cell=e,this.terminal=i,this.previous=i,this.source=n}function mxValueChange(t,e,i){this.model=t,this.cell=e,this.value=i,this.previous=i}function mxStyleChange(t,e,i){this.model=t,this.cell=e,this.style=i,this.previous=i}function mxGeometryChange(t,e,i){this.model=t,this.cell=e,this.geometry=i,this.previous=i}function mxCollapseChange(t,e,i){this.model=t,this.cell=e,this.collapsed=i,this.previous=i}function mxVisibleChange(t,e,i){this.model=t,this.cell=e,this.visible=i,this.previous=i}function mxCellAttributeChange(t,e,i){this.cell=t,this.attribute=e,this.value=i,this.previous=i}function mxCell(t,e,i){this.value=t,this.setGeometry(e),this.setStyle(i),null!=this.onInit&&this.onInit()}function mxGeometry(t,e,i,n){mxRectangle.call(this,t,e,i,n)}function mxPrintPreview(t,e,i,n,l,o,r,s,a){this.graph=t,this.scale=null!=e?e:1/t.pageScale,this.border=null!=n?n:0,this.pageFormat=null!=i?i:t.pageFormat,this.title=null!=s?s:"Printer-friendly version",this.x0=null!=l?l:0,this.y0=null!=o?o:0,this.borderColor=r,this.pageSelector=null==a||a}function mxStylesheet(){this.styles=new Object,this.putDefaultVertexStyle(this.createDefaultVertexStyle()),this.putDefaultEdgeStyle(this.createDefaultEdgeStyle())}function mxCellState(t,e,i){this.view=t,this.cell=e,this.style=i,this.origin=new mxPoint,this.absoluteOffset=new mxPoint}function mxGraphSelectionModel(t){this.graph=t,this.cells=[]}function mxSelectionChange(t,e,i){this.selectionModel=t,this.added=null!=e?e.slice():null,this.removed=null!=i?i.slice():null}function mxCellEditor(t){this.graph=t,this.zoomHandler=mxUtils.bind(this,function(){this.graph.isEditing()&&this.resize()}),this.graph.view.addListener(mxEvent.SCALE,this.zoomHandler),this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.zoomHandler)}function mxCellRenderer(){}function mxGraphView(t){this.graph=t,this.translate=new mxPoint,this.graphBounds=new mxRectangle,this.states=new mxDictionary}function mxCurrentRootChange(t,e){if(this.view=t,this.root=e,this.previous=e,this.isUp=null==e,!this.isUp)for(var i=this.view.currentRoot,n=this.view.graph.getModel();null!=i;){if(i==e){this.isUp=!0;break}i=n.getParent(i)}}function mxGraph(t,e,i,n){this.mouseListeners=null,this.renderHint=i,mxClient.IS_SVG?this.dialect=mxConstants.DIALECT_SVG:i==mxConstants.RENDERING_HINT_EXACT&&mxClient.IS_VML?this.dialect=mxConstants.DIALECT_VML:i==mxConstants.RENDERING_HINT_FASTEST?this.dialect=mxConstants.DIALECT_STRICTHTML:i==mxConstants.RENDERING_HINT_FASTER?this.dialect=mxConstants.DIALECT_PREFERHTML:this.dialect=mxConstants.DIALECT_MIXEDHTML,this.model=null!=e?e:new mxGraphModel,this.multiplicities=[],this.imageBundles=[],this.cellRenderer=this.createCellRenderer(),this.setSelectionModel(this.createSelectionModel()),this.setStylesheet(null!=n?n:this.createStylesheet()),this.view=this.createGraphView(),this.graphModelChangeListener=mxUtils.bind(this,function(t,e){this.graphModelChanged(e.getProperty("edit").changes)}),this.model.addListener(mxEvent.CHANGE,this.graphModelChangeListener),this.createHandlers(),null!=t&&this.init(t),this.view.revalidate()}function mxCellOverlay(t,e,i,n,l,o){this.image=t,this.tooltip=e,this.align=null!=i?i:this.align,this.verticalAlign=null!=n?n:this.verticalAlign,this.offset=null!=l?l:new mxPoint,this.cursor=null!=o?o:"help"}function mxOutline(t,e){this.source=t,null!=e&&this.init(e)}function mxMultiplicity(t,e,i,n,l,o,r,s,a,g){this.source=t,this.type=e,this.attr=i,this.value=n,this.min=null!=l?l:0,this.max=null!=o?o:"n",this.validNeighbors=r,this.countError=mxResources.get(s)||s,this.typeError=mxResources.get(a)||a,this.validNeighborsAllowed=null==g||g}function mxLayoutManager(t){this.undoHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.beforeUndo(e.getProperty("edit"))}),this.moveHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.cellsMoved(e.getProperty("cells"),e.getProperty("event"))}),this.setGraph(t)}function mxSwimlaneManager(t,e,i,n){this.horizontal=null==e||e,this.addEnabled=null==i||i,this.resizeEnabled=null==n||n,this.addHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.isAddEnabled()&&this.cellsAdded(e.getProperty("cells"))}),this.resizeHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.isResizeEnabled()&&this.cellsResized(e.getProperty("cells"))}),this.setGraph(t)}function mxTemporaryCellStates(t,e,i,n){e=null!=e?e:1,this.view=t,this.oldValidateCellState=t.validateCellState,this.oldBounds=t.getGraphBounds(),this.oldStates=t.getStates(),this.oldScale=t.getScale();var l=this;if(t.validateCellState=function(e,i){return null==e||null==n||n(e)?l.oldValidateCellState.apply(t,arguments):null},t.setStates(new mxDictionary),t.setScale(e),null!=i){t.resetValidationState();for(var o=null,r=0;r<i.length;r++){var s=t.getBoundingBox(t.validateCellState(t.validateCell(i[r])));null==o?o=s:o.add(s)}t.setGraphBounds(o||new mxRectangle)}}function mxCellStatePreview(t){this.deltas=new mxDictionary,this.graph=t}function mxConnectionConstraint(t,e){this.point=t,this.perimeter=null==e||e}function mxGraphHandler(t){this.graph=t,this.graph.addMouseListener(this),this.panHandler=mxUtils.bind(this,function(){this.updatePreviewShape(),this.updateHint()}),this.graph.addListener(mxEvent.PAN,this.panHandler),this.escapeHandler=mxUtils.bind(this,function(t,e){this.reset()}),this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler)}function mxPanningHandler(t){null!=t&&(this.graph=t,this.graph.addMouseListener(this),this.forcePanningHandler=mxUtils.bind(this,function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");i==mxEvent.MOUSE_DOWN&&this.isForcePanningEvent(n)&&(this.start(n),this.active=!0,this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",n)),n.consume())}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forcePanningHandler),this.gestureHandler=mxUtils.bind(this,function(t,e){if(this.isPinchEnabled()){var i=e.getProperty("event");if(mxEvent.isConsumed(i)||"gesturestart"!=i.type?"gestureend"==i.type&&null==this.initialScale&&(this.initialScale=null):(this.initialScale=this.graph.view.scale,this.active||null==this.mouseDownEvent||(this.start(this.mouseDownEvent),this.mouseDownEvent=null)),null!=this.initialScale){var n=Math.round(this.initialScale*i.scale*100)/100;null!=this.minScale&&(n=Math.max(this.minScale,n)),null!=this.maxScale&&(n=Math.min(this.maxScale,n)),this.graph.view.scale!=n&&(this.graph.zoomTo(n),mxEvent.consume(i))}}}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler))}function mxPopupMenuHandler(t,e){null!=t&&(this.graph=t,this.factoryMethod=e,this.graph.addMouseListener(this),this.gestureHandler=mxUtils.bind(this,function(t,e){this.inTolerance=!1}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.init())}function mxCellMarker(t,e,i,n){mxEventSource.call(this),null!=t&&(this.graph=t,this.validColor=null!=e?e:mxConstants.DEFAULT_VALID_COLOR,this.invalidColor=null!=e?i:mxConstants.DEFAULT_INVALID_COLOR,this.hotspot=null!=n?n:mxConstants.DEFAULT_HOTSPOT,this.highlight=new mxCellHighlight(t))}function mxSelectionCellsHandler(t){mxEventSource.call(this),this.graph=t,this.handlers=new mxDictionary,this.graph.addMouseListener(this),this.refreshHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.refresh()}),this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.refreshHandler),this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler),this.graph.getView().addListener(mxEvent.SCALE,this.refreshHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.refreshHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.refreshHandler),this.graph.getView().addListener(mxEvent.DOWN,this.refreshHandler),this.graph.getView().addListener(mxEvent.UP,this.refreshHandler)}function mxConnectionHandler(t,e){mxEventSource.call(this),null!=t&&(this.graph=t,this.factoryMethod=e,this.init(),this.escapeHandler=mxUtils.bind(this,function(t,e){this.reset()}),this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}function mxConstraintHandler(t){this.graph=t,this.resetHandler=mxUtils.bind(this,function(t,e){null!=this.currentFocus&&null==this.graph.view.getState(this.currentFocus.cell)&&this.reset()}),this.graph.model.addListener(mxEvent.CHANGE,this.resetHandler),this.graph.view.addListener(mxEvent.SCALE,this.resetHandler),this.graph.addListener(mxEvent.ROOT,this.resetHandler)}function mxRubberband(t){null!=t&&(this.graph=t,this.graph.addMouseListener(this),this.forceRubberbandHandler=mxUtils.bind(this,function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");if(i==mxEvent.MOUSE_DOWN&&this.isForceRubberbandEvent(n)){var l=mxUtils.getOffset(this.graph.container),o=mxUtils.getScrollOrigin(this.graph.container);o.x-=l.x,o.y-=l.y,this.start(n.getX()+o.x,n.getY()+o.y),n.consume(!1)}}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forceRubberbandHandler),this.panHandler=mxUtils.bind(this,function(){this.repaint()}),this.graph.addListener(mxEvent.PAN,this.panHandler),this.gestureHandler=mxUtils.bind(this,function(t,e){null!=this.first&&this.reset()}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}function mxHandle(t,e,i){this.graph=t.view.graph,this.state=t,this.cursor=null!=e?e:this.cursor,this.image=null!=i?i:this.image,this.init()}function mxVertexHandler(t){null!=t&&(this.state=t,this.init(),this.escapeHandler=mxUtils.bind(this,function(t,e){this.livePreview&&null!=this.index&&(this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate()),this.reset()}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}function mxEdgeHandler(t){null!=t&&(this.state=t,this.init(),this.escapeHandler=mxUtils.bind(this,function(t,e){this.reset()}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}function mxElbowEdgeHandler(t){mxEdgeHandler.call(this,t)}function mxEdgeSegmentHandler(t){mxEdgeHandler.call(this,t)}function mxKeyHandler(t,e){null!=t&&(this.graph=t,this.target=e||document.documentElement,this.normalKeys=[],this.shiftKeys=[],this.controlKeys=[],this.controlShiftKeys=[],this.keydownHandler=mxUtils.bind(this,function(t){this.keyDown(t)}),mxEvent.addListener(this.target,"keydown",this.keydownHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}function mxTooltipHandler(t,e){null!=t&&(this.graph=t,this.delay=e||500,this.graph.addMouseListener(this))}function mxCellTracker(t,e,i){mxCellMarker.call(this,t,e),this.graph.addMouseListener(this),null!=i&&(this.getCell=i),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()}))}function mxCellHighlight(t,e,i,n){null!=t&&(this.graph=t,this.highlightColor=null!=e?e:mxConstants.DEFAULT_VALID_COLOR,this.strokeWidth=null!=i?i:mxConstants.HIGHLIGHT_STROKEWIDTH,this.dashed=null!=n&&n,this.opacity=mxConstants.HIGHLIGHT_OPACITY,this.repaintHandler=mxUtils.bind(this,function(){if(null!=this.state){var t=this.graph.view.getState(this.state.cell);null==t?this.hide():(this.state=t,this.repaint())}}),this.graph.getView().addListener(mxEvent.SCALE,this.repaintHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.repaintHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.getModel().addListener(mxEvent.CHANGE,this.repaintHandler),this.resetHandler=mxUtils.bind(this,function(){this.hide()}),this.graph.getView().addListener(mxEvent.DOWN,this.resetHandler),this.graph.getView().addListener(mxEvent.UP,this.resetHandler))}function mxDefaultKeyHandler(t){if(null!=t){this.editor=t,this.handler=new mxKeyHandler(t.graph);var e=this.handler.escape;this.handler.escape=function(i){e.apply(this,arguments),t.hideProperties(),t.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",i))}}}function mxDefaultPopupMenu(t){this.config=t}function mxDefaultToolbar(t,e){this.editor=e,null!=t&&null!=e&&this.init(t)}function mxEditor(t){this.actions=[],this.addActions(),null!=document.body&&(this.cycleAttributeValues=[],this.popupHandler=new mxDefaultPopupMenu,this.undoManager=new mxUndoManager,this.graph=this.createGraph(),this.toolbar=this.createToolbar(),this.keyHandler=new mxDefaultKeyHandler(this),this.configure(t),this.graph.swimlaneIndicatorColorAttribute=this.cycleAttributeName,null!=this.onInit&&this.onInit(),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}function mxCodec(t){this.document=t||mxUtils.createXmlDocument(),this.objects=[]}function mxObjectCodec(t,e,i,n){this.template=t,this.exclude=null!=e?e:[],this.idrefs=null!=i?i:[],this.mapping=null!=n?n:[],this.reverse=new Object;for(var l in this.mapping)this.reverse[this.mapping[l]]=l}function Sidebar(t,e){this.editorUi=t,this.container=e,this.palettes=new Object,this.taglist=new Object,this.showTooltips=!0,this.graph=new Graph(document.createElement("div"),null,null,this.editorUi.editor.graph.getStylesheet()),this.graph.cellRenderer.antiAlias=!1,this.graph.resetViewOnRootChange=!1,this.graph.foldingEnabled=!1,this.graph.setConnectable(!1),this.graph.gridEnabled=!1,this.graph.autoScroll=!1,this.graph.setTooltips(!1),this.graph.setEnabled(!1),this.graph.container.style.visibility="hidden",this.graph.container.style.position="absolute",this.graph.container.style.overflow="hidden",this.graph.container.style.height="1px",this.graph.container.style.width="1px",mxClient.IS_IE||mxClient.IS_IE11||(this.graph.container.style.display="none"),t.container.appendChild(this.graph.container),this.pointerUpHandler=mxUtils.bind(this,function(){this.showTooltips=!0}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerDownHandler=mxUtils.bind(this,function(){this.showTooltips=!1,this.hideTooltip()}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerMoveHandler=mxUtils.bind(this,function(t){for(var e=mxEvent.getSource(t);null!=e;){if(e==this.currentElt)return;e=e.parentNode}this.hideTooltip()}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerOutHandler=mxUtils.bind(this,function(t){null==t.toElement&&null==t.relatedTarget&&this.hideTooltip()}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),mxEvent.addListener(e,"scroll",mxUtils.bind(this,function(){this.showTooltips=!0})),this.init(),mxClient.IS_SVG||((new Image).src=IMAGE_PATH+"/tooltip.png")}function Actions(t){this.editorUi=t,this.actions=new Object,this.init()}function Action(t,e,i,n,l){mxEventSource.call(this),this.label=t,this.funct=e,this.enabled=null==i||i,this.iconCls=n,this.shortcut=l,this.visible=!0}function Menubar(t,e){this.editorUi=t,this.container=e}function Menu(t,e){mxEventSource.call(this),this.funct=t,this.enabled=null==e||e}function Footwall(t,e){this.editorUi=t,this.container=e,this.staticElements=[],this.init()}function Toolbar(t,e){this.editorUi=t,this.container=e,this.staticElements=[],this.init(),this.gestureHandler=mxUtils.bind(this,function(t){null!=this.editorUi.currentMenu&&mxEvent.getSource(t)!=this.editorUi.currentMenu.div&&this.hideMenu()}),mxEvent.addGestureListeners(document,this.gestureHandler)}function Dialog(t,e,i,n,l,o,r){var s=0;mxClient.IS_VML&&(null==document.documentMode||document.documentMode<8)&&(s=80),i+=s,n+=s;var a=Math.max(0,Math.round((t.container.scrollWidth-i)/2)),g=Math.max(0,Math.round((Math.max(t.container.scrollHeight,document.documentElement.scrollHeight)-n-t.footerHeight)/3));t.dialogs.length>0&&(this.zIndex+=2*t.dialogs.length);var C=t.createDiv("geDialog");if(C.style.width=i+"px",C.style.height=n+"px",C.style.left=a+"px",C.style.top=g+"px",C.style.zIndex=this.zIndex,null==this.bg&&(this.bg=t.createDiv("background"),this.bg.style.position="absolute",this.bg.style.background="white",this.bg.style.left="0px",this.bg.style.top="0px",this.bg.style.bottom="0px",this.bg.style.right="0px",this.bg.style.zIndex=this.zIndex-2,mxUtils.setOpacity(this.bg,this.bgOpacity),mxClient.IS_QUIRKS&&new mxDivResizer(this.bg)),l&&t.container.appendChild(this.bg),C.appendChild(e),t.container.appendChild(C),o){var h=document.createElement("img");h.setAttribute("src",Dialog.prototype.closeImage),h.setAttribute("title",mxResources.get("close")),h.className="geDialogClose",h.style.top=g+14+"px",h.style.left=a+i+38-s+"px",h.style.zIndex=this.zIndex,mxEvent.addListener(h,"click",mxUtils.bind(this,function(){t.hideDialog(!0)})),t.container.appendChild(h),this.dialogImg=h,mxEvent.addListener(this.bg,"click",mxUtils.bind(this,function(){t.hideDialog(!0)}))}this.onDialogClose=r,this.container=C,t.editor.fireEvent(new mxEventObject("showDialog"))}function ModelAttribute(t){this.intrinsic=null!=t&&null!=t.intrinsic?t.intrinsic:[],this.extended=null!=t&&null!=t.extended?t.extended:[]}window.BASE_URL=document.domain.indexOf("huawei.com")>0?"/designer":" ",function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).jsyaml=t()}(function(){return function t(e,i,n){function l(r,s){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!s&&a)return a(r,!0);if(o)return o(r,!0);var g=new Error("Cannot find module '"+r+"'");throw g.code="MODULE_NOT_FOUND",g}var C=i[r]={exports:{}};e[r][0].call(C.exports,function(t){return l(e[r][1][t]||t)},C,C.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)l(n[r]);return l}({1:[function(t,e,i){"use strict";function n(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var l=t("./js-yaml/loader"),o=t("./js-yaml/dumper");e.exports.Type=t("./js-yaml/type"),e.exports.Schema=t("./js-yaml/schema"),e.exports.FAILSAFE_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.JSON_SCHEMA=t("./js-yaml/schema/json"),e.exports.CORE_SCHEMA=t("./js-yaml/schema/core"),e.exports.DEFAULT_SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_FULL_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.load=l.load,e.exports.loadAll=l.loadAll,e.exports.safeLoad=l.safeLoad,e.exports.safeLoadAll=l.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=t("./js-yaml/exception"),e.exports.MINIMAL_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.scan=n("scan"),e.exports.parse=n("parse"),e.exports.compose=n("compose"),e.exports.addConstructor=n("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(t,e,i){"use strict";function n(t){return void 0===t||null===t}function l(t){return"object"==typeof t&&null!==t}function o(t){return Array.isArray(t)?t:n(t)?[]:[t]}function r(t,e){var i,n,l,o;if(e)for(i=0,n=(o=Object.keys(e)).length;i<n;i+=1)t[l=o[i]]=e[l];return t}function s(t,e){var i,n="";for(i=0;i<e;i+=1)n+=t;return n}function a(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t}e.exports.isNothing=n,e.exports.isObject=l,e.exports.toArray=o,e.exports.repeat=s,e.exports.isNegativeZero=a,e.exports.extend=r},{}],3:[function(t,e,i){"use strict";function n(t,e){var i,n,l,o,r,s,a;if(null===e)return{};for(i={},l=0,o=(n=Object.keys(e)).length;l<o;l+=1)r=n[l],s=String(e[r]),"!!"===r.slice(0,2)&&(r="tag:yaml.org,2002:"+r.slice(2)),(a=t.compiledTypeMap.fallback[r])&&O.call(a.styleAliases,s)&&(s=a.styleAliases[s]),i[r]=s;return i}function l(t){var e,i,n;if(e=t.toString(16).toUpperCase(),t<=255)i="x",n=2;else if(t<=65535)i="u",n=4;else{if(!(t<=4294967295))throw new P("code point within a string may not be greater than 0xFFFFFFFF");i="U",n=8}return"\\"+i+L.repeat("0",n-e.length)+e}function o(t){this.schema=t.schema||M,this.indent=Math.max(1,t.indent||2),this.skipInvalid=t.skipInvalid||!1,this.flowLevel=L.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=n(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function r(t,e){for(var i,n=L.repeat(" ",e),l=0,o=-1,r="",s=t.length;l<s;)-1===(o=t.indexOf("\n",l))?(i=t.slice(l),l=s):(i=t.slice(l,o+1),l=o+1),i.length&&"\n"!==i&&(r+=n),r+=i;return r}function s(t,e){return"\n"+L.repeat(" ",t.indent*e)}function a(t,e){var i,n;for(i=0,n=t.implicitTypes.length;i<n;i+=1)if(t.implicitTypes[i].resolve(e))return!0;return!1}function g(t){return t===H||t===U}function C(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function h(t){return C(t)&&65279!==t&&t!==z&&t!==q&&t!==$&&t!==et&&t!==nt&&t!==J&&t!==Y}function A(t){return C(t)&&65279!==t&&!g(t)&&t!==_&&t!==K&&t!==J&&t!==z&&t!==q&&t!==$&&t!==et&&t!==nt&&t!==Y&&t!==X&&t!==W&&t!==V&&t!==it&&t!==j&&t!==B&&t!==Z&&t!==F&&t!==Q&&t!==tt}function I(t,e,i,n,l){var o,r,s=!1,a=!1,I=-1!==n,c=-1,d=A(t.charCodeAt(0))&&!g(t.charCodeAt(t.length-1));if(e)for(o=0;o<t.length;o++){if(r=t.charCodeAt(o),!C(r))return Ct;d=d&&h(r)}else{for(o=0;o<t.length;o++){if((r=t.charCodeAt(o))===k)s=!0,I&&(a=a||o-c-1>n&&" "!==t[c+1],c=o);else if(!C(r))return Ct;d=d&&h(r)}a=a||I&&o-c-1>n&&" "!==t[c+1]}return s||a?" "===t[0]&&i>9?Ct:a?gt:at:d&&!l(t)?rt:st}function c(t,e,i,n){t.dump=function(){function l(e){return a(t,e)}if(0===e.length)return"''";if(!t.noCompatMode&&-1!==ot.indexOf(e))return"'"+e+"'";var o=t.indent*Math.max(1,i),s=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),g=n||t.flowLevel>-1&&i>=t.flowLevel;switch(I(e,g,t.indent,s,l)){case rt:return e;case st:return"'"+e.replace(/'/g,"''")+"'";case at:return"|"+d(e,t.indent)+u(r(e,o));case gt:return">"+d(e,t.indent)+u(r(p(e,s),o));case Ct:return'"'+x(e)+'"';default:throw new P("impossible error: invalid scalar style")}}()}function d(t,e){var i=" "===t[0]?String(e):"",n="\n"===t[t.length-1];return i+(!n||"\n"!==t[t.length-2]&&"\n"!==t?n?"":"-":"+")+"\n"}function u(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function p(t,e){for(var i,n,l=/(\n+)([^\n]*)/g,o=function(){var i=t.indexOf("\n");return i=-1!==i?i:t.length,l.lastIndex=i,m(t.slice(0,i),e)}(),r="\n"===t[0]||" "===t[0];n=l.exec(t);){var s=n[1],a=n[2];i=" "===a[0],o+=s+(r||i||""===a?"":"\n")+m(a,e),r=i}return o}function m(t,e){if(""===t||" "===t[0])return t;for(var i,n,l=/ [^ ]/g,o=0,r=0,s=0,a="";i=l.exec(t);)(s=i.index)-o>e&&(n=r>o?r:s,a+="\n"+t.slice(o,n),o=n+1),r=s;return a+="\n",t.length-o>e&&r>o?a+=t.slice(o,r)+"\n"+t.slice(r+1):a+=t.slice(o),a.slice(1)}function x(t){for(var e,i,n="",o=0;o<t.length;o++)e=t.charCodeAt(o),n+=!(i=lt[e])&&C(e)?t[o]:i||l(e);return n}function v(t,e,i){var n,l,o="",r=t.tag;for(n=0,l=i.length;n<l;n+=1)E(t,e,i[n],!1,!1)&&(0!==n&&(o+=", "),o+=t.dump);t.tag=r,t.dump="["+o+"]"}function y(t,e,i,n){var l,o,r="",a=t.tag;for(l=0,o=i.length;l<o;l+=1)E(t,e+1,i[l],!0,!0)&&(n&&0===l||(r+=s(t,e)),t.dump&&k===t.dump.charCodeAt(0)?r+="-":r+="- ",r+=t.dump);t.tag=a,t.dump=r||"[]"}function f(t,e,i){var n,l,o,r,s,a="",g=t.tag,C=Object.keys(i);for(n=0,l=C.length;n<l;n+=1)s="",0!==n&&(s+=", "),r=i[o=C[n]],E(t,e,o,!1,!1)&&(t.dump.length>1024&&(s+="? "),s+=t.dump+": ",E(t,e,r,!1,!1)&&(a+=s+=t.dump));t.tag=g,t.dump="{"+a+"}"}function b(t,e,i,n){var l,o,r,a,g,C,h="",A=t.tag,I=Object.keys(i);if(!0===t.sortKeys)I.sort();else if("function"==typeof t.sortKeys)I.sort(t.sortKeys);else if(t.sortKeys)throw new P("sortKeys must be a boolean or a function");for(l=0,o=I.length;l<o;l+=1)C="",n&&0===l||(C+=s(t,e)),a=i[r=I[l]],E(t,e+1,r,!0,!0,!0)&&((g=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&k===t.dump.charCodeAt(0)?C+="?":C+="? "),C+=t.dump,g&&(C+=s(t,e)),E(t,e+1,a,!0,g)&&(t.dump&&k===t.dump.charCodeAt(0)?C+=":":C+=": ",h+=C+=t.dump));t.tag=A,t.dump=h||"{}"}function w(t,e,i){var n,l,o,r,s,a;for(o=0,r=(l=i?t.explicitTypes:t.implicitTypes).length;o<r;o+=1)if(((s=l[o]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof e&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(t.tag=i?s.tag:"?",s.represent){if(a=t.styleMap[s.tag]||s.defaultStyle,"[object Function]"===D.call(s.represent))n=s.represent(e,a);else{if(!O.call(s.represent,a))throw new P("!<"+s.tag+'> tag resolver accepts not "'+a+'" style');n=s.represent[a](e,a)}t.dump=n}return!0}return!1}function E(t,e,i,n,l,o){t.tag=null,t.dump=i,w(t,i,!1)||w(t,i,!0);var r=D.call(t.dump);n&&(n=t.flowLevel<0||t.flowLevel>e);var s,a,g="[object Object]"===r||"[object Array]"===r;if(g&&(a=-1!==(s=t.duplicates.indexOf(i))),(null!==t.tag&&"?"!==t.tag||a||2!==t.indent&&e>0)&&(l=!1),a&&t.usedDuplicates[s])t.dump="*ref_"+s;else{if(g&&a&&!t.usedDuplicates[s]&&(t.usedDuplicates[s]=!0),"[object Object]"===r)n&&0!==Object.keys(t.dump).length?(b(t,e,t.dump,l),a&&(t.dump="&ref_"+s+t.dump)):(f(t,e,t.dump),a&&(t.dump="&ref_"+s+" "+t.dump));else if("[object Array]"===r)n&&0!==t.dump.length?(y(t,e,t.dump,l),a&&(t.dump="&ref_"+s+t.dump)):(v(t,e,t.dump),a&&(t.dump="&ref_"+s+" "+t.dump));else{if("[object String]"!==r){if(t.skipInvalid)return!1;throw new P("unacceptable kind of an object to dump "+r)}"?"!==t.tag&&c(t,t.dump,e,o)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function S(t,e){var i,n,l=[],o=[];for(T(t,l,o),i=0,n=o.length;i<n;i+=1)e.duplicates.push(l[o[i]]);e.usedDuplicates=new Array(n)}function T(t,e,i){var n,l,o;if(null!==t&&"object"==typeof t)if(-1!==(l=e.indexOf(t)))-1===i.indexOf(l)&&i.push(l);else if(e.push(t),Array.isArray(t))for(l=0,o=t.length;l<o;l+=1)T(t[l],e,i);else for(l=0,o=(n=Object.keys(t)).length;l<o;l+=1)T(t[n[l]],e,i)}function G(t,e){var i=new o(e=e||{});return i.noRefs||S(t,i),E(i,0,t,!0,!0)?i.dump+"\n":""}function R(t,e){return G(t,L.extend({schema:N},e))}var L=t("./common"),P=t("./exception"),M=t("./schema/default_full"),N=t("./schema/default_safe"),D=Object.prototype.toString,O=Object.prototype.hasOwnProperty,U=9,k=10,H=32,V=33,Z=34,Y=35,F=37,X=38,B=39,W=42,z=44,_=45,J=58,j=62,K=63,Q=64,q=91,$=93,tt=96,et=123,it=124,nt=125,lt={};lt[0]="\\0",lt[7]="\\a",lt[8]="\\b",lt[9]="\\t",lt[10]="\\n",lt[11]="\\v",lt[12]="\\f",lt[13]="\\r",lt[27]="\\e",lt[34]='\\"',lt[92]="\\\\",lt[133]="\\N",lt[160]="\\_",lt[8232]="\\L",lt[8233]="\\P";var ot=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],rt=1,st=2,at=3,gt=4,Ct=5;e.exports.dump=G,e.exports.safeDump=R},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(t,e,i){"use strict";function n(t,e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e},e.exports=n},{}],5:[function(t,e,i){"use strict";function n(t){return 10===t||13===t}function l(t){return 9===t||32===t}function o(t){return 9===t||32===t||10===t||13===t}function r(t){return 44===t||91===t||93===t||123===t||125===t}function s(t){var e;return 48<=t&&t<=57?t-48:(e=32|t,97<=e&&e<=102?e-97+10:-1)}function a(t){return 120===t?2:117===t?4:85===t?8:0}function g(t){return 48<=t&&t<=57?t-48:-1}function C(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t?"\t":9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"Â…":95===t?"Â ":76===t?"\u2028":80===t?"\u2029":""}function h(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function A(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||B,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function I(t,e){return new Y(e,new F(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function c(t,e){throw I(t,e)}function d(t,e){t.onWarning&&t.onWarning.call(null,I(t,e))}function u(t,e,i,n){var l,o,r,s;if(e<i){if(s=t.input.slice(e,i),n)for(l=0,o=s.length;l<o;l+=1)9===(r=s.charCodeAt(l))||32<=r&&r<=1114111||c(t,"expected valid JSON character");else $.test(s)&&c(t,"the stream contains non-printable characters");t.result+=s}}function p(t,e,i,n){var l,o,r,s;for(Z.isObject(i)||c(t,"cannot merge mappings; the provided source object is unacceptable"),r=0,s=(l=Object.keys(i)).length;r<s;r+=1)o=l[r],W.call(e,o)||(e[o]=i[o],n[o]=!0)}function m(t,e,i,n,l,o,r,s){var a,g;if(l=String(l),null===e&&(e={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(o))for(a=0,g=o.length;a<g;a+=1)p(t,e,o[a],i);else p(t,e,o,i);else t.json||W.call(i,l)||!W.call(e,l)||(t.line=r||t.line,t.position=s||t.position,c(t,"duplicated mapping key")),e[l]=o,delete i[l];return e}function x(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):c(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function v(t,e,i){for(var o=0,r=t.input.charCodeAt(t.position);0!==r;){for(;l(r);)r=t.input.charCodeAt(++t.position);if(e&&35===r)do{r=t.input.charCodeAt(++t.position)}while(10!==r&&13!==r&&0!==r);if(!n(r))break;for(x(t),r=t.input.charCodeAt(t.position),o++,t.lineIndent=0;32===r;)t.lineIndent++,r=t.input.charCodeAt(++t.position)}return-1!==i&&0!==o&&t.lineIndent<i&&d(t,"deficient indentation"),o}function y(t){var e,i=t.position;return!(45!==(e=t.input.charCodeAt(i))&&46!==e||e!==t.input.charCodeAt(i+1)||e!==t.input.charCodeAt(i+2)||(i+=3,0!==(e=t.input.charCodeAt(i))&&!o(e)))}function f(t,e){1===e?t.result+=" ":e>1&&(t.result+=Z.repeat("\n",e-1))}function b(t,e,i){var s,a,g,C,h,A,I,c,d,p=t.kind,m=t.result;if(d=t.input.charCodeAt(t.position),o(d)||r(d)||35===d||38===d||42===d||33===d||124===d||62===d||39===d||34===d||37===d||64===d||96===d)return!1;if((63===d||45===d)&&(a=t.input.charCodeAt(t.position+1),o(a)||i&&r(a)))return!1;for(t.kind="scalar",t.result="",g=C=t.position,h=!1;0!==d;){if(58===d){if(a=t.input.charCodeAt(t.position+1),o(a)||i&&r(a))break}else if(35===d){if(s=t.input.charCodeAt(t.position-1),o(s))break}else{if(t.position===t.lineStart&&y(t)||i&&r(d))break;if(n(d)){if(A=t.line,I=t.lineStart,c=t.lineIndent,v(t,!1,-1),t.lineIndent>=e){h=!0,d=t.input.charCodeAt(t.position);continue}t.position=C,t.line=A,t.lineStart=I,t.lineIndent=c;break}}h&&(u(t,g,C,!1),f(t,t.line-A),g=C=t.position,h=!1),l(d)||(C=t.position+1),d=t.input.charCodeAt(++t.position)}return u(t,g,C,!1),!!t.result||(t.kind=p,t.result=m,!1)}function w(t,e){var i,l,o;if(39!==(i=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",l=o=++t.position;0!==(i=t.input.charCodeAt(t.position));)if(39===i){if(u(t,l,t.position,!0),39!==(i=t.input.charCodeAt(++t.position)))return!0;l=t.position,o=++t.position}else n(i)?(u(t,l,o,!0),f(t,v(t,!1,e)),l=o=t.position):t.position===t.lineStart&&y(t)?c(t,"unexpected end of the document within a single quoted scalar"):o=++t.position;c(t,"unexpected end of the stream within a single quoted scalar")}function E(t,e){var i,l,o,r,g,C;if(34!==(C=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",i=l=++t.position;0!==(C=t.input.charCodeAt(t.position));){if(34===C)return u(t,i,t.position,!0),t.position++,!0;if(92===C){if(u(t,i,t.position,!0),C=t.input.charCodeAt(++t.position),n(C))v(t,!1,e);else if(C<256&&lt[C])t.result+=ot[C],t.position++;else if((g=a(C))>0){for(o=g,r=0;o>0;o--)(g=s(C=t.input.charCodeAt(++t.position)))>=0?r=(r<<4)+g:c(t,"expected hexadecimal character");t.result+=h(r),t.position++}else c(t,"unknown escape sequence");i=l=t.position}else n(C)?(u(t,i,l,!0),f(t,v(t,!1,e)),i=l=t.position):t.position===t.lineStart&&y(t)?c(t,"unexpected end of the document within a double quoted scalar"):l=++t.position}c(t,"unexpected end of the stream within a double quoted scalar")}function S(t,e){var i,n,l,r,s,a,g,C,h,A,I=!0,d=t.tag,u=t.anchor,p={};if(91===(A=t.input.charCodeAt(t.position)))l=93,a=!1,n=[];else{if(123!==A)return!1;l=125,a=!0,n={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=n),A=t.input.charCodeAt(++t.position);0!==A;){if(v(t,!0,e),(A=t.input.charCodeAt(t.position))===l)return t.position++,t.tag=d,t.anchor=u,t.kind=a?"mapping":"sequence",t.result=n,!0;I||c(t,"missed comma between flow collection entries"),C=g=h=null,r=s=!1,63===A&&o(t.input.charCodeAt(t.position+1))&&(r=s=!0,t.position++,v(t,!0,e)),i=t.line,N(t,e,z,!1,!0),C=t.tag,g=t.result,v(t,!0,e),A=t.input.charCodeAt(t.position),!s&&t.line!==i||58!==A||(r=!0,A=t.input.charCodeAt(++t.position),v(t,!0,e),N(t,e,z,!1,!0),h=t.result),a?m(t,n,p,C,g,h):r?n.push(m(t,null,p,C,g,h)):n.push(g),v(t,!0,e),44===(A=t.input.charCodeAt(t.position))?(I=!0,A=t.input.charCodeAt(++t.position)):I=!1}c(t,"unexpected end of the stream within a flow collection")}function T(t,e){var i,o,r,s,a=K,C=!1,h=!1,A=e,I=0,d=!1;if(124===(s=t.input.charCodeAt(t.position)))o=!1;else{if(62!==s)return!1;o=!0}for(t.kind="scalar",t.result="";0!==s;)if(43===(s=t.input.charCodeAt(++t.position))||45===s)K===a?a=43===s?q:Q:c(t,"repeat of a chomping mode identifier");else{if(!((r=g(s))>=0))break;0===r?c(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?c(t,"repeat of an indentation width identifier"):(A=e+r-1,h=!0)}if(l(s)){do{s=t.input.charCodeAt(++t.position)}while(l(s));if(35===s)do{s=t.input.charCodeAt(++t.position)}while(!n(s)&&0!==s)}for(;0!==s;){for(x(t),t.lineIndent=0,s=t.input.charCodeAt(t.position);(!h||t.lineIndent<A)&&32===s;)t.lineIndent++,s=t.input.charCodeAt(++t.position);if(!h&&t.lineIndent>A&&(A=t.lineIndent),n(s))I++;else{if(t.lineIndent<A){a===q?t.result+=Z.repeat("\n",C?1+I:I):a===K&&C&&(t.result+="\n");break}for(o?l(s)?(d=!0,t.result+=Z.repeat("\n",C?1+I:I)):d?(d=!1,t.result+=Z.repeat("\n",I+1)):0===I?C&&(t.result+=" "):t.result+=Z.repeat("\n",I):t.result+=Z.repeat("\n",C?1+I:I),C=!0,h=!0,I=0,i=t.position;!n(s)&&0!==s;)s=t.input.charCodeAt(++t.position);u(t,i,t.position,!1)}}return!0}function G(t,e){var i,n,l,r=t.tag,s=t.anchor,a=[],g=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);0!==l&&45===l&&(n=t.input.charCodeAt(t.position+1),o(n));)if(g=!0,t.position++,v(t,!0,-1)&&t.lineIndent<=e)a.push(null),l=t.input.charCodeAt(t.position);else if(i=t.line,N(t,e,J,!1,!0),a.push(t.result),v(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&0!==l)c(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!g&&(t.tag=r,t.anchor=s,t.kind="sequence",t.result=a,!0)}function R(t,e,i){var n,r,s,a,g,C=t.tag,h=t.anchor,A={},I={},d=null,u=null,p=null,x=!1,y=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=A),g=t.input.charCodeAt(t.position);0!==g;){if(n=t.input.charCodeAt(t.position+1),s=t.line,a=t.position,63!==g&&58!==g||!o(n)){if(!N(t,i,_,!1,!0))break;if(t.line===s){for(g=t.input.charCodeAt(t.position);l(g);)g=t.input.charCodeAt(++t.position);if(58===g)o(g=t.input.charCodeAt(++t.position))||c(t,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(m(t,A,I,d,u,null),d=u=p=null),y=!0,x=!1,r=!1,d=t.tag,u=t.result;else{if(!y)return t.tag=C,t.anchor=h,!0;c(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return t.tag=C,t.anchor=h,!0;c(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===g?(x&&(m(t,A,I,d,u,null),d=u=p=null),y=!0,x=!0,r=!0):x?(x=!1,r=!0):c(t,"incomplete explicit mapping pair; a key node is missed"),t.position+=1,g=n;if((t.line===s||t.lineIndent>e)&&(N(t,e,j,!0,r)&&(x?u=t.result:p=t.result),x||(m(t,A,I,d,u,p,s,a),d=u=p=null),v(t,!0,-1),g=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==g)c(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return x&&m(t,A,I,d,u,null),y&&(t.tag=C,t.anchor=h,t.kind="mapping",t.result=A),y}function L(t){var e,i,n,l,r=!1,s=!1;if(33!==(l=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&c(t,"duplication of a tag property"),l=t.input.charCodeAt(++t.position),60===l?(r=!0,l=t.input.charCodeAt(++t.position)):33===l?(s=!0,i="!!",l=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do{l=t.input.charCodeAt(++t.position)}while(0!==l&&62!==l);t.position<t.length?(n=t.input.slice(e,t.position),l=t.input.charCodeAt(++t.position)):c(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==l&&!o(l);)33===l&&(s?c(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),it.test(i)||c(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),l=t.input.charCodeAt(++t.position);n=t.input.slice(e,t.position),et.test(n)&&c(t,"tag suffix cannot contain flow indicator characters")}return n&&!nt.test(n)&&c(t,"tag name cannot contain such characters: "+n),r?t.tag=n:W.call(t.tagMap,i)?t.tag=t.tagMap[i]+n:"!"===i?t.tag="!"+n:"!!"===i?t.tag="tag:yaml.org,2002:"+n:c(t,'undeclared tag handle "'+i+'"'),!0}function P(t){var e,i;if(38!==(i=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&c(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!o(i)&&!r(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&c(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function M(t){var e,i,n;if(42!==(n=t.input.charCodeAt(t.position)))return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!o(n)&&!r(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&c(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(i)||c(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],v(t,!0,-1),!0}function N(t,e,i,n,l){var o,r,s,a,g,C,h,A,I=1,d=!1,u=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=r=s=j===i||J===i,n&&v(t,!0,-1)&&(d=!0,t.lineIndent>e?I=1:t.lineIndent===e?I=0:t.lineIndent<e&&(I=-1)),1===I)for(;L(t)||P(t);)v(t,!0,-1)?(d=!0,s=o,t.lineIndent>e?I=1:t.lineIndent===e?I=0:t.lineIndent<e&&(I=-1)):s=!1;if(s&&(s=d||l),1!==I&&j!==i||(h=z===i||_===i?e:e+1,A=t.position-t.lineStart,1===I?s&&(G(t,A)||R(t,A,h))||S(t,h)?u=!0:(r&&T(t,h)||w(t,h)||E(t,h)?u=!0:M(t)?(u=!0,null===t.tag&&null===t.anchor||c(t,"alias node should not have any properties")):b(t,h,z===i)&&(u=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===I&&(u=s&&G(t,A))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(a=0,g=t.implicitTypes.length;a<g;a+=1)if((C=t.implicitTypes[a]).resolve(t.result)){t.result=C.construct(t.result),t.tag=C.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else W.call(t.typeMap[t.kind||"fallback"],t.tag)?(C=t.typeMap[t.kind||"fallback"][t.tag],null!==t.result&&C.kind!==t.kind&&c(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+C.kind+'", not "'+t.kind+'"'),C.resolve(t.result)?(t.result=C.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):c(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):c(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||u}function D(t){var e,i,r,s,a=t.position,g=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(s=t.input.charCodeAt(t.position))&&(v(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==s));){for(g=!0,s=t.input.charCodeAt(++t.position),e=t.position;0!==s&&!o(s);)s=t.input.charCodeAt(++t.position);for(r=[],(i=t.input.slice(e,t.position)).length<1&&c(t,"directive name must not be less than one character in length");0!==s;){for(;l(s);)s=t.input.charCodeAt(++t.position);if(35===s){do{s=t.input.charCodeAt(++t.position)}while(0!==s&&!n(s));break}if(n(s))break;for(e=t.position;0!==s&&!o(s);)s=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==s&&x(t),W.call(st,i)?st[i](t,i,r):d(t,'unknown document directive "'+i+'"')}v(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,v(t,!0,-1)):g&&c(t,"directives end mark is expected"),N(t,t.lineIndent-1,j,!1,!0),v(t,!0,-1),t.checkLineBreaks&&tt.test(t.input.slice(a,t.position))&&d(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&y(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,v(t,!0,-1)):t.position<t.length-1&&c(t,"end of the stream or a document separator is expected")}function O(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var i=new A(t,e);for(i.input+="\0";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)D(i);return i.documents}function U(t,e,i){var n,l,o=O(t,i);for(n=0,l=o.length;n<l;n+=1)e(o[n])}function k(t,e){var i=O(t,e);if(0!==i.length){if(1===i.length)return i[0];throw new Y("expected a single document in the stream, but found more")}}function H(t,e,i){U(t,e,Z.extend({schema:X},i))}function V(t,e){return k(t,Z.extend({schema:X},e))}for(var Z=t("./common"),Y=t("./exception"),F=t("./mark"),X=t("./schema/default_safe"),B=t("./schema/default_full"),W=Object.prototype.hasOwnProperty,z=1,_=2,J=3,j=4,K=1,Q=2,q=3,$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tt=/[\x85\u2028\u2029]/,et=/[,\[\]\{\}]/,it=/^(?:!|!!|![a-z\-]+!)$/i,nt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,lt=new Array(256),ot=new Array(256),rt=0;rt<256;rt++)lt[rt]=C(rt)?1:0,ot[rt]=C(rt);var st={YAML:function(t,e,i){var n,l,o;null!==t.version&&c(t,"duplication of %YAML directive"),1!==i.length&&c(t,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]))&&c(t,"ill-formed argument of the YAML directive"),l=parseInt(n[1],10),o=parseInt(n[2],10),1!==l&&c(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&d(t,"unsupported YAML version of the document")},TAG:function(t,e,i){var n,l;2!==i.length&&c(t,"TAG directive accepts exactly two arguments"),n=i[0],l=i[1],it.test(n)||c(t,"ill-formed tag handle (first argument) of the TAG directive"),W.call(t.tagMap,n)&&c(t,'there is a previously declared suffix for "'+n+'" tag handle'),nt.test(l)||c(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[n]=l}};e.exports.loadAll=U,e.exports.load=k,e.exports.safeLoadAll=H,e.exports.safeLoad=V},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(t,e,i){"use strict";function n(t,e,i,n,l){this.name=t,this.buffer=e,this.position=i,this.line=n,this.column=l}var l=t("./common");n.prototype.getSnippet=function(t,e){var i,n,o,r,s;if(!this.buffer)return null;for(t=t||4,e=e||75,i="",n=this.position;n>0&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(n-1));)if(n-=1,this.position-n>e/2-1){i=" ... ",n+=5;break}for(o="",r=this.position;r<this.buffer.length&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(r));)if((r+=1)-this.position>e/2-1){o=" ... ",r-=5;break}return s=this.buffer.slice(n,r),l.repeat(" ",t)+i+s+o+"\n"+l.repeat(" ",t+this.position-n+i.length)+"^"},n.prototype.toString=function(t){var e,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(i+=":\n"+e),i},e.exports=n},{"./common":2}],7:[function(t,e,i){"use strict";function n(t,e,i){var l=[];return t.include.forEach(function(t){i=n(t,e,i)}),t[e].forEach(function(t){i.forEach(function(e,i){e.tag===t.tag&&e.kind===t.kind&&l.push(i)}),i.push(t)}),i.filter(function(t,e){return-1===l.indexOf(e)})}function l(){function t(t){n[t.kind][t.tag]=n.fallback[t.tag]=t}var e,i,n={scalar:{},sequence:{},mapping:{},fallback:{}};for(e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(t);return n}function o(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=n(this,"implicit",[]),this.compiledExplicit=n(this,"explicit",[]),this.compiledTypeMap=l(this.compiledImplicit,this.compiledExplicit)}var r=t("./common"),s=t("./exception"),a=t("./type");o.DEFAULT=null,o.create=function(){var t,e;switch(arguments.length){case 1:t=o.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(t=r.toArray(t),e=r.toArray(e),!t.every(function(t){return t instanceof o}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof a}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:t,explicit:e})},e.exports=o},{"./common":2,"./exception":4,"./type":13}],8:[function(t,e,i){"use strict";var n=t("../schema");e.exports=new n({include:[t("./json")]})},{"../schema":7,"./json":12}],9:[function(t,e,i){"use strict";var n=t("../schema");e.exports=n.DEFAULT=new n({include:[t("./default_safe")],explicit:[t("../type/js/undefined"),t("../type/js/regexp"),t("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(t,e,i){"use strict";var n=t("../schema");e.exports=new n({include:[t("./core")],implicit:[t("../type/timestamp"),t("../type/merge")],explicit:[t("../type/binary"),t("../type/omap"),t("../type/pairs"),t("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(t,e,i){"use strict";var n=t("../schema");e.exports=new n({explicit:[t("../type/str"),t("../type/seq"),t("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(t,e,i){"use strict";var n=t("../schema");e.exports=new n({include:[t("./failsafe")],implicit:[t("../type/null"),t("../type/bool"),t("../type/int"),t("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(t,e,i){"use strict";function n(t){var e={};return null!==t&&Object.keys(t).forEach(function(i){t[i].forEach(function(t){e[String(t)]=i})}),e}function l(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===r.indexOf(e))throw new o('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=n(e.styleAliases||null),-1===s.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var o=t("./exception"),r=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=l},{"./exception":4}],14:[function(t,e,i){"use strict";function n(t){if(null===t)return!1;var e,i,n=0,l=t.length,o=g;for(i=0;i<l;i++)if(!((e=o.indexOf(t.charAt(i)))>64)){if(e<0)return!1;n+=6}return n%8==0}function l(t){var e,i,n=t.replace(/[\r\n=]/g,""),l=n.length,o=g,r=0,a=[];for(e=0;e<l;e++)e%4==0&&e&&(a.push(r>>16&255),a.push(r>>8&255),a.push(255&r)),r=r<<6|o.indexOf(n.charAt(e));return i=l%4*6,0===i?(a.push(r>>16&255),a.push(r>>8&255),a.push(255&r)):18===i?(a.push(r>>10&255),a.push(r>>2&255)):12===i&&a.push(r>>4&255),s?s.from?s.from(a):new s(a):a}function o(t){var e,i,n="",l=0,o=t.length,r=g;for(e=0;e<o;e++)e%3==0&&e&&(n+=r[l>>18&63],n+=r[l>>12&63],n+=r[l>>6&63],n+=r[63&l]),l=(l<<8)+t[e];return i=o%3,0===i?(n+=r[l>>18&63],n+=r[l>>12&63],n+=r[l>>6&63],n+=r[63&l]):2===i?(n+=r[l>>10&63],n+=r[l>>4&63],n+=r[l<<2&63],n+=r[64]):1===i&&(n+=r[l>>2&63],n+=r[l<<4&63],n+=r[64],n+=r[64]),n}function r(t){return s&&s.isBuffer(t)}var s;try{s=t("buffer").Buffer}catch(t){}var a=t("../type"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new a("tag:yaml.org,2002:binary",{kind:"scalar",resolve:n,construct:l,predicate:r,represent:o})},{"../type":13}],15:[function(t,e,i){"use strict";function n(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)}function l(t){return"true"===t||"True"===t||"TRUE"===t}function o(t){return"[object Boolean]"===Object.prototype.toString.call(t)}var r=t("../type");e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:n,construct:l,predicate:o,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(t,e,i){"use strict";function n(t){return null!==t&&!(!g.test(t)||"_"===t[t.length-1])}function l(t){var e,i,n,l;return e=t.replace(/_/g,"").toLowerCase(),i="-"===e[0]?-1:1,l=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(t){l.unshift(parseFloat(t,10))}),e=0,n=1,l.forEach(function(t){e+=t*n,n*=60}),i*e):i*parseFloat(e,10)}function o(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(t))return"-0.0";return i=t.toString(10),C.test(i)?i.replace("e",".e"):i}function r(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||s.isNegativeZero(t))}var s=t("../common"),a=t("../type"),g=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),C=/^[-+]?[0-9]+e/;e.exports=new a("tag:yaml.org,2002:float",{kind:"scalar",resolve:n,construct:l,predicate:r,represent:o,defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(t,e,i){"use strict";function n(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function l(t){return 48<=t&&t<=55}function o(t){return 48<=t&&t<=57}function r(t){if(null===t)return!1;var e,i=t.length,r=0,s=!1;if(!i)return!1;if("-"!==(e=t[r])&&"+"!==e||(e=t[++r]),"0"===e){if(r+1===i)return!0;if("b"===(e=t[++r])){for(r++;r<i;r++)if("_"!==(e=t[r])){if("0"!==e&&"1"!==e)return!1;s=!0}return s&&"_"!==e}if("x"===e){for(r++;r<i;r++)if("_"!==(e=t[r])){if(!n(t.charCodeAt(r)))return!1;s=!0}return s&&"_"!==e}for(;r<i;r++)if("_"!==(e=t[r])){if(!l(t.charCodeAt(r)))return!1;s=!0}return s&&"_"!==e}if("_"===e)return!1;for(;r<i;r++)if("_"!==(e=t[r])){if(":"===e)break;if(!o(t.charCodeAt(r)))return!1;s=!0}return!(!s||"_"===e)&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(r)))}function s(t){var e,i,n=t,l=1,o=[];return-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(e=n[0])&&"+"!==e||("-"===e&&(l=-1),e=(n=n.slice(1))[0]),"0"===n?0:"0"===e?"b"===n[1]?l*parseInt(n.slice(2),2):"x"===n[1]?l*parseInt(n,16):l*parseInt(n,8):-1!==n.indexOf(":")?(n.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),n=0,i=1,o.forEach(function(t){n+=t*i,i*=60}),l*n):l*parseInt(n,10)}function a(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!g.isNegativeZero(t)}var g=t("../common"),C=t("../type");e.exports=new C("tag:yaml.org,2002:int",{kind:"scalar",resolve:r,construct:s,predicate:a,represent:{binary:function(t){return"0b"+t.toString(2)},octal:function(t){return"0"+t.toString(8)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return"0x"+t.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(t,e,i){"use strict";function n(t){if(null===t)return!1;try{var e="("+t+")",i=s.parse(e,{range:!0});return"Program"===i.type&&1===i.body.length&&"ExpressionStatement"===i.body[0].type&&"FunctionExpression"===i.body[0].expression.type}catch(t){return!1}}function l(t){var e,i="("+t+")",n=s.parse(i,{range:!0}),l=[];if("Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type)throw new Error("Failed to resolve function");return n.body[0].expression.params.forEach(function(t){l.push(t.name)}),e=n.body[0].expression.body.range,new Function(l,i.slice(e[0]+1,e[1]-1))}function o(t){return t.toString()}function r(t){return"[object Function]"===Object.prototype.toString.call(t)}var s;try{s=t("esprima")}catch(t){"undefined"!=typeof window&&(s=window.esprima)}var a=t("../../type");e.exports=new a("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:n,construct:l,predicate:r,represent:o})},{"../../type":13}],19:[function(t,e,i){"use strict";function n(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,i=/\/([gim]*)$/.exec(t),n="";if("/"===e[0]){if(i&&(n=i[1]),n.length>3)return!1;if("/"!==e[e.length-n.length-1])return!1}return!0}function l(t){var e=t,i=/\/([gim]*)$/.exec(t),n="";return"/"===e[0]&&(i&&(n=i[1]),e=e.slice(1,e.length-n.length-1)),new RegExp(e,n)}function o(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var s=t("../../type");e.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:n,construct:l,predicate:r,represent:o})},{"../../type":13}],20:[function(t,e,i){"use strict";function n(){return!0}function l(){}function o(){return""}function r(t){return void 0===t}var s=t("../../type");e.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:n,construct:l,predicate:r,represent:o})},{"../../type":13}],21:[function(t,e,i){"use strict";var n=t("../type");e.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},{"../type":13}],22:[function(t,e,i){"use strict";function n(t){return"<<"===t||null===t}var l=t("../type");e.exports=new l("tag:yaml.org,2002:merge",{kind:"scalar",resolve:n})},{"../type":13}],23:[function(t,e,i){"use strict";function n(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)}function l(){return null}function o(t){return null===t}var r=t("../type");e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:n,construct:l,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(t,e,i){"use strict";function n(t){if(null===t)return!0;var e,i,n,l,o,a=[],g=t;for(e=0,i=g.length;e<i;e+=1){if(n=g[e],o=!1,"[object Object]"!==s.call(n))return!1;for(l in n)if(r.call(n,l)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==a.indexOf(l))return!1;a.push(l)}return!0}function l(t){return null!==t?t:[]}var o=t("../type"),r=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:n,construct:l})},{"../type":13}],25:[function(t,e,i){"use strict";function n(t){if(null===t)return!0;var e,i,n,l,o,s=t;for(o=new Array(s.length),e=0,i=s.length;e<i;e+=1){if(n=s[e],"[object Object]"!==r.call(n))return!1;if(1!==(l=Object.keys(n)).length)return!1;o[e]=[l[0],n[l[0]]]}return!0}function l(t){if(null===t)return[];var e,i,n,l,o,r=t;for(o=new Array(r.length),e=0,i=r.length;e<i;e+=1)n=r[e],l=Object.keys(n),o[e]=[l[0],n[l[0]]];return o}var o=t("../type"),r=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:n,construct:l})},{"../type":13}],26:[function(t,e,i){"use strict";var n=t("../type");e.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},{"../type":13}],27:[function(t,e,i){"use strict";function n(t){if(null===t)return!0;var e,i=t;for(e in i)if(r.call(i,e)&&null!==i[e])return!1;return!0}function l(t){return null!==t?t:{}}var o=t("../type"),r=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:n,construct:l})},{"../type":13}],28:[function(t,e,i){"use strict";var n=t("../type");e.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},{"../type":13}],29:[function(t,e,i){"use strict";function n(t){return null!==t&&(null!==s.exec(t)||null!==a.exec(t))}function l(t){var e,i,n,l,o,r,g,C,h=0,A=null;if(null===(e=s.exec(t))&&(e=a.exec(t)),null===e)throw new Error("Date resolve error");if(i=+e[1],n=+e[2]-1,l=+e[3],!e[4])return new Date(Date.UTC(i,n,l));if(o=+e[4],r=+e[5],g=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(A=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(A=-A)),C=new Date(Date.UTC(i,n,l,o,r,g,h)),A&&C.setTime(C.getTime()-A),C}function o(t){return t.toISOString()}var r=t("../type"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),a=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:n,construct:l,instanceOf:Date,represent:o})},{"../type":13}],"/":[function(t,e,i){"use strict";var n=t("./lib/js-yaml.js");e.exports=n},{"./lib/js-yaml.js":1}]},{},[])("/")}),"undefined"!=typeof module&&(module.exports={js2data:js2data,getOperand:getOperand,list2tree:list2tree}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.CodeMirror=e()}(this,function(){"use strict";function t(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function e(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function i(t,i){return e(t).appendChild(i)}function n(t,e,i,n){var l=document.createElement(t);if(i&&(l.className=i),n&&(l.style.cssText=n),"string"==typeof e)l.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)l.appendChild(e[o]);return l}function l(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function o(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function r(e,i){var n=e.className;t(i).test(n)||(e.className+=(n?" ":"")+i)}function s(e,i){for(var n=e.split(" "),l=0;l<n.length;l++)n[l]&&!t(n[l]).test(i)&&(i+=" "+n[l]);return i}function a(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function g(t,e,i){e||(e={});for(var n in t)!t.hasOwnProperty(n)||!1===i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function C(t,e,i,n,l){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=n||0,r=l||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return r+(e-o);r+=s-o,r+=i-r%i,o=s+1}}function h(){this.id=null}function A(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function I(t,e,i){for(var n=0,l=0;;){var o=t.indexOf("\t",n);-1==o&&(o=t.length);var r=o-n;if(o==t.length||l+r>=e)return n+Math.min(r,e-l);if(l+=o-n,l+=i-l%i,n=o+1,l>=e)return n}}function c(t){for(;Sr.length<=t;)Sr.push(d(Sr)+" ");return Sr[t]}function d(t){return t[t.length-1]}function u(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function p(t,e,i){for(var n=0,l=i(e);n<t.length&&i(t[n])<=l;)n++;t.splice(n,0,e)}function m(){}function x(t,e){var i;return Object.create?i=Object.create(t):(m.prototype=t,i=new m),e&&g(e,i),i}function v(t){return/\w/.test(t)||t>"Â€"&&(t.toUpperCase()!=t.toLowerCase()||Tr.test(t))}function y(t,e){return e?!!(e.source.indexOf("\\w")>-1&&v(t))||e.test(t):v(t)}function f(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function b(t){return t.charCodeAt(0)>=768&&Gr.test(t)}function w(t,e,i){var l=this;this.input=i,l.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=n("div",null,"CodeMirror-code"),l.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=n("div",null,"CodeMirror-cursors"),l.measure=n("div",null,"CodeMirror-measure"),l.lineMeasure=n("div",null,"CodeMirror-measure"),l.lineSpace=n("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none"),l.mover=n("div",[n("div",[l.lineSpace],"CodeMirror-lines")],null,"position: relative"),l.sizer=n("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=n("div",null,null,"position: absolute; height: "+yr+"px; width: 1px;"),l.gutters=n("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=n("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=n("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),$o&&tr<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),er||Ko&&gr||(l.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(l.wrapper):t(l.wrapper)),l.viewFrom=l.viewTo=e.first,l.reportedViewFrom=l.reportedViewTo=e.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,i.init(l)}function E(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var l=i.children[n],o=l.chunkSize();if(e<o){i=l;break}e-=o}return i.lines[e]}function S(t,e,i){var n=[],l=e.line;return t.iter(e.line,i.line+1,function(t){var o=t.text;l==i.line&&(o=o.slice(0,i.ch)),l==e.line&&(o=o.slice(e.ch)),n.push(o),++l}),n}function T(t,e,i){var n=[];return t.iter(e,i,function(t){n.push(t.text)}),n}function G(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function R(t){if(null==t.parent)return null;for(var e=t.parent,i=A(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var l=0;n.children[l]!=e;++l)i+=n.children[l].chunkSize();return i+e.first}function L(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var l=t.children[n],o=l.height;if(e<o){t=l;continue t}e-=o,i+=l.chunkSize()}return i}while(!t.lines);for(var r=0;r<t.lines.length;++r){var s=t.lines[r].height;if(e<s)break;e-=s}return i+r}function P(t,e){return e>=t.first&&e<t.first+t.size}function M(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function N(t,e){if(!(this instanceof N))return new N(t,e);this.line=t,this.ch=e}function D(t,e){return t.line-e.line||t.ch-e.ch}function O(t){return N(t.line,t.ch)}function U(t,e){return D(t,e)<0?e:t}function k(t,e){return D(t,e)<0?t:e}function H(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function V(t,e){if(e.line<t.first)return N(t.first,0);var i=t.first+t.size-1;return e.line>i?N(i,E(t,i).text.length):Z(e,E(t,e.line).text.length)}function Z(t,e){var i=t.ch;return null==i||i>e?N(t.line,e):i<0?N(t.line,0):t}function Y(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=V(t,e[n]);return i}function F(){Rr=!0}function X(){Lr=!0}function B(t,e,i){this.marker=t,this.from=e,this.to=i}function W(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function z(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function _(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function J(t,e,i){var n;if(t)for(var l=0;l<t.length;++l){var o=t[l],r=o.marker;if(null==o.from||(r.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==r.type&&(!i||!o.marker.insertLeft)){var s=null==o.to||(r.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new B(r,o.from,s?null:o.to))}}return n}function j(t,e,i){var n;if(t)for(var l=0;l<t.length;++l){var o=t[l],r=o.marker;if(null==o.to||(r.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==r.type&&(!i||o.marker.insertLeft)){var s=null==o.from||(r.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new B(r,s?null:o.from-e,null==o.to?null:o.to-e))}}return n}function K(t,e){if(e.full)return null;var i=P(t,e.from.line)&&E(t,e.from.line).markedSpans,n=P(t,e.to.line)&&E(t,e.to.line).markedSpans;if(!i&&!n)return null;var l=e.from.ch,o=e.to.ch,r=0==D(e.from,e.to),s=J(i,l,r),a=j(n,o,r),g=1==e.text.length,C=d(e.text).length+(g?l:0);if(s)for(var h=0;h<s.length;++h){var A=s[h];if(null==A.to){var I=W(a,A.marker);I?g&&(A.to=null==I.to?null:I.to+C):A.to=l}}if(a)for(var c=0;c<a.length;++c){var u=a[c];null!=u.to&&(u.to+=C),null==u.from?W(s,u.marker)||(u.from=C,g&&(s||(s=[])).push(u)):(u.from+=C,g&&(s||(s=[])).push(u))}s&&(s=Q(s)),a&&a!=s&&(a=Q(a));var p=[s];if(!g){var m,x=e.text.length-2;if(x>0&&s)for(var v=0;v<s.length;++v)null==s[v].to&&(m||(m=[])).push(new B(s[v].marker,null,null));for(var y=0;y<x;++y)p.push(m);p.push(a)}return p}function Q(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function q(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&-1!=A(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var l=[{from:e,to:i}],o=0;o<n.length;++o)for(var r=n[o],s=r.find(0),a=0;a<l.length;++a){var g=l[a];if(!(D(g.to,s.from)<0||D(g.from,s.to)>0)){var C=[a,1],h=D(g.from,s.from),I=D(g.to,s.to);(h<0||!r.inclusiveLeft&&!h)&&C.push({from:g.from,to:s.from}),(I>0||!r.inclusiveRight&&!I)&&C.push({from:s.to,to:g.to}),l.splice.apply(l,C),a+=C.length-1}}return l}function $(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function tt(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function et(t){return t.inclusiveLeft?-1:0}function it(t){return t.inclusiveRight?1:0}function nt(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),l=e.find(),o=D(n.from,l.from)||et(t)-et(e);if(o)return-o;var r=D(n.to,l.to)||it(t)-it(e);return r||e.id-t.id}function lt(t,e){var i,n=Lr&&t.markedSpans;if(n)for(var l=void 0,o=0;o<n.length;++o)(l=n[o]).marker.collapsed&&null==(e?l.from:l.to)&&(!i||nt(i,l.marker)<0)&&(i=l.marker);return i}function ot(t){return lt(t,!0)}function rt(t){return lt(t,!1)}function st(t,e,i,n,l){var o=E(t,e),r=Lr&&o.markedSpans;if(r)for(var s=0;s<r.length;++s){var a=r[s];if(a.marker.collapsed){var g=a.marker.find(0),C=D(g.from,i)||et(a.marker)-et(l),h=D(g.to,n)||it(a.marker)-it(l);if(!(C>=0&&h<=0||C<=0&&h>=0)&&(C<=0&&(a.marker.inclusiveRight&&l.inclusiveLeft?D(g.to,i)>=0:D(g.to,i)>0)||C>=0&&(a.marker.inclusiveRight&&l.inclusiveLeft?D(g.from,n)<=0:D(g.from,n)<0)))return!0}}}function at(t){for(var e;e=ot(t);)t=e.find(-1,!0).line;return t}function gt(t){for(var e,i;e=rt(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function Ct(t,e){var i=E(t,e),n=at(i);return i==n?e:R(n)}function ht(t,e){if(e>t.lastLine())return e;var i,n=E(t,e);if(!At(t,n))return e;for(;i=rt(n);)n=i.find(1,!0).line;return R(n)+1}function At(t,e){var i=Lr&&e.markedSpans;if(i)for(var n=void 0,l=0;l<i.length;++l)if((n=i[l]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&It(t,e,n))return!0}}function It(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return It(t,n.line,W(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var l=void 0,o=0;o<e.markedSpans.length;++o)if((l=e.markedSpans[o]).marker.collapsed&&!l.marker.widgetNode&&l.from==i.to&&(null==l.to||l.to!=i.from)&&(l.marker.inclusiveLeft||i.marker.inclusiveRight)&&It(t,e,l))return!0}function ct(t){for(var e=0,i=(t=at(t)).parent,n=0;n<i.lines.length;++n){var l=i.lines[n];if(l==t)break;e+=l.height}for(var o=i.parent;o;i=o,o=i.parent)for(var r=0;r<o.children.length;++r){var s=o.children[r];if(s==i)break;e+=s.height}return e}function dt(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=ot(n);){var l=e.find(0,!0);n=l.from.line,i+=l.from.ch-l.to.ch}for(n=t;e=rt(n);){var o=e.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function ut(t){var e=t.display,i=t.doc;e.maxLine=E(i,i.first),e.maxLineLength=dt(e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var i=dt(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function pt(t,e,i,n){if(!t)return n(e,i,"ltr");for(var l=!1,o=0;o<t.length;++o){var r=t[o];(r.from<i&&r.to>e||e==i&&r.to==e)&&(n(Math.max(r.from,e),Math.min(r.to,i),1==r.level?"rtl":"ltr"),l=!0)}l||n(e,i,"ltr")}function mt(t){return t.level%2?t.to:t.from}function xt(t){return t.level%2?t.from:t.to}function vt(t){var e=Tt(t);return e?mt(e[0]):0}function yt(t){var e=Tt(t);return e?xt(d(e)):t.text.length}function ft(t,e,i){var n=t[0].level;return e==n||i!=n&&e<i}function bt(t,e){var i;Pr=null;for(var n=0;n<t.length;++n){var l=t[n];if(l.from<e&&l.to>e)return n;if(l.from==e||l.to==e){if(null!=i)return ft(t,l.level,t[i].level)?(l.from!=l.to&&(Pr=i),n):(l.from!=l.to&&(Pr=n),i);i=n}}return i}function wt(t,e,i,n){if(!n)return e+i;do{e+=i}while(e>0&&b(t.text.charAt(e)));return e}function Et(t,e,i,n){var l=Tt(t);if(!l)return St(t,e,i,n);for(var o=bt(l,e),r=l[o],s=wt(t,e,r.level%2?-i:i,n);;){if(s>r.from&&s<r.to)return s;if(s==r.from||s==r.to)return bt(l,s)==o?s:(r=l[o+=i],i>0==r.level%2?r.to:r.from);if(!(r=l[o+=i]))return null;s=i>0==r.level%2?wt(t,r.to,-1,n):wt(t,r.from,1,n)}}function St(t,e,i,n){var l=e+i;if(n)for(;l>0&&b(t.text.charAt(l));)l+=i;return l<0||l>t.text.length?null:l}function Tt(t){var e=t.order;return null==e&&(e=t.order=Mr(t.text)),e}function Gt(t,e){return t._handlers&&t._handlers[e]||Nr}function Rt(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,l=n&&n[e];if(l){var o=A(l,i);o>-1&&(n[e]=l.slice(0,o).concat(l.slice(o+1)))}}}function Lt(t,e){var i=Gt(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),l=0;l<i.length;++l)i[l].apply(null,n)}function Pt(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Lt(t,i||e.type,t,e),kt(e)||e.codemirrorIgnore}function Mt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==A(i,e[n])&&i.push(e[n])}function Nt(t,e){return Gt(t,e).length>0}function Dt(t){t.prototype.on=function(t,e){Dr(this,t,e)},t.prototype.off=function(t,e){Rt(this,t,e)}}function Ot(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Ut(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function kt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ht(t){Ot(t),Ut(t)}function Vt(t){return t.target||t.srcElement}function Zt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Cr&&t.ctrlKey&&1==e&&(e=3),e}function Yt(t){if(null==xr){var e=n("span","â€‹");i(t,n("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(xr=e.offsetWidth<=1&&e.offsetHeight>2&&!($o&&tr<8))}var l=xr?n("span","â€‹"):n("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return l.setAttribute("cm-text",""),l}function Ft(t){if(null!=vr)return vr;var n=i(t,document.createTextNode("AØ®A")),l=cr(n,0,1).getBoundingClientRect(),o=cr(n,1,2).getBoundingClientRect();return e(t),!(!l||l.left==l.right)&&(vr=o.right-l.right<3)}function Xt(t){if(null!=Vr)return Vr;var e=i(t,n("span","x")),l=e.getBoundingClientRect(),o=cr(e,0,1).getBoundingClientRect();return Vr=Math.abs(l.left-o.left)>1}function Bt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Zr[t]=e}function Wt(t,e){Yr[t]=e}function zt(t){if("string"==typeof t&&Yr.hasOwnProperty(t))t=Yr[t];else if(t&&"string"==typeof t.name&&Yr.hasOwnProperty(t.name)){var e=Yr[t.name];"string"==typeof e&&(e={name:e}),(t=x(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return zt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return zt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function _t(t,e){e=zt(e);var i=Zr[e.name];if(!i)return _t(t,"text/plain");var n=i(t,e);if(Fr.hasOwnProperty(e.name)){var l=Fr[e.name];for(var o in l)l.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=l[o])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var r in e.modeProps)n[r]=e.modeProps[r];return n}function Jt(t,e){g(e,Fr.hasOwnProperty(t)?Fr[t]:Fr[t]={})}function jt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var l=e[n];l instanceof Array&&(l=l.concat([])),i[n]=l}return i}function Kt(t,e){for(var i;t.innerMode&&(i=t.innerMode(e))&&i.mode!=t;)e=i.state,t=i.mode;return i||{mode:t,state:e}}function Qt(t,e,i){return!t.startState||t.startState(e,i)}function qt(t,e,i,n){var l=[t.state.modeGen],o={};re(t,e,t.doc.mode,i,function(t,e){return l.push(t,e)},o,n);for(var r=0;r<t.state.overlays.length;++r)!function(i){var n=t.state.overlays[i],r=1,s=0;re(t,e,n.mode,!0,function(t,e){for(var i=r;s<t;){var o=l[r];o>t&&l.splice(r,1,t,l[r+1],o),r+=2,s=Math.min(t,o)}if(e)if(n.opaque)l.splice(i,r-i,t,"overlay "+e),r=i+2;else for(;i<r;i+=2){var a=l[i+1];l[i+1]=(a?a+" ":"")+"overlay "+e}},o)}(r);return{styles:l,classes:o.bgClass||o.textClass?o:null}}function $t(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=te(t,R(e)),l=qt(t,e,e.text.length>t.options.maxHighlightLength?jt(t.doc.mode,n):n);e.stateAfter=n,e.styles=l.styles,l.classes?e.styleClasses=l.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function te(t,e,i){var n=t.doc,l=t.display;if(!n.mode.startState)return!0;var o=se(t,e,i),r=o>n.first&&E(n,o-1).stateAfter;return r=r?jt(n.mode,r):Qt(n.mode),n.iter(o,e,function(i){ee(t,i.text,r);var s=o==e-1||o%5==0||o>=l.viewFrom&&o<l.viewTo;i.stateAfter=s?jt(n.mode,r):null,++o}),i&&(n.frontier=o),r}function ee(t,e,i,n){var l=t.doc.mode,o=new Xr(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&ie(l,i);!o.eol();)ne(l,o,i),o.start=o.pos}function ie(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=Kt(t,e);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ne(t,e,i,n){for(var l=0;l<10;l++){n&&(n[0]=Kt(t,i).mode);var o=t.token(e,i);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function le(t,e,i,n){var l,o=function(t){return{start:h.start,end:h.pos,string:h.current(),type:l||null,state:t?jt(r.mode,C):C}},r=t.doc,s=r.mode;e=V(r,e);var a,g=E(r,e.line),C=te(t,e.line,i),h=new Xr(g.text,t.options.tabSize);for(n&&(a=[]);(n||h.pos<e.ch)&&!h.eol();)h.start=h.pos,l=ne(s,h,C),n&&a.push(o(!0));return n?a:o()}function oe(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function re(t,e,i,n,l,o,r){var s=e.text,a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var g,C=0,h=null,A=new Xr(s,t.options.tabSize),I=t.options.addModeClass&&[null];for(""==s&&oe(ie(i,n),o);!A.eol();){if(A.pos>t.options.maxHighlightLength?(a=!1,r&&ee(t,s,n,A.pos),A.pos=s.length,g=null):g=oe(ne(i,A,n,I),o),I){var c=I[0].name;c&&(g="m-"+(g?c+" "+g:c))}if(!a||h!=g){for(;C<A.start;)l(C=Math.min(A.start,C+5e3),h);h=g}A.start=A.pos}for(;C<A.pos;){var d=Math.min(A.pos,C+5e3);l(d,h),C=d}}function se(t,e,i){for(var n,l,o=t.doc,r=i?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>r;--s){if(s<=o.first)return o.first;var a=E(o,s-1);if(a.stateAfter&&(!i||s<=o.frontier))return s;var g=C(a.text,null,t.options.tabSize);(null==l||n>g)&&(l=s-1,n=g)}return l}function ae(t,e,i){this.text=t,tt(this,e),this.height=i?i(this):1}function ge(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),$(t),tt(t,i);var l=n?n(t):1;l!=t.height&&G(t,l)}function Ce(t){t.parent=null,$(t)}function he(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?zr:Wr;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function Ae(t,e){var i=n("span",null,null,er?"padding-right: .1px":null),l={pre:n("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:($o||er)&&t.getOption("lineWrapping")};i.setAttribute("role","presentation"),l.pre.setAttribute("role","presentation"),e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var r=o?e.rest[o-1]:e.line,a=void 0;l.pos=0,l.addToken=ce,Ft(t.display.measure)&&(a=Tt(r))&&(l.addToken=ue(l.addToken,a)),l.map=[],me(r,l,$t(t,r,e!=t.display.externalMeasured&&R(r))),r.styleClasses&&(r.styleClasses.bgClass&&(l.bgClass=s(r.styleClasses.bgClass,l.bgClass||"")),r.styleClasses.textClass&&(l.textClass=s(r.styleClasses.textClass,l.textClass||""))),0==l.map.length&&l.map.push(0,0,l.content.appendChild(Yt(t.display.measure))),0==o?(e.measure.map=l.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(l.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(er){var g=l.content.lastChild;(/\bcm-tab\b/.test(g.className)||g.querySelector&&g.querySelector(".cm-tab"))&&(l.content.className="cm-tab-wrap-hack")}return Lt(t,"renderLine",t,e.line,l.pre),l.pre.className&&(l.textClass=s(l.pre.className,l.textClass||"")),l}function Ie(t){var e=n("span","â€¢","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ce(t,e,i,l,o,r,s){if(e){var a,g=t.splitSpaces?de(e,t.trailingSpace):e,C=t.cm.state.specialChars,h=!1;if(C.test(e)){a=document.createDocumentFragment();for(var A=0;;){C.lastIndex=A;var I=C.exec(e),d=I?I.index-A:e.length-A;if(d){var u=document.createTextNode(g.slice(A,A+d));$o&&tr<9?a.appendChild(n("span",[u])):a.appendChild(u),t.map.push(t.pos,t.pos+d,u),t.col+=d,t.pos+=d}if(!I)break;A+=d+1;var p=void 0;if("\t"==I[0]){var m=t.cm.options.tabSize,x=m-t.col%m;(p=a.appendChild(n("span",c(x),"cm-tab"))).setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),t.col+=x}else"\r"==I[0]||"\n"==I[0]?((p=a.appendChild(n("span","\r"==I[0]?"â":"â¤","cm-invalidchar"))).setAttribute("cm-text",I[0]),t.col+=1):((p=t.cm.options.specialCharPlaceholder(I[0])).setAttribute("cm-text",I[0]),$o&&tr<9?a.appendChild(n("span",[p])):a.appendChild(p),t.col+=1);t.map.push(t.pos,t.pos+1,p),t.pos++}}else t.col+=e.length,a=document.createTextNode(g),t.map.push(t.pos,t.pos+e.length,a),$o&&tr<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==g.charCodeAt(e.length-1),i||l||o||h||s){var v=i||"";l&&(v+=l),o&&(v+=o);var y=n("span",[a],v,s);return r&&(y.title=r),t.content.appendChild(y)}t.content.appendChild(a)}}function de(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",l=0;l<t.length;l++){var o=t.charAt(l);" "!=o||!i||l!=t.length-1&&32!=t.charCodeAt(l+1)||(o="Â "),n+=o,i=" "==o}return n}function ue(t,e){return function(i,n,l,o,r,s,a){l=l?l+" cm-force-border":"cm-force-border";for(var g=i.pos,C=g+n.length;;){for(var h=void 0,A=0;A<e.length&&!((h=e[A]).to>g&&h.from<=g);A++);if(h.to>=C)return t(i,n,l,o,r,s,a);t(i,n.slice(0,h.to-g),l,o,null,s,a),o=null,n=n.slice(h.to-g),g=h.to}}}function pe(t,e,i,n){var l=!n&&i.widgetNode;l&&t.map.push(t.pos,t.pos+e,l),!n&&t.cm.display.input.needsContentAttribute&&(l||(l=t.content.appendChild(document.createElement("span"))),l.setAttribute("cm-marker",i.id)),l&&(t.cm.display.input.setUneditable(l),t.content.appendChild(l)),t.pos+=e,t.trailingSpace=!1}function me(t,e,i){var n=t.markedSpans,l=t.text,o=0;if(n)for(var r,s,a,g,C,h,A,I=l.length,c=0,d=1,u="",p=0;;){if(p==c){a=g=C=h=s="",A=null,p=1/0;for(var m=[],x=void 0,v=0;v<n.length;++v){var y=n[v],f=y.marker;"bookmark"==f.type&&y.from==c&&f.widgetNode?m.push(f):y.from<=c&&(null==y.to||y.to>c||f.collapsed&&y.to==c&&y.from==c)?(null!=y.to&&y.to!=c&&p>y.to&&(p=y.to,g=""),f.className&&(a+=" "+f.className),f.css&&(s=(s?s+";":"")+f.css),f.startStyle&&y.from==c&&(C+=" "+f.startStyle),f.endStyle&&y.to==p&&(x||(x=[])).push(f.endStyle,y.to),f.title&&!h&&(h=f.title),f.collapsed&&(!A||nt(A.marker,f)<0)&&(A=y)):y.from>c&&p>y.from&&(p=y.from)}if(x)for(var b=0;b<x.length;b+=2)x[b+1]==p&&(g+=" "+x[b]);if(!A||A.from==c)for(var w=0;w<m.length;++w)pe(e,0,m[w]);if(A&&(A.from||0)==c){if(pe(e,(null==A.to?I+1:A.to)-c,A.marker,null==A.from),null==A.to)return;A.to==c&&(A=!1)}}if(c>=I)break;for(var E=Math.min(I,p);;){if(u){var S=c+u.length;if(!A){var T=S>E?u.slice(0,E-c):u;e.addToken(e,T,r?r+a:a,C,c+T.length==p?g:"",h,s)}if(S>=E){u=u.slice(E-c),c=E;break}c=S,C=""}u=l.slice(o,o=i[d++]),r=he(i[d++],e.cm.options)}}else for(var G=1;G<i.length;G+=2)e.addToken(e,l.slice(o,o=i[G]),he(i[G+1],e.cm.options))}function xe(t,e,i){this.line=e,this.rest=gt(e),this.size=this.rest?R(d(this.rest))-i+1:1,this.node=this.text=null,this.hidden=At(t,e)}function ve(t,e,i){for(var n,l=[],o=e;o<i;o=n){var r=new xe(t.doc,E(t.doc,o),o);n=o+r.size,l.push(r)}return l}function ye(t){_r?_r.ops.push(t):t.ownsGroup=_r={ops:[t],delayedCallbacks:[]}}function fe(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var l=t.ops[n];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(i<e.length)}function be(t,e){var i=t.ownsGroup;if(i)try{fe(i)}finally{_r=null,e(i)}}function we(t,e){var i=Gt(t,e);if(i.length){var n,l=Array.prototype.slice.call(arguments,2);_r?n=_r.delayedCallbacks:Jr?n=Jr:(n=Jr=[],setTimeout(Ee,0));for(var o=0;o<i.length;++o)!function(t){n.push(function(){return i[t].apply(null,l)})}(o)}}function Ee(){var t=Jr;Jr=null;for(var e=0;e<t.length;++e)t[e]()}function Se(t,e,i,n){for(var l=0;l<e.changes.length;l++){var o=e.changes[l];"text"==o?Le(t,e):"gutter"==o?Me(t,e,i,n):"class"==o?Pe(e):"widget"==o&&Ne(t,e,n)}e.changes=null}function Te(t){return t.node==t.text&&(t.node=n("div",null,null,"position: relative"),
t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),$o&&tr<8&&(t.node.style.zIndex=2)),t.node}function Ge(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var i=Te(t);t.background=i.insertBefore(n("div",null,e),i.firstChild)}}function Re(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Ae(t,e)}function Le(t,e){var i=e.text.className,n=Re(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,Pe(e)):i&&(e.text.className=i)}function Pe(t){Ge(t),t.line.wrapClass?Te(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function Me(t,e,i,l){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=Te(e);e.gutterBackground=n("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px; width: "+l.gutterTotalWidth+"px"),o.insertBefore(e.gutterBackground,e.text)}var r=e.line.gutterMarkers;if(t.options.lineNumbers||r){var s=Te(e),a=e.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(n("div",M(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+l.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),r)for(var g=0;g<t.options.gutters.length;++g){var C=t.options.gutters[g],h=r.hasOwnProperty(C)&&r[C];h&&a.appendChild(n("div",[h],"CodeMirror-gutter-elt","left: "+l.gutterLeft[C]+"px; width: "+l.gutterWidth[C]+"px"))}}}function Ne(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild,l=void 0;n;n=l)l=n.nextSibling,"CodeMirror-linewidget"==n.className&&e.node.removeChild(n);Oe(t,e,i)}function De(t,e,i,n){var l=Re(t,e);return e.text=e.node=l.pre,l.bgClass&&(e.bgClass=l.bgClass),l.textClass&&(e.textClass=l.textClass),Pe(e),Me(t,e,i,n),Oe(t,e,n),e.node}function Oe(t,e,i){if(Ue(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Ue(t,e.rest[n],e,i,!1)}function Ue(t,e,i,l,o){if(e.widgets)for(var r=Te(i),s=0,a=e.widgets;s<a.length;++s){var g=a[s],C=n("div",[g.node],"CodeMirror-linewidget");g.handleMouseEvents||C.setAttribute("cm-ignore-events","true"),ke(g,C,i,l),t.display.input.setUneditable(C),o&&g.above?r.insertBefore(C,i.gutter||i.text):r.appendChild(C),we(g,"redraw")}}function ke(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var l=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(l-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=l+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function He(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!l(document.body,t.node)){var o="position: relative;";t.coverGutter&&(o+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(o+="width: "+e.display.wrapper.clientWidth+"px;"),i(e.display.measure,n("div",[t.node],null,o))}return t.height=t.node.parentNode.offsetHeight}function Ve(t,e){for(var i=Vt(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Ze(t){return t.lineSpace.offsetTop}function Ye(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Fe(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=i(t.measure,n("pre","x")),l=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function Xe(t){return yr-t.display.nativeBarWidth}function Be(t){return t.display.scroller.clientWidth-Xe(t)-t.display.barWidth}function We(t){return t.display.scroller.clientHeight-Xe(t)-t.display.barHeight}function ze(t,e,i){var n=t.options.lineWrapping,l=n&&Be(t);if(!e.measure.heights||n&&e.measure.width!=l){var o=e.measure.heights=[];if(n){e.measure.width=l;for(var r=e.text.firstChild.getClientRects(),s=0;s<r.length-1;s++){var a=r[s],g=r[s+1];Math.abs(a.bottom-g.bottom)>2&&o.push((a.bottom+g.top)/2-i.top)}}o.push(i.bottom-i.top)}}function _e(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var l=0;l<t.rest.length;l++)if(R(t.rest[l])>i)return{map:t.measure.maps[l],cache:t.measure.caches[l],before:!0}}function Je(t,e){var n=R(e=at(e)),l=t.display.externalMeasured=new xe(t.doc,e,n);l.lineN=n;var o=l.built=Ae(t,l);return l.text=o.pre,i(t.display.lineMeasure,o.pre),l}function je(t,e,i,n){return qe(t,Qe(t,e),i,n)}function Ke(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[bi(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Qe(t,e){var i=R(e),n=Ke(t,i);n&&!n.text?n=null:n&&n.changes&&(Se(t,n,i,mi(t)),t.curOp.forceUpdate=!0),n||(n=Je(t,e));var l=_e(n,e,i);return{line:e,view:n,rect:null,map:l.map,cache:l.cache,before:l.before,hasHeights:!1}}function qe(t,e,i,n,l){e.before&&(i=-1);var o,r=i+(n||"");return e.cache.hasOwnProperty(r)?o=e.cache[r]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(ze(t,e.view,e.rect),e.hasHeights=!0),(o=ei(t,e,i,n)).bogus||(e.cache[r]=o)),{left:o.left,right:o.right,top:l?o.rtop:o.top,bottom:l?o.rbottom:o.bottom}}function $e(t,e,i){for(var n,l,o,r,s,a,g=0;g<t.length;g+=3)if(s=t[g],a=t[g+1],e<s?(l=0,o=1,r="left"):e<a?o=(l=e-s)+1:(g==t.length-3||e==a&&t[g+3]>e)&&(l=(o=a-s)-1,e>=a&&(r="right")),null!=l){if(n=t[g+2],s==a&&i==(n.insertLeft?"left":"right")&&(r=i),"left"==i&&0==l)for(;g&&t[g-2]==t[g-3]&&t[g-1].insertLeft;)n=t[2+(g-=3)],r="left";if("right"==i&&l==a-s)for(;g<t.length-3&&t[g+3]==t[g+4]&&!t[g+5].insertLeft;)n=t[(g+=3)+2],r="right";break}return{node:n,start:l,end:o,collapse:r,coverStart:s,coverEnd:a}}function ti(t,e){var i=jr;if("left"==e)for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var l=t.length-1;l>=0&&(i=t[l]).left==i.right;l--);return i}function ei(t,e,i,n){var l,o=$e(e.map,i,n),r=o.node,s=o.start,a=o.end,g=o.collapse;if(3==r.nodeType){for(var C=0;C<4;C++){for(;s&&b(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&b(e.line.text.charAt(o.coverStart+a));)++a;if((l=$o&&tr<9&&0==s&&a==o.coverEnd-o.coverStart?r.parentNode.getBoundingClientRect():ti(cr(r,s,a).getClientRects(),n)).left||l.right||0==s)break;a=s,s-=1,g="right"}$o&&tr<11&&(l=ii(t.display.measure,l))}else{s>0&&(g=n="right");var h;l=t.options.lineWrapping&&(h=r.getClientRects()).length>1?h["right"==n?h.length-1:0]:r.getBoundingClientRect()}if($o&&tr<9&&!s&&(!l||!l.left&&!l.right)){var A=r.parentNode.getClientRects()[0];l=A?{left:A.left,right:A.left+pi(t.display),top:A.top,bottom:A.bottom}:jr}for(var I=l.top-e.rect.top,c=l.bottom-e.rect.top,d=(I+c)/2,u=e.view.measure.heights,p=0;p<u.length-1&&!(d<u[p]);p++);var m=p?u[p-1]:0,x=u[p],v={left:("right"==g?l.right:l.left)-e.rect.left,right:("left"==g?l.left:l.right)-e.rect.left,top:m,bottom:x};return l.left||l.right||(v.bogus=!0),t.options.singleCursorHeightPerLine||(v.rtop=I,v.rbottom=c),v}function ii(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Xt(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function ni(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function li(t){t.display.externalMeasure=null,e(t.display.lineMeasure);for(var i=0;i<t.display.view.length;i++)ni(t.display.view[i])}function oi(t){li(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ri(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function si(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ai(t,e,i,n,l){if(!l&&e.widgets)for(var o=0;o<e.widgets.length;++o)if(e.widgets[o].above){var r=He(e.widgets[o]);i.top+=r,i.bottom+=r}if("line"==n)return i;n||(n="local");var s=ct(e);if("local"==n?s+=Ze(t.display):s-=t.display.viewOffset,"page"==n||"window"==n){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:si());var g=a.left+("window"==n?0:ri());i.left+=g,i.right+=g}return i.top+=s,i.bottom+=s,i}function gi(t,e,i){if("div"==i)return e;var n=e.left,l=e.top;if("page"==i)n-=ri(),l-=si();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();n+=o.left,l+=o.top}var r=t.display.lineSpace.getBoundingClientRect();return{left:n-r.left,top:l-r.top}}function Ci(t,e,i,n,l){return n||(n=E(t.doc,e.line)),ai(t,n,je(t,n,e.ch,l),i)}function hi(t,e,i,n,l,o){function r(e,r){var s=qe(t,l,e,r?"right":"left",o);return r?s.left=s.right:s.right=s.left,ai(t,n,s,i)}function s(t,e){var i=a[e],n=i.level%2;return t==mt(i)&&e&&i.level<a[e-1].level?(t=xt(i=a[--e])-(i.level%2?0:1),n=!0):t==xt(i)&&e<a.length-1&&i.level<a[e+1].level&&(t=mt(i=a[++e])-i.level%2,n=!1),n&&t==i.to&&t>i.from?r(t-1):r(t,n)}n=n||E(t.doc,e.line),l||(l=Qe(t,n));var a=Tt(n),g=e.ch;if(!a)return r(g);var C=s(g,bt(a,g));return null!=Pr&&(C.other=s(g,Pr)),C}function Ai(t,e){var i=0;e=V(t.doc,e),t.options.lineWrapping||(i=pi(t.display)*e.ch);var n=E(t.doc,e.line),l=ct(n)+Ze(t.display);return{left:i,right:i,top:l,bottom:l+n.height}}function Ii(t,e,i,n){var l=N(t,e);return l.xRel=n,i&&(l.outside=!0),l}function ci(t,e,i){var n=t.doc;if((i+=t.display.viewOffset)<0)return Ii(n.first,0,!0,-1);var l=L(n,i),o=n.first+n.size-1;if(l>o)return Ii(n.first+n.size-1,E(n,o).text.length,!0,1);e<0&&(e=0);for(var r=E(n,l);;){var s=di(t,r,l,e,i),a=rt(r),g=a&&a.find(0,!0);if(!a||!(s.ch>g.from.ch||s.ch==g.from.ch&&s.xRel>0))return s;l=R(r=g.to.line)}}function di(t,e,i,n,l){function o(n){var l=hi(t,N(i,n),"line",e,g);return s=!0,r>l.bottom?l.left-a:r<l.top?l.left+a:(s=!1,l.left)}var r=l-ct(e),s=!1,a=2*t.display.wrapper.clientWidth,g=Qe(t,e),C=Tt(e),h=e.text.length,A=vt(e),I=yt(e),c=o(A),d=s,u=o(I),p=s;if(n>u)return Ii(i,I,p,1);for(;;){if(C?I==A||I==Et(e,A,1):I-A<=1){var m=n<c||n-c<=u-n?A:I,x=m==A?d:p,v=n-(m==A?c:u);if(p&&!C&&!/\s/.test(e.text.charAt(m))&&v>0&&m<e.text.length&&g.view.measure.heights.length>1){var y=qe(t,g,m,"right");r<=y.bottom&&r>=y.top&&Math.abs(n-y.right)<v&&(x=!1,m++,v=n-y.right)}for(;b(e.text.charAt(m));)++m;return Ii(i,m,x,v<-1?-1:v>1?1:0)}var f=Math.ceil(h/2),w=A+f;if(C){w=A;for(var E=0;E<f;++E)w=Et(e,w,1)}var S=o(w);S>n?(I=w,u=S,(p=s)&&(u+=1e3),h=f):(A=w,c=S,d=s,h-=f)}}function ui(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Br){Br=n("pre");for(var l=0;l<49;++l)Br.appendChild(document.createTextNode("x")),Br.appendChild(n("br"));Br.appendChild(document.createTextNode("x"))}i(t.measure,Br);var o=Br.offsetHeight/50;return o>3&&(t.cachedTextHeight=o),e(t.measure),o||1}function pi(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=n("span","xxxxxxxxxx"),l=n("pre",[e]);i(t.measure,l);var o=e.getBoundingClientRect(),r=(o.right-o.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function mi(t){for(var e=t.display,i={},n={},l=e.gutters.clientLeft,o=e.gutters.firstChild,r=0;o;o=o.nextSibling,++r)i[t.options.gutters[r]]=o.offsetLeft+o.clientLeft+l,n[t.options.gutters[r]]=o.clientWidth;return{fixedPos:xi(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function xi(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function vi(t){var e=ui(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/pi(t.display)-3);return function(l){if(At(t.doc,l))return 0;var o=0;if(l.widgets)for(var r=0;r<l.widgets.length;r++)l.widgets[r].height&&(o+=l.widgets[r].height);return i?o+(Math.ceil(l.text.length/n)||1)*e:o+e}}function yi(t){var e=t.doc,i=vi(t);e.iter(function(t){var e=i(t);e!=t.height&&G(t,e)})}function fi(t,e,i,n){var l=t.display;if(!i&&"true"==Vt(e).getAttribute("cm-not-content"))return null;var o,r,s=l.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,r=e.clientY-s.top}catch(e){return null}var a,g=ci(t,o,r);if(n&&1==g.xRel&&(a=E(t.doc,g.line).text).length==g.ch){var h=C(a,a.length,t.options.tabSize)-a.length;g=N(g.line,Math.max(0,Math.round((o-Fe(t.display).left)/pi(t.display))-h))}return g}function bi(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var i=t.display.view,n=0;n<i.length;n++)if((e-=i[n].size)<0)return n}function wi(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ei(t,e){for(var i=t.doc,n={},l=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),r=0;r<i.sel.ranges.length;r++)if(!1!==e||r!=i.sel.primIndex){var s=i.sel.ranges[r];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var a=s.empty();(a||t.options.showCursorWhenSelecting)&&Si(t,s.head,l),a||Ti(t,s,o)}}return n}function Si(t,e,i){var l=hi(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=i.appendChild(n("div","Â ","CodeMirror-cursor"));if(o.style.left=l.left+"px",o.style.top=l.top+"px",o.style.height=Math.max(0,l.bottom-l.top)*t.options.cursorHeight+"px",l.other){var r=i.appendChild(n("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=l.other.left+"px",r.style.top=l.other.top+"px",r.style.height=.85*(l.other.bottom-l.other.top)+"px"}}function Ti(t,e,i){function l(t,e,i,l){e<0&&(e=0),e=Math.round(e),l=Math.round(l),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==i?h-t:i)+"px;\n                             height: "+(l-e)+"px"))}function o(e,i,n){function o(i,n){return Ci(t,N(e,i),"div",g,n)}var r,a,g=E(s,e),A=g.text.length;return pt(Tt(g),i||0,null==n?A:n,function(t,e,s){var g,I,c,d=o(t,"left");if(t==e)g=d,I=c=d.left;else{if(g=o(e-1,"right"),"rtl"==s){var u=d;d=g,g=u}I=d.left,c=g.right}null==i&&0==t&&(I=C),g.top-d.top>3&&(l(I,d.top,null,d.bottom),I=C,d.bottom<g.top&&l(I,d.bottom,null,g.top)),null==n&&e==A&&(c=h),(!r||d.top<r.top||d.top==r.top&&d.left<r.left)&&(r=d),(!a||g.bottom>a.bottom||g.bottom==a.bottom&&g.right>a.right)&&(a=g),I<C+1&&(I=C),l(I,g.top,c-I,g.bottom)}),{start:r,end:a}}var r=t.display,s=t.doc,a=document.createDocumentFragment(),g=Fe(t.display),C=g.left,h=Math.max(r.sizerWidth,Be(t)-r.sizer.offsetLeft)-g.right,A=e.from(),I=e.to();if(A.line==I.line)o(A.line,A.ch,I.ch);else{var c=E(s,A.line),d=E(s,I.line),u=at(c)==at(d),p=o(A.line,A.ch,u?c.text.length+1:null).end,m=o(I.line,u?0:null,I.ch).start;u&&(p.top<m.top-2?(l(p.right,p.top,null,p.bottom),l(C,m.top,m.left,m.bottom)):l(p.right,p.top,m.left-p.right,p.bottom)),p.bottom<m.top&&l(C,p.bottom,null,m.top)}i.appendChild(a)}function Gi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ri(t){t.state.focused||(t.display.input.focus(),Pi(t))}function Li(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Mi(t))},100)}function Pi(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Lt(t,"focus",t,e),t.state.focused=!0,r(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),er&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Gi(t))}function Mi(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Lt(t,"blur",t,e),t.state.focused=!1,pr(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Ni(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=xi(e)-e.scroller.scrollLeft+t.doc.scrollLeft,l=e.gutters.offsetWidth,o=n+"px",r=0;r<i.length;r++)if(!i[r].hidden){t.options.fixedGutter&&(i[r].gutter&&(i[r].gutter.style.left=o),i[r].gutterBackground&&(i[r].gutterBackground.style.left=o));var s=i[r].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+l+"px")}}function Di(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=M(t.options,e.first+e.size-1),l=t.display;if(i.length!=l.lineNumChars){var o=l.measure.appendChild(n("div",[n("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,s=o.offsetWidth-r;return l.lineGutter.style.width="",l.lineNumInnerWidth=Math.max(r,l.lineGutter.offsetWidth-s)+1,l.lineNumWidth=l.lineNumInnerWidth+s,l.lineNumChars=l.lineNumInnerWidth?i.length:-1,l.lineGutter.style.width=l.lineNumWidth+"px",Sn(t),!0}return!1}function Oi(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var l=e.view[n],o=void 0;if(!l.hidden){if($o&&tr<8){var r=l.node.offsetTop+l.node.offsetHeight;o=r-i,i=r}else{var s=l.node.getBoundingClientRect();o=s.bottom-s.top}var a=l.line.height-o;if(o<2&&(o=ui(e)),(a>.001||a<-.001)&&(G(l.line,o),Ui(l.line),l.rest))for(var g=0;g<l.rest.length;g++)Ui(l.rest[g])}}}function Ui(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function ki(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-Ze(t));var l=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,o=L(e,n),r=L(e,l);if(i&&i.ensure){var s=i.ensure.from.line,a=i.ensure.to.line;s<o?(o=s,r=L(e,ct(E(e,s))+t.wrapper.clientHeight)):Math.min(a,e.lastLine())>=r&&(o=L(e,ct(E(e,a))-t.wrapper.clientHeight),r=a)}return{from:o,to:Math.max(r,o+1)}}function Hi(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Ko||wn(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),Ko&&wn(t),xn(t,100))}function Vi(t,e,i){(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,Ni(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Zi(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}}function Yi(t){var e=Zi(t);return e.x*=Qr,e.y*=Qr,e}function Fi(t,e){var i=Zi(e),n=i.x,l=i.y,o=t.display,r=o.scroller,s=r.scrollWidth>r.clientWidth,a=r.scrollHeight>r.clientHeight;if(n&&s||l&&a){if(l&&Cr&&er)t:for(var g=e.target,C=o.view;g!=r;g=g.parentNode)for(var h=0;h<C.length;h++)if(C[h].node==g){t.display.currentWheelTarget=g;break t}if(n&&!Ko&&!lr&&null!=Qr)return l&&a&&Hi(t,Math.max(0,Math.min(r.scrollTop+l*Qr,r.scrollHeight-r.clientHeight))),Vi(t,Math.max(0,Math.min(r.scrollLeft+n*Qr,r.scrollWidth-r.clientWidth))),(!l||l&&a)&&Ot(e),void(o.wheelStartX=null);if(l&&null!=Qr){var A=l*Qr,I=t.doc.scrollTop,c=I+o.wrapper.clientHeight;A<0?I=Math.max(0,I+A-50):c=Math.min(t.doc.height,c+A+50),wn(t,{top:I,bottom:c})}Kr<20&&(null==o.wheelStartX?(o.wheelStartX=r.scrollLeft,o.wheelStartY=r.scrollTop,o.wheelDX=n,o.wheelDY=l,setTimeout(function(){if(null!=o.wheelStartX){var t=r.scrollLeft-o.wheelStartX,e=r.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(Qr=(Qr*Kr+i)/(Kr+1),++Kr)}},200)):(o.wheelDX+=n,o.wheelDY+=l))}}function Xi(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+Ye(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Xe(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function Bi(t,e){e||(e=Xi(t));var i=t.display.barWidth,n=t.display.barHeight;Wi(t,e);for(var l=0;l<4&&i!=t.display.barWidth||n!=t.display.barHeight;l++)i!=t.display.barWidth&&t.options.lineWrapping&&Oi(t),Wi(t,Xi(t)),i=t.display.barWidth,n=t.display.barHeight}function Wi(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function zi(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&pr(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new ts[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Dr(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?Vi(t,e):Hi(t,e)},t),t.display.scrollbars.addClass&&r(t.display.wrapper,t.display.scrollbars.addClass)}function _i(t,e){if(!Pt(t,"scrollCursorIntoView")){var i=t.display,l=i.sizer.getBoundingClientRect(),o=null;if(e.top+l.top<0?o=!0:e.bottom+l.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!sr){var r=n("div","â€‹",null,"position: absolute;\n                         top: "+(e.top-i.viewOffset-Ze(t.display))+"px;\n                         height: "+(e.bottom-e.top+Xe(t)+i.barHeight)+"px;\n                         left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(r),r.scrollIntoView(o),t.display.lineSpace.removeChild(r)}}}function Ji(t,e,i,n){null==n&&(n=0);for(var l,o=0;o<5;o++){var r=!1;l=hi(t,e);var s=i&&i!=e?hi(t,i):l,a=Ki(t,Math.min(l.left,s.left),Math.min(l.top,s.top)-n,Math.max(l.left,s.left),Math.max(l.bottom,s.bottom)+n),g=t.doc.scrollTop,C=t.doc.scrollLeft;if(null!=a.scrollTop&&(Hi(t,a.scrollTop),Math.abs(t.doc.scrollTop-g)>1&&(r=!0)),null!=a.scrollLeft&&(Vi(t,a.scrollLeft),Math.abs(t.doc.scrollLeft-C)>1&&(r=!0)),!r)break}return l}function ji(t,e,i,n,l){var o=Ki(t,e,i,n,l);null!=o.scrollTop&&Hi(t,o.scrollTop),null!=o.scrollLeft&&Vi(t,o.scrollLeft)}function Ki(t,e,i,n,l){var o=t.display,r=ui(t.display);i<0&&(i=0);var s=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,a=We(t),g={};l-i>a&&(l=i+a);var C=t.doc.height+Ye(o),h=i<r,A=l>C-r;if(i<s)g.scrollTop=h?0:i;else if(l>s+a){var I=Math.min(i,(A?C:l)-a);I!=s&&(g.scrollTop=I)}var c=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,d=Be(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),u=n-e>d;return u&&(n=e+d),e<10?g.scrollLeft=0:e<c?g.scrollLeft=Math.max(0,e-(u?0:10)):n>d+c-3&&(g.scrollLeft=n+(u?0:10)-d),g}function Qi(t,e,i){null==e&&null==i||$i(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=i&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}function qi(t){$i(t);var e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?N(e.line,e.ch-1):e,n=N(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin,isCursor:!0}}function $i(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=Ai(t,e.from),n=Ai(t,e.to),l=Ki(t,Math.min(i.left,n.left),Math.min(i.top,n.top)-e.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+e.margin);t.scrollTo(l.scrollLeft,l.scrollTop)}}function tn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++es},ye(t.curOp)}function en(t){be(t.curOp,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;nn(t)})}function nn(t){for(var e=t.ops,i=0;i<e.length;i++)ln(e[i]);for(var n=0;n<e.length;n++)on(e[n]);for(var l=0;l<e.length;l++)rn(e[l]);for(var o=0;o<e.length;o++)sn(e[o]);for(var r=0;r<e.length;r++)an(e[r])}function ln(t){var e=t.cm,i=e.display;yn(e),t.updateMaxLine&&ut(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new is(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function on(t){t.updatedDisplay=t.mustUpdate&&fn(t.cm,t.update)}function rn(t){var e=t.cm,i=e.display;t.updatedDisplay&&Oi(e),t.barMeasure=Xi(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=je(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Xe(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Be(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function sn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Vi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==o()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Bi(e,t.barMeasure),t.updatedDisplay&&Tn(e,t.barMeasure),t.selectionChanged&&Gi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Ri(t.cm)}function an(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&bn(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==t.scrollTop||i.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,Ni(e)),t.scrollToPos){var l=Ji(e,V(n,t.scrollToPos.from),V(n,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&_i(e,l)}var o=t.maybeHiddenMarkers,r=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Lt(o[s],"hide");if(r)for(var a=0;a<r.length;++a)r[a].lines.length&&Lt(r[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Lt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function gn(t,e){if(t.curOp)return e();tn(t);try{return e()}finally{en(t)}}function Cn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);tn(t);try{return e.apply(t,arguments)}finally{en(t)}}}function hn(t){return function(){if(this.curOp)return t.apply(this,arguments);tn(this);try{return t.apply(this,arguments)}finally{en(this)}}}function An(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);tn(e);try{return t.apply(this,arguments)}finally{en(e)}}}function In(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var l=t.display;if(n&&i<l.viewTo&&(null==l.updateLineNumbers||l.updateLineNumbers>e)&&(l.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=l.viewTo)Lr&&Ct(t.doc,e)<l.viewTo&&dn(t);else if(i<=l.viewFrom)Lr&&ht(t.doc,i+n)>l.viewFrom?dn(t):(l.viewFrom+=n,l.viewTo+=n);else if(e<=l.viewFrom&&i>=l.viewTo)dn(t);else if(e<=l.viewFrom){var o=un(t,i,i+n,1);o?(l.view=l.view.slice(o.index),l.viewFrom=o.lineN,l.viewTo+=n):dn(t)}else if(i>=l.viewTo){var r=un(t,e,e,-1);r?(l.view=l.view.slice(0,r.index),l.viewTo=r.lineN):dn(t)}else{var s=un(t,e,e,-1),a=un(t,i,i+n,1);s&&a?(l.view=l.view.slice(0,s.index).concat(ve(t,s.lineN,a.lineN)).concat(l.view.slice(a.index)),l.viewTo+=n):dn(t)}var g=l.externalMeasured;g&&(i<g.lineN?g.lineN+=n:e<g.lineN+g.size&&(l.externalMeasured=null))}function cn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,l=t.display.externalMeasured;if(l&&e>=l.lineN&&e<l.lineN+l.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[bi(t,e)];if(null!=o.node){var r=o.changes||(o.changes=[]);-1==A(r,i)&&r.push(i)}}}function dn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function un(t,e,i,n){var l,o=bi(t,e),r=t.display.view;if(!Lr||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var s=t.display.viewFrom,a=0;a<o;a++)s+=r[a].size;if(s!=e){if(n>0){if(o==r.length-1)return null;l=s+r[o].size-e,o++}else l=s-e;e+=l,i+=l}for(;Ct(t.doc,i)!=i;){if(o==(n<0?0:r.length-1))return null;i+=n*r[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function pn(t,e,i){var n=t.display;0==n.view.length||e>=n.viewTo||i<=n.viewFrom?(n.view=ve(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=ve(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(bi(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(ve(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,bi(t,i)))),n.viewTo=i}function mn(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var l=e[n];l.hidden||l.node&&!l.changes||++i}return i}function xn(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,a(vn,t))}function vn(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=jt(e.mode,te(t,e.frontier)),l=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var r=o.styles,s=o.text.length>t.options.maxHighlightLength,a=qt(t,o,s?jt(e.mode,n):n,!0);o.styles=a.styles;var g=o.styleClasses,C=a.classes;C?o.styleClasses=C:g&&(o.styleClasses=null);for(var h=!r||r.length!=o.styles.length||g!=C&&(!g||!C||g.bgClass!=C.bgClass||g.textClass!=C.textClass),A=0;!h&&A<r.length;++A)h=r[A]!=o.styles[A];h&&l.push(e.frontier),o.stateAfter=s?n:jt(e.mode,n)}else o.text.length<=t.options.maxHighlightLength&&ee(t,o.text,n),o.stateAfter=e.frontier%5==0?jt(e.mode,n):null;if(++e.frontier,+new Date>i)return xn(t,t.options.workDelay),!0}),l.length&&gn(t,function(){for(var e=0;e<l.length;e++)cn(t,l[e],"text")})}}function yn(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Xe(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Xe(t)+"px",e.scrollbarsClipped=!0)}function fn(t,i){var n=t.display,l=t.doc;if(i.editorIsHidden)return dn(t),!1;if(!i.force&&i.visible.from>=n.viewFrom&&i.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==mn(t))return!1;Di(t)&&(dn(t),i.dims=mi(t));var r=l.first+l.size,s=Math.max(i.visible.from-t.options.viewportMargin,l.first),a=Math.min(r,i.visible.to+t.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(l.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),Lr&&(s=Ct(t.doc,s),a=ht(t.doc,a));var g=s!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=i.wrapperHeight||n.lastWrapWidth!=i.wrapperWidth;pn(t,s,a),n.viewOffset=ct(E(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var C=mn(t);if(!g&&0==C&&!i.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var h=o();return C>4&&(n.lineDiv.style.display="none"),En(t,n.updateLineNumbers,i.dims),C>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,h&&o()!=h&&h.offsetHeight&&h.focus(),e(n.cursorDiv),e(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,g&&(n.lastWrapHeight=i.wrapperHeight,n.lastWrapWidth=i.wrapperWidth,xn(t,400)),n.updateLineNumbers=null,!0}function bn(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Be(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Ye(t.display)-We(t),i.top)}),e.visible=ki(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&fn(t,e);n=!1){Oi(t);var l=Xi(t);wi(t),Bi(t,l),Tn(t,l)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function wn(t,e){var i=new is(t,e);if(fn(t,i)){Oi(t),bn(t,i);var n=Xi(t);wi(t),Bi(t,n),Tn(t,n),i.finish()}}function En(t,i,n){function l(e){var i=e.nextSibling;return er&&Cr&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var o=t.display,s=t.options.lineNumbers,a=o.lineDiv,g=a.firstChild,C=o.view,h=o.viewFrom,I=t.doc.mode.validator(t),c=0;c<C.length;c++){var d=C[c];if(d.hidden);else if(d.node&&d.node.parentNode==a){for(;g!=d.node;)g=l(g);var u=s&&null!=i&&i<=h&&d.lineNumber;d.changes&&(A(d.changes,"gutter")>-1&&(u=!1),Se(t,d,h,n)),u&&(e(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(M(t.options,h)))),g=d.node.nextSibling}else{var p=De(t,d,h,n);a.insertBefore(p,g)}h+=d.size,d.text&&(I&&I.lineNo&&I.lineNo==c+1?(r(d.text,"cm-error"),d.text.setAttribute("title",I.message)):(pr(d.text,"cm-error"),d.text.removeAttribute("title")))}for(;g;)g=l(g)}function Sn(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function Tn(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Xe(t)+"px"}function Gn(t){var i=t.display.gutters,l=t.options.gutters;e(i);for(var o=0;o<l.length;++o){var r=l[o],s=i.appendChild(n("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=s,s.style.width=(t.display.lineNumWidth||1)+"px")}i.style.display=o?"":"none",Sn(t)}function Rn(t){var e=A(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function Ln(t,e){this.ranges=t,this.primIndex=e}function Pn(t,e){this.anchor=t,this.head=e}function Mn(t,e){var i=t[e];t.sort(function(t,e){return D(t.from(),e.from())}),e=A(t,i);for(var n=1;n<t.length;n++){var l=t[n],o=t[n-1];if(D(o.to(),l.from())>=0){var r=k(o.from(),l.from()),s=U(o.to(),l.to()),a=o.empty()?l.from()==l.head:o.from()==o.head;n<=e&&--e,t.splice(--n,2,new Pn(a?s:r,a?r:s))}}return new Ln(t,e)}function Nn(t,e){return new Ln([new Pn(t,e||t)],0)}function Dn(t){return t.text?N(t.from.line+t.text.length-1,d(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function On(t,e){if(D(t,e.from)<0)return t;if(D(t,e.to)<=0)return Dn(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=Dn(e).ch-e.to.ch),N(i,n)}function Un(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var l=t.sel.ranges[n];i.push(new Pn(On(l.anchor,e),On(l.head,e)))}return Mn(i,t.sel.primIndex)}function kn(t,e,i){return t.line==e.line?N(i.line,t.ch-e.ch+i.ch):N(i.line+(t.line-e.line),t.ch)}function Hn(t,e,i){for(var n=[],l=N(t.first,0),o=l,r=0;r<e.length;r++){var s=e[r],a=kn(s.from,l,o),g=kn(Dn(s),l,o);if(l=s.to,o=g,"around"==i){var C=t.sel.ranges[r],h=D(C.head,C.anchor)<0;n[r]=new Pn(h?g:a,h?a:g)}else n[r]=new Pn(a,a)}return new Ln(n,t.sel.primIndex)}function Vn(t){t.doc.mode=_t(t.options,t.doc.modeOption),Zn(t)}function Zn(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,xn(t,100),t.state.modeGen++,t.curOp&&In(t)}function Yn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==d(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Fn(t,e,i,n){function l(t){return i?i[t]:null}function o(t,i,l){ge(t,i,l,n),we(t,"change",t,e)}function r(t,e){for(var i=[],o=t;o<e;++o)i.push(new ae(g[o],l(o),n));return i}var s=e.from,a=e.to,g=e.text,C=E(t,s.line),h=E(t,a.line),A=d(g),I=l(g.length-1),c=a.line-s.line;if(e.full)t.insert(0,r(0,g.length)),t.remove(g.length,t.size-g.length);else if(Yn(t,e)){var u=r(0,g.length-1);o(h,h.text,I),c&&t.remove(s.line,c),u.length&&t.insert(s.line,u)}else if(C==h)if(1==g.length)o(C,C.text.slice(0,s.ch)+A+C.text.slice(a.ch),I);else{var p=r(1,g.length-1);p.push(new ae(A+C.text.slice(a.ch),I,n)),o(C,C.text.slice(0,s.ch)+g[0],l(0)),t.insert(s.line+1,p)}else if(1==g.length)o(C,C.text.slice(0,s.ch)+g[0]+h.text.slice(a.ch),l(0)),t.remove(s.line+1,c);else{o(C,C.text.slice(0,s.ch)+g[0],l(0)),o(h,A+h.text.slice(a.ch),I);var m=r(1,g.length-1);c>1&&t.remove(s.line+1,c-1),t.insert(s.line+1,m)}we(t,"change",t,e)}function Xn(t,e,i){function n(t,l,o){if(t.linked)for(var r=0;r<t.linked.length;++r){var s=t.linked[r];if(s.doc!=l){var a=o&&s.sharedHist;i&&!a||(e(s.doc,a),n(s.doc,t,a))}}}n(t,null,!0)}function Bn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,yi(t),Vn(t),t.options.lineWrapping||ut(t),t.options.mode=e.modeOption,In(t)}function Wn(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function zn(t,e){var i={from:O(e.from),to:Dn(e),text:S(t,e.from,e.to)};return $n(t,i,e.from.line,e.to.line+1),Xn(t,function(t){return $n(t,i,e.from.line,e.to.line+1)},!0),i}function _n(t){for(;t.length&&d(t).ranges;)t.pop()}function Jn(t,e){return e?(_n(t.done),d(t.done)):t.done.length&&!d(t.done).ranges?d(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),d(t.done)):void 0}function jn(t,e,i,n){var l=t.history;l.undone.length=0;var o,r,s=+new Date;if((l.lastOp==n||l.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&l.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=Jn(l,l.lastOp==n)))r=d(o.changes),0==D(e.from,e.to)&&0==D(e.from,r.to)?r.to=Dn(e):o.changes.push(zn(t,e));else{var a=d(l.done);for(a&&a.ranges||qn(t.sel,l.done),o={changes:[zn(t,e)],generation:l.generation},l.done.push(o);l.done.length>l.undoDepth;)l.done.shift(),l.done[0].ranges||l.done.shift()}l.done.push(i),l.generation=++l.maxGeneration,l.lastModTime=l.lastSelTime=s,l.lastOp=l.lastSelOp=n,l.lastOrigin=l.lastSelOrigin=e.origin,r||Lt(t,"historyAdded")}function Kn(t,e,i,n){var l=e.charAt(0);return"*"==l||"+"==l&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Qn(t,e,i,n){var l=t.history,o=n&&n.origin;i==l.lastSelOp||o&&l.lastSelOrigin==o&&(l.lastModTime==l.lastSelTime&&l.lastOrigin==o||Kn(t,o,d(l.done),e))?l.done[l.done.length-1]=e:qn(e,l.done),l.lastSelTime=+new Date,l.lastSelOrigin=o,l.lastSelOp=i,n&&!1!==n.clearRedo&&_n(l.undone)}function qn(t,e){var i=d(e);i&&i.ranges&&i.equals(t)||e.push(t)}function $n(t,e,i,n){var l=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(i){i.markedSpans&&((l||(l=e["spans_"+t.id]={}))[o]=i.markedSpans),++o})}function tl(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function el(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],l=0;l<e.text.length;++l)n.push(tl(i[l]));return n}function il(t,e){var i=el(t,e),n=K(t,e);if(!i)return n;if(!n)return i;for(var l=0;l<i.length;++l){var o=i[l],r=n[l];if(o&&r)t:for(var s=0;s<r.length;++s){for(var a=r[s],g=0;g<o.length;++g)if(o[g].marker==a.marker)continue t;o.push(a)}else r&&(i[l]=r)}return i}function nl(t,e,i){for(var n=[],l=0;l<t.length;++l){var o=t[l];if(o.ranges)n.push(i?Ln.prototype.deepCopy.call(o):o);else{var r=o.changes,s=[];n.push({changes:s});for(var a=0;a<r.length;++a){var g=r[a],C=void 0;if(s.push({from:g.from,to:g.to,text:g.text}),e)for(var h in g)(C=h.match(/^spans_(\d+)$/))&&A(e,Number(C[1]))>-1&&(d(s)[h]=g[h],delete g[h])}}}return n}function ll(t,e,i,n){if(t.cm&&t.cm.display.shift||t.extend){var l=e.anchor;if(n){var o=D(i,l)<0;o!=D(n,l)<0?(l=i,i=n):o!=D(i,n)<0&&(i=n)}return new Pn(l,i)}return new Pn(n||i,i)}function ol(t,e,i,n){hl(t,new Ln([ll(t,t.sel.primary(),e,i)],0),n)}function rl(t,e,i){for(var n=[],l=0;l<t.sel.ranges.length;l++)n[l]=ll(t,t.sel.ranges[l],e[l],null);hl(t,Mn(n,t.sel.primIndex),i)}function sl(t,e,i,n){var l=t.sel.ranges.slice(0);l[e]=i,hl(t,Mn(l,t.sel.primIndex),n)}function al(t,e,i,n){hl(t,Nn(e,i),n)}function gl(t,e,i){var n={ranges:e.ranges,update:function(e){var i=this;this.ranges=[];for(var n=0;n<e.length;n++)i.ranges[n]=new Pn(V(t,e[n].anchor),V(t,e[n].head))},origin:i&&i.origin};return Lt(t,"beforeSelectionChange",t,n),t.cm&&Lt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Mn(n.ranges,n.ranges.length-1):e}function Cl(t,e,i){var n=t.history.done,l=d(n);l&&l.ranges?(n[n.length-1]=e,Al(t,e,i)):hl(t,e,i)}function hl(t,e,i){Al(t,e,i),Qn(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function Al(t,e,i){(Nt(t,"beforeSelectionChange")||t.cm&&Nt(t.cm,"beforeSelectionChange"))&&(e=gl(t,e,i)),Il(t,dl(t,e,i&&i.bias||(D(e.primary().head,t.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!t.cm||qi(t.cm)}function Il(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Mt(t.cm)),we(t,"cursorActivity",t))}function cl(t){Il(t,dl(t,t.sel,null,!1),br)}function dl(t,e,i,n){for(var l,o=0;o<e.ranges.length;o++){var r=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],a=pl(t,r.anchor,s&&s.anchor,i,n),g=pl(t,r.head,s&&s.head,i,n);(l||a!=r.anchor||g!=r.head)&&(l||(l=e.ranges.slice(0,o)),l[o]=new Pn(a,g))}return l?Mn(l,e.primIndex):e}function ul(t,e,i,n,l){var o=E(t,e.line);if(o.markedSpans)for(var r=0;r<o.markedSpans.length;++r){var s=o.markedSpans[r],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(a.inclusiveRight?s.to>=e.ch:s.to>e.ch))){if(l&&(Lt(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--r;continue}break}if(!a.atomic)continue;if(i){var g=a.find(n<0?1:-1),C=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(g=ml(t,g,-n,g&&g.line==e.line?o:null)),g&&g.line==e.line&&(C=D(g,i))&&(n<0?C<0:C>0))return ul(t,g,e,n,l)}var h=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(h=ml(t,h,n,h.line==e.line?o:null)),h?ul(t,h,e,n,l):null}}return e}function pl(t,e,i,n,l){var o=n||1,r=ul(t,e,i,o,l)||!l&&ul(t,e,i,o,!0)||ul(t,e,i,-o,l)||!l&&ul(t,e,i,-o,!0);return r||(t.cantEdit=!0,N(t.first,0))}function ml(t,e,i,n){return i<0&&0==e.ch?e.line>t.first?V(t,N(e.line-1)):null:i>0&&e.ch==(n||E(t,e.line)).text.length?e.line<t.first+t.size-1?N(e.line+1,0):null:new N(e.line,e.ch+i)}function xl(t){t.setSelection(N(t.firstLine(),0),N(t.lastLine()),br)}function vl(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(e,i,l,o){e&&(n.from=V(t,e)),i&&(n.to=V(t,i)),l&&(n.text=l),void 0!==o&&(n.origin=o)}),Lt(t,"beforeChange",t,n),t.cm&&Lt(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function yl(t,e,i){if(t.cm){if(!t.cm.curOp)return Cn(t.cm,yl)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(Nt(t,"beforeChange")||t.cm&&Nt(t.cm,"beforeChange"))||(e=vl(t,e,!0))){var n=Rr&&!i&&q(t,e.from,e.to);if(n)for(var l=n.length-1;l>=0;--l)fl(t,{from:n[l].from,to:n[l].to,text:l?[""]:e.text});else fl(t,e)}}function fl(t,e){if(1!=e.text.length||""!=e.text[0]||0!=D(e.from,e.to)){var i=Un(t,e);jn(t,e,i,t.cm?t.cm.curOp.id:NaN),El(t,e,i,K(t,e));var n=[];Xn(t,function(t,i){i||-1!=A(n,t.history)||(Ll(t.history,e),n.push(t.history)),El(t,e,null,K(t,e))})}}function bl(t,e,i){if(!t.cm||!t.cm.state.suppressEdits||i){for(var n,l=t.history,o=t.sel,r="undo"==e?l.done:l.undone,s="undo"==e?l.undone:l.done,a=0;a<r.length&&(n=r[a],i?!n.ranges||n.equals(t.sel):n.ranges);a++);if(a!=r.length){for(l.lastOrigin=l.lastSelOrigin=null;(n=r.pop()).ranges;){if(qn(n,s),i&&!n.equals(t.sel))return void hl(t,n,{clearRedo:!1});o=n}var g=[];qn(o,s),s.push({changes:g,generation:l.generation}),l.generation=n.generation||++l.maxGeneration;for(var C=Nt(t,"beforeChange")||t.cm&&Nt(t.cm,"beforeChange"),h=n.changes.length-1;h>=0;--h){var I=function(i){var l=n.changes[i];if(l.origin=e,C&&!vl(t,l,!1))return r.length=0,{};g.push(zn(t,l));var o=i?Un(t,l):d(r);El(t,l,o,il(t,l)),!i&&t.cm&&t.cm.scrollIntoView({from:l.from,to:Dn(l)});var s=[];Xn(t,function(t,e){e||-1!=A(s,t.history)||(Ll(t.history,l),s.push(t.history)),El(t,l,null,il(t,l))})}(h);if(I)return I.v}}}}function wl(t,e){if(0!=e&&(t.first+=e,t.sel=new Ln(u(t.sel.ranges,function(t){return new Pn(N(t.anchor.line+e,t.anchor.ch),N(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){In(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)cn(t.cm,n,"gutter")}}function El(t,e,i,n){if(t.cm&&!t.cm.curOp)return Cn(t.cm,El)(t,e,i,n);if(e.to.line<t.first)wl(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var l=e.text.length-1-(t.first-e.from.line);wl(t,l),e={from:N(t.first,0),to:N(e.to.line+l,e.to.ch),text:[d(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:N(o,E(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=S(t,e.from,e.to),i||(i=Un(t,e)),t.cm?Sl(t.cm,e,n):Fn(t,e,n),Al(t,i,br)}}function Sl(t,e,i){var n=t.doc,l=t.display,o=e.from,r=e.to,s=!1,a=o.line;t.options.lineWrapping||(a=R(at(E(n,o.line))),n.iter(a,r.line+1,function(t){if(t==l.maxLine)return s=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Mt(t),Fn(n,e,i,vi(t)),t.options.lineWrapping||(n.iter(a,o.line+e.text.length,function(t){var e=dt(t);e>l.maxLineLength&&(l.maxLine=t,l.maxLineLength=e,l.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),xn(t,400);var g=e.text.length-(r.line-o.line)-1;e.full?In(t):o.line!=r.line||1!=e.text.length||Yn(t.doc,e)?In(t,o.line,r.line+1,g):cn(t,o.line,"text");var C=Nt(t,"changes"),h=Nt(t,"change");if(h||C){var A={from:o,to:r,text:e.text,removed:e.removed,origin:e.origin};h&&we(t,"change",t,A),C&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(A)}t.display.selForContextMenu=null}function Tl(t,e,i,n,l){if(n||(n=i),D(n,i)<0){var o=n;n=i,i=o}"string"==typeof e&&(e=t.splitLines(e)),yl(t,{from:i,to:n,text:e,origin:l})}function Gl(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Rl(t,e,i,n){for(var l=0;l<t.length;++l){var o=t[l],r=!0;if(o.ranges){o.copied||((o=t[l]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Gl(o.ranges[s].anchor,e,i,n),Gl(o.ranges[s].head,e,i,n)}else{for(var a=0;a<o.changes.length;++a){var g=o.changes[a];if(i<g.from.line)g.from=N(g.from.line+n,g.from.ch),g.to=N(g.to.line+n,g.to.ch);else if(e<=g.to.line){r=!1;break}}r||(t.splice(0,l+1),l=0)}}}function Ll(t,e){var i=e.from.line,n=e.to.line,l=e.text.length-(n-i)-1;Rl(t.done,i,n,l),Rl(t.undone,i,n,l)}function Pl(t,e,i,n){var l=e,o=e;return"number"==typeof e?o=E(t,H(t,e)):l=R(e),null==l?null:(n(o,l)&&t.cm&&cn(t.cm,l,i),o)}function Ml(t){var e=this;this.lines=t,this.parent=null;for(var i=0,n=0;n<t.length;++n)t[n].parent=e,i+=t[n].height;this.height=i}function Nl(t){var e=this;this.children=t;for(var i=0,n=0,l=0;l<t.length;++l){var o=t[l];i+=o.chunkSize(),n+=o.height,o.parent=e}this.size=i,this.height=n,this.parent=null}function Dl(t,e,i){var n=this;if(i)for(var l in i)i.hasOwnProperty(l)&&(n[l]=i[l]);this.doc=t,this.node=e}function Ol(t,e,i){ct(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Qi(t,null,i)}function Ul(t,e,i,n){var l=new Dl(t,i,n),o=t.cm;return o&&l.noHScroll&&(o.display.alignWidgets=!0),Pl(t,e,"widget",function(e){var i=e.widgets||(e.widgets=[]);if(null==l.insertAt?i.push(l):i.splice(Math.min(i.length-1,Math.max(0,l.insertAt)),0,l),l.line=e,o&&!At(t,e)){var n=ct(e)<t.scrollTop;G(e,e.height+He(l)),n&&Qi(o,null,l.height),o.curOp.forceUpdate=!0}return!0}),l}function kl(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ns}function Hl(t,e,i,l,o){if(l&&l.shared)return Zl(t,e,i,l,o);if(t.cm&&!t.cm.curOp)return Cn(t.cm,Hl)(t,e,i,l,o);var r=new kl(t,o),s=D(e,i);if(l&&g(l,r,!1),s>0||0==s&&!1!==r.clearWhenEmpty)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=n("span",[r.replacedWith],"CodeMirror-widget"),r.widgetNode.setAttribute("role","presentation"),l.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),l.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(st(t,e.line,e,i,r)||e.line!=i.line&&st(t,i.line,e,i,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");X()}r.addToHistory&&jn(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var a,C=e.line,h=t.cm;if(t.iter(C,i.line+1,function(t){h&&r.collapsed&&!h.options.lineWrapping&&at(t)==h.display.maxLine&&(a=!0),r.collapsed&&C!=e.line&&G(t,0),_(t,new B(r,C==e.line?e.ch:null,C==i.line?i.ch:null)),++C}),r.collapsed&&t.iter(e.line,i.line+1,function(e){At(t,e)&&G(e,0)}),r.clearOnEnter&&Dr(r,"beforeCursorEnter",function(){return r.clear()}),r.readOnly&&(F(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),r.collapsed&&(r.id=++ns,r.atomic=!0),h){if(a&&(h.curOp.updateMaxLine=!0),r.collapsed)In(h,e.line,i.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var A=e.line;A<=i.line;A++)cn(h,A,"text");r.atomic&&cl(h.doc),we(h,"markerAdded",h,r)}return r}function Vl(t,e){var i=this;this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=i}function Zl(t,e,i,n,l){(n=g(n)).shared=!1;var o=[Hl(t,e,i,n,l)],r=o[0],s=n.widgetNode;return Xn(t,function(t){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Hl(t,V(t,e),V(t,i),n,l));for(var a=0;a<t.linked.length;++a)if(t.linked[a].isParent)return;r=d(o)}),new Vl(o,r)}function Yl(t){return t.findMarks(N(t.first,0),t.clipPos(N(t.lastLine())),function(t){return t.parent})}function Fl(t,e){for(var i=0;i<e.length;i++){var n=e[i],l=n.find(),o=t.clipPos(l.from),r=t.clipPos(l.to);if(D(o,r)){var s=Hl(t,o,r,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Xl(t){for(var e=0;e<t.length;e++)!function(e){var i=t[e],n=[i.primary.doc];Xn(i.primary.doc,function(t){return n.push(t)});for(var l=0;l<i.markers.length;l++){var o=i.markers[l];-1==A(n,o.doc)&&(o.parent=null,i.markers.splice(l--,1))}}(e)}function Bl(t){var e=this;if(_l(e),!Pt(e,t)&&!Ve(e.display,t)){Ot(t),$o&&(rs=+new Date);var i=fi(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var l=n.length,o=Array(l),r=0,s=0;s<l;++s)!function(t,n){if(!e.options.allowDropFileTypes||-1!=A(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=Cn(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++r==l){var a={from:i=V(e.doc,i),to:i,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};yl(e.doc,a),Cl(e.doc,Nn(i,Dn(a)))}}),s.readAsText(t)}}(n[s],s);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var a=t.dataTransfer.getData("Text");if(a){var g;if(e.state.draggingText&&!e.state.draggingText.copy&&(g=e.listSelections()),Al(e.doc,Nn(i,i)),g)for(var C=0;C<g.length;++C)Tl(e.doc,"",g[C].anchor,g[C].head,"drag");e.replaceSelection(a,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Wl(t,e){if($o&&(!t.state.draggingText||+new Date-rs<100))Ht(e);else if(!Pt(t,e)&&!Ve(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!or)){var i=n("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",lr&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),lr&&i.parentNode.removeChild(i)}}function zl(t,e){var l=fi(t,e);if(l){var o=document.createDocumentFragment();Si(t,l,o),t.display.dragCursor||(t.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),i(t.display.dragCursor,o)}}function _l(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Jl(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function jl(){ss||(Kl(),ss=!0)}function Kl(){var t;Dr(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Jl(Ql)},100))}),Dr(window,"blur",function(){return Jl(Mi)})}function Ql(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function ql(t){var e=t.split(/-(?!$)/);t=e[e.length-1];for(var i,n,l,o,r=0;r<e.length-1;r++){var s=e[r];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))i=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);l=!0}}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),l&&(t="Shift-"+t),t}function $l(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var l=u(i.split(" "),ql),o=0;o<l.length;o++){var r=void 0,s=void 0;o==l.length-1?(s=l.join(" "),r=n):(s=l.slice(0,o+1).join(" "),r="...");var a=e[s];if(a){if(a!=r)throw new Error("Inconsistent bindings for "+s)}else e[s]=r}delete t[i]}for(var g in e)t[g]=e[g];return t}function to(t,e,i,n){var l=(e=no(e)).call?e.call(t,n):e[t];if(!1===l)return"nothing";if("..."===l)return"multi";if(null!=l&&i(l))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return to(t,e.fallthrough,i,n);for(var o=0;o<e.fallthrough.length;o++){var r=to(t,e.fallthrough[o],i,n);if(r)return r}}}function eo(t){var e="string"==typeof t?t:as[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function io(t,e){if(lr&&34==t.keyCode&&t.char)return!1;var i=as[t.keyCode],n=i;return null!=n&&!t.altGraphKey&&(t.altKey&&"Alt"!=i&&(n="Alt-"+n),(dr?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(dr?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)}function no(t){return"string"==typeof t?As[t]:t}function lo(t,e){for(var i=t.doc.sel.ranges,n=[],l=0;l<i.length;l++){for(var o=e(i[l]);n.length&&D(o.from,d(n).to)<=0;){var r=n.pop();if(D(r.from,o.from)<0){o.from=r.from;break}}n.push(o)}gn(t,function(){for(var e=n.length-1;e>=0;e--)Tl(t.doc,"",n[e].from,n[e].to,"+delete");qi(t)})}function oo(t,e){var i=E(t.doc,e),n=at(i);n!=i&&(e=R(n));var l=Tt(n);return N(e,l?l[0].level%2?yt(n):vt(n):0)}function ro(t,e){for(var i,n=E(t.doc,e);i=rt(n);)n=i.find(1,!0).line,e=null;var l=Tt(n),o=l?l[0].level%2?vt(n):yt(n):n.text.length;return N(null==e?R(n):e,o)}function so(t,e){var i=oo(t,e.line),n=E(t.doc,i.line),l=Tt(n);if(!l||0==l[0].level){var o=Math.max(0,n.text.search(/\S/)),r=e.line==i.line&&e.ch<=o&&e.ch;return N(i.line,r?0:o)}return i}function ao(t,e,i){if("string"==typeof e&&!(e=ds[e]))return!1;t.display.input.ensurePolled();var n=t.display.shift,l=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),l=e(t)!=fr}finally{t.display.shift=n,t.state.suppressEdits=!1}return l}function go(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var l=to(e,t.state.keyMaps[n],i,t);if(l)return l}return t.options.extraKeys&&to(e,t.options.extraKeys,i,t)||to(e,t.options.keyMap,i,t)}function Co(t,e,i,n){var l=t.state.keySeq;if(l){if(eo(e))return"handled";us.set(50,function(){t.state.keySeq==l&&(t.state.keySeq=null,t.display.input.reset())}),e=l+" "+e}var o=go(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&we(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(Ot(i),Gi(t)),l&&!o&&/\'$/.test(e)?(Ot(i),!0):!!o}function ho(t,e){var i=io(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?Co(t,"Shift-"+i,e,function(e){return ao(t,e,!0)})||Co(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ao(t,e)}):Co(t,i,e,function(e){return ao(t,e)}))}function Ao(t,e,i){return Co(t,"'"+i+"'",e,function(e){return ao(t,e,!0)})}function Io(t){var e=this;if(e.curOp.focus=o(),!Pt(e,t)){$o&&tr<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=ho(e,t);lr&&(ps=n?i:null,!n&&88==i&&!Hr&&(Cr?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||co(e)}}function co(t){function e(t){18!=t.keyCode&&t.altKey||(pr(i,"CodeMirror-crosshair"),Rt(document,"keyup",e),Rt(document,"mouseover",e))}var i=t.display.lineDiv;r(i,"CodeMirror-crosshair"),Dr(document,"keyup",e),Dr(document,"mouseover",e)}function uo(t){16==t.keyCode&&(this.doc.sel.shift=!1),Pt(this,t)}function po(t){var e=this;if(!(Ve(e.display,t)||Pt(e,t)||t.ctrlKey&&!t.altKey||Cr&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(lr&&i==ps)return ps=null,void Ot(t);if(!lr||t.which&&!(t.which<10)||!ho(e,t)){var l=String.fromCharCode(null==n?i:n);"\b"!=l&&(Ao(e,t,l)||e.display.input.onKeyPress(t))}}}function mo(t){var e=this,i=e.display;if(!(Pt(e,t)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=t.shiftKey,Ve(i,t))er||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));else if(!bo(e,t)){var n=fi(e,t);switch(window.focus(),Zt(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?xo(e,t,n):Vt(t)==i.scroller&&Ot(t);break;case 2:er&&(e.state.lastMiddleDown=+new Date),n&&ol(e.doc,n),setTimeout(function(){return i.input.focus()},20),Ot(t);break;case 3:ur?wo(e,t):Li(e)}}}function xo(t,e,i){$o?setTimeout(a(Ri,t),0):t.curOp.focus=o();var n,l=+new Date;cs&&cs.time>l-400&&0==D(cs.pos,i)?n="triple":Is&&Is.time>l-400&&0==D(Is.pos,i)?(n="double",cs={time:l,pos:i}):(n="single",Is={time:l,pos:i});var r,s=t.doc.sel,g=Cr?e.metaKey:e.ctrlKey;t.options.dragDrop&&Or&&!t.isReadOnly()&&"single"==n&&(r=s.contains(i))>-1&&(D((r=s.ranges[r]).from(),i)<0||i.xRel>0)&&(D(r.to(),i)>0||i.xRel<0)?vo(t,e,i,g):yo(t,e,i,n,g)}function vo(t,e,i,n){var l=t.display,o=+new Date,r=Cn(t,function(s){er&&(l.scroller.draggable=!1),t.state.draggingText=!1,Rt(document,"mouseup",r),Rt(l.scroller,"drop",r),Math.abs(e.clientX-s.clientX)+Math.abs(e.clientY-s.clientY)<10&&(Ot(s),!n&&+new Date-200<o&&ol(t.doc,i),er||$o&&9==tr?setTimeout(function(){document.body.focus(),l.input.focus()},20):l.input.focus())});er&&(l.scroller.draggable=!0),t.state.draggingText=r,r.copy=Cr?e.altKey:e.ctrlKey,l.scroller.dragDrop&&l.scroller.dragDrop(),Dr(document,"mouseup",r),Dr(l.scroller,"drop",r)}function yo(t,e,i,n,l){function r(e){if(0!=D(x,e))if(x=e,"rect"==n){for(var l=[],o=t.options.tabSize,r=C(E(h,i.line).text,i.ch,o),s=C(E(h,e.line).text,e.ch,o),a=Math.min(r,s),g=Math.max(r,s),u=Math.min(i.line,e.line),p=Math.min(t.lastLine(),Math.max(i.line,e.line));u<=p;u++){var m=E(h,u).text,v=I(m,a,o);a==g?l.push(new Pn(N(u,v),N(u,v))):m.length>v&&l.push(new Pn(N(u,v),N(u,I(m,g,o))))}l.length||l.push(new Pn(i,i)),hl(h,Mn(d.ranges.slice(0,c).concat(l),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var y=A,f=y.anchor,b=e;if("single"!=n){var w;D((w="double"==n?t.findWordAt(e):new Pn(N(e.line,0),V(h,N(e.line+1,0)))).anchor,f)>0?(b=w.head,f=k(y.from(),w.anchor)):(b=w.anchor,f=U(y.to(),w.head))}var S=d.ranges.slice(0);S[c]=new Pn(V(h,f),b),hl(h,Mn(S,c),wr)}}function s(e){var i=++y,l=fi(t,e,!0,"rect"==n);if(l)if(0!=D(l,x)){t.curOp.focus=o(),r(l);var a=ki(g,h);(l.line>=a.to||l.line<a.from)&&setTimeout(Cn(t,function(){y==i&&s(e)}),150)}else{var C=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;C&&setTimeout(Cn(t,function(){y==i&&(g.scroller.scrollTop+=C,s(e))}),50)}}function a(e){t.state.selectingText=!1,y=1/0,Ot(e),g.input.focus(),Rt(document,"mousemove",f),Rt(document,"mouseup",b),h.history.lastSelOrigin=null}var g=t.display,h=t.doc;Ot(e);var A,c,d=h.sel,u=d.ranges;if(l&&!e.shiftKey?(c=h.sel.contains(i),A=c>-1?u[c]:new Pn(i,i)):(A=h.sel.primary(),c=h.sel.primIndex),hr?e.shiftKey&&e.metaKey:e.altKey)n="rect",l||(A=new Pn(i,i)),i=fi(t,e,!0,!0),c=-1;else if("double"==n){var p=t.findWordAt(i);A=t.display.shift||h.extend?ll(h,A,p.anchor,p.head):p}else if("triple"==n){var m=new Pn(N(i.line,0),V(h,N(i.line+1,0)));A=t.display.shift||h.extend?ll(h,A,m.anchor,m.head):m}else A=ll(h,A,i);l?-1==c?(c=u.length,hl(h,Mn(u.concat([A]),c),{scroll:!1,origin:"*mouse"})):u.length>1&&u[c].empty()&&"single"==n&&!e.shiftKey?(hl(h,Mn(u.slice(0,c).concat(u.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),d=h.sel):sl(h,c,A,wr):(c=0,hl(h,new Ln([A],0),wr),d=h.sel);var x=i,v=g.wrapper.getBoundingClientRect(),y=0,f=Cn(t,function(t){Zt(t)?s(t):a(t)}),b=Cn(t,a);t.state.selectingText=b,Dr(document,"mousemove",f),Dr(document,"mouseup",b)}function fo(t,e,i,n){var l,o;try{l=e.clientX,o=e.clientY}catch(e){return!1}if(l>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&Ot(e);var r=t.display,s=r.lineDiv.getBoundingClientRect();if(o>s.bottom||!Nt(t,i))return kt(e);o-=s.top-r.viewOffset;for(var a=0;a<t.options.gutters.length;++a){var g=r.gutters.childNodes[a];if(g&&g.getBoundingClientRect().right>=l)return Lt(t,i,t,L(t.doc,o),t.options.gutters[a],e),kt(e)}}function bo(t,e){return fo(t,e,"gutterClick",!0)}function wo(t,e){Ve(t.display,e)||Eo(t,e)||Pt(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function Eo(t,e){return!!Nt(t,"gutterContextMenu")&&fo(t,e,"gutterContextMenu",!1)}function So(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),oi(t)}function To(t){Gn(t),In(t),Ni(t)}function Go(t,e,i){if(!e!=!(i&&i!=ms)){var n=t.display.dragFunctions,l=e?Dr:Rt;l(t.display.scroller,"dragstart",n.start),l(t.display.scroller,"dragenter",n.enter),l(t.display.scroller,"dragover",n.over),l(t.display.scroller,"dragleave",n.leave),l(t.display.scroller,"drop",n.drop)}}function Ro(t){t.options.lineWrapping?(r(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(pr(t.display.wrapper,"CodeMirror-wrap"),ut(t)),yi(t),In(t),oi(t),setTimeout(function(){return Bi(t)},100)}function Lo(t,e){var i=this;if(!(this instanceof Lo))return new Lo(t,e);this.options=e=e?g(e):{},g(xs,e,!1),Rn(e);var n=e.value;"string"==typeof n&&(n=new os(n,e.mode,null,e.lineSeparator)),this.doc=n;var l=new Lo.inputStyles[e.inputStyle](this),o=this.display=new w(t,n,l);o.wrapper.CodeMirror=this,Gn(this),So(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new h,keySeq:null,specialChars:null},e.autofocus&&!gr&&o.input.focus(),$o&&tr<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Po(this),jl(),tn(this),this.curOp.forceUpdate=!0,Bn(this,n),e.autofocus&&!gr||this.hasFocus()?setTimeout(a(Pi,this),20):Mi(this);for(var r in vs)vs.hasOwnProperty(r)&&vs[r](i,e[r],ms);Di(this),e.finishInit&&e.finishInit(this);for(var s=0;s<ys.length;++s)ys[s](i);en(this),er&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Po(t){function e(){l.activeTouch&&(o=setTimeout(function(){return l.activeTouch=null},1e3),(r=l.activeTouch).end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var l=t.display;Dr(l.scroller,"mousedown",Cn(t,mo)),$o&&tr<11?Dr(l.scroller,"dblclick",Cn(t,function(e){if(!Pt(t,e)){var i=fi(t,e);if(i&&!bo(t,e)&&!Ve(t.display,e)){Ot(e);var n=t.findWordAt(i);ol(t.doc,n.anchor,n.head)}}})):Dr(l.scroller,"dblclick",function(e){return Pt(t,e)||Ot(e)}),ur||Dr(l.scroller,"contextmenu",function(e){return wo(t,e)});var o,r={end:0};Dr(l.scroller,"touchstart",function(e){if(!Pt(t,e)&&!i(e)){l.input.ensurePolled(),clearTimeout(o);var n=+new Date;l.activeTouch={start:n,moved:!1,prev:n-r.end<=300?r:null},1==e.touches.length&&(l.activeTouch.left=e.touches[0].pageX,l.activeTouch.top=e.touches[0].pageY)}}),Dr(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),Dr(l.scroller,"touchend",function(i){var o=l.activeTouch;if(o&&!Ve(l,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var r,s=t.coordsChar(l.activeTouch,"page");r=!o.prev||n(o,o.prev)?new Pn(s,s):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(s):new Pn(N(s.line,0),V(t.doc,N(s.line+1,0))),t.setSelection(r.anchor,r.head),t.focus(),Ot(i)}e()}),Dr(l.scroller,"touchcancel",e),Dr(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Hi(t,l.scroller.scrollTop),Vi(t,l.scroller.scrollLeft,!0),Lt(t,"scroll",t))}),Dr(l.scroller,"mousewheel",function(e){return Fi(t,e)}),Dr(l.scroller,"DOMMouseScroll",function(e){return Fi(t,e)}),Dr(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(e){Pt(t,e)||Ht(e)},over:function(e){Pt(t,e)||(zl(t,e),Ht(e))},start:function(e){return Wl(t,e)},drop:Cn(t,Bl),leave:function(e){Pt(t,e)||_l(t)}};var s=l.input.getField();Dr(s,"keyup",function(e){return uo.call(t,e)}),Dr(s,"keydown",Cn(t,Io)),Dr(s,"keypress",Cn(t,po)),Dr(s,"focus",function(e){return Pi(t,e)}),Dr(s,"blur",function(e){return Mi(t,e)})}function Mo(t,e,i,n){var l,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?l=te(t,e):i="prev");var r=t.options.tabSize,s=E(o,e),a=C(s.text,null,r);s.stateAfter&&(s.stateAfter=null);var g,h=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&((g=o.mode.indent(l,s.text.slice(h.length),s.text))==fr||g>150)){if(!n)return;i="prev"}}else g=0,i="not";"prev"==i?g=e>o.first?C(E(o,e-1).text,null,r):0:"add"==i?g=a+t.options.indentUnit:"subtract"==i?g=a-t.options.indentUnit:"number"==typeof i&&(g=a+i),g=Math.max(0,g);var A="",I=0;if(t.options.indentWithTabs)for(var d=Math.floor(g/r);d;--d)I+=r,A+="\t";if(I<g&&(A+=c(g-I)),A!=h)return Tl(o,A,N(e,0),N(e,h.length),"+input"),s.stateAfter=null,!0;for(var u=0;u<o.sel.ranges.length;u++){var p=o.sel.ranges[u];if(p.head.line==e&&p.head.ch<h.length){var m=N(e,h.length);sl(o,u,new Pn(m,m));break}}}function No(t){fs=t}function Do(t,e,i,n,l){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var r=t.state.pasteIncoming||"paste"==l,s=Ur(e),a=null;if(r&&n.ranges.length>1)if(fs&&fs.text.join("\n")==e){if(n.ranges.length%fs.text.length==0){a=[];for(var g=0;g<fs.text.length;g++)a.push(o.splitLines(fs.text[g]))}}else s.length==n.ranges.length&&(a=u(s,function(t){return[t]}));for(var C,h=n.ranges.length-1;h>=0;h--){var A=n.ranges[h],I=A.from(),c=A.to();A.empty()&&(i&&i>0?I=N(I.line,I.ch-i):t.state.overwrite&&!r?c=N(c.line,Math.min(E(o,c.line).text.length,c.ch+d(s).length)):fs&&fs.lineWise&&fs.text.join("\n")==e&&(I=c=N(I.line,0))),C=t.curOp.updateInput;var p={from:I,to:c,text:a?a[h%a.length]:s,origin:l||(r?"paste":t.state.cutIncoming?"cut":"+input")};yl(t.doc,p),we(t,"inputRead",t,p)}e&&!r&&Uo(t,e),qi(t),t.curOp.updateInput=C,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Oo(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||gn(e,function(){return Do(e,i,0,null,"paste")}),!0}function Uo(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var l=i.ranges[n];if(!(l.head.ch>100||n&&i.ranges[n-1].head.line==l.head.line)){var o=t.getModeAt(l.head),r=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){r=Mo(t,l.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(E(t.doc,l.head.line).text.slice(0,l.head.ch))&&(r=Mo(t,l.head.line,"smart"));r&&we(t,"electricInput",t,l.head.line)}}}function ko(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var l=t.doc.sel.ranges[n].head.line,o={anchor:N(l,0),head:N(l+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function Ho(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Vo(){var t=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=n("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return er?t.style.width="1000px":t.setAttribute("wrap","off"),ar&&(t.style.border="1px solid black"),Ho(t),e}function Zo(t,e,i,n,l){function o(){var e=s+i;return!(e<t.first||e>=t.first+t.size)&&(s=e,C=E(t,e))}function r(t){var e=(l?Et:St)(C,a,i,!0);if(null==e){if(t||!o())return!1;a=l?(i<0?yt:vt)(C):i<0?C.text.length:0}else a=e;return!0}var s=e.line,a=e.ch,g=i,C=E(t,s);if("char"==n)r();else if("column"==n)r(!0);else if("word"==n||"group"==n)for(var h=null,A="group"==n,I=t.cm&&t.cm.getHelper(e,"wordChars"),c=!0;!(i<0)||r(!c);c=!1){var d=C.text.charAt(a)||"\n",u=y(d,I)?"w":A&&"\n"==d?"n":!A||/\s/.test(d)?null:"p";if(!A||c||u||(u="s"),h&&h!=u){i<0&&(i=1,r());break}if(u&&(h=u),i>0&&!r(!c))break}var p=pl(t,N(s,a),e,g,!0);return D(e,p)||(p.hitSide=!0),p}function Yo(t,e,i,n){var l,o=t.doc,r=e.left;if("page"==n){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*ui(t.display),3);l=(i>0?e.bottom:e.top)+i*a}else"line"==n&&(l=i>0?e.bottom+3:e.top-3);for(var g;(g=ci(t,r,l)).outside;){if(i<0?l<=0:l>=o.height){g.hitSide=!0;break}l+=5*i}return g}function Fo(t,e){var i=Ke(t,e.line);if(!i||i.hidden)return null;var n=E(t.doc,e.line),l=_e(i,n,e.line),o=Tt(n),r="left";o&&(r=bt(o,e.ch)%2?"right":"left");var s=$e(l.map,e.ch,r);return s.offset="right"==s.collapse?s.end:s.start,s}function Xo(t,e){return e&&(t.bad=!0),t}function Bo(t,e,i,n,l){function o(t){return function(e){return e.id==t}}function r(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return void(s+=""==i?e.textContent.replace(/\u200b/g,""):i);var C,h=e.getAttribute("cm-marker");if(h){var A=t.findMarks(N(n,0),N(l+1,0),o(+h));return void(A.length&&(C=A[0].find())&&(s+=S(t.doc,C.from,C.to).join(g)))}if("false"==e.getAttribute("contenteditable"))return;for(var I=0;I<e.childNodes.length;I++)r(e.childNodes[I]);/^(pre|div|p)$/i.test(e.nodeName)&&(a=!0)}else if(3==e.nodeType){var c=e.nodeValue;if(!c)return;a&&(s+=g,a=!1),s+=c}}for(var s="",a=!1,g=t.doc.lineSeparator();r(e),e!=i;)e=e.nextSibling;return s}function Wo(t,e,i){var n;if(e==t.display.lineDiv){if(!(n=t.display.lineDiv.childNodes[i]))return Xo(t.clipPos(N(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var l=0;l<t.display.view.length;l++){var o=t.display.view[l];if(o.node==n)return zo(o,e,i)}}function zo(t,e,i){function n(e,i,n){for(var l=-1;l<(h?h.length:0);l++)for(var o=l<0?C.map:h[l],r=0;r<o.length;r+=3){var s=o[r+2];if(s==e||s==i){var a=R(l<0?t.line:t.rest[l]),g=o[r]+n;return(n<0||s!=e)&&(g=o[r+(n?1:0)]),N(a,g)}}}var o=t.text.firstChild,r=!1;if(!e||!l(o,e))return Xo(N(R(t.line),0),!0);if(e==o&&(r=!0,e=o.childNodes[i],i=0,!e)){var s=t.rest?d(t.rest):t.line;return Xo(N(R(s),s.text.length),r)}var a=3==e.nodeType?e:null,g=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,i&&(i=a.nodeValue.length));g.parentNode!=o;)g=g.parentNode;var C=t.measure,h=C.maps,A=n(a,g,i);if(A)return Xo(A,r);for(var I=g.nextSibling,c=a?a.nodeValue.length-i:0;I;I=I.nextSibling){if(A=n(I,I.firstChild,0))return Xo(N(A.line,A.ch-c),r);c+=I.textContent.length}for(var u=g.previousSibling,p=i;u;u=u.previousSibling){if(A=n(u,u.firstChild,-1))return Xo(N(A.line,A.ch+p),r);p+=u.textContent.length}}function _o(t,e){function i(){t.value=a.getValue()}if(e=e?g(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=o();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}var l;if(t.form&&(Dr(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var r=t.form;l=r.submit;try{var s=r.submit=function(){i(),r.submit=l,r.submit(),r.submit=s}}catch(t){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Rt(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=l))}},t.style.display="none";var a=Lo(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return a}var Jo=navigator.userAgent,jo=navigator.platform,Ko=/gecko\/\d/i.test(Jo),Qo=/MSIE \d/.test(Jo),qo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jo),$o=Qo||qo,tr=$o&&(Qo?document.documentMode||6:qo[1]),er=/WebKit\//.test(Jo),ir=er&&/Qt\/\d+\.\d+/.test(Jo),nr=/Chrome\//.test(Jo),lr=/Opera\//.test(Jo),or=/Apple Computer/.test(navigator.vendor),rr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Jo),sr=/PhantomJS/.test(Jo),ar=/AppleWebKit/.test(Jo)&&/Mobile\/\w+/.test(Jo),gr=ar||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Jo),Cr=ar||/Mac/.test(jo),hr=/\bCrOS\b/.test(Jo),Ar=/win/i.test(jo),Ir=lr&&Jo.match(/Version\/(\d*\.\d*)/);Ir&&(Ir=Number(Ir[1])),Ir&&Ir>=15&&(lr=!1,er=!0);var cr,dr=Cr&&(ir||lr&&(null==Ir||Ir<12.11)),ur=Ko||$o&&tr>=9,pr=function(e,i){var n=e.className,l=t(i).exec(n);if(l){var o=n.slice(l.index+l[0].length);e.className=n.slice(0,l.index)+(o?l[1]+o:"")}};cr=document.createRange?function(t,e,i,n){var l=document.createRange();return l.setEnd(n||t,i),l.setStart(t,e),l}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var mr=function(t){t.select()};ar?mr=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:$o&&(mr=function(t){try{t.select()}catch(t){}}),h.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var xr,vr,yr=30,fr={toString:function(){return"CodeMirror.Pass"}},br={scroll:!1},wr={origin:"*mouse"},Er={origin:"+move"},Sr=[""],Tr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Gr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Rr=!1,Lr=!1,Pr=null,Mr=function(){function t(t){return t<=247?i.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1785?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,r=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(i){if(!l.test(i))return!1;for(var n=i.length,g=[],C=0;C<n;++C)g.push(t(i.charCodeAt(C)));for(var h=0,A="L";h<n;++h){var I=g[h];"m"==I?g[h]=A:A=I}for(var c=0,u="L";c<n;++c){var p=g[c];"1"==p&&"r"==u?g[c]="n":r.test(p)&&(u=p,"r"==p&&(g[c]="R"))}for(var m=1,x=g[0];m<n-1;++m){var v=g[m];"+"==v&&"1"==x&&"1"==g[m+1]?g[m]="1":","!=v||x!=g[m+1]||"1"!=x&&"n"!=x||(g[m]=x),x=v}for(var y=0;y<n;++y){var f=g[y];if(","==f)g[y]="N";else if("%"==f){var b=void 0;for(b=y+1;b<n&&"%"==g[b];++b);for(var w=y&&"!"==g[y-1]||b<n&&"1"==g[b]?"1":"N",E=y;E<b;++E)g[E]=w;y=b-1}}for(var S=0,T="L";S<n;++S){var G=g[S];"L"==T&&"1"==G?g[S]="L":r.test(G)&&(T=G)}for(var R=0;R<n;++R)if(o.test(g[R])){var L=void 0;for(L=R+1;L<n&&o.test(g[L]);++L);for(var P="L"==(R?g[R-1]:"L"),M="L"==(L<n?g[L]:"L"),N=P||M?"L":"R",D=R;D<L;++D)g[D]=N;R=L-1}for(var O,U=[],k=0;k<n;)if(s.test(g[k])){var H=k;for(++k;k<n&&s.test(g[k]);++k);U.push(new e(0,H,k))}else{var V=k,Z=U.length;for(++k;k<n&&"L"!=g[k];++k);for(var Y=V;Y<k;)if(a.test(g[Y])){V<Y&&U.splice(Z,0,new e(1,V,Y));var F=Y;for(++Y;Y<k&&a.test(g[Y]);++Y);U.splice(Z,0,new e(2,F,Y)),V=Y}else++Y;V<k&&U.splice(Z,0,new e(1,V,k))}return 1==U[0].level&&(O=i.match(/^\s+/))&&(U[0].from=O[0].length,U.unshift(new e(0,0,O[0].length))),1==d(U).level&&(O=i.match(/\s+$/))&&(d(U).to-=O[0].length,U.push(new e(0,n-O[0].length,n))),2==U[0].level&&U.unshift(new e(1,U[0].to,U[0].to)),U[0].level!=d(U).level&&U.push(new e(U[0].level,n,n)),U}}(),Nr=[],Dr=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Nr).concat(i)}},Or=function(){if($o&&tr<9)return!1;var t=n("div");return"draggable"in t||"dragDrop"in t}(),Ur=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;e<=n;){var l=t.indexOf("\n",e);-1==l&&(l=t.length);var o=t.slice(e,"\r"==t.charAt(l-1)?l-1:l),r=o.indexOf("\r");-1!=r?(i.push(o.slice(0,r)),e+=r+1):(i.push(o),e=l+1)}return i}:function(t){return t.split(/\r\n?|\n/)},kr=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Hr=function(){var t=n("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Vr=null,Zr={},Yr={},Fr={},Xr=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Xr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this,e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++t.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=C(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?C(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return C(this.string,null,this.tabSize)-(this.lineStart?C(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var l=function(t){return i?t.toLowerCase():t};if(l(this.string.substr(this.pos,t.length))==l(t))return!1!==e&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}},Dt(ae),ae.prototype.lineNo=function(){return R(this)};var Br,Wr={},zr={},_r=null,Jr=null,jr={left:0,right:0,top:0,bottom:0},Kr=0,Qr=null;$o?Qr=-.53:Ko?Qr=15:nr?Qr=-.7:or&&(Qr=-1/3);var qr=function(t,e,i){this.cm=i;var l=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(l),t(o),Dr(l,"scroll",function(){l.clientHeight&&e(l.scrollTop,"vertical")}),Dr(o,"scroll",function(){o.clientWidth&&e(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,$o&&tr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};qr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var l=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+l)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},qr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},qr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},qr.prototype.zeroWidthHack=function(){var t=Cr&&!rr?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new h,this.disableVert=new h},qr.prototype.enableZeroWidthBar=function(t,e){function i(){var n=t.getBoundingClientRect();document.elementFromPoint(n.left+1,n.bottom-1)!=t?t.style.pointerEvents="none":e.set(1e3,i)}t.style.pointerEvents="auto",e.set(1e3,i)},qr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var $r=function(){};$r.prototype.update=function(){return{bottom:0,right:0}},$r.prototype.setScrollLeft=function(){},$r.prototype.setScrollTop=function(){},$r.prototype.clear=function(){};var ts={native:qr,null:$r},es=0,is=function(t,e,i){var n=t.display;this.viewport=e,this.visible=ki(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Be(t),this.force=i,this.dims=mi(t),this.events=[]};is.prototype.signal=function(t,e){Nt(t,e)&&this.events.push(arguments)},is.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)Lt.apply(null,t.events[e])},Ln.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=e.ranges[i],l=t.ranges[i];if(0!=D(n.anchor,l.anchor)||0!=D(n.head,l.head))return!1}return!0},deepCopy:function(){for(var t=this,e=[],i=0;i<this.ranges.length;i++)e[i]=new Pn(O(t.ranges[i].anchor),O(t.ranges[i].head));return new Ln(e,this.primIndex)},somethingSelected:function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},contains:function(t,e){var i=this;e||(e=t);for(var n=0;n<this.ranges.length;n++){var l=i.ranges[n];if(D(e,l.from())>=0&&D(t,l.to())<=0)return n}return-1}},Pn.prototype={from:function(){return k(this.anchor,this.head)},to:function(){return U(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}},Ml.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=this,n=t,l=t+e;n<l;++n){var o=i.lines[n];i.height-=o.height,Ce(o),we(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var l=0;l<e.length;++l)e[l].parent=n},iterN:function(t,e,i){for(var n=this,l=t+e;t<l;++t)if(i(n.lines[t]))return!0}},Nl.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){var i=this;this.size-=e;for(var n=0;n<this.children.length;++n){var l=i.children[n],o=l.chunkSize();if(t<o){var r=Math.min(e,o-t),s=l.height;if(l.removeInner(t,r),i.height-=s-l.height,o==r&&(i.children.splice(n--,1),l.parent=null),0==(e-=r))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Ml))){var a=[];this.collapse(a),this.children=[new Ml(a)],this.children[0].parent=this}},collapse:function(t){for(var e=this,i=0;i<this.children.length;++i)e.children[i].collapse(t)},insertInner:function(t,e,i){var n=this;this.size+=e.length,this.height+=i;for(var l=0;l<this.children.length;++l){var o=n.children[l],r=o.chunkSize();if(t<=r){if(o.insertInner(t,e,i),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var g=new Ml(o.lines.slice(a,a+=25));o.height-=g.height,n.children.splice(++l,0,g),g.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}t-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new Nl(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var i=A(t.parent.children,t);t.parent.children.splice(i+1,0,e)}else{var n=new Nl(t.children);n.parent=t,t.children=[n,e],t=n}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=this,l=0;l<this.children.length;++l){var o=n.children[l],r=o.chunkSize();if(t<r){var s=Math.min(e,r-t);if(o.iterN(t,s,i))return!0;if(0==(e-=s))break;t=0}else t-=r}}},Dt(Dl),Dl.prototype.clear=function(){var t=this,e=this.doc.cm,i=this.line.widgets,n=this.line,l=R(n);if(null!=l&&i){for(var o=0;o<i.length;++o)i[o]==t&&i.splice(o--,1);i.length||(n.widgets=null);var r=He(this);G(n,Math.max(0,n.height-r)),e&&gn(e,function(){Ol(e,n,-r),cn(e,l,"widget")})}},Dl.prototype.changed=function(){var t=this.height,e=this.doc.cm,i=this.line;this.height=null;var n=He(this)-t;n&&(G(i,i.height+n),e&&gn(e,function(){e.curOp.forceUpdate=!0,Ol(e,i,n)}))};var ns=0;Dt(kl),kl.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,i=e&&!e.curOp;if(i&&tn(e),Nt(this,"clear")){var n=this.find();n&&we(this,"clear",n.from,n.to)}for(var l=null,o=null,r=0;r<this.lines.length;++r){var s=t.lines[r],a=W(s.markedSpans,t);e&&!t.collapsed?cn(e,R(s),"text"):e&&(null!=a.to&&(o=R(s)),null!=a.from&&(l=R(s))),s.markedSpans=z(s.markedSpans,a),null==a.from&&t.collapsed&&!At(t.doc,s)&&e&&G(s,ui(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var g=0;g<this.lines.length;++g){var C=at(t.lines[g]),h=dt(C);h>e.display.maxLineLength&&(e.display.maxLine=C,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=l&&e&&this.collapsed&&In(e,l,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&cl(e.doc)),e&&we(e,"markerCleared",e,this),i&&en(e),this.parent&&this.parent.clear()}},kl.prototype.find=function(t,e){var i=this;null==t&&"bookmark"==this.type&&(t=1);for(var n,l,o=0;o<this.lines.length;++o){var r=i.lines[o],s=W(r.markedSpans,i);if(null!=s.from&&(n=N(e?r:R(r),s.from),-1==t))return n;if(null!=s.to&&(l=N(e?r:R(r),s.to),1==t))return l}return n&&{from:n,to:l}},kl.prototype.changed=function(){var t=this.find(-1,!0),e=this,i=this.doc.cm;t&&i&&gn(i,function(){var n=t.line,l=R(t.line),o=Ke(i,l);if(o&&(ni(o),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!At(e.doc,n)&&null!=e.height){var r=e.height;e.height=null;var s=He(e)-r;s&&G(n,n.height+s)}})},kl.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=A(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},kl.prototype.detachLine=function(t){if(this.lines.splice(A(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Dt(Vl),Vl.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();we(this,"clear")}},Vl.prototype.find=function(t,e){return this.primary.find(t,e)};var ls=0,os=function(t,e,i,n){if(!(this instanceof os))return new os(t,e,i,n);null==i&&(i=0),Nl.call(this,[new Ml([new ae("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var l=N(i,0);this.sel=Nn(l),this.history=new Wn(null),this.id=++ls,this.modeOption=e,this.lineSep=n,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Fn(this,{from:l,to:l,text:t}),hl(this,Nn(l),br)};os.prototype=x(Nl.prototype,{constructor:os,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=T(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:An(function(t){var e=N(this.first,0),i=this.first+this.size-1;yl(this,{from:e,to:N(i,E(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),hl(this,Nn(e))}),replaceRange:function(t,e,i,n){Tl(this,t,e=V(this,e),i=i?V(this,i):e,n)},getRange:function(t,e,i){var n=S(this,V(this,t),V(this,e));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(P(this,t))return E(this,t)},getLineNumber:function(t){return R(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=E(this,t)),at(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return V(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:An(function(t,e,i){al(this,V(this,"number"==typeof t?N(t,e||0):t),null,i)}),setSelection:An(function(t,e,i){al(this,V(this,t),V(this,e||t),i)}),extendSelection:An(function(t,e,i){ol(this,V(this,t),e&&V(this,e),i)}),extendSelections:An(function(t,e){rl(this,Y(this,t),e)}),extendSelectionsBy:An(function(t,e){rl(this,Y(this,u(this.sel.ranges,t)),e)}),setSelections:An(function(t,e,i){var n=this;if(t.length){for(var l=[],o=0;o<t.length;o++)l[o]=new Pn(V(n,t[o].anchor),V(n,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),hl(this,Mn(l,e),i)}}),addSelection:An(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new Pn(V(this,t),V(this,e||t))),hl(this,Mn(n,n.length-1),i)}),getSelection:function(t){for(var e,i=this,n=this.sel.ranges,l=0;l<n.length;l++){var o=S(i,n[l].from(),n[l].to());e=e?e.concat(o):o}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,i=[],n=this.sel.ranges,l=0;l<n.length;l++){var o=S(e,n[l].from(),n[l].to());!1!==t&&(o=o.join(t||e.lineSeparator())),i[l]=o}return i},replaceSelection:function(t,e,i){for(var n=[],l=0;l<this.sel.ranges.length;l++)n[l]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:An(function(t,e,i){for(var n=this,l=[],o=this.sel,r=0;r<o.ranges.length;r++){var s=o.ranges[r];l[r]={from:s.from(),to:s.to(),text:n.splitLines(t[r]),origin:i}}for(var a=e&&"end"!=e&&Hn(this,l,e),g=l.length-1;g>=0;g--)yl(n,l[g]);a?Cl(this,a):this.cm&&qi(this.cm)}),undo:An(function(){bl(this,"undo")}),redo:An(function(){bl(this,"redo")}),undoSelection:An(function(){bl(this,"undo",!0)}),redoSelection:An(function(){bl(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var l=0;l<t.undone.length;l++)t.undone[l].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new Wn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:nl(this.history.done),undone:nl(this.history.undone)}},setHistory:function(t){var e=this.history=new Wn(this.history.maxGeneration);e.done=nl(t.done.slice(0),null,!0),e.undone=nl(t.undone.slice(0),null,!0)},setGutterMarker:An(function(t,e,i){return Pl(this,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&f(n)&&(t.gutterMarkers=null),!0})}),clearGutter:An(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Pl(e,i,"gutter",function(){return i.gutterMarkers[t]=null,f(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!P(this,t))return null;if(e=t,!(t=E(this,t)))return null}else if(null==(e=R(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:An(function(e,i,n){return Pl(this,e,"gutter"==i?"gutter":"class",function(e){var l="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[l]){if(t(n).test(e[l]))return!1;e[l]+=" "+n}else e[l]=n;return!0})}),removeLineClass:An(function(e,i,n){return Pl(this,e,"gutter"==i?"gutter":"class",function(e){var l="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass",o=e[l];if(!o)return!1;if(null==n)e[l]=null;else{var r=o.match(t(n));if(!r)return!1;var s=r.index+r[0].length;e[l]=o.slice(0,r.index)+(r.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:An(function(t,e,i){return Ul(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Hl(this,V(this,t),V(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=V(this,t),Hl(this,t,t,i,"bookmark")},findMarksAt:function(t){var e=[],i=E(this,(t=V(this,t)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var l=i[n];(null==l.from||l.from<=t.ch)&&(null==l.to||l.to>=t.ch)&&e.push(l.marker.parent||l.marker)}return e},findMarks:function(t,e,i){t=V(this,t),e=V(this,e);var n=[],l=t.line;return this.iter(t.line,e.line+1,function(o){var r=o.markedSpans;if(r)for(var s=0;s<r.length;s++){var a=r[s];null!=a.to&&l==t.line&&t.ch>=a.to||null==a.from&&l!=t.line||null!=a.from&&l==e.line&&a.from>=e.ch||i&&!i(a.marker)||n.push(a.marker.parent||a.marker)}++l}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(l){var o=l.text.length+n;if(o>t)return e=t,!0;t-=o,++i}),V(this,N(i,e))},indexFromPos:function(t){var e=(t=V(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+i}),e},copy:function(t){var e=new os(T(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new os(T(this,e,i),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Fl(n,Yl(this)),n},unlinkDoc:function(t){var e=this;if(t instanceof Lo&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i)if(e.linked[i].doc==t){e.linked.splice(i,1),t.unlinkDoc(e),Xl(Yl(e));break}if(t.history==this.history){var n=[t.id];Xn(t,function(t){return n.push(t.id)},!0),t.history=new Wn(null),t.history.done=nl(this.history.done,n),t.history.undone=nl(this.history.undone,n)}},iterLinkedDocs:function(t){Xn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Ur(t)},lineSeparator:function(){return this.lineSep||"\n"}}),os.prototype.eachLine=os.prototype.iter;for(var rs=0,ss=!1,as={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",
44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},gs=0;gs<10;gs++)as[gs+48]=as[gs+96]=String(gs);for(var Cs=65;Cs<=90;Cs++)as[Cs]=String.fromCharCode(Cs);for(var hs=1;hs<=12;hs++)as[hs+111]=as[hs+63235]="F"+hs;var As={};As.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},As.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},As.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},As.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},As.default=Cr?As.macDefault:As.pcDefault;var Is,cs,ds={selectAll:xl,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),br)},killLine:function(t){return lo(t,function(e){if(e.empty()){var i=E(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:N(e.head.line+1,0)}:{from:e.head,to:N(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return lo(t,function(e){return{from:N(e.from().line,0),to:V(t.doc,N(e.to().line+1,0))}})},delLineLeft:function(t){return lo(t,function(t){return{from:N(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return lo(t,function(e){var i=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:i},"div"),to:e.from()}})},delWrappedLineRight:function(t){return lo(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(N(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(N(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return oo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return so(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return ro(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},Er)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},Er)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?so(t,e.head):n},Er)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,l=0;l<i.length;l++){var o=i[l].from(),r=C(t.getLine(o.line),o.ch,n);e.push(c(n-r%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return gn(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var l=e[n].head,o=E(t.doc,l.line).text;if(o)if(l.ch==o.length&&(l=new N(l.line,l.ch-1)),l.ch>0)l=new N(l.line,l.ch+1),t.replaceRange(o.charAt(l.ch-1)+o.charAt(l.ch-2),N(l.line,l.ch-2),l,"+transpose");else if(l.line>t.doc.first){var r=E(t.doc,l.line-1).text;r&&(l=new N(l.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+r.charAt(r.length-1),N(l.line-1,r.length-1),l,"+transpose"))}i.push(new Pn(l,l))}t.setSelections(i)})},newlineAndIndent:function(t){return gn(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);qi(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}},us=new h,ps=null,ms={toString:function(){return"CodeMirror.Init"}},xs={},vs={};Lo.defaults=xs,Lo.optionHandlers=vs;var ys=[];Lo.defineInitHook=function(t){return ys.push(t)};var fs=null,bs=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new h,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};bs.prototype.init=function(t){function e(t){if(!Pt(l,t)){if(l.somethingSelected())No({lineWise:!1,text:l.getSelections()}),"cut"==t.type&&l.replaceSelection("",null,"cut");else{if(!l.options.lineWiseCopyCut)return;var e=ko(l);No({lineWise:!0,text:e.text}),"cut"==t.type&&l.operation(function(){l.setSelections(e.ranges,0,br),l.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var i=fs.text.join("\n");if(t.clipboardData.setData("Text",i),t.clipboardData.getData("Text")==i)return void t.preventDefault()}var r=Vo(),s=r.firstChild;l.display.lineSpace.insertBefore(r,l.display.lineSpace.firstChild),s.value=fs.text.join("\n");var a=document.activeElement;mr(s),setTimeout(function(){l.display.lineSpace.removeChild(r),a.focus(),a==o&&n.showPrimarySelection()},50)}}var i=this,n=this,l=n.cm,o=n.div=t.lineDiv;Ho(o,l.options.spellcheck),Dr(o,"paste",function(t){Pt(l,t)||Oo(t,l)||tr<=11&&setTimeout(Cn(l,function(){n.pollContent()||In(l)}),20)}),Dr(o,"compositionstart",function(t){i.composing={data:t.data,done:!1}}),Dr(o,"compositionupdate",function(t){i.composing||(i.composing={data:t.data,done:!1})}),Dr(o,"compositionend",function(t){i.composing&&(t.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),Dr(o,"touchstart",function(){return n.forceCompositionEnd()}),Dr(o,"input",function(){i.composing||i.readFromDOMSoon()}),Dr(o,"copy",e),Dr(o,"cut",e)},bs.prototype.prepareSelection=function(){var t=Ei(this.cm,!1);return t.focus=this.cm.state.focused,t},bs.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},bs.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),i=Wo(this.cm,t.anchorNode,t.anchorOffset),n=Wo(this.cm,t.focusNode,t.focusOffset);if(!i||i.bad||!n||n.bad||0!=D(k(i,n),e.from())||0!=D(U(i,n),e.to())){var l=Fo(this.cm,e.from()),o=Fo(this.cm,e.to());if(l||o){var r=this.cm.display.view,s=t.rangeCount&&t.getRangeAt(0);if(l){if(!o){var a=r[r.length-1].measure,g=a.maps?a.maps[a.maps.length-1]:a.map;o={node:g[g.length-1],offset:g[g.length-2]-g[g.length-3]}}}else l={node:r[0].measure.map[2],offset:0};var C;try{C=cr(l.node,l.offset,o.offset,o.node)}catch(t){}C&&(!Ko&&this.cm.state.focused?(t.collapse(l.node,l.offset),C.collapsed||(t.removeAllRanges(),t.addRange(C))):(t.removeAllRanges(),t.addRange(C)),s&&null==t.anchorNode?t.addRange(s):Ko&&this.startGracePeriod()),this.rememberSelection()}}},bs.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},bs.prototype.showMultipleSelections=function(t){i(this.cm.display.cursorDiv,t.cursors),i(this.cm.display.selectionDiv,t.selection)},bs.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},bs.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return l(this.div,e)},bs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},bs.prototype.blur=function(){this.div.blur()},bs.prototype.getField=function(){return this.div},bs.prototype.supportsTouch=function(){return!0},bs.prototype.receivedFocus=function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():gn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},bs.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},bs.prototype.pollSelection=function(){if(!this.composing&&null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var i=Wo(e,t.anchorNode,t.anchorOffset),n=Wo(e,t.focusNode,t.focusOffset);i&&n&&gn(e,function(){hl(e.doc,Nn(i,n),br),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}},bs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),l=i.to();if(0==n.ch&&n.line>t.firstLine()&&(n=N(n.line-1,E(t.doc,n.line-1).length)),l.ch==E(t.doc,l.line).text.length&&l.line<t.lastLine()&&(l=N(l.line+1,0)),n.line<e.viewFrom||l.line>e.viewTo-1)return!1;var o,r,s;n.line==e.viewFrom||0==(o=bi(t,n.line))?(r=R(e.view[0].line),s=e.view[0].node):(r=R(e.view[o].line),s=e.view[o-1].node.nextSibling);var a,g,C=bi(t,l.line);if(C==e.view.length-1?(a=e.viewTo-1,g=e.lineDiv.lastChild):(a=R(e.view[C+1].line)-1,g=e.view[C+1].node.previousSibling),!s)return!1;for(var h=t.doc.splitLines(Bo(t,s,g,r,a)),A=S(t.doc,N(r,0),N(a,E(t.doc,a).text.length));h.length>1&&A.length>1;)if(d(h)==d(A))h.pop(),A.pop(),a--;else{if(h[0]!=A[0])break;h.shift(),A.shift(),r++}for(var I=0,c=0,u=h[0],p=A[0],m=Math.min(u.length,p.length);I<m&&u.charCodeAt(I)==p.charCodeAt(I);)++I;for(var x=d(h),v=d(A),y=Math.min(x.length-(1==h.length?I:0),v.length-(1==A.length?I:0));c<y&&x.charCodeAt(x.length-c-1)==v.charCodeAt(v.length-c-1);)++c;h[h.length-1]=x.slice(0,x.length-c).replace(/^\u200b+/,""),h[0]=h[0].slice(I).replace(/\u200b+$/,"");var f=N(r,I),b=N(a,A.length?d(A).length-c:0);return h.length>1||h[0]||D(f,b)?(Tl(t.doc,h,f,b,"+input"),!0):void 0},bs.prototype.ensurePolled=function(){this.forceCompositionEnd()},bs.prototype.reset=function(){this.forceCompositionEnd()},bs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.pollContent()||In(this.cm),this.div.blur(),this.div.focus())},bs.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}!t.cm.isReadOnly()&&t.pollContent()||gn(t.cm,function(){return In(t.cm)})},80))},bs.prototype.setUneditable=function(t){t.contentEditable="false"},bs.prototype.onKeyPress=function(t){t.preventDefault(),this.cm.isReadOnly()||Cn(this.cm,Do)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},bs.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},bs.prototype.onContextMenu=function(){},bs.prototype.resetPosition=function(){},bs.prototype.needsContentAttribute=!0;var ws=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new h,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};ws.prototype.init=function(t){function e(t){if(!Pt(l,t)){if(l.somethingSelected())No({lineWise:!1,text:l.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,r.value=fs.text.join("\n"),mr(r));else{if(!l.options.lineWiseCopyCut)return;var e=ko(l);No({lineWise:!0,text:e.text}),"cut"==t.type?l.setSelections(e.ranges,null,br):(n.prevInput="",r.value=e.text.join("\n"),mr(r))}"cut"==t.type&&(l.state.cutIncoming=!0)}}var i=this,n=this,l=this.cm,o=this.wrapper=Vo(),r=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),ar&&(r.style.width="0px"),Dr(r,"input",function(){$o&&tr>=9&&i.hasSelection&&(i.hasSelection=null),n.poll()}),Dr(r,"paste",function(t){Pt(l,t)||Oo(t,l)||(l.state.pasteIncoming=!0,n.fastPoll())}),Dr(r,"cut",e),Dr(r,"copy",e),Dr(t.scroller,"paste",function(e){Ve(t,e)||Pt(l,e)||(l.state.pasteIncoming=!0,n.focus())}),Dr(t.lineSpace,"selectstart",function(e){Ve(t,e)||Ot(e)}),Dr(r,"compositionstart",function(){var t=l.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:l.markText(t,l.getCursor("to"),{className:"CodeMirror-composing"})}}),Dr(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ws.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Ei(t);if(t.options.moveInputWithCursor){var l=hi(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),r=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,l.top+r.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,l.left+r.left-o.left))}return n},ws.prototype.showSelection=function(t){var e=this.cm.display;i(e.cursorDiv,t.cursors),i(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},ws.prototype.reset=function(t){if(!this.contextMenuPending){var e,i,n=this.cm,l=n.doc;if(n.somethingSelected()){this.prevInput="";var o=l.sel.primary(),r=(e=Hr&&(o.to().line-o.from().line>100||(i=n.getSelection()).length>1e3))?"-":i||n.getSelection();this.textarea.value=r,n.state.focused&&mr(this.textarea),$o&&tr>=9&&(this.hasSelection=r)}else t||(this.prevInput=this.textarea.value="",$o&&tr>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},ws.prototype.getField=function(){return this.textarea},ws.prototype.supportsTouch=function(){return!1},ws.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!gr||o()!=this.textarea))try{this.textarea.focus()}catch(t){}},ws.prototype.blur=function(){this.textarea.blur()},ws.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ws.prototype.receivedFocus=function(){this.slowPoll()},ws.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},ws.prototype.fastPoll=function(){function t(){i.poll()||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},ws.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||kr(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var l=i.value;if(l==n&&!e.somethingSelected())return!1;if($o&&tr>=9&&this.hasSelection===l||Cr&&/[\uf700-\uf7ff]/.test(l))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=l.charCodeAt(0);if(8203!=o||n||(n="â€‹"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var r=0,s=Math.min(n.length,l.length);r<s&&n.charCodeAt(r)==l.charCodeAt(r);)++r;return gn(e,function(){Do(e,l.slice(r),n.length-r,null,t.composing?"*compose":null),l.length>1e3||l.indexOf("\n")>-1?i.value=t.prevInput="":t.prevInput=l,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ws.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ws.prototype.onKeyPress=function(){$o&&tr>=9&&(this.hasSelection=null),this.fastPoll()},ws.prototype.onContextMenu=function(t){function e(){if(null!=r.selectionStart){var t=l.somethingSelected(),e="â€‹"+(t?r.value:"");r.value="â‡š",r.value=e,n.prevInput=t?"":"â€‹",r.selectionStart=1,r.selectionEnd=e.length,o.selForContextMenu=l.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=C,r.style.cssText=g,$o&&tr<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=r.selectionStart){(!$o||$o&&tr<9)&&e();var t=0,i=function(){o.selForContextMenu==l.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"â€‹"==n.prevInput?Cn(l,xl)(l):t++<10?o.detectingSelectAll=setTimeout(i,500):o.input.reset()};o.detectingSelectAll=setTimeout(i,200)}}var n=this,l=n.cm,o=l.display,r=n.textarea,s=fi(l,t),a=o.scroller.scrollTop;if(s&&!lr){l.options.resetSelectionOnContextMenu&&-1==l.doc.sel.contains(s)&&Cn(l,hl)(l.doc,Nn(s),br);var g=r.style.cssText,C=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-h.top-5)+"px; left: "+(t.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+($o?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var A;if(er&&(A=window.scrollY),o.input.focus(),er&&window.scrollTo(null,A),o.input.reset(),l.somethingSelected()||(r.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=l.doc.sel,clearTimeout(o.detectingSelectAll),$o&&tr>=9&&e(),ur){Ht(t);var I=function(){Rt(window,"mouseup",I),setTimeout(i,20)};Dr(window,"mouseup",I)}else setTimeout(i,50)}},ws.prototype.readOnlyChanged=function(t){t||this.reset()},ws.prototype.setUneditable=function(){},ws.prototype.needsContentAttribute=!1,function(t){function e(e,n,l,o){t.defaults[e]=n,l&&(i[e]=o?function(t,e,i){i!=ms&&l(t,e,i)}:l)}var i=t.optionHandlers;t.defineOption=e,t.Init=ms,e("value","",function(t,e){return t.setValue(e)},!0),e("mode",null,function(t,e){t.doc.modeOption=e,Vn(t)},!0),e("indentUnit",2,Vn,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){Zn(t),oi(t),In(t)},!0),e("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter(function(t){for(var l=0;;){var o=t.text.indexOf(e,l);if(-1==o)break;l=o+e.length,i.push(N(n,o))}n++});for(var l=i.length-1;l>=0;l--)Tl(t.doc,e,i[l],N(i[l].line,i[l].ch+e.length))}}),e("specialChars",/[\u0000-\u001f\u007f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,i){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),i!=ms&&t.refresh()}),e("specialCharPlaceholder",Ie,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",gr?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),e("rtlMoveVisually",!Ar),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){So(t),To(t)},!0),e("keyMap","default",function(t,e,i){var n=no(e),l=i!=ms&&no(i);l&&l.detach&&l.detach(t,n),n.attach&&n.attach(t,l||null)}),e("extraKeys",null),e("lineWrapping",!1,Ro,!0),e("gutters",[],function(t){Rn(t.options),To(t)},!0),e("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?xi(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return Bi(t)},!0),e("scrollbarStyle","native",function(t){zi(t),Bi(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t){Rn(t.options),To(t)},!0),e("firstLineNumber",1,To,!0),e("lineNumberFormatter",function(t){return t},To,!0),e("showCursorWhenSelecting",!1,wi,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("readOnly",!1,function(t,e){"nocursor"==e?(Mi(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),e("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),e("dragDrop",!0,Go),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,wi,!0),e("singleCursorHeightPerLine",!0,wi,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,Zn,!0),e("addModeClass",!1,Zn,!0),e("pollInterval",100),e("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,Zn,!0),e("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),e("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),e("autofocus",null)}(Lo),function(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,i){var n=this.options,l=n[t];n[t]==i&&"mode"!=t||(n[t]=i,e.hasOwnProperty(t)&&Cn(this,e[t])(this,i,l),Lt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](no(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:hn(function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");p(this.state.overlays,{mode:n,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},function(t){return t.priority}),this.state.modeGen++,In(this)}),removeOverlay:hn(function(t){for(var e=this,i=this.state.overlays,n=0;n<i.length;++n){var l=i[n].modeSpec;if(l==t||"string"==typeof t&&l.name==t)return i.splice(n,1),e.state.modeGen++,void In(e)}}),indentLine:hn(function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),P(this.doc,t)&&Mo(this,t,e,i)}),indentSelection:hn(function(t){for(var e=this,i=this.doc.sel.ranges,n=-1,l=0;l<i.length;l++){var o=i[l];if(o.empty())o.head.line>n&&(Mo(e,o.head.line,t,!0),n=o.head.line,l==e.doc.sel.primIndex&&qi(e));else{var r=o.from(),s=o.to(),a=Math.max(n,r.line);n=Math.min(e.lastLine(),s.line-(s.ch?0:1))+1;for(var g=a;g<n;++g)Mo(e,g,t);var C=e.doc.sel.ranges;0==r.ch&&i.length==C.length&&C[l].from().ch>0&&sl(e.doc,l,new Pn(r,C[l].to()),br)}}}),getTokenAt:function(t,e){return le(this,t,e)},getLineTokens:function(t,e){return le(this,N(t),e,!0)},getTokenTypeAt:function(t){t=V(this.doc,t);var e,i=$t(this,E(this.doc,t.line)),n=0,l=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var r=n+l>>1;if((r?i[2*r-1]:0)>=o)l=r;else{if(!(i[2*r+1]<o)){e=i[2*r+2];break}n=r+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=this,l=[];if(!i.hasOwnProperty(e))return l;var o=i[e],r=this.getModeAt(t);if("string"==typeof r[e])o[r[e]]&&l.push(o[r[e]]);else if(r[e])for(var s=0;s<r[e].length;s++){var a=o[r[e][s]];a&&l.push(a)}else r.helperType&&o[r.helperType]?l.push(o[r.helperType]):o[r.name]&&l.push(o[r.name]);for(var g=0;g<o._global.length;g++){var C=o._global[g];C.pred(r,n)&&-1==A(l,C.val)&&l.push(C.val)}return l},getStateAfter:function(t,e){var i=this.doc;return t=H(i,null==t?i.first+i.size-1:t),te(this,t+1,e)},cursorCoords:function(t,e){var i,n=this.doc.sel.primary();return i=null==t?n.head:"object"==typeof t?V(this.doc,t):t?n.from():n.to(),hi(this,i,e||"page")},charCoords:function(t,e){return Ci(this,V(this.doc,t),e||"page")},coordsChar:function(t,e){return t=gi(this,t,e||"page"),ci(this,t.left,t.top)},lineAtHeight:function(t,e){return t=gi(this,{top:t,left:0},e||"page").top,L(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,i){var n,l=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,l=!0),n=E(this.doc,t)}else n=t;return ai(this,n,{top:0,left:0},e||"page",i).top+(l?this.doc.height-ct(n):0)},defaultTextHeight:function(){return ui(this.display)},defaultCharWidth:function(){return pi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,l){var o=this.display,r=(t=hi(this,V(this.doc,t))).bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)r=t.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),g=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>a)&&t.top>e.offsetHeight?r=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=a&&(r=t.bottom),s+e.offsetWidth>g&&(s=g-e.offsetWidth)}e.style.top=r+"px",e.style.left=e.style.right="","right"==l?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==l?s=0:"middle"==l&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),i&&ji(this,s,r,s+e.offsetWidth,r+e.offsetHeight)},triggerOnKeyDown:hn(Io),triggerOnKeyPress:hn(po),triggerOnKeyUp:uo,execCommand:function(t){if(ds.hasOwnProperty(t))return ds[t].call(null,this)},triggerElectric:hn(function(t){Uo(this,t)}),findPosH:function(t,e,i,n){var l=this,o=1;e<0&&(o=-1,e=-e);for(var r=V(this.doc,t),s=0;s<e&&!(r=Zo(l.doc,r,o,i,n)).hitSide;++s);return r},moveH:hn(function(t,e){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?Zo(i.doc,n.head,t,e,i.options.rtlMoveVisually):t<0?n.from():n.to()},Er)}),deleteH:hn(function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):lo(this,function(i){var l=Zo(n,i.head,t,e,!1);return t<0?{from:l,to:i.head}:{from:i.head,to:l}})}),findPosV:function(t,e,i,n){var l=this,o=1,r=n;e<0&&(o=-1,e=-e);for(var s=V(this.doc,t),a=0;a<e;++a){var g=hi(l,s,"div");if(null==r?r=g.left:g.left=r,(s=Yo(l,g,o,i)).hitSide)break}return s},moveV:hn(function(t,e){var i=this,n=this.doc,l=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(r){if(o)return t<0?r.from():r.to();var s=hi(i,r.head,"div");null!=r.goalColumn&&(s.left=r.goalColumn),l.push(s.left);var a=Yo(i,s,t,e);return"page"==e&&r==n.sel.primary()&&Qi(i,null,Ci(i,a,"div").top-s.top),a},Er),l.length)for(var r=0;r<n.sel.ranges.length;r++)n.sel.ranges[r].goalColumn=l[r]}),findWordAt:function(t){var e=E(this.doc,t.line).text,i=t.ch,n=t.ch;if(e){var l=this.getHelper(t,"wordChars");(t.xRel<0||n==e.length)&&i?--i:++n;for(var o=e.charAt(i),r=y(o,l)?function(t){return y(t,l)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!y(t)};i>0&&r(e.charAt(i-1));)--i;for(;n<e.length&&r(e.charAt(n));)++n}return new Pn(N(t.line,i),N(t.line,n))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?r(this.display.cursorDiv,"CodeMirror-overwrite"):pr(this.display.cursorDiv,"CodeMirror-overwrite"),Lt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:hn(function(t,e){null==t&&null==e||$i(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Xe(this)-this.display.barHeight,width:t.scrollWidth-Xe(this)-this.display.barWidth,clientHeight:We(this),clientWidth:Be(this)}},scrollIntoView:hn(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:N(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)$i(this),this.curOp.scrollToPos=t;else{var i=Ki(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:hn(function(t,e){var i=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&li(this);var l=this.display.viewFrom;this.doc.iter(l,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){cn(i,l,"widget");break}++l}),this.curOp.forceUpdate=!0,Lt(this,"refresh",this)}),operation:function(t){return gn(this,t)},refresh:hn(function(){var t=this.display.cachedTextHeight;In(this),this.curOp.forceUpdate=!0,oi(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Sn(this),(null==t||Math.abs(t-ui(this.display))>.5)&&yi(this),Lt(this,"refresh",this)}),swapDoc:hn(function(t){var e=this.doc;return e.cm=null,Bn(this,t),oi(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,we(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Dt(t),t.registerHelper=function(e,n,l){i.hasOwnProperty(e)||(i[e]=t[e]={_global:[]}),i[e][n]=l},t.registerGlobalHelper=function(e,n,l,o){t.registerHelper(e,n,o),i[e]._global.push({pred:l,val:o})}}(Lo);var Es="iter insert remove copy getEditor constructor".split(" ");for(var Ss in os.prototype)os.prototype.hasOwnProperty(Ss)&&A(Es,Ss)<0&&(Lo.prototype[Ss]=function(t){return function(){return t.apply(this.doc,arguments)}}(os.prototype[Ss]));return Dt(os),Lo.inputStyles={textarea:ws,contenteditable:bs},Lo.defineMode=function(t){Lo.defaults.mode||"null"==t||(Lo.defaults.mode=t),Bt.apply(this,arguments)},Lo.defineMIME=Wt,Lo.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Lo.defineMIME("text/plain","null"),Lo.defineExtension=function(t,e){Lo.prototype[t]=e},Lo.defineDocExtension=function(t,e){os.prototype[t]=e},Lo.fromTextArea=_o,function(t){t.off=Rt,t.on=Dr,t.wheelEventPixels=Yi,t.Doc=os,t.splitLines=Ur,t.countColumn=C,t.findColumn=I,t.isWordChar=v,t.Pass=fr,t.signal=Lt,t.Line=ae,t.changeEnd=Dn,t.scrollbarModel=ts,t.Pos=N,t.cmpPos=D,t.modes=Zr,t.mimeModes=Yr,t.resolveMode=zt,t.getMode=_t,t.modeExtensions=Fr,t.extendMode=Jt,t.copyState=jt,t.startState=Qt,t.innerMode=Kt,t.commands=ds,t.keyMap=As,t.keyName=io,t.isModifierKey=eo,t.lookupKey=to,t.normalizeKeyMap=$l,t.StringStream=Xr,t.SharedTextMarker=Vl,t.TextMarker=kl,t.LineWidget=Dl,t.e_preventDefault=Ot,t.e_stopPropagation=Ut,t.e_stop=Ht,t.addClass=r,t.contains=l,t.rmClass=pr,t.keyNames=as}(Lo),Lo.version="5.23.0",Lo}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("codemirror")):"function"==typeof define&&define.amd?define(["codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(i||0)))}t.defineMode("javascript",function(i,n){function l(t){for(var e,i=!1,n=!1;null!=(e=t.next());){if(!i){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}i=!i&&"\\"==e}}function o(t,e,i){return Mt=t,Nt=i,e}function r(t,i){var n=t.next();if('"'==n||"'"==n)return i.tokenize=s(n),i.tokenize(t,i);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==n&&t.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return o(n);if("="==n&&t.eat(">"))return o("=>","operator");if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","number");if("0"==n&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),o("number","number");if("0"==n&&t.eat(/b/i))return t.eatWhile(/[01]/i),o("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==n)return t.eat("*")?(i.tokenize=a,a(t,i)):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e(t,i,1)?(l(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(t.eatWhile(Ot),o("operator","operator",t.current()));if("`"==n)return i.tokenize=g,g(t,i);if("#"==n)return t.skipToEnd(),o("error","error");if(Ot.test(n))return">"==n&&i.lexical&&">"==i.lexical.type||t.eatWhile(Ot),o("operator","operator",t.current());if(Lt.test(n)){t.eatWhile(Lt);var r=t.current(),C=Dt.propertyIsEnumerable(r)&&Dt[r];return C&&"."!=i.lastType?o(C.type,C.style,r):o("variable","variable",r)}}function s(t){return function(e,i){var n,l=!1;if(Tt&&"@"==e.peek()&&e.match(Ut))return i.tokenize=r,o("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||l);)l=!l&&"\\"==n;return l||(i.tokenize=r),o("string","string")}}function a(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=r;break}n="*"==i}return o("comment","comment")}function g(t,e){for(var i,n=!1;null!=(i=t.next());){if(!n&&("`"==i||"$"==i&&t.eat("{"))){e.tokenize=r;break}n=!n&&"\\"==i}return o("quasi","string-2",t.current())}function C(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var i=t.string.indexOf("=>",t.start);if(!(i<0)){if(Rt){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,i));n&&(i=n.index)}for(var l=0,o=!1,r=i-1;r>=0;--r){var s=t.string.charAt(r),a=kt.indexOf(s);if(a>=0&&a<3){if(!l){++r;break}if(0==--l){"("==s&&(o=!0);break}}else if(a>=3&&a<6)++l;else if(Lt.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!l){++r;break}}}o&&!l&&(e.fatArrowAt=r)}}function h(t,e,i,n,l,o){this.indented=t,this.column=e,this.type=i,this.prev=l,this.info=o,null!=n&&(this.align=n)}function A(t,e){for(n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==e)return!0}function I(t,e,i,n,l){var o=t.cc;for(Vt.state=t,Vt.stream=l,Vt.marked=null,Vt.cc=o,Vt.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((o.length?o.pop():Gt?b:f)(i,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Vt.marked?Vt.marked:"variable"==i&&A(t,n)?"variable-2":e}}function c(){for(var t=arguments.length-1;t>=0;t--)Vt.cc.push(arguments[t])}function d(){return c.apply(null,arguments),!0}function u(t){function e(e){for(var i=e;i;i=i.next)if(i.name==t)return!0;return!1}var i=Vt.state;if(Vt.marked="def",i.context){if(e(i.localVars))return;i.localVars={name:t,next:i.localVars}}else{if(e(i.globalVars))return;n.globalVars&&(i.globalVars={name:t,next:i.globalVars})}}function p(){Vt.state.context={prev:Vt.state.context,vars:Vt.state.localVars},Vt.state.localVars=Zt}function m(){Vt.state.localVars=Vt.state.context.vars,Vt.state.context=Vt.state.context.prev}function x(t,e){var i=function(){var i=Vt.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var l=i.lexical;l&&")"==l.type&&l.align;l=l.prev)n=l.indented;i.lexical=new h(n,Vt.stream.column(),t,null,i.lexical,e)};return i.lex=!0,i}function v(){var t=Vt.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function y(t){function e(i){return i==t?d():";"==t?c():d(e)}return e}function f(t,e){return"var"==t?d(x("vardef",e.length),q,y(";"),v):"keyword a"==t?d(x("form"),E,f,v):"keyword b"==t?d(x("form"),f,v):"{"==t?d(x("}"),W,v):";"==t?d():"if"==t?("else"==Vt.state.lexical.info&&Vt.state.cc[Vt.state.cc.length-1]==v&&Vt.state.cc.pop()(),d(x("form"),E,f,v,nt)):"function"==t?d(gt):"for"==t?d(x("form"),lt,f,v):"variable"==t?d(x("stat"),H):"switch"==t?d(x("form"),E,x("}","switch"),y("{"),W,v,v):"case"==t?d(b,y(":")):"default"==t?d(y(":")):"catch"==t?d(x("form"),p,y("("),Ct,y(")"),f,v,m):"class"==t?d(x("form"),At,v):"export"==t?d(x("stat"),ut,v):"import"==t?d(x("stat"),mt,v):"module"==t?d(x("form"),$,x("}"),y("{"),W,v,v):"type"==t?d(_,y("operator"),_,y(";")):"async"==t?d(f):c(x("stat"),b,y(";"),v)}function b(t){return S(t,!1)}function w(t){return S(t,!0)}function E(t){return"("!=t?c():d(x(")"),b,y(")"),v)}function S(t,e){if(Vt.state.fatArrowAt==Vt.stream.start){var i=e?D:N;if("("==t)return d(p,x(")"),X($,")"),v,y("=>"),i,m);if("variable"==t)return c(p,$,y("=>"),i,m)}var n=e?L:R;return Ht.hasOwnProperty(t)?d(n):"function"==t?d(gt,n):"class"==t?d(x("form"),ht,v):"keyword c"==t||"async"==t?d(e?G:T):"("==t?d(x(")"),T,y(")"),v,n):"operator"==t||"spread"==t?d(e?w:b):"["==t?d(x("]"),bt,v,n):"{"==t?B(Z,"}",null,n):"quasi"==t?c(P,n):"new"==t?d(O(e)):d()}function T(t){return t.match(/[;\}\)\],]/)?c():c(b)}function G(t){return t.match(/[;\}\)\],]/)?c():c(w)}function R(t,e){return","==t?d(b):L(t,e,!1)}function L(t,e,i){var n=0==i?R:L,l=0==i?b:w;return"=>"==t?d(p,i?D:N,m):"operator"==t?/\+\+|--/.test(e)?d(n):"?"==e?d(b,y(":"),l):d(l):"quasi"==t?c(P,n):";"!=t?"("==t?B(w,")","call",n):"."==t?d(V,n):"["==t?d(x("]"),T,y("]"),v,n):void 0:void 0}function P(t,e){return"quasi"!=t?c():"${"!=e.slice(e.length-2)?d(P):d(b,M)}function M(t){if("}"==t)return Vt.marked="string-2",Vt.state.tokenize=g,d(P)}function N(t){return C(Vt.stream,Vt.state),c("{"==t?f:b)}function D(t){return C(Vt.stream,Vt.state),c("{"==t?f:w)}function O(t){return function(e){return"."==e?d(t?k:U):c(t?w:b)}}function U(t,e){if("target"==e)return Vt.marked="keyword",d(R)}function k(t,e){if("target"==e)return Vt.marked="keyword",d(L)}function H(t){return":"==t?d(v,f):c(R,y(";"),v)}function V(t){if("variable"==t)return Vt.marked="property",d()}function Z(t,e){return"async"==t?(Vt.marked="property",d(Z)):"variable"==t||"keyword"==Vt.style?(Vt.marked="property",d("get"==e||"set"==e?Y:F)):"number"==t||"string"==t?(Vt.marked=Tt?"property":Vt.style+" property",d(F)):"jsonld-keyword"==t?d(F):"modifier"==t?d(Z):"["==t?d(b,y("]"),F):"spread"==t?d(b):":"==t?c(F):void 0}function Y(t){return"variable"!=t?c(F):(Vt.marked="property",d(gt))}function F(t){return":"==t?d(w):"("==t?c(gt):void 0}function X(t,e,i){function n(l,o){if(i?i.indexOf(l)>-1:","==l){var r=Vt.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),d(function(i,n){return i==e||n==e?c():c(t)},n)}return l==e||o==e?d():d(y(e))}return function(i,l){return i==e||l==e?d():c(t,n)}}function B(t,e,i){for(var n=3;n<arguments.length;n++)Vt.cc.push(arguments[n]);return d(x(e,i),X(t,e),v)}function W(t){return"}"==t?d():c(f,W)}function z(t,e){if(Rt){if(":"==t)return d(_);if("?"==e)return d(z)}}function _(t){return"variable"==t?(Vt.marked="variable-3",d(Q)):"string"==t||"number"==t||"atom"==t?d(Q):"{"==t?d(x("}"),X(j,"}",",;"),v):"("==t?d(X(K,")"),J):void 0}function J(t){if("=>"==t)return d(_)}function j(t,e){return"variable"==t||"keyword"==Vt.style?(Vt.marked="property",d(j)):"?"==e?d(j):":"==t?d(_):void 0}function K(t){return"variable"==t?d(K):":"==t?d(_):void 0}function Q(t,e){return"<"==e?d(x(">"),X(_,">"),v,Q):"|"==e||"."==t?d(_):"["==t?d(y("]"),Q):void 0}function q(){return c($,z,et,it)}function $(t,e){return"modifier"==t?d($):"variable"==t?(u(e),d()):"spread"==t?d($):"["==t?B($,"]"):"{"==t?B(tt,"}"):void 0}function tt(t,e){return"variable"!=t||Vt.stream.match(/^\s*:/,!1)?("variable"==t&&(Vt.marked="property"),"spread"==t?d($):"}"==t?c():d(y(":"),$,et)):(u(e),d(et))}function et(t,e){if("="==e)return d(w)}function it(t){if(","==t)return d(q)}function nt(t,e){if("keyword b"==t&&"else"==e)return d(x("form","else"),f,v)}function lt(t){if("("==t)return d(x(")"),ot,y(")"),v)}function ot(t){return"var"==t?d(q,y(";"),st):";"==t?d(st):"variable"==t?d(rt):c(b,y(";"),st)}function rt(t,e){return"in"==e||"of"==e?(Vt.marked="keyword",d(b)):d(R,st)}function st(t,e){return";"==t?d(at):"in"==e||"of"==e?(Vt.marked="keyword",d(b)):c(b,y(";"),at)}function at(t){")"!=t&&d(b)}function gt(t,e){return"*"==e?(Vt.marked="keyword",d(gt)):"variable"==t?(u(e),d(gt)):"("==t?d(p,x(")"),X(Ct,")"),v,z,f,m):void 0}function Ct(t){return"spread"==t?d(Ct):c($,z,et)}function ht(t,e){return"variable"==t?At(t,e):It(t,e)}function At(t,e){if("variable"==t)return u(e),d(It)}function It(t,e){return"extends"==e||"implements"==e?d(Rt?_:b,It):"{"==t?d(x("}"),ct,v):void 0}function ct(t,e){return"variable"==t||"keyword"==Vt.style?("static"==e||"get"==e||"set"==e||Rt&&("public"==e||"private"==e||"protected"==e||"readonly"==e||"abstract"==e))&&Vt.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Vt.marked="keyword",d(ct)):(Vt.marked="property",d(Rt?dt:gt,ct)):"*"==e?(Vt.marked="keyword",d(ct)):";"==t?d(ct):"}"==t?d():void 0}function dt(t,e){return"?"==e?d(dt):":"==t?d(_,et):c(gt)}function ut(t,e){return"*"==e?(Vt.marked="keyword",d(ft,y(";"))):"default"==e?(Vt.marked="keyword",d(b,y(";"))):"{"==t?d(X(pt,"}"),ft,y(";")):c(f)}function pt(t,e){return"as"==e?(Vt.marked="keyword",d(y("variable"))):"variable"==t?c(w,pt):void 0}function mt(t){return"string"==t?d():c(xt,vt,ft)}function xt(t,e){return"{"==t?B(xt,"}"):("variable"==t&&u(e),"*"==e&&(Vt.marked="keyword"),d(yt))}function vt(t){if(","==t)return d(xt,vt)}function yt(t,e){if("as"==e)return Vt.marked="keyword",d(xt)}function ft(t,e){if("from"==e)return Vt.marked="keyword",d(b)}function bt(t){return"]"==t?d():c(X(w,"]"))}function wt(t,e){return"operator"==t.lastType||","==t.lastType||Ot.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var Et=i.indentUnit,St=n.statementIndent,Tt=n.jsonld,Gt=n.json||Tt,Rt=n.typescript,Lt=n.wordCharacters||/[\w$\xa1-\uffff]/,Pt=void 0===Pt?{}:Pt;Pt.parser=function(){var t=!0,e={},i=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONObject:13,EOF:14,JSONArray:15,JSONValue:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[12,2],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[13,2],[13,3],[20,3],[19,1],[19,3],[15,2],[15,3],[25,1],[25,3]],performAction:function(t,e,i,n,l,o,r){var s=o.length-1;switch(l){case 1:this.$=t;break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:case 7:return this.$=o[s-1];case 8:case 9:case 10:case 11:case 12:case 13:this.$=o[s];break;case 14:this.$={};break;case 15:this.$=o[s-1];break;case 16:this.$=[o[s-2],o[s]];break;case 17:this.$={},this.$[o[s][0]]=o[s][1];break;case 18:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 19:this.$=[];break;case 20:this.$=o[s-1];break;case 21:this.$=[o[s]];break;case 22:this.$=o[s-2],o[s-2].push(o[s])}},table:[{12:1,13:2,15:3,17:[1,4],23:[1,5]},{1:[3]},{14:[1,6]},{14:[1,7]},{3:11,4:[1,12],18:[1,8],19:9,20:10},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:15,17:[1,4],23:[1,5],24:[1,13],25:14},{1:[2,6]},{1:[2,7]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{18:[1,26],22:[1,27]},{18:[2,17],22:[2,17]},{21:[1,28]},{18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{22:[1,30],24:[1,29]},{22:[2,21],24:[2,21]},{18:[2,8],22:[2,8],24:[2,8]},{18:[2,9],22:[2,9],24:[2,9]},{18:[2,10],22:[2,10],24:[2,10]},{18:[2,11],22:[2,11],24:[2,11]},{18:[2,12],22:[2,12],24:[2,12]},{18:[2,13],22:[2,13],24:[2,13]},{18:[2,3],22:[2,3],24:[2,3]},{18:[2,4],22:[2,4],24:[2,4]},{18:[2,5],22:[2,5],24:[2,5]},{18:[2,2],22:[2,2],24:[2,2]},{14:[2,15],18:[2,15],22:[2,15],24:[2,15]},{3:11,4:[1,12],20:31},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:32,17:[1,4],23:[1,5]},{14:[2,20],18:[2,20],22:[2,20],24:[2,20]},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:33,17:[1,4],23:[1,5]},{18:[2,18],22:[2,18]},{18:[2,16],22:[2,16]},{22:[2,22],24:[2,22]}],defaultActions:{6:[2,6],7:[2,7]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=i.lexer.lex()||1)&&(t=i.symbols_[t]||t),t}var i=this,n=[0],l=[null],o=[],r=this.table,s="",a=0,g=0,C=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var A,I,c,d,u,p,m,x,v,y={};;){if(c=n[n.length-1],this.defaultActions[c]?d=this.defaultActions[c]:(null==A&&(A=e()),d=r[c]&&r[c][A]),void 0===d||!d.length||!d[0]){if(!C){v=[];for(p in r[c])this.terminals_[p]&&p>2&&v.push("'"+this.terminals_[p]+"'");var f="";f=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", "):"Parse error on line "+(a+1)+": Unexpected "+(1==A?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(f,{text:this.lexer.match,token:this.terminals_[A]||A,line:this.lexer.yylineno,loc:h,expected:v})}if(3==C){if(1==A)throw new Error(f||"Parsing halted.");g=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,h=this.lexer.yylloc,A=e()}for(;!(2..toString()in r[c]);){if(0==c)throw new Error(f||"Parsing halted.");(function(t){n.length=n.length-2*t,l.length=l.length-t,o.length=o.length-t})(1),c=n[n.length-1]}I=A,A=2,d=r[c=n[n.length-1]]&&r[c][2],C=3}if(d[0]instanceof Array&&d.length>1)throw new Error("Parse Error: multiple actions possible at state: "+c+", token: "+A);switch(d[0]){case 1:n.push(A),l.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(d[1]),A=null,I?(A=I,I=null):(g=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,h=this.lexer.yylloc,C>0&&C--);break;case 2:if(m=this.productions_[d[1]][1],y.$=l[l.length-m],y._$={first_line:o[o.length-(m||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(m||1)].first_column,last_column:o[o.length-1].last_column},void 0!==(u=this.performAction.call(y,s,g,a,this.yy,d[1],l,o)))return u;m&&(n=n.slice(0,-1*m*2),l=l.slice(0,-1*m),o=o.slice(0,-1*m)),n.push(this.productions_[d[1]][0]),l.push(y.$),o.push(y._$),x=r[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.match+=t,this.matched+=t,t.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),t},unput:function(t){return this._input=t+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),l=0;l<n.length;l++)if(e=this._input.match(this.rules[n[l]])){if((i=e[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,n[l],this.conditionStack[this.conditionStack.length-1]))return t;return}if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}};return t.performAction=function(t,e,i,n){switch(i){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},t.rules=[/^\s+/,/^-?([0-9]|[1-9][0-9]+)(\.[0-9]+)?([eE][-+]?[0-9]+)?\b/,/^"(\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^\0-\x09\x0a-\x1f"\\])*"/,/^\{/,/^\}/,/^\[/,/^\]/,/^,/,/^:/,/^true\b/,/^false\b/,/^null\b/,/^$/,/^./],t.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},t}();return t.lexer=e,t}();return void 0!==e&&(e.parser=i,e.parse=function(){return i.parse.apply(i,arguments)},e.main=function(i){if(!i[1])throw new Error("Usage: "+i[0]+" FILE");if("undefined"!=typeof process)l=t("fs").readFileSync(t("path").join(process.cwd(),i[1]),"utf8");else var n=t("file").path(t("file").cwd()),l=n.join(i[1]).read({charset:"utf-8"});return e.parser.parse(l)},!1===t.main&&e.main("undefined"!=typeof process?process.argv.slice(1):t("system").args)),e}();var Mt,Nt,Dt=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),i=t("keyword b"),n=t("keyword c"),l=t("operator"),o={type:"atom",style:"atom"},r={if:t("if"),while:e,with:e,else:i,do:i,try:i,finally:i,return:n,break:n,continue:n,new:t("new"),delete:n,throw:n,debugger:n,var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:l,typeof:l,instanceof:l,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:t("this"),class:t("class"),super:t("atom"),yield:n,export:t("export"),import:t("import"),extends:n,await:n,async:t("async")};if(Rt){var s={type:"variable",style:"variable-3"},a={interface:t("class"),implements:n,namespace:n,module:t("module"),enum:t("module"),type:t("type"),public:t("modifier"),private:t("modifier"),protected:t("modifier"),abstract:t("modifier"),as:l,string:s,number:s,boolean:s,any:s};for(var g in a)r[g]=a[g]}return r}(),Ot=/[+\-*&%=<>!?|~^]/,Ut=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,kt="([{}])",Ht={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Vt={state:null,column:null,marked:null,cc:null},Zt={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(t){var e={tokenize:r,lastType:"sof",cc:[],lexical:new h((t||0)-Et,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),C(t,e)),e.tokenize!=a&&t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==Mt?i:(e.lastType="operator"!=Mt||"++"!=Nt&&"--"!=Nt?Mt:"incdec",I(e,i,Mt,Nt,t))},validator:function(t){var e=t.getTextArea().value,i=null;try{Pt.parser.parse(e)}catch(t){i={};var n=t.message.match(/line ([0-9]*)/);n&&"object"==typeof n&&n.length>1&&(i.lineNo=parseInt(n[1],10),i.message=t.message)}return i},indent:function(e,i){if(e.tokenize==a)return t.Pass;if(e.tokenize!=r)return 0;var l,o=i&&i.charAt(0),s=e.lexical;if(!/^\s*else\b/.test(i))for(var g=e.cc.length-1;g>=0;--g){var C=e.cc[g];if(C==v)s=s.prev;else if(C!=nt)break}for(;("stat"==s.type||"form"==s.type)&&("}"==o||(l=e.cc[e.cc.length-1])&&(l==R||l==L)&&!/^[,\.=+\-*:?[\(]/.test(i));)s=s.prev;St&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var h=s.type,A=o==h;return"vardef"==h?s.indented+("operator"==e.lastType||","==e.lastType?s.info+1:0):"form"==h&&"{"==o?s.indented:"form"==h?s.indented+Et:"stat"==h?s.indented+(wt(e,i)?St||Et:0):"switch"!=s.info||A||0==n.doubleIndentSwitch?s.align?s.column+(A?0:1):s.indented+(A?0:Et):s.indented+(/^(?:case|default)\b/.test(i)?Et:2*Et)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Gt?null:"/*",blockCommentEnd:Gt?null:"*/",lineComment:Gt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Gt?"json":"javascript",jsonldMode:Tt,jsonMode:Gt,expressionAllowed:e,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=b&&e!=w||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("codemirror")):"function"==typeof define&&define.amd?define(["codemirror"],t):t(CodeMirror)}(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};t.defineMode("xml",function(n,l){function o(t,e){function i(i){return e.tokenize=i,i(t,e)}var n=t.next();if("<"==n)return t.eat("!")?t.eat("[")?t.match("CDATA[")?i(a("atom","]]>")):null:t.match("--")?i(a("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(g(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=a("meta","?>"),"meta"):(S=t.eat("/")?"closeTag":"openTag",e.tokenize=r,"tag bracket");if("&"==n){var l;return l=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),l?"atom":"error"}return t.eatWhile(/[^&<]/),null}function r(t,e){var i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=o,S=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return S="equals",null;if("<"==i){e.tokenize=o,e.state=I,e.tagName=e.tagStart=null;var n=e.tokenize(t,e);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=s(i),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(t){var e=function(e,i){for(;!e.eol();)if(e.next()==t){i.tokenize=r;break}return"string"};return e.isInAttribute=!0,e}function a(t,e){return function(i,n){for(;!i.eol();){if(i.match(e)){n.tokenize=o;break}i.next()}return t}}function g(t){return function(e,i){for(var n;null!=(n=e.next());){if("<"==n)return i.tokenize=g(t+1),i.tokenize(e,i);if(">"==n){if(1==t){i.tokenize=o;break}return i.tokenize=g(t-1),i.tokenize(e,i)}}return"meta"}}function C(t,e,i){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=i,(b.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function h(t){t.context&&(t.context=t.context.prev)}function A(t,e){for(var i;;){if(!t.context)return;if(i=t.context.tagName,!b.contextGrabbers.hasOwnProperty(i)||!b.contextGrabbers[i].hasOwnProperty(e))return;h(t)}}function I(t,e,i){return"openTag"==t?(i.tagStart=e.column(),c):"closeTag"==t?d:I}function c(t,e,i){return"word"==t?(i.tagName=e.current(),T="tag",m):(T="error",c)}function d(t,e,i){if("word"==t){var n=e.current();return i.context&&i.context.tagName!=n&&b.implicitlyClosed.hasOwnProperty(i.context.tagName)&&h(i),i.context&&i.context.tagName==n||!1===b.matchClosing?(T="tag",u):(T="tag error",p)}return T="error",p}function u(t,e,i){return"endTag"!=t?(T="error",u):(h(i),I)}function p(t,e,i){return T="error",u(t,e,i)}function m(t,e,i){if("word"==t)return T="attribute",x;if("endTag"==t||"selfcloseTag"==t){var n=i.tagName,l=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==t||b.autoSelfClosers.hasOwnProperty(n)?A(i,n):(A(i,n),i.context=new C(i,n,l==i.indented)),I}return T="error",m}function x(t,e,i){return"equals"==t?v:(b.allowMissing||(T="error"),m(t,e,i))}function v(t,e,i){return"string"==t?y:"word"==t&&b.allowUnquoted?(T="string",m):(T="error",m(t,e,i))}function y(t,e,i){return"string"==t?y:m(t,e,i)}var f=n.indentUnit,b={},w=l.htmlMode?e:i;for(var E in w)b[E]=w[E];for(var E in l)b[E]=l[E];var S,T;return o.isInText=!0,{startState:function(t){var e={tokenize:o,state:I,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;S=null;var i=e.tokenize(t,e);return(i||S)&&"comment"!=i&&(T=null,e.state=e.state(S||i,t,e),T&&(i="error"==T?i+" error":T)),i},validator:function(t){return null},indent:function(e,i,n){var l=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+f;if(l&&l.noIndent)return t.Pass;if(e.tokenize!=r&&e.tokenize!=o)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==b.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+f*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var s=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(s&&s[1])for(;l;){if(l.tagName==s[2]){l=l.prev;break}if(!b.implicitlyClosed.hasOwnProperty(l.tagName))break;l=l.prev}else if(s)for(;l;){var a=b.contextGrabbers[l.tagName];if(!a||!a.hasOwnProperty(s[2]))break;l=l.prev}for(;l&&l.prev&&!l.startOfLine;)l=l.prev;return l?l.indent+f:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(t){t.state==v&&(t.state=m)}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("codemirror")):"function"==typeof define&&define.amd?define(["codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("yaml",function(){var t=["true","false","on","off","yes","no"],e=new RegExp("\\b(("+t.join(")|(")+"))$","i"),i=function(t){this.offset=void 0!==t?t:0};i.prototype={offset:0,lines:[],currentLineNb:-1,currentLine:"",refs:{},parse:function(t){this.currentLineNb=-1,this.currentLine="",this.lines=this.cleanup(t).split("\n");for(var e=null,o=null;this.moveToNextLine();)if(!this.isCurrentLineEmpty()){if("\t"==this.currentLine.charAt(0))throw new l("A YAML file cannot contain tabs as indentation.",this.getRealCurrentLineNb()+1,this.currentLine);var r=!1,s=!1,a=!1,g=null,C=null,h=null,A=null,I=null,c=null,d=null,u=null,p=null;if(g=/^\-((\s+)(.+?))?\s*$/.exec(this.currentLine)){if(o&&"mapping"==o)throw new l("You cannot define a sequence item when in a mapping",this.getRealCurrentLineNb()+1,this.currentLine);o="sequence",this.isDefined(e)||(e=[]),g={leadspaces:g[2],value:g[3]},this.isDefined(g.value)&&(C=/^&([^ ]+) *(.*)/.exec(g.value))&&(r=(C={ref:C[1],value:C[2]}).ref,g.value=C.value),this.isDefined(g.value)&&""!=this.trim(g.value)&&"#"!=g.value.replace(/^ +/,"").charAt(0)?this.isDefined(g.leadspaces)&&" "==g.leadspaces&&(C=new RegExp("^("+n.REGEX_QUOTED_STRING+"|[^ '\"{[].*?) *:(\\s+(.+?))?\\s*$").exec(g.value))?(C={key:C[1],value:C[3]},h=this.getRealCurrentLineNb(),(A=new i(h)).refs=this.refs,I=g.value,this.isNextLineIndented()||(I+="\n"+this.getNextEmbedBlock(this.getCurrentLineIndentation()+2)),e.push(A.parse(I)),this.refs=A.refs):e.push(this.parseValue(g.value)):(h=this.getRealCurrentLineNb()+1,(A=new i(h)).refs=this.refs,e.push(A.parse(this.getNextEmbedBlock())),this.refs=A.refs)}else{if(!(g=new RegExp("^("+n.REGEX_QUOTED_STRING+"|[^ '\"[{].*?) *:(\\s+(.+?))?\\s*$").exec(this.currentLine))){if(2==this.lines.length&&this.isEmpty(this.lines[1])){try{t=(new n).parse(this.lines[0])}catch(t){throw t instanceof l&&(t.setParsedLine(this.getRealCurrentLineNb()+1),t.setSnippet(this.currentLine)),t}if(this.isObject(t)){var m=t[0];if("string"==typeof t&&"*"==m.charAt(0)){e=[],u=t.length;for(v=0;v<u;v++)e.push(this.refs[t[v].substr(1)]);t=e}}return t}throw new l("Unable to parse.",this.getRealCurrentLineNb()+1,this.currentLine)}if(this.isDefined(e)||(e={}),o&&"sequence"==o)throw new l("You cannot define a mapping item when in a sequence",this.getRealCurrentLineNb()+1,this.currentLine);o="mapping",g={key:g[1],value:g[3]};try{c=(new n).parseScalar(g.key)}catch(t){throw t instanceof l&&(t.setParsedLine(this.getRealCurrentLineNb()+1),t.setSnippet(this.currentLine)),t}if("<<"==c)if(this.isDefined(g.value)&&"*"==(g.value+"").charAt(0)){if(s=g.value.substr(1),void 0==this.refs[s])throw new l('Reference "'+t+'" does not exist',this.getRealCurrentLineNb()+1,this.currentLine)}else{t=this.isDefined(g.value)&&""!=g.value?g.value:this.getNextEmbedBlock(),h=this.getRealCurrentLineNb()+1,(A=new i(h)).refs=this.refs,d=A.parse(t),this.refs=A.refs;var x=[];if(!this.isObject(d))throw new l("YAML merge keys used with a scalar value instead of an array",this.getRealCurrentLineNb()+1,this.currentLine);if(this.isDefined(d[0])){u=(p=this.reverseArray(d)).length;for(var v=0;v<u;v++){p[v];if(!this.isObject(p[v]))throw new l("Merge items must be arrays",this.getRealCurrentLineNb()+1,this.currentLine);x=this.mergeObject(p[v],x)}}else x=this.mergeObject(x,d);a=x}else this.isDefined(g.value)&&(C=/^&([^ ]+) *(.*)/.exec(g.value))&&(r=(C={ref:C[1],value:C[2]}).ref,g.value=C.value);a?e=a:this.isDefined(g.value)&&""!=this.trim(g.value)&&"#"!=this.trim(g.value).charAt(0)?s?e=this.refs[s]:e[c]=this.parseValue(g.value):this.isNextLineIndented()&&!this.isNextLineUnIndentedCollection()?e[c]=null:(h=this.getRealCurrentLineNb()+1,(A=new i(h)).refs=this.refs,e[c]=A.parse(this.getNextEmbedBlock()),this.refs=A.refs)}if(r)if(e instanceof Array)this.refs[r]=e[e.length-1];else{for(var y in e)e.hasOwnProperty(y)&&y;this.refs[r]=e[y]}}return this.isEmpty(e)?null:e},getRealCurrentLineNb:function(){return this.currentLineNb+this.offset},getCurrentLineIndentation:function(){return this.currentLine.length-this.currentLine.replace(/^ +/g,"").length},getNextEmbedBlock:function(t){this.moveToNextLine();var e=null,i=null;if(this.isDefined(t))e=t;else{e=this.getCurrentLineIndentation();var n=this.isStringUnIndentedCollectionItem(this.currentLine);if(!this.isCurrentLineEmpty()&&0==e&&!n)throw new l("Indentation problem A",this.getRealCurrentLineNb()+1,this.currentLine)}for(var o=[this.currentLine.substr(e)],r=this.isStringUnIndentedCollectionItem(this.currentLine);this.moveToNextLine();){if(r&&!this.isStringUnIndentedCollectionItem(this.currentLine)){this.moveToPreviousLine();break}if(this.isCurrentLineEmpty())this.isCurrentLineBlank()&&o.push(this.currentLine.substr(e));else{i=this.getCurrentLineIndentation();var s;if(s=/^( *)$/.exec(this.currentLine))o.push(s[1]);else{if(!(i>=e)){if(0==i){this.moveToPreviousLine();break}throw new l("Indentation problem B",this.getRealCurrentLineNb()+1,this.currentLine)}o.push(this.currentLine.substr(e))}}}return o.join("\n")},moveToNextLine:function(){return!(this.currentLineNb>=this.lines.length-1)&&(this.currentLineNb++,this.currentLine=this.lines[this.currentLineNb],!0)},moveToPreviousLine:function(){this.currentLineNb--,this.currentLine=this.lines[this.currentLineNb]},parseValue:function(t){if("*"==(t+"").charAt(0)){if(t="#"==this.trim(t).charAt(0)?(t+"").substr(1,t.indexOf("#")-2):(t+"").substr(1),void 0==this.refs[t])throw new l('Reference "'+t+'" does not exist',this.getRealCurrentLineNb()+1,this.currentLine);return this.refs[t]}var e=null;if(e=/^(\||>)(\+|\-|\d+|\+\d+|\-\d+|\d+\+|\d+\-)?( +#.*)?$/.exec(t)){e={separator:e[1],modifiers:e[2],comments:e[3]};var i=this.isDefined(e.modifiers)?e.modifiers:"";return this.parseFoldedScalar(e.separator,i.replace(/\d+/g,""),Math.abs(parseInt(i)))}try{return(new n).parse(t)}catch(t){throw t instanceof l&&(t.setParsedLine(this.getRealCurrentLineNb()+1),t.setSnippet(this.currentLine)),t}},parseFoldedScalar:function(t,e,i){void 0==e&&(e=""),void 0==i&&(i=0),t="|"==t?"\n":" ";for(var n="",l=null,o=this.moveToNextLine();o&&this.isCurrentLineBlank();)n+="\n",o=this.moveToNextLine();if(!o)return"";var r=null;if(!(r=new RegExp("^("+(i?this.strRepeat(" ",i):" +")+")(.*)$").exec(this.currentLine)))return this.moveToPreviousLine(),"";var s=(r={indent:r[1],text:r[2]}).indent,a=0;for(n+=r.text+t;this.currentLineNb+1<this.lines.length;)if(this.moveToNextLine(),r=new RegExp("^( {"+s.length+",})(.+)$").exec(this.currentLine))r={indent:r[1],text:r[2]}," "==t&&a!=r.indent&&(n=n.substr(0,n.length-1)+"\n"),a=r.indent,l=r.indent.length-s.length,n+=this.strRepeat(" ",l)+r.text+(0!=l?"\n":t);else{if(!(r=/^( *)$/.exec(this.currentLine))){this.moveToPreviousLine();break}n+=r[1].replace(new RegExp("^ {1,"+s.length+"}","g"),"")+"\n"}switch(" "==t&&(n=n.replace(/ (\n*)$/g,"\n$1")),e){case"":n=n.replace(/\n+$/g,"\n");break;case"+":break;case"-":n=n.replace(/\n+$/g,"")}return n},isNextLineIndented:function(){for(var t=this.getCurrentLineIndentation(),e=this.moveToNextLine();e&&this.isCurrentLineEmpty();)e=this.moveToNextLine();if(0==e)return!1;var i=!1;return this.getCurrentLineIndentation()<=t&&(i=!0),this.moveToPreviousLine(),i},isCurrentLineEmpty:function(){return this.isCurrentLineBlank()||this.isCurrentLineComment()},isCurrentLineBlank:function(){return""==this.trim(this.currentLine)},isCurrentLineComment:function(){return"#"==this.currentLine.replace(/^ +/g,"").charAt(0)},cleanup:function(t){t=t.split("\r\n").join("\n").split("\r").join("\n"),/\n$/.test(t)||(t+="\n");for(var e=0,i=/^\%YAML[: ][\d\.]+.*\n/;i.test(t);)t=t.replace(i,""),e++;if(this.offset+=e,(i=/^(#.*?\n)+/).test(t)){var n=t.replace(i,"");this.offset+=this.subStrCount(t,"\n")-this.subStrCount(n,"\n"),t=n}return(i=/^\-\-\-.*?\n/).test(t)&&(n=t.replace(i,""),this.offset+=this.subStrCount(t,"\n")-this.subStrCount(n,"\n"),t=(t=n).replace(/\.\.\.\s*$/g,"")),t},isNextLineUnIndentedCollection:function(){for(var t=this.getCurrentLineIndentation(),e=this.moveToNextLine();e&&this.isCurrentLineEmpty();)e=this.moveToNextLine();if(!1===e)return!1;var i=!1;return this.getCurrentLineIndentation()==t&&this.isStringUnIndentedCollectionItem(this.currentLine)&&(i=!0),this.moveToPreviousLine(),i},isStringUnIndentedCollectionItem:function(t){return 0===this.currentLine.indexOf("- ")},isObject:function(t){return"object"==typeof t&&this.isDefined(t)},isEmpty:function(t){return void 0==t||null==t||""==t||0==t||"0"==t||0==t},isDefined:function(t){return void 0!=t&&null!=t},reverseArray:function(t){for(var e=[],i=t.length-1;i>=0;i--)e.push(t[i]);return e},merge:function(t,e){var i,n={};for(i in t)t.hasOwnProperty(i)&&(/^\d+$/.test(i)?n.push(t):n[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(/^\d+$/.test(i)?n.push(e):n[i]=e[i]);return n},strRepeat:function(t,e){var i,n="";for(i=0;i<e;i++)n+=t;return n},subStrCount:function(t,e,i,n){var l=0;t=""+t,e=""+e,void 0!=i&&(t=t.substr(i)),void 0!=n&&(t=t.substr(0,n));for(var o=t.length,r=e.length,s=0;s<o;s++)e==t.substr(s,r)&&l++,s+=r-1;return l},trim:function(t){return(t+"").replace(/^ +/,"").replace(/ +$/,"")}};var n=function(){};n.prototype={i:null,parse:function(t){var e=null;if(0==(t=this.trim(t)).length)return"";switch(t.charAt(0)){case"[":e=this.parseSequence(t);break;case"{":e=this.parseMapping(t);break;default:e=this.parseScalar(t)}if(""!=t.substr(this.i+1).replace(/^\s*#.*$/,""))throw new l('Unexpected characters near "'+t.substr(this.i)+'".');return e},dump:function(t){if(void 0==t||null==t)return"null";if(t instanceof Date)return t.toISOString();if("object"==typeof t)return this.dumpObject(t);if("boolean"==typeof t)return t?"true":"false";if(/^\d+$/.test(t))return"string"==typeof t?"'"+t+"'":parseInt(t);if(this.isNumeric(t))return"string"==typeof t?"'"+t+"'":parseFloat(t);if("number"==typeof t)return t==1/0?".Inf":t==-1/0?"-.Inf":isNaN(t)?".NAN":t;var e=new YamlEscaper;return e.requiresDoubleQuoting(t)?e.escapeWithDoubleQuotes(t):e.requiresSingleQuoting(t)?e.escapeWithSingleQuotes(t):""==t?"":this.getTimestampRegex().test(t)?"'"+t+"'":this.inArray(t.toLowerCase(),["null","~","true","false"])?"'"+t+"'":t},dumpObject:function(t){var e,i=this.getKeys(t),n=null,l=i.length;if(t instanceof Array){for(n=[],e=0;e<l;e++)n.push(this.dump(t[i[e]]));return"["+n.join(", ")+"]"}for(n=[],e=0;e<l;e++)n.push(this.dump(i[e])+": "+this.dump(t[i[e]]));return"{ "+n.join(", ")+" }"},parseScalar:function(t,e,i,n,o){void 0==e&&(e=null),void 0==i&&(i=['"',"'"]),void 0==n&&(n=0),void 0==o&&(o=!0);var r=null,s=null,a=null;if(this.inArray(t[n],i)){if(r=this.parseQuotedScalar(t,n),n=this.i,null!==e){var g=t.substr(n).replace(/^\s+/,"");if(!this.inArray(g.charAt(0),e))throw new l("Unexpected characters ("+t.substr(n)+").")}}else{if(e){if(!(a=new RegExp("^(.+?)("+e.join("|")+")").exec((t+"").substring(n))))throw new l("Malformed inline YAML string ("+t+").");n+=(r=a[1]).length}else n+=(r=(t+"").substring(n)).length,-1!=(s=r.indexOf(" #"))&&(r=r.substr(0,s).replace(/\s+$/g,""));r=o?this.evaluateScalar(r):r}return this.i=n,r},parseQuotedScalar:function(t,e){var i=null;if(!(i=new RegExp("^"+n.REGEX_QUOTED_STRING).exec((t+"").substring(e))))throw new l("Malformed inline YAML string ("+(t+"").substring(e)+").");var r=i[0].substr(1,i[0].length-2),s=new o;return r='"'==(t+"").charAt(e)?s.unescapeDoubleQuotedString(r):s.unescapeSingleQuotedString(r),e+=i[0].length,this.i=e,r},parseSequence:function(t,e){void 0==e&&(e=0);var i=[],n=t.length;for(e+=1;e<n;){switch(t.charAt(e)){case"[":i.push(this.parseSequence(t,e)),e=this.i;break;case"{":i.push(this.parseMapping(t,e)),e=this.i;break;case"]":return this.i=e,i;case",":case" ":break;default:var o=this.inArray(t.charAt(e),['"',"'"]),r=this.parseScalar(t,[",","]"],['"',"'"],e);if(e=this.i,!o&&-1!=(r+"").indexOf(": "))try{r=this.parseMapping("{"+r+"}")}catch(t){if(!(t instanceof l))throw t}i.push(r),e--}e++}throw new l('Malformed inline YAML string "'+t+'"')},parseMapping:function(t,e){void 0==e&&(e=0);var i={},n=t.length;e+=1;for(var o=!1,r=!1;e<n;){switch(r=!1,t.charAt(e)){case" ":case",":e++,r=!0;break;case"}":return this.i=e,i}if(!r){var s=this.parseScalar(t,[":"," "],['"',"'"],e,!1);for(e=this.i,o=!1;e<n;){switch(t.charAt(e)){case"[":i[s]=this.parseSequence(t,e),e=this.i,o=!0;break;case"{":i[s]=this.parseMapping(t,e),e=this.i,o=!0;break;case":":case" ":break;default:i[s]=this.parseScalar(t,[",","}"],['"',"'"],e),e=this.i,o=!0,e--}if(++e,o){r=!0;break}}}}throw new l('Malformed inline YAML string "'+t+'"')},evaluateScalar:function(t){var e=null,i=null;return"null"==(t=this.trim(t)).toLowerCase()||""==t||"~"==t?null:0==(t+"").indexOf("!str ")?(""+t).substring(5):0==(t+"").indexOf("! ")?parseInt(this.parseScalar((t+"").substr(2))):/^\d+$/.test(t)?(e=t,i=parseInt(t),"0"==t.charAt(0)?this.octdec(t):""+e==""+i?i:e):"true"==(t+"").toLowerCase()||"false"!=(t+"").toLowerCase()&&(this.isNumeric(t)?"0x"==(t+"").substr(0,2)?this.hexdec(t):parseFloat(t):".inf"==t.toLowerCase()?1/0:".nan"==t.toLowerCase()?NaN:"-.inf"==t.toLowerCase()?-1/0:/^(-|\+)?[0-9,]+(\.[0-9]+)?$/.test(t)?parseFloat(t.split(",").join("")):this.getTimestampRegex().test(t)?new Date(this.strtotime(t)):""+t)},getTimestampRegex:function(){return new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:.([0-9]*))?(?:[ \t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$","gi")},trim:function(t){return(t+"").replace(/^\s+/,"").replace(/\s+$/,"")},isNumeric:function(t){return t-0==t&&t.length>0&&""!=t.replace(/\s+/g,"")},inArray:function(t,e){var i,n=e.length;for(i=0;i<n;i++)if(t==e[i])return!0;return!1},getKeys:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},octdec:function(t){return parseInt((t+"").replace(/[^0-7]/gi,""),8)},hexdec:function(t){return"0x"==((t=this.trim(t))+"").substr(0,2)&&(t=(t+"").substring(2)),parseInt((t+"").replace(/[^a-f0-9]/gi,""),16)},strtotime:function(t,e){var i,n,l,o,r="";if("now"===(t=(t+"").replace(/\s{2,}|^\s|\s$/g," ").replace(/[\t\r\n]/g,"")))return null===e||isNaN(e)?(new Date).getTime()||0:e||0;if(!isNaN(r=Date.parse(t)))return r||0;e=e?new Date(e):new Date;var s={day:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},mon:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"]};if(null!==(l=(t=t.toLowerCase()).match(/^(\d{2,4}-\d{2}-\d{2})(?:\s(\d{1,2}:\d{2}(:\d{2})?)?(?:\.(\d+))?)?$/)))return l[2]?l[3]||(l[2]+=":00"):l[2]="00:00:00",o=l[1].split(/-/g),o[1]=s.mon[o[1]-1]||o[1],o[0]=+o[0],o[0]=o[0]>=0&&o[0]<=69?"20"+(o[0]<10?"0"+o[0]:o[0]+""):o[0]>=70&&o[0]<=99?"19"+o[0]:o[0]+"",parseInt(this.strtotime(o[2]+" "+o[1]+" "+o[0]+" "+l[2])+(l[4]?l[4]:""),10);if(null===(l=t.match(new RegExp("([+-]?\\d+\\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\\.?|sunday|mon\\.?|monday|tue\\.?|tuesday|wed\\.?|wednesday|thu\\.?|thursday|fri\\.?|friday|sat\\.?|saturday)|(last|next)\\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\\.?|sunday|mon\\.?|monday|tue\\.?|tuesday|wed\\.?|wednesday|thu\\.?|thursday|fri\\.?|friday|sat\\.?|saturday))(\\sago)?","gi"))))return!1;for(i=0,n=l.length;i<n;i++)if(!function(t){var i,n=t[2]&&"ago"===t[2];switch(i=(i="last"===t[0]?-1:1)*(n?-1:1),t[0]){case"last":case"next":switch(t[1].substring(0,3)){case"yea":e.setFullYear(e.getFullYear()+i);break;case"wee":e.setDate(e.getDate()+7*i);break;case"day":e.setDate(e.getDate()+i);break;case"hou":e.setHours(e.getHours()+i);break;case"min":e.setMinutes(e.getMinutes()+i);break;case"sec":e.setSeconds(e.getSeconds()+i);break;case"mon":if("month"===t[1]){e.setMonth(e.getMonth()+i);break}default:var l=s.day[t[1].substring(0,3)];if(void 0!==l){var o=l-e.getDay();0===o?o=7*i:o>0?"last"===t[0]&&(o-=7):"next"===t[0]&&(o+=7),e.setDate(e.getDate()+o),e.setHours(0,0,0,0)}}break;default:if(!/\d+/.test(t[0]))return!1;switch(i*=parseInt(t[0],10),t[1].substring(0,3)){case"yea":e.setFullYear(e.getFullYear()+i);break;case"mon":e.setMonth(e.getMonth()+i);break;case"wee":e.setDate(e.getDate()+7*i);break;case"day":e.setDate(e.getDate()+i);break;case"hou":e.setHours(e.getHours()+i);break;case"min":e.setMinutes(e.getMinutes()+i);break;case"sec":e.setSeconds(e.getSeconds()+i)}}return!0}(l[i].split(" ")))return!1;return e.getTime()||0}},n.REGEX_QUOTED_STRING="(?:\"(?:[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*)\"|'(?:[^']*(?:''[^']*)*)')";var l=function(t,e,i,n){this.rawMessage=t,this.parsedLine=void 0!==e?e:-1,this.snippet=void 0!==i?i:null,this.parsedFile=void 0!==n?n:null,this.updateRepr(),this.message=t};l.prototype={name:"YamlParseException",message:null,parsedFile:null,parsedLine:-1,snippet:null,rawMessage:null,isDefined:function(t){return void 0!=t&&null!=t},getSnippet:function(){return this.snippet},setSnippet:function(t){this.snippet=t,this.updateRepr()},getParsedFile:function(){return this.parsedFile},setParsedFile:function(t){this.parsedFile=t,this.updateRepr()},getParsedLine:function(){return this.parsedLine},setParsedLine:function(t){this.parsedLine=t,this.updateRepr()},updateRepr:function(){this.message=this.rawMessage;var t=!1;"."===this.message.charAt(this.message.length-1)&&(this.message=this.message.substring(0,this.message.length-1),t=!0),null!==this.parsedFile&&(this.message+=" in "+JSON.stringify(this.parsedFile)),this.parsedLine>=0&&(this.message+=" at line "+this.parsedLine),this.snippet&&(this.message+=' (near "'+this.snippet+'")'),t&&(this.message+=".")}};var o=function(){};return o.prototype={unescapeSingleQuotedString:function(t){return t.replace(/''/g,"'")},unescapeDoubleQuotedString:function(t){var e=function(t){return(new o).unescapeCharacter(t)};return t.replace(new RegExp(o.REGEX_ESCAPED_CHARACTER,"g"),e)},unescapeCharacter:function(t){switch(t.charAt(1)){case"0":return String.fromCharCode(0);case"a":return String.fromCharCode(7);case"b":return String.fromCharCode(8);case"t":case"\t":return"\t";case"n":return"\n";case"v":return String.fromCharCode(11);case"f":return String.fromCharCode(12);case"r":return String.fromCharCode(13);case"e":return"";case" ":return" ";case'"':return'"';case"/":return"/";case"\\":return"\\";case"N":return"\0Â…";case"_":return"\0Â ";case"L":return" (";case"P":return" )";case"x":return this.pack("n",(new n).hexdec(t.substr(2,2)));case"u":return this.pack("n",(new n).hexdec(t.substr(2,4)));case"U":return this.pack("N",(new n).hexdec(t.substr(2,8)))}},pack:function(t){for(var e,i,n=0,l=1,o="",r=0;n<t.length;){for(e=t.charAt(n),i="",n++;n<t.length&&null!==t.charAt(n).match(/[\d\*]/);)i+=t.charAt(n),n++;switch(""===i&&(i="1"),e){case"n":if("*"===i&&(i=arguments.length-l),i>arguments.length-l)throw new Error("Warning:  pack() Type "+e+": too few arguments");for(r=0;r<i;r++)o+=String.fromCharCode(arguments[l]>>8&255),o+=String.fromCharCode(255&arguments[l]),l++;break;case"N":if("*"===i&&(i=arguments.length-l),i>arguments.length-l)throw new Error("Warning:  pack() Type "+e+": too few arguments");for(r=0;r<i;r++)o+=String.fromCharCode(arguments[l]>>24&255),o+=String.fromCharCode(arguments[l]>>16&255),o+=String.fromCharCode(arguments[l]>>8&255),o+=String.fromCharCode(255&arguments[l]),l++;break;default:throw new Error("Warning:  pack() Type "+e+": unknown format code")}}if(l<arguments.length)throw new Error("Warning: pack(): "+(arguments.length-l)+" arguments unused");return o}},o.REGEX_ESCAPED_CHARACTER='\\\\([0abt\tnvfre "\\/\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})',{token:function(t,i){var n=t.peek(),l=i.escaped;if(i.escaped=!1,"#"==n&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(i.literal&&t.indentation()>i.keyCol)return t.skipToEnd(),"string";if(i.literal&&(i.literal=!1),t.sol()){if(i.keyCol=0,i.pair=!1,i.pairStart=!1,t.match(/---/))return"def";if(t.match(/\.\.\./))return"def";if(t.match(/\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==n?i.inlinePairs++:"}"==n?i.inlinePairs--:"["==n?i.inlineList++:i.inlineList--,"meta";if(i.inlineList>0&&!l&&","==n)return t.next(),"meta";if(i.inlinePairs>0&&!l&&","==n)return i.keyCol=0,i.pair=!1,i.pairStart=!1,t.next(),"meta";if(i.pairStart){if(t.match(/^\s*(\||\>)\s*/))return i.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==i.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(i.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(e))return"keyword"}return!i.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(i.pair=!0,i.keyCol=t.indentation(),"atom"):i.pair&&t.match(/^:\s*/)?(i.pairStart=!0,"meta"):(i.pairStart=!1,i.escaped="\\"==n,t.next(),null)},validator:function(t){var e=t.getTextArea().value,n=null;try{(new i).parse(e)}catch(t){(n={}).lineNo=t.parsedLine,n.message=t.message}return n},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),t.defineMIME("text/x-yaml","yaml"),t.defineMIME("text/yaml","yaml")});var VGDesigner=function(t,e){this.model=t,this.container=e,this.urlParams(window.location.href),this.loadJsCssFiles()};VGDesigner.prototype.editorJsFiles = [];VGDesigner.prototype.editorCssFiles=["styles/inspire.css","styles/grapheditor.css","js/codemirror/codemirror.css"],VGDesigner.prototype.viewerJsFiles=[],VGDesigner.prototype.viewerCssFiles=[],VGDesigner.prototype.init=function(t){var e=EditorUi.prototype.init;EditorUi.prototype.init=function(){e.apply(this,arguments),this.actions.get("export").setEnabled(!0)},mxResources.loadDefaultBundle=!1;var i=mxResources.getDefaultBundle(RESOURCE_BASE,mxLanguage)||mxResources.getSpecialBundle(RESOURCE_BASE,mxLanguage);mxUtils.getAll([i,STYLE_PATH+"/default.xml"],mxUtils.bind(this,function(e){mxResources.parse(e[0].getText());var i=new Object;i[Graph.prototype.defaultThemeName]=e[1].getDocumentElement();var n,l=new EditorUi(new Editor("0"==urlParams.chrome,i,null,null,this.container),this.container,null,t);if("new"==l.interfaceParams.operator)n="Create "+l.interfaceParams.operator+" "+l.interfaceParams.type;else if("edit"==l.interfaceParams.operator&&(n="Edit "+l.interfaceParams.type,"topology"==l.interfaceParams.type)){var o=l.interfaceParams.id,r=l.interfaceParams.author,s=l.interfaceParams.designLibraryId;if(""==o)return mxUtils.alert(mxResources.get("noDiagramId")),!1;var a=BASE_URL+VIEWER_COLLECTION+GET_URL,g=[],C='d.id=="'+o+'"';""!=s&&g.push('(d.designLibraryId=="'+s+'" || d.designLibraryId=="")'),""!=r&&g.push('(d.author=="'+r+'" || d.author=="")'),g.length>0&&(C=C+" && ("+g.join(" || ")+")");var h="query="+encodeURIComponent(C);mxUtils.post(a,h,mxUtils.bind(this,function(t){var e=JSON.parse(t.getText()).data[0];if(e){var i=[];i.id=e.id,i.designLibraryId=e.designLibraryId,i.author=e.author,i.name=e.filename,i.operator="edit",l.initInterfaceParams(i);var n=l.editor;window.openFile=new OpenFile(function(){window.openFile=null}),window.openFile.setConsumer(mxUtils.bind(this,function(t,e){try{var i=mxUtils.parseXml(t),l=n.graph.getModel();new mxCodec(i).decode(i.documentElement,l)}catch(t){mxUtils.alert(mxResources.get("invalidOrMissingFile")+": "+t.message)}}));var o=CodeTranslator.json2xml(e.data);window.openFile.setData(o,e.filename),l.footwall.reset(),n.setModified(!1)}}))}document.title=n}),mxUtils.bind(this,function(){this.container.innerHTML='<center style="margin-top:10%;">Error loading resource files. Please check browser console.</center>'}))},VGDesigner.prototype.urlParams=function(t){var e=new Object,i=t.lastIndexOf("?");if(i>0)for(var n=t.substring(i+1).split("&"),l=0;l<n.length;l++)(i=n[l].indexOf("="))>0&&(e[n[l].substring(0,i)]=n[l].substring(i+1));return e},VGDesigner.prototype.loadJsCssFiles=function(){"editor"==this.model?(loadJsCssFiles(this.editorCssFiles),loadJsCssFiles(this.editorJsFiles)):"viewer"==this.model&&(loadJsCssFiles(this.viewerCssFiles),loadJsCssFiles(this.viewerJsFiles))},window.urlParams=window.urlParams||{},window.MAX_REQUEST_SIZE=window.MAX_REQUEST_SIZE||10485760,window.MAX_AREA=window.MAX_AREA||1e8,window.BASE_URL=window.BASE_URL||"http://127.0.0.1:3000",window.EXPORT_URL=window.EXPORT_URL||window.BASE_URL+"/export",window.OPEN_URL=window.OPEN_URL||window.BASE_URL+"/open",window.SAVE_VIEWER_URL=window.SAVE_VIEWER_URL||window.BASE_URL+"/viewer/save",window.GET_URL=window.GET_URL||"/get",window.SAVE_URL=window.SAVE_URL||"/save",window.GET_ACTION=window.GET_ACTION||"/get",window.SAVE_ACTION=window.SAVE_ACTION||"/save",window.UPDATE_ACTION=window.UPDATE_ACTION||"/update",window.SAVE_IMG=window.SAVE_IMG||"/saveImg",window.MODEL_COLLECTION=window.MODEL_COLLECTION||"/model",window.MODELCLASS_COLLECTION=window.MODELCLASS_COLLECTION||"/modelClass",window.VIEWER_COLLECTION=window.VIEWER_COLLECTION||"/viewer",window.RESOURCES_PATH=window.RESOURCES_PATH||"resources",window.RESOURCE_BASE=window.RESOURCE_BASE||window.RESOURCES_PATH+"/grapheditor",window.STENCIL_PATH=window.STENCIL_PATH||"stencils",window.IMAGE_PATH=window.IMAGE_PATH||"images",window.UPLOADIMAGE_PATH=window.UPLOADIMAGE_PATH||"uploadImg",window.STYLE_PATH=window.STYLE_PATH||"styles",window.CSS_PATH=window.CSS_PATH||"styles",window.OPEN_FORM=window.OPEN_FORM||"open.html",window.mxBasePath=window.mxBasePath||"src",window.mxLanguage=window.mxLanguage||urlParams.lang,window.mxLanguages=window.mxLanguages||["de"];var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){},init:function(){jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var t=jscolor.detectDir();jscolor.dir=!1!==t?t:"jscolor/"}return jscolor.dir},detectDir:function(){for(var t=location.href,e=document.getElementsByTagName("base"),i=0;i<e.length;i+=1)e[i].href&&(t=e[i].href);for(var e=document.getElementsByTagName("script"),i=0;i<e.length;i+=1)if(e[i].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(e[i].src)){var n=new jscolor.URI(e[i].src).toAbsolute(t);return n.path=n.path.replace(/[^\/]+$/,""),n.query=null,n.fragment=null,n.toString()}return!1},preload:function(){for(var t in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(t)&&jscolor.loadImage(t)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(t){jscolor.imgRequire[t]=!0},loadImage:function(t){jscolor.imgLoaded[t]||(jscolor.imgLoaded[t]=new Image,jscolor.imgLoaded[t].src=jscolor.getDir()+t)},fetchElement:function(t){return"string"==typeof t?document.getElementById(t):t},addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},fireEvent:function(t,e){if(t)if(document.createEvent)(i=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),t.dispatchEvent(i);else if(document.createEventObject){var i=document.createEventObject();t.fireEvent("on"+e,i)}else t["on"+e]&&t["on"+e]()},getElementPos:function(t){var e=t,i=t,n=0,l=0;if(e.offsetParent)do{n+=e.offsetLeft,l+=e.offsetTop}while(e=e.offsetParent);for(;(i=i.parentNode)&&"BODY"!==i.nodeName.toUpperCase();)n-=i.scrollLeft,l-=i.scrollTop;return[n,l]},getElementSize:function(t){return[t.offsetWidth,t.offsetHeight]},getRelMousePos:function(t){var e=0,i=0;return t||(t=window.event),"number"==typeof t.offsetX?(e=t.offsetX,i=t.offsetY):"number"==typeof t.layerX&&(e=t.layerX,i=t.layerY),{x:e,y:i}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(t){function e(t){for(var e="";t;)if("../"===t.substr(0,3)||"./"===t.substr(0,2))t=t.replace(/^\.+/,"").substr(1);else if("/./"===t.substr(0,3)||"/."===t)t="/"+t.substr(3);else if("/../"===t.substr(0,4)||"/.."===t)t="/"+t.substr(4),e=e.replace(/\/?[^\/]*$/,"");else if("."===t||".."===t)t="";else{var i=t.match(/^\/?[^\/]*/)[0];t=t.substr(i.length),e+=i}return e}this.scheme=null,this.authority=null,this.path="",this.query=null,this.fragment=null,this.parse=function(t){var e=t.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);return this.scheme=e[3]?e[2]:null,this.authority=e[5]?e[6]:null,this.path=e[7],this.query=e[9]?e[10]:null,this.fragment=e[12]?e[13]:null,this},this.toString=function(){var t="";return null!==this.scheme&&(t=t+this.scheme+":"),null!==this.authority&&(t=t+"//"+this.authority),null!==this.path&&(t+=this.path),null!==this.query&&(t=t+"?"+this.query),null!==this.fragment&&(t=t+"#"+this.fragment),t},this.toAbsolute=function(t){var t=new jscolor.URI(t),i=this,n=new jscolor.URI;return null!==t.scheme&&(null!==i.scheme&&i.scheme.toLowerCase()===t.scheme.toLowerCase()&&(i.scheme=null),null!==i.scheme?(n.scheme=i.scheme,n.authority=i.authority,n.path=e(i.path),n.query=i.query):(null!==i.authority?(n.authority=i.authority,n.path=e(i.path),n.query=i.query):(""===i.path?(n.path=t.path,null!==i.query?n.query=i.query:n.query=t.query):("/"===i.path.substr(0,1)?n.path=e(i.path):(null!==t.authority&&""===t.path?n.path="/"+i.path:n.path=t.path.replace(/[^\/]+$/,"")+i.path,n.path=e(n.path)),n.query=i.query),n.authority=t.authority),n.scheme=t.scheme),n.fragment=i.fragment,n)},t&&this.parse(t)},color:function(target,prop){function RGB_HSV(t,e,i){var n=Math.min(Math.min(t,e),i),l=Math.max(Math.max(t,e),i),o=l-n;if(0===o)return[null,0,l];var r=t===n?3+(i-e)/o:e===n?5+(t-i)/o:1+(e-t)/o;return[6===r?0:r,o/l,l]}function HSV_RGB(t,e,i){if(null===t)return[i,i,i];var n=Math.floor(t),l=i*(1-e),o=i*(1-e*(n%2?t-n:1-(t-n)));switch(n){case 6:case 0:return[i,o,l];case 1:return[o,i,l];case 2:return[l,i,o];case 3:return[l,o,i];case 4:return[o,l,i];case 5:return[i,l,o]}}function removePicker(){delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB)}function drawPicker(t,e){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(THIS.pickerCloseText)};for(var i=0;i<jscolor.images.sld[1];i+=4){var n=document.createElement("div");n.style.height="4px",n.style.fontSize="1px",n.style.lineHeight="0",jscolor.picker.sld.appendChild(n)}jscolor.picker.sldB.appendChild(jscolor.picker.sld),jscolor.picker.box.appendChild(jscolor.picker.sldB),jscolor.picker.box.appendChild(jscolor.picker.sldM),jscolor.picker.padB.appendChild(jscolor.picker.pad),jscolor.picker.box.appendChild(jscolor.picker.padB),jscolor.picker.box.appendChild(jscolor.picker.padM),jscolor.picker.btnS.appendChild(jscolor.picker.btnT),jscolor.picker.btn.appendChild(jscolor.picker.btnS),jscolor.picker.box.appendChild(jscolor.picker.btn),jscolor.picker.boxB.appendChild(jscolor.picker.box)}var l=jscolor.picker;l.box.onmouseup=l.box.onmouseout=function(){mxClient.IS_TOUCH||target.focus()},l.box.onmousedown=function(){abortBlur=!0},l.box.onmousemove=function(t){(holdPad||holdSld)&&(holdPad&&setPad(t),holdSld&&setSld(t),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),dispatchImmediateChange())},l.padM.onmouseup=l.padM.onmouseout=function(){holdPad&&(holdPad=!1,jscolor.fireEvent(valueElement,"change"))},l.padM.onmousedown=function(t){switch(modeID){case 0:0===THIS.hsv[2]&&THIS.fromHSV(null,null,1);break;case 1:0===THIS.hsv[1]&&THIS.fromHSV(null,1,null)}holdPad=!0,setPad(t),dispatchImmediateChange()},l.sldM.onmouseup=l.sldM.onmouseout=function(){holdSld&&(holdSld=!1,jscolor.fireEvent(valueElement,"change"))},l.sldM.onmousedown=function(t){holdSld=!0,setSld(t),dispatchImmediateChange()};var o=getPickerDims(THIS);l.box.style.width=o[0]+"px",l.box.style.height=o[1]+"px",l.boxB.style.position="absolute",l.boxB.style.clear="both",l.boxB.style.left=t+"px",l.boxB.style.top=e+"px",l.boxB.style.zIndex=THIS.pickerZIndex,l.boxB.style.border=THIS.pickerBorder+"px solid",l.boxB.style.borderColor=THIS.pickerBorderColor,l.boxB.style.background=THIS.pickerFaceColor,l.pad.style.width=jscolor.images.pad[0]+"px",l.pad.style.height=jscolor.images.pad[1]+"px",l.padB.style.position="absolute",l.padB.style.left=THIS.pickerFace+"px",l.padB.style.top=THIS.pickerFace+"px",l.padB.style.border=THIS.pickerInset+"px solid",l.padB.style.borderColor=THIS.pickerInsetColor,l.padM.style.position="absolute",l.padM.style.left="0",l.padM.style.top="0",l.padM.style.width=THIS.pickerFace+2*THIS.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px",l.padM.style.height=l.box.style.height,l.padM.style.cursor="crosshair",l.sld.style.overflow="hidden",l.sld.style.width=jscolor.images.sld[0]+"px",l.sld.style.height=jscolor.images.sld[1]+"px",l.sldB.style.display=THIS.slider?"block":"none",l.sldB.style.position="absolute",l.sldB.style.right=THIS.pickerFace+"px",l.sldB.style.top=THIS.pickerFace+"px",l.sldB.style.border=THIS.pickerInset+"px solid",l.sldB.style.borderColor=THIS.pickerInsetColor,l.sldM.style.display=THIS.slider?"block":"none",l.sldM.style.position="absolute",l.sldM.style.right="0",l.sldM.style.top="0",l.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+THIS.pickerFace+2*THIS.pickerInset+"px",l.sldM.style.height=l.box.style.height;try{l.sldM.style.cursor="pointer"}catch(t){l.sldM.style.cursor="hand"}l.btn.style.display=THIS.pickerClosable?"block":"none",l.btn.style.position="absolute",l.btn.style.left=THIS.pickerFace+"px",l.btn.style.bottom=THIS.pickerFace+"px",l.btn.style.padding="0 15px",l.btn.style.height="18px",l.btn.style.border=THIS.pickerInset+"px solid",function(){var t=THIS.pickerInsetColor.split(/\s+/),e=t.length<2?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1];l.btn.style.borderColor=e}(),l.btn.style.color=THIS.pickerButtonColor,l.btn.style.font="12px sans-serif",l.btn.style.textAlign="center";try{l.btn.style.cursor="pointer"}catch(t){l.btn.style.cursor="hand"}switch(l.btn.onmousedown=function(){THIS.hidePicker()},l.btnS.style.lineHeight=l.btn.style.height,modeID){case 0:r="hs.png";break;case 1:var r="hv.png"}l.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')",l.padM.style.backgroundRepeat="no-repeat",l.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')",l.sldM.style.backgroundRepeat="no-repeat",l.pad.style.backgroundImage="url('"+jscolor.getDir()+r+"')",l.pad.style.backgroundRepeat="no-repeat",l.pad.style.backgroundPosition="0 0",redrawPad(),redrawSld(),jscolor.picker.owner=THIS,document.getElementsByTagName("body")[0].appendChild(l.boxB)}function getPickerDims(t){return[2*t.pickerInset+2*t.pickerFace+jscolor.images.pad[0]+(t.slider?2*t.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),t.pickerClosable?4*t.pickerInset+3*t.pickerFace+jscolor.images.pad[1]+t.pickerButtonHeight:2*t.pickerInset+2*t.pickerFace+jscolor.images.pad[1]]}function redrawPad(){switch(modeID){case 0:t=1;break;case 1:var t=2}var e=Math.round(THIS.hsv[0]/6*(jscolor.images.pad[0]-1)),i=Math.round((1-THIS.hsv[t])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=THIS.pickerFace+THIS.pickerInset+e-Math.floor(jscolor.images.cross[0]/2)+"px "+(THIS.pickerFace+THIS.pickerInset+i-Math.floor(jscolor.images.cross[1]/2))+"px";var n=jscolor.picker.sld.childNodes;switch(modeID){case 0:for(var l=HSV_RGB(THIS.hsv[0],THIS.hsv[1],1),o=0;o<n.length;o+=1)n[o].style.backgroundColor="rgb("+l[0]*(1-o/n.length)*100+"%,"+l[1]*(1-o/n.length)*100+"%,"+l[2]*(1-o/n.length)*100+"%)";break;case 1:var r,s=[THIS.hsv[2],0,0],a=(o=Math.floor(THIS.hsv[0]))%2?THIS.hsv[0]-o:1-(THIS.hsv[0]-o);switch(o){case 6:case 0:l=[0,1,2];break;case 1:l=[1,0,2];break;case 2:l=[2,0,1];break;case 3:l=[2,1,0];break;case 4:l=[1,2,0];break;case 5:l=[0,2,1]}for(o=0;o<n.length;o+=1)r=1-1/(n.length-1)*o,s[1]=s[0]*(1-r*a),s[2]=s[0]*(1-r),n[o].style.backgroundColor="rgb("+100*s[l[0]]+"%,"+100*s[l[1]]+"%,"+100*s[l[2]]+"%)"}}function redrawSld(){switch(modeID){case 0:t=2;break;case 1:var t=1}var e=Math.round((1-THIS.hsv[t])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(THIS.pickerFace+THIS.pickerInset+e-Math.floor(jscolor.images.arrow[1]/2))+"px"}function isPickerOwner(){return jscolor.picker&&jscolor.picker.owner===THIS}function blurTarget(){valueElement===target&&THIS.importColor(),THIS.pickerOnfocus&&THIS.hidePicker()}function blurValue(){valueElement!==target&&THIS.importColor()}function setPad(t){var e=jscolor.getRelMousePos(t),i=e.x-THIS.pickerFace-THIS.pickerInset,n=e.y-THIS.pickerFace-THIS.pickerInset;switch(modeID){case 0:THIS.fromHSV(i*(6/(jscolor.images.pad[0]-1)),1-n/(jscolor.images.pad[1]-1),null,leaveSld);break;case 1:THIS.fromHSV(i*(6/(jscolor.images.pad[0]-1)),null,1-n/(jscolor.images.pad[1]-1),leaveSld)}}function setSld(t){var e=jscolor.getRelMousePos(t).y-THIS.pickerFace-THIS.pickerInset;switch(modeID){case 0:THIS.fromHSV(null,null,1-e/(jscolor.images.sld[1]-1),leavePad);break;case 1:THIS.fromHSV(null,1-e/(jscolor.images.sld[1]-1),null,leavePad)}}function dispatchImmediateChange(){THIS.onImmediateChange&&("string"==typeof THIS.onImmediateChange?eval(THIS.onImmediateChange):THIS.onImmediateChange(THIS))}this.required=!0,this.adjust=!0,this.hash=!1,this.caps=!0,this.slider=!0,
this.valueElement=target,this.styleElement=target,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=0,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4;for(var p in prop)prop.hasOwnProperty(p)&&(this[p]=prop[p]);this.hidePicker=function(){isPickerOwner()&&removePicker()},this.showPicker=function(){if(!isPickerOwner()){var t,e,i,n=jscolor.getElementPos(target),l=jscolor.getElementSize(target),o=jscolor.getViewPos(),r=jscolor.getViewSize(),s=getPickerDims(this);switch(this.pickerPosition.toLowerCase()){case"left":t=1,e=0,i=-1;break;case"right":t=1,e=0,i=1;break;case"top":t=0,e=1,i=-1;break;default:t=0,e=1,i=1}var a=(l[e]+s[e])/2;if(this.pickerSmartPosition)-o[t]+n[t]+s[t]>r[t]&&-o[t]+n[t]+l[t]/2>r[t]/2&&n[t]+l[t]-s[t]>=0?(n[t],l[t],s[t]):n[t],-o[e]+n[e]+l[e]+s[e]-a+a*i>r[e]?-o[e]+n[e]+l[e]/2>r[e]/2&&n[e]+l[e]-a-a*i>=0?(n[e],l[e]):(n[e],l[e]):n[e]+l[e]-a+a*i>=0?(n[e],l[e]):(n[e],l[e]);else n[t],n[e],l[e];drawPicker(0,0)}},this.importColor=function(){valueElement?this.adjust?!this.required&&/^\s*$/.test(valueElement.value)?(valueElement.value="",styleElement.style.backgroundImage=styleElement.jscStyle.backgroundImage,styleElement.style.backgroundColor=styleElement.jscStyle.backgroundColor,styleElement.style.color=styleElement.jscStyle.color,this.exportColor(leaveValue|leaveStyle)):this.fromString(valueElement.value)||this.exportColor():this.fromString(valueElement.value,leaveValue)||(styleElement.style.backgroundImage=styleElement.jscStyle.backgroundImage,styleElement.style.backgroundColor=styleElement.jscStyle.backgroundColor,styleElement.style.color=styleElement.jscStyle.color,this.exportColor(leaveValue|leaveStyle)):this.exportColor()},this.exportColor=function(t){if(!(t&leaveValue)&&valueElement){var e=this.toString();this.caps&&(e=e.toUpperCase()),this.hash&&(e="#"+e),valueElement.value=e}t&leaveStyle||!styleElement||(styleElement.style.backgroundImage="none",styleElement.style.backgroundColor="#"+this.toString(),styleElement.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000"),t&leavePad||!isPickerOwner()||redrawPad(),t&leaveSld||!isPickerOwner()||redrawSld()},this.fromHSV=function(t,e,i,n){t<0&&(t=0)||t>6&&(t=6),e<0&&(e=0)||e>1&&(e=1),i<0&&(i=0)||i>1&&(i=1),this.rgb=HSV_RGB(null===t?this.hsv[0]:this.hsv[0]=t,null===e?this.hsv[1]:this.hsv[1]=e,null===i?this.hsv[2]:this.hsv[2]=i),this.exportColor(n)},this.fromRGB=function(t,e,i,n){t<0&&(t=0)||t>1&&(t=1),e<0&&(e=0)||e>1&&(e=1),i<0&&(i=0)||i>1&&(i=1);var l=RGB_HSV(null===t?this.rgb[0]:this.rgb[0]=t,null===e?this.rgb[1]:this.rgb[1]=e,null===i?this.rgb[2]:this.rgb[2]=i);null!==l[0]&&(this.hsv[0]=l[0]),0!==l[2]&&(this.hsv[1]=l[1]),this.hsv[2]=l[2],this.exportColor(n)},this.fromString=function(t,e){var i=t.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return!!i&&(6===i[1].length?this.fromRGB(parseInt(i[1].substr(0,2),16)/255,parseInt(i[1].substr(2,2),16)/255,parseInt(i[1].substr(4,2),16)/255,e):this.fromRGB(parseInt(i[1].charAt(0)+i[1].charAt(0),16)/255,parseInt(i[1].charAt(1)+i[1].charAt(1),16)/255,parseInt(i[1].charAt(2)+i[1].charAt(2),16)/255,e),!0)},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var THIS=this,modeID="hvs"===this.pickerMode.toLowerCase()?1:0,abortBlur=!1,valueElement=jscolor.fetchElement(this.valueElement),styleElement=jscolor.fetchElement(this.styleElement),holdPad=!1,holdSld=!1,leaveValue=1,leaveStyle=2,leavePad=4,leaveSld=8;if(valueElement){var updateField=function(){THIS.fromString(valueElement.value,leaveValue),dispatchImmediateChange()};jscolor.addEvent(valueElement,"keyup",updateField),jscolor.addEvent(valueElement,"input",updateField),jscolor.addEvent(valueElement,"blur",blurValue),valueElement.setAttribute("autocomplete","off")}switch(styleElement&&(styleElement.jscStyle={backgroundImage:styleElement.style.backgroundImage,backgroundColor:styleElement.style.backgroundColor,color:styleElement.style.color}),modeID){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif"),jscolor.requireImage("arrow.gif"),this.importColor()}};jscolor.install(),function(){var t,e=void 0,i=!0,n=null,l=!1,o=["aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,snow,springgreen,steelblue,tan,teal,thistle,tomato,transparent,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen".split(","),"all-scroll,col-resize,crosshair,default,e-resize,hand,help,move,n-resize,ne-resize,no-drop,not-allowed,nw-resize,pointer,progress,row-resize,s-resize,se-resize,sw-resize,text,vertical-text,w-resize,wait".split(","),"armenian,decimal,decimal-leading-zero,disc,georgian,lower-alpha,lower-greek,lower-latin,lower-roman,square,upper-alpha,upper-latin,upper-roman".split(","),"100,200,300,400,500,600,700,800,900,bold,bolder,lighter".split(","),"block-level,inline-level,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row,table-row-group".split(","),"condensed,expanded,extra-condensed,extra-expanded,narrower,semi-condensed,semi-expanded,ultra-condensed,ultra-expanded,wider".split(","),"inherit,inline,inline-block,inline-box,inline-flex,inline-grid,inline-list-item,inline-stack,inline-table,run-in".split(","),"behind,center-left,center-right,far-left,far-right,left-side,leftwards,right-side,rightwards".split(","),"large,larger,small,smaller,x-large,x-small,xx-large,xx-small".split(","),"dashed,dotted,double,groove,outset,ridge,solid".split(","),"ease,ease-in,ease-in-out,ease-out,linear,step-end,step-start".split(","),"at,closest-corner,closest-side,ellipse,farthest-corner,farthest-side".split(","),"baseline,middle,sub,super,text-bottom,text-top".split(","),"caption,icon,menu,message-box,small-caption,status-bar".split(","),"fast,faster,slow,slower,x-fast,x-slow".split(","),["above","below","higher","level","lower"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["block","flex","grid","table"],["high","low","x-high","x-low"],["nowrap","pre","pre-line","pre-wrap"],["absolute","relative","static"],["alternate","alternate-reverse","reverse"],["border-box","content-box","padding-box"],["capitalize","lowercase","uppercase"],["child","female","male"],["=","opacity"],["backwards","forwards"],["bidi-override","embed"],["bottom","top"],["break-all","keep-all"],["clip","ellipsis"],["contain","cover"],["continuous","digits"],["end","start"],["flat","preserve-3d"],["hide","show"],["horizontal","vertical"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["paused","running"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["all"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["circle"],["code"],["collapse"],["contents"],["fixed"],["hidden"],["infinite"],["inset"],["invert"],["justify"],["list-item"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["to"],["visible"]],r={animation:{cssPropBits:517,cssLitGroup:[o[10],o[24],o[29],o[45],o[48],o[54],o[63],o[71],o[72]],cssFns:["cubic-bezier()","steps()"]},"animation-delay":{cssPropBits:5,cssLitGroup:[o[48]],cssFns:[]},"animation-direction":{cssPropBits:0,cssLitGroup:[o[24],o[48],o[72]],cssFns:[]},"animation-duration":"animation-delay","animation-fill-mode":{cssPropBits:0,cssLitGroup:[o[29],o[48],o[54],o[71]],cssFns:[]},"animation-iteration-count":{cssPropBits:5,cssLitGroup:[o[48],o[63]],cssFns:[]},"animation-name":{cssPropBits:512,cssLitGroup:[o[48],o[71]],cssFns:[]},"animation-play-state":{cssPropBits:0,cssLitGroup:[o[45],o[48]],cssFns:[]},"animation-timing-function":{cssPropBits:0,cssLitGroup:[o[10],o[48]],cssFns:["cubic-bezier()","steps()"]},appearance:{cssPropBits:0,cssLitGroup:[o[71]],cssFns:[]},azimuth:{cssPropBits:5,cssLitGroup:[o[7],o[42],o[56]],cssFns:[]},"backface-visibility":{cssPropBits:0,cssLitGroup:[o[59],o[62],o[80]],cssFns:[]},background:{cssPropBits:23,cssLitGroup:[o[0],o[18],o[25],o[31],o[34],o[42],o[48],o[49],o[52],o[56],o[61],o[68],o[71],o[74],o[75]],cssFns:"image(),linear-gradient(),radial-gradient(),repeating-linear-gradient(),repeating-radial-gradient(),rgb(),rgba()".split(",")},"background-attachment":{cssPropBits:0,cssLitGroup:[o[48],o[61],o[68],o[75]],cssFns:[]},"background-color":{cssPropBits:2,cssLitGroup:[o[0]],cssFns:["rgb()","rgba()"]},"background-image":{cssPropBits:16,cssLitGroup:[o[48],o[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"background-position":{cssPropBits:5,cssLitGroup:[o[31],o[42],o[48],o[56]],cssFns:[]},"background-repeat":{cssPropBits:0,cssLitGroup:[o[18],o[48],o[74]],cssFns:[]},"background-size":{cssPropBits:5,cssLitGroup:[o[34],o[48],o[52]],cssFns:[]},border:{cssPropBits:7,cssLitGroup:[o[0],o[9],o[47],o[62],o[64],o[69],o[71]],cssFns:["rgb()","rgba()"]},"border-bottom":"border","border-bottom-color":"background-color","border-bottom-left-radius":{cssPropBits:5,cssFns:[]},"border-bottom-right-radius":"border-bottom-left-radius","border-bottom-style":{cssPropBits:0,cssLitGroup:[o[9],o[62],o[64],o[71]],cssFns:[]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[o[47],o[69]],cssFns:[]},"border-collapse":{cssPropBits:0,cssLitGroup:[o[59],o[76]],cssFns:[]},"border-color":"background-color","border-left":"border","border-left-color":"background-color","border-left-style":"border-bottom-style","border-left-width":"border-bottom-width","border-radius":{cssPropBits:5,cssLitGroup:[o[49]],cssFns:[]},"border-right":"border","border-right-color":"background-color","border-right-style":"border-bottom-style","border-right-width":"border-bottom-width","border-spacing":"border-bottom-left-radius","border-style":"border-bottom-style","border-top":"border","border-top-color":"background-color","border-top-left-radius":"border-bottom-left-radius","border-top-right-radius":"border-bottom-left-radius","border-top-style":"border-bottom-style","border-top-width":"border-bottom-width","border-width":"border-bottom-width",bottom:{cssPropBits:5,cssLitGroup:[o[52]],cssFns:[]},box:{cssPropBits:0,cssLitGroup:[o[60],o[71],o[72]],cssFns:[]},"box-shadow":{cssPropBits:7,cssLitGroup:[o[0],o[48],o[64],o[71]],cssFns:["rgb()","rgba()"]},"box-sizing":{cssPropBits:0,cssLitGroup:[o[25]],cssFns:[]},"caption-side":{cssPropBits:0,cssLitGroup:[o[31]],cssFns:[]},clear:{cssPropBits:0,cssLitGroup:[o[42],o[54],o[71]],cssFns:[]},clip:{cssPropBits:0,cssLitGroup:[o[52]],cssFns:["rect()"]},color:"background-color",content:{cssPropBits:8,cssLitGroup:[o[71],o[72]],cssFns:[]},cue:{cssPropBits:16,cssLitGroup:[o[71]],cssFns:[]},"cue-after":"cue","cue-before":"cue",cursor:{cssPropBits:16,cssLitGroup:[o[1],o[48],o[52]],cssFns:[]},direction:{cssPropBits:0,cssLitGroup:[o[43]],cssFns:[]},display:{cssPropBits:0,cssLitGroup:[o[4],o[6],o[20],o[52],o[67],o[71]],cssFns:[]},"display-extras":{cssPropBits:0,cssLitGroup:[o[67],o[71]],cssFns:[]},"display-inside":{cssPropBits:0,cssLitGroup:[o[20],o[52]],cssFns:[]},"display-outside":{cssPropBits:0,cssLitGroup:[o[4],o[71]],cssFns:[]},elevation:{cssPropBits:5,cssLitGroup:[o[15]],cssFns:[]},"empty-cells":{cssPropBits:0,cssLitGroup:[o[38]],cssFns:[]},filter:{cssPropBits:0,cssFns:["alpha()"]},float:{cssPropBits:0,cssLitGroup:[o[42],o[71]],cssFns:[]},font:{cssPropBits:73,cssLitGroup:[o[3],o[8],o[13],o[16],o[41],o[48],o[49],o[69],o[72],o[77]],cssFns:[]},"font-family":{cssPropBits:72,cssLitGroup:[o[16],o[48]],cssFns:[]},"font-size":{cssPropBits:1,cssLitGroup:[o[8],o[69]],cssFns:[]},"font-stretch":{cssPropBits:0,cssLitGroup:[o[5],o[72]],cssFns:[]},"font-style":{cssPropBits:0,cssLitGroup:[o[41],o[72]],cssFns:[]},"font-variant":{cssPropBits:0,cssLitGroup:[o[72],o[77]],cssFns:[]},"font-weight":{cssPropBits:0,cssLitGroup:[o[3],o[72]],cssFns:[]},height:"bottom",left:"bottom","letter-spacing":{cssPropBits:5,cssLitGroup:[o[72]],cssFns:[]},"line-height":{cssPropBits:1,cssLitGroup:[o[72]],cssFns:[]},"list-style":{cssPropBits:16,cssLitGroup:[o[2],o[40],o[57],o[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-image":{cssPropBits:16,cssLitGroup:[o[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-position":{cssPropBits:0,cssLitGroup:[o[40]],cssFns:[]},"list-style-type":{cssPropBits:0,cssLitGroup:[o[2],o[57],o[71]],cssFns:[]},margin:"bottom","margin-bottom":"bottom","margin-left":"bottom","margin-right":"bottom","margin-top":"bottom","max-height":{cssPropBits:1,cssLitGroup:[o[52],o[71]],cssFns:[]},"max-width":"max-height","min-height":{cssPropBits:1,cssLitGroup:[o[52]],cssFns:[]},"min-width":"min-height",opacity:{cssPropBits:1,cssFns:[]},outline:{cssPropBits:7,cssLitGroup:[o[0],o[9],o[47],o[62],o[64],o[65],o[69],o[71]],cssFns:["rgb()","rgba()"]},"outline-color":{cssPropBits:2,cssLitGroup:[o[0],o[65]],cssFns:["rgb()","rgba()"]},"outline-style":"border-bottom-style","outline-width":"border-bottom-width",overflow:{cssPropBits:0,cssLitGroup:[o[52],o[62],o[75],o[80]],cssFns:[]},"overflow-wrap":{cssPropBits:0,cssLitGroup:[o[55],o[72]],cssFns:[]},"overflow-x":{cssPropBits:0,cssLitGroup:[o[44],o[52],o[62],o[75],o[80]],cssFns:[]},"overflow-y":"overflow-x",padding:"opacity","padding-bottom":"opacity","padding-left":"opacity","padding-right":"opacity","padding-top":"opacity","page-break-after":{cssPropBits:0,cssLitGroup:[o[42],o[51],o[52],o[53]],cssFns:[]},"page-break-before":"page-break-after","page-break-inside":{cssPropBits:0,cssLitGroup:[o[52],o[53]],cssFns:[]},pause:"border-bottom-left-radius","pause-after":"border-bottom-left-radius","pause-before":"border-bottom-left-radius",perspective:{cssPropBits:5,cssLitGroup:[o[71]],cssFns:[]},"perspective-origin":{cssPropBits:5,cssLitGroup:[o[31],o[42],o[56]],cssFns:[]},pitch:{cssPropBits:5,cssLitGroup:[o[21],o[69]],cssFns:[]},"pitch-range":"border-bottom-left-radius","play-during":{cssPropBits:16,cssLitGroup:[o[52],o[70],o[71],o[74]],cssFns:[]},position:{cssPropBits:0,cssLitGroup:[o[23]],cssFns:[]},quotes:{cssPropBits:8,cssLitGroup:[o[71]],cssFns:[]},resize:{cssPropBits:0,cssLitGroup:[o[39],o[54],o[71]],cssFns:[]},richness:"border-bottom-left-radius",right:"bottom",speak:{cssPropBits:0,cssLitGroup:[o[71],o[72],o[78]],cssFns:[]},"speak-header":{cssPropBits:0,cssLitGroup:[o[51],o[73]],cssFns:[]},"speak-numeral":{cssPropBits:0,cssLitGroup:[o[35]],cssFns:[]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[o[58],o[71]],cssFns:[]},"speech-rate":{cssPropBits:5,cssLitGroup:[o[14],o[69]],cssFns:[]},stress:"border-bottom-left-radius","table-layout":{cssPropBits:0,cssLitGroup:[o[52],o[61]],cssFns:[]},"text-align":{cssPropBits:0,cssLitGroup:[o[42],o[56],o[66]],cssFns:[]},"text-decoration":{cssPropBits:0,cssLitGroup:[o[19],o[71]],cssFns:[]},"text-indent":"border-bottom-left-radius","text-overflow":{cssPropBits:8,cssLitGroup:[o[33]],cssFns:[]},"text-shadow":"box-shadow","text-transform":{cssPropBits:0,cssLitGroup:[o[26],o[71]],cssFns:[]},"text-wrap":{cssPropBits:0,cssLitGroup:[o[46],o[71],o[72]],cssFns:[]},top:"bottom",transform:{cssPropBits:0,cssLitGroup:[o[71]],cssFns:"matrix(),perspective(),rotate(),rotate3d(),rotatex(),rotatey(),rotatez(),scale(),scale3d(),scalex(),scaley(),scalez(),skew(),skewx(),skewy(),translate(),translate3d(),translatex(),translatey(),translatez()".split(",")},"transform-origin":"perspective-origin","transform-style":{cssPropBits:0,cssLitGroup:[o[37]],cssFns:[]},transition:{cssPropBits:1029,cssLitGroup:[o[10],o[48],o[50],o[71]],cssFns:["cubic-bezier()","steps()"]},"transition-delay":"animation-delay","transition-duration":"animation-delay","transition-property":{cssPropBits:1024,cssLitGroup:[o[48],o[50]],cssFns:[]},"transition-timing-function":"animation-timing-function","unicode-bidi":{cssPropBits:0,cssLitGroup:[o[30],o[72]],cssFns:[]},"vertical-align":{cssPropBits:5,cssLitGroup:[o[12],o[31]],cssFns:[]},visibility:"backface-visibility","voice-family":{cssPropBits:8,cssLitGroup:[o[27],o[48]],cssFns:[]},volume:{cssPropBits:1,cssLitGroup:[o[17],o[69]],cssFns:[]},"white-space":{cssPropBits:0,cssLitGroup:[o[22],o[72]],cssFns:[]},width:"min-height","word-break":{cssPropBits:0,cssLitGroup:[o[32],o[72]],cssFns:[]},"word-spacing":"letter-spacing","word-wrap":"overflow-wrap","z-index":"bottom",zoom:"line-height","cubic-bezier()":"animation-delay","steps()":{cssPropBits:5,cssLitGroup:[o[36],o[48]],cssFns:[]},"image()":{cssPropBits:18,cssLitGroup:[o[0],o[48]],cssFns:["rgb()","rgba()"]},"linear-gradient()":{cssPropBits:7,cssLitGroup:[o[0],o[31],o[42],o[48],o[79]],cssFns:["rgb()","rgba()"]},"radial-gradient()":{cssPropBits:7,cssLitGroup:[o[0],o[11],o[31],o[42],o[48],o[56],o[57]],cssFns:["rgb()","rgba()"]},"repeating-linear-gradient()":"linear-gradient()","repeating-radial-gradient()":"radial-gradient()","rgb()":{cssPropBits:1,cssLitGroup:[o[48]],cssFns:[]},"rgba()":"rgb()","rect()":{cssPropBits:5,cssLitGroup:[o[48],o[52]],cssFns:[]},"alpha()":{cssPropBits:1,cssLitGroup:[o[28]],cssFns:[]},"matrix()":"animation-delay","perspective()":"border-bottom-left-radius","rotate()":"border-bottom-left-radius","rotate3d()":"animation-delay","rotatex()":"border-bottom-left-radius","rotatey()":"border-bottom-left-radius","rotatez()":"border-bottom-left-radius","scale()":"animation-delay","scale3d()":"animation-delay","scalex()":"border-bottom-left-radius","scaley()":"border-bottom-left-radius","scalez()":"border-bottom-left-radius","skew()":"animation-delay","skewx()":"border-bottom-left-radius","skewy()":"border-bottom-left-radius","translate()":"animation-delay","translate3d()":"animation-delay","translatex()":"border-bottom-left-radius","translatey()":"border-bottom-left-radius","translatez()":"border-bottom-left-radius"};for(t in r)"string"==typeof r[t]&&Object.hasOwnProperty.call(r,t)&&(r[t]=r[r[t]]);"undefined"!=typeof window&&(window.cssSchema=r);var s,a;!function(){function t(t){var e=parseInt(t.substring(1),16);return 65535<e?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):e==e?String.fromCharCode(e):" ">t[1]?"":t[1]}function e(t,e){return'"'+t.replace(/[\u0000-\u001f\\\"<>]/g,e)+'"'}function i(t){return l[t]||(l[t]="\\"+t.charCodeAt(0).toString(16)+" ")}function n(t){return o[t]||(o[t]=("">t?"%0":"%")+t.charCodeAt(0).toString(16))}var l={"\\":"\\\\"},o={"\\":"%5c"},r=RegExp("\\uFEFF|U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?|url[(][\\t\\n\\f ]*(?:\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)[\\t\\n\\f ]*[)]|(?!url[(])-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*[(]|(?:@?-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))|#)(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*|\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)(?:%|-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)?|\x3c!--|--\x3e|[\\t\\n\\f ]+|/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)|[~|^$*]=|[^\"'\\\\/]|/(?![/*])","gi"),g=RegExp("\\\\(?:(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff])|[\\n\\f])","g"),C=RegExp("^url\\([\\t\\n\\f ]*[\"']?|[\"']?[\\t\\n\\f ]*\\)$","gi");a=function(e){return e.replace(g,t)},s=function(t){for(var l=0,o=" ",s=0,g=(t=(""+t).replace(/\r\n?/g,"\n").match(r)||[]).length;s<g;++s){var h=a(t[s]),A=h.length,I=h.charCodeAt(0);o==(h=34==I||39==I?e(h.substring(1,A-1),i):47==I&&1<A||"\\"==h||"--\x3e"==h||"\x3c!--"==h||"\ufeff"==h||32>=I?" ":/url\(/i.test(h)?"url("+e(h.replace(C,""),n)+")":h)&&" "==h||(t[l++]=o=h)}return t.length=l,t}}(),"undefined"!=typeof window&&(window.lexCss=s,window.decodeCss=a);var g=function(){function t(t){return t=(""+t).match(C),t?new r(s(t[1]),s(t[2]),s(t[3]),s(t[4]),s(t[5]),s(t[6]),s(t[7])):n}function e(t,e){return"string"==typeof t?encodeURI(t).replace(e,i):n}function i(t){return t=t.charCodeAt(0),"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}function l(t){if(t===n)return n;for(var e,t=t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/"),i=a;(e=t.replace(i,"$1"))!=t;t=e);return t}function o(t,e){var i=t.T(),n=e.K();n?i.ga(e.j):n=e.X(),n?i.da(e.n):n=e.Y(),n?i.ea(e.k):n=e.$();var o=e.g,r=l(o);if(n)i.ca(e.V()),r=r&&r.replace(g,"");else if(n=!!o){if(47!==r.charCodeAt(0))var r=l(i.g||"").replace(g,""),s=r.lastIndexOf("/")+1,r=l((s?r.substring(0,s):"")+l(o)).replace(g,"")}else(r=r&&r.replace(g,""))!==o&&i.G(r);return n?i.G(r):n=e.aa(),n?i.O(e.l):n=e.Z(),n&&i.fa(e.o),i}function r(t,e,i,n,l,o,r){this.j=t,this.n=e,this.k=i,this.h=n,this.g=l,this.l=o,this.o=r}function s(t){return"string"==typeof t&&0<t.length?t:n}var a=RegExp(/(\/|^)(?:[^./][^/]*|\.{2,}(?:[^./][^/]*)|\.{3,}[^/]*)\/\.\.(?:\/|$)/),g=/^(?:\.\.\/)*(?:\.\.$)?/;r.prototype.toString=function(){var t=[];return n!==this.j&&t.push(this.j,":"),n!==this.k&&(t.push("//"),n!==this.n&&t.push(this.n,"@"),t.push(this.k),n!==this.h&&t.push(":",this.h.toString())),n!==this.g&&t.push(this.g),n!==this.l&&t.push("?",this.l),n!==this.o&&t.push("#",this.o),t.join("")},r.prototype.T=function(){return new r(this.j,this.n,this.k,this.h,this.g,this.l,this.o)},r.prototype.W=function(){return this.j&&decodeURIComponent(this.j).toLowerCase()},r.prototype.ga=function(t){this.j=t||n},r.prototype.K=function(){return n!==this.j},r.prototype.da=function(t){this.n=t||n},r.prototype.X=function(){return n!==this.n},r.prototype.ea=function(t){this.k=t||n,this.G(this.g)},r.prototype.Y=function(){return n!==this.k},r.prototype.V=function(){return this.h&&decodeURIComponent(this.h)},r.prototype.ca=function(t){if(t){if((t=Number(t))!==(65535&t))throw Error("Bad port number "+t);this.h=""+t}else this.h=n},r.prototype.$=function(){return n!==this.h},r.prototype.U=function(){return this.g&&decodeURIComponent(this.g)},r.prototype.G=function(t){t?(t=""+t,this.g=!this.k||/^\//.test(t)?t:"/"+t):this.g=n},r.prototype.O=function(t){this.l=t||n},r.prototype.aa=function(){return n!==this.l},r.prototype.ba=function(t){if("object"==typeof t&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e,i=[],n=-1;for(e in t){var l=t[e];"string"==typeof l&&(i[++n]=e,i[++n]=l)}t=i}for(var i=[],n="",o=0;o<t.length;)e=t[o++],l=t[o++],i.push(n,encodeURIComponent(e.toString())),n="&",l&&i.push("=",encodeURIComponent(l.toString()));this.l=i.join("")},r.prototype.fa=function(t){this.o=t||n},r.prototype.Z=function(){return n!==this.o};var C=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,h=/[#\/\?@]/g,A=/[\#\?]/g;return r.parse=t,r.create=function(t,l,o,s,a,g,C){return t=new r(e(t,h),e(l,h),"string"==typeof o?encodeURIComponent(o):n,0<s?s.toString():n,e(a,A),n,"string"==typeof C?encodeURIComponent(C):n),g&&("string"==typeof g?t.O(g.replace(/[^?&=0-9A-Za-z_\-~.%]/g,i)):t.ba(g)),t},r.N=o,r.ma=l,r.ha={ua:function(e){return/\.html$/.test(t(e).U())?"text/html":"application/javascript"},N:function(e,i){return e?o(t(e),t(i)).toString():""+i}},r}();"undefined"!=typeof window&&(window.URI=g);var C=e,h=e,A=e,I=e;!function(){function t(t){return"string"==typeof t?'url("'+t.replace(m,o)+'")':'url("about:blank")'}function o(t){return x[t]}function s(t,e){return t?g.ha.N(t,e):e}function d(t,e,i){if(!i)return n;var l=(""+t).match(v);return!l||l[1]&&!y.test(l[1])?n:i(t,e)}function p(t){return t.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/,"")}var m=/[\n\f\r\"\'()*<>]/g,x={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},v=/^(?:([^:/?# ]+):)?/,y=/^(?:https?|mailto|data)$/i;C=function(){var e={};return function i(n,l,o,g,C){var n=p(n),h=r[n];if(h&&"object"==typeof h){for(var A=h.cssPropBits,I=80&A,c=1536&A,u=NaN,m=0,x=0;m<l.length;++m){var v,y,f,b,w,E=l[m].toLowerCase(),S=E.charCodeAt(0);if(32===S)E="";else if(34===S)E=16===I?o?t(d(s(g,a(l[m].substring(1,E.length-1))),n,o)):"":8&A&&!(I&I-1)?E:"";else if("inherit"!==E){if(w=h.cssLitGroup){var T;if(!(T=h.cssLitMap)){T={};for(var G=w.length;0<=--G;)for(var R=w[G],L=R.length;0<=--L;)T[R[L]]=e;T=h.cssLitMap=T}w=T}else w=e;if(w[p(E)]!==e)if(35===S&&/^#(?:[0-9a-f]{3}){1,2}$/.test(E))E=2&A?E:"";else if(48<=S&&57>=S)E=1&A?E:"";else if(v=E.charCodeAt(1),y=E.charCodeAt(2),f=48<=v&&57>=v,b=48<=y&&57>=y,43===S&&(f||46===v&&b))E=1&A?(f?"":"0")+E.substring(1):"";else if(45===S&&(f||46===v&&b))E=4&A?(f?"-":"-0")+E.substring(1):1&A?"0":"";else if(46===S&&f)E=1&A?"0"+E:"";else if('url("'===E.substring(0,5))E=o&&16&A?t(d(s(g,l[m].substring(5,E.length-2)),n,o)):"";else if("("===E.charAt(E.length-1))t:{for(E=1,G=(T=m)+1,S=(w=l).length;G<S&&E;)R=w[G++],E+=")"===R?-1:/^[^"']*\($/.test(R);if(!E)for(S=p(E=w[T].toLowerCase()),w=w.splice(T,G-T,""),G=0,R=(T=h.cssFns).length;G<R;++G)if(T[G].substring(0,S.length)==S){w[0]=w[w.length-1]="",i(T[G],w,o,g),E=E+w.join(" ")+")";break t}E=""}else E=c&&/^-?[a-z_][\w\-]*$/.test(E)&&!/__$/.test(E)?C&&512===c?l[m]+C:1024===c&&r[E]&&"number"==typeof r[E].oa?E:"":/^\w+$/.test(E)&&64===I&&8&A?u+1===x?(l[u]=l[u].substring(0,l[u].length-1)+" "+E+'"',""):(u=x,'"'+E+'"'):""}E&&(l[x++]=E)}1===x&&'url("about:blank")'===l[0]&&(x=0),l.length=x}else l.length=0}}();var f=RegExp("^(active|after|before|blank|checked|default|disabled|drop|empty|enabled|first|first-child|first-letter|first-line|first-of-type|fullscreen|focus|hover|in-range|indeterminate|invalid|last-child|last-of-type|left|link|only-child|only-of-type|optional|out-of-range|placeholder-shown|read-only|read-write|required|right|root|scope|user-error|valid|visited)$"),b={};b[">"]=b["+"]=b["~"]=b,h=function(t,e,o){function r(r,s){function a(n,o,r){var s,a,g,A,c,d=i;s="",n<o&&("*"===(c=t[n])?(++n,s=c):/^[a-zA-Z]/.test(c)&&(a=h(c.toLowerCase(),[]))&&("tagName"in a&&(c=a.tagName),++n,s=c));for(A=g=a="";d&&n<o;++n)if("#"===(c=t[n]).charAt(0))/^#_|__$|[^\w#:\-]/.test(c)?d=l:a+=c+C;else if("."===c)++n<o&&/^[0-9A-Za-z:_\-]+$/.test(c=t[n])&&!/^_|__$/.test(c)?a+="."+c:d=l;else if(n+1<o&&"["===t[n]){++n;var p=t[n++].toLowerCase();(c=u.m[s+"::"+p])!==+c&&(c=u.m["*::"+p]);var m;e.ia?("string"!=typeof(m=e.ia(s,p))&&(d=l,m=p),d&&c!==+c&&(c=u.d.NONE)):(m=p,c!==+c&&(d=l));var x=p="",v=l;switch(/^[~^$*|]?=$/.test(t[n])&&(p=t[n++],x=t[n++],/^[0-9A-Za-z:_\-]+$/.test(x)?x='"'+x+'"':"]"===x&&(x='""',--n),/^"([^\"\\]|\\.)*"$/.test(x)||(d=l),(v="i"===t[n])&&++n),"]"!==t[n]&&(++n,d=l),c){case u.d.CLASSES:case u.d.LOCAL_NAME:case u.d.NONE:break;case u.d.GLOBAL_NAME:case u.d.ID:case u.d.IDREF:"="!==p&&"~="!==p&&"$="!==p||'""'==x||v?"|="===p||""===p||(d=l):x='"'+x.substring(1,x.length-1)+C+'"';break;case u.d.URI:case u.d.URI_FRAGMENT:""!==p&&(d=l);break;default:d=l}d&&(g+="["+m.replace(/[^\w-]/g,"\\$&")+p+x+(v?" i]":"]"))}else{if(!(n<o&&":"===t[n]))break;if(c=t[++n],!f.test(c))break;A+=":"+c}return n!==o&&(d=l),d&&(n=(s+a).replace(/[^ .*#\w-]/g,"\\$&")+g+A+r)&&I.push(n),d}" "===t[r]&&++r,s-1!==r&&" "===t[s]&&--s;for(var I=[],c=r,d=i,p=r;d&&p<s;++p){var m=t[p];b[m]!==b&&" "!==m||(a(c,p,m)?c=p+1:d=l)}return a(c,s,"")||(d=l),d?(I.length&&(c=I.join(""),g!==n&&(c="."+g+" "+c),A.push(c)),i):!o||o(t.slice(r,s))}var s,a,g=e.na,C=e.L,h=e.Aa,A=[],I=0,c=0;for(s=0;s<t.length;++s)a=t[s],("("==a||"["==a?(++c,!i):")"==a||"]"==a?(c&&--c,!i):" "==t[s]&&(c||b[t[s-1]]===b||b[t[s+1]]===b))||(t[I++]=t[s]);for(t.length=I,I=t.length,s=c=0;s<I;++s)if(","===t[s]){if(!r(c,s))return n;c=s+1}return r(c,I)?A:n},function(){var t=/^\w/,e=RegExp("^(?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*)(?: , (?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*))*$","i");I=function(i){for(var n=(i=i.slice()).length,l=0,o=0;o<n;++o){var r=i[o];" "!=r&&(i[l++]=r)}return i.length=l,i=i.join(" "),i=i.length?e.test(i)?t.test(i)?i:"not all , "+i:"not all":""}}(),function(){function t(t){var e,i=/^\s*[']([^']*)[']\s*$/,l=/^\s*url\s*[(]["]([^"]*)["][)]\s*$/,o=/^\s*url\s*[(][']([^']*)['][)]\s*$/,r=/^\s*url\s*[(]([^)]*)[)]\s*$/;return(e=/^\s*["]([^"]*)["]\s*$/.exec(t))||(e=i.exec(t))||(e=l.exec(t))||(e=o.exec(t))||(e=r.exec(t))?e[1]:n}function o(r,a,g,A,u,p,m){function x(){b=f.length&&f[f.length-1]===n}var v=e,y=m||[0],f=[],b=l;return c(a,{startStylesheet:function(){v=[]},endStylesheet:function(){},startAtrule:function(e,i){if(b)e=n;else if("@media"===e)v.push("@media"," ",I(i));else if("@keyframes"===e||"@-webkit-keyframes"===e){var l=i[0];1!==i.length||/__$|[^\w\-]/.test(l)?e=n:(v.push(e," ",l+g.L),e="@keyframes")}else if("@import"===e&&0<i.length)if(e=n,"function"==typeof p){var a=I(i.slice(1));if("not all"!==a){++y[0];var C=[];v.push(C);var h=d(s(r,t(i[0])),function(t){var e=o(h,t.qa,g,A,u,p,y);--y[0],t=a?{toString:function(){return"@media "+a+" {"+e.result+"}"}}:e.result,C[0]=t,p(t,!!y[0])},u)}}else window.console&&window.console.log("@import "+i.join(" ")+" elided");b=!e,f.push(e)},endAtrule:function(){f.pop(),b||v.push(";"),x()},startBlock:function(){b||v.push("{")},endBlock:function(){b||(v.push("}"),b=i)},startRuleset:function(t){if(!b){var l=e;"@keyframes"===f[f.length-1]?(l=t.join(" ").match(/^ *(?:from|to|\d+(?:\.\d+)?%) *(?:, *(?:from|to|\d+(?:\.\d+)?%) *)*$/i),b=!l,l&&(l=l[0].replace(/ +/g,""))):(t=h(t,g),t&&t.length?l=t.join(", "):b=i),b||v.push(l,"{")}f.push(n)},endRuleset:function(){f.pop(),b||v.push("}"),x()},declaration:function(t,e){if(!b){var n=l,o=e.length;2<=o&&"!"===e[o-2]&&"important"===e[o-1].toLowerCase()&&(n=i,e.length-=2),C(t,e,A,r,g.L),e.length&&v.push(t,":",e.join(" "),n?" !important;":";")}}}),{result:{toString:function(){return v.join("")}},va:!!y[0]}}A=function(t,i,n,l){return o(t,i,n,l,e,e).result.toString()}}()}(),"undefined"!=typeof window&&(window.sanitizeCssProperty=C,window.sanitizeCssSelectorList=h,window.sanitizeStylesheet=A,window.sanitizeMediaQuery=I);var c,d;!function(){function t(t,i,n,l,o){for(var r=i++;i<n&&"{"!==t[i]&&";"!==t[i];)++i;if(i<n&&(o||";"===t[i])){var s=i;(o=r+1)<n&&" "===t[o]&&++o,s>o&&" "===t[s-1]&&--s,l.startAtrule&&l.startAtrule(t[r].toLowerCase(),t.slice(o,s)),i="{"===t[i]?e(t,i,n,l):i+1,l.endAtrule&&l.endAtrule()}return i}function e(i,o,r,s){for(++o,s.startBlock&&s.startBlock();o<r;){var a=i[o].charAt(0);if("}"==a){++o;break}o=" "===a||";"===a?o+1:"@"===a?t(i,o,r,s,l):"{"===a?e(i,o,r,s):n(i,o,r,s)}return s.endBlock&&s.endBlock(),o}function n(t,e,n,l){var r=e,s=o(t,e,n,i);if(0>s)return s=~s,s===r?s+1:s;var g=t[s];if("{"!==g)return s===r?s+1:s;for(e=s+1,s>r&&" "===t[s-1]&&--s,l.startRuleset&&l.startRuleset(t.slice(r,s));e<n;){if("}"===(g=t[e])){++e;break}e=" "===g?e+1:a(t,e,n,l)}return l.endRuleset&&l.endRuleset(),e}function o(t,e,i,n){for(var l,o=[],r=-1;e<i;++e)if("["===(l=t[e].charAt(0))||"("===l)o[++r]=l;else if("]"===l&&"["===o[r]||")"===l&&"("===o[r])--r;else if("{"===l||"}"===l||";"===l||"@"===l||":"===l&&!n)break;return 0<=r&&(e=~(e+1)),e}function r(t,e,i){for(;e<i&&";"!==t[e]&&"}"!==t[e];)++e;return e<i&&";"===t[e]?e+1:e}function a(t,e,i,n){var s=t[e++];if(!g.test(s))return r(t,e,i);if(e<i&&" "===t[e]&&++e,e==i||":"!==t[e])return r(t,e,i);++e<i&&" "===t[e]&&++e;var a=o(t,e,i,l);if(0>a)a=~a;else{for(var C=[],h=0,A=e;A<a;++A)" "!==(e=t[A])&&(C[h++]=e);if(a<i){do{if(";"===(e=t[a])||"}"===e)break;h=0}while(++a<i);";"===e&&++a}h&&n.declaration&&n.declaration(s.toLowerCase(),C)}return a}c=function(e,l){var o=s(e);l.startStylesheet&&l.startStylesheet();for(var r=0,a=o.length;r<a;)r=" "===o[r]?r+1:r<a?"@"===o[r].charAt(0)?t(o,r,a,l,i):n(o,r,a,l):r;l.endStylesheet&&l.endStylesheet()};var g=/^-?[a-z]/i;d=function(t,e){for(var i=s(t),n=0,l=i.length;n<l;)n=" "!==i[n]?a(i,n,l,e):n+1}}(),"undefined"!=typeof window&&(window.parseCssStylesheet=c,window.parseCssDeclarations=d);var u={d:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};u.atype=u.d,u.m={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},u.ATTRIBS=u.m,u.c={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},u.eflags=u.c,u.f={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,var:0,video:0,wbr:2},u.ELEMENTS=u.f,u.Q={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},u.ELEMENT_DOM_INTERFACES=u.Q,u.P={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},u.ueffects=u.P,u.J={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},u.URIEFFECTS=u.J,u.M={UNSANDBOXED:2,SANDBOXED:1,DATA:0},u.ltypes=u.M,u.I={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},u.LOADERTYPES=u.I,"undefined"!=typeof window&&(window.html4=u);var p=function(t){function o(t){if(E.hasOwnProperty(t))return E[t];var e=t.match(S);return e?String.fromCharCode(parseInt(e[1],10)):(e=t.match(T))?String.fromCharCode(parseInt(e[1],16)):R&&G.test(t)?(R.innerHTML="&"+t+";",e=R.textContent,E[t]=e):"&"+t+";"}function r(t,e){return o(e)}function s(t){return t.replace(P,r)}function a(t){return(""+t).replace(N,"&amp;").replace(O,"&lt;").replace(U,"&gt;").replace(k,"&#34;")}function C(t){return t.replace(D,"&amp;$1").replace(O,"&lt;").replace(U,"&gt;")}function h(t){var e={z:t.z||t.cdata,A:t.A||t.comment,B:t.B||t.endDoc,t:t.t||t.endTag,e:t.e||t.pcdata,F:t.F||t.rcdata,H:t.H||t.startDoc,w:t.w||t.startTag};return function(t,i){var o,r=/(<\/|<\!--|<[!?]|[&<>])/g;if(o=t+"",V)o=o.split(r);else{for(var s,a=[],g=0;(s=r.exec(o))!==n;)a.push(o.substring(g,s.index)),a.push(s[0]),g=s.index+s[0].length;a.push(o.substring(g)),o=a}I(e,o,0,{r:l,C:l},i)}}function A(t,e,i,n,l){return function(){I(t,e,i,n,l)}}function I(e,n,l,o,r){try{e.H&&0==l&&e.H(r);for(var s,a,g,C=n.length;l<C;){var h=n[l++],I=n[l];switch(h){case"&":M.test(I)?(e.e&&e.e("&"+I,r,Y,A(e,n,l,o,r)),l++):e.e&&e.e("&amp;",r,Y,A(e,n,l,o,r));break;case"</":if(s=/^([-\w:]+)[^\'\"]*/.exec(I))if(s[0].length===I.length&&">"===n[l+1])l+=2,g=s[1].toLowerCase(),e.t&&e.t(g,r,Y,A(e,n,l,o,r));else{var u=e,p=r,m=Y,x=o,v=d(f=n,b=l);v?(u.t&&u.t(v.name,p,m,A(u,f,b,x,p)),l=v.next):l=f.length}else e.e&&e.e("&lt;/",r,Y,A(e,n,l,o,r));break;case"<":if(s=/^([-\w:]+)\s*\/?/.exec(I))if(s[0].length===I.length&&">"===n[l+1]){l+=2,g=s[1].toLowerCase(),e.w&&e.w(g,[],r,Y,A(e,n,l,o,r));var y=t.f[g];y&Z&&(l=c(n,{name:g,next:l,c:y},e,r,Y,o))}else{var f=n,b=e,u=r,p=Y,m=o,w=d(f,l);w?(b.w&&b.w(w.name,w.R,u,p,A(b,f,w.next,m,u)),l=w.c&Z?c(f,w,b,u,p,m):w.next):l=f.length}else e.e&&e.e("&lt;",r,Y,A(e,n,l,o,r));break;case"\x3c!--":if(!o.C){for(a=l+1;a<C&&(">"!==n[a]||!/--$/.test(n[a-1]));a++);if(a<C){if(e.A){var E=n.slice(l,a).join("");e.A(E.substr(0,E.length-2),r,Y,A(e,n,a+1,o,r))}l=a+1}else o.C=i}o.C&&e.e&&e.e("&lt;!--",r,Y,A(e,n,l,o,r));break;case"<!":if(/^\w/.test(I)){if(!o.r){for(a=l+1;a<C&&">"!==n[a];a++);a<C?l=a+1:o.r=i}o.r&&e.e&&e.e("&lt;!",r,Y,A(e,n,l,o,r))}else e.e&&e.e("&lt;!",r,Y,A(e,n,l,o,r));break;case"<?":if(!o.r){for(a=l+1;a<C&&">"!==n[a];a++);a<C?l=a+1:o.r=i}o.r&&e.e&&e.e("&lt;?",r,Y,A(e,n,l,o,r));break;case">":e.e&&e.e("&gt;",r,Y,A(e,n,l,o,r));break;case"":break;default:e.e&&e.e(h,r,Y,A(e,n,l,o,r))}}e.B&&e.B(r)}catch(t){if(t!==Y)throw t}}function c(e,i,n,l,o,r){var s=e.length;F.hasOwnProperty(i.name)||(F[i.name]=RegExp("^"+i.name+"(?:[\\s\\/]|$)","i"));for(var a=F[i.name],g=i.next,h=i.next+1;h<s&&("</"!==e[h-1]||!a.test(e[h]));h++);if(h<s&&(h-=1),s=e.slice(g,h).join(""),i.c&t.c.CDATA)n.z&&n.z(s,l,o,A(n,e,h,r,l));else{if(!(i.c&t.c.RCDATA))throw Error("bug");n.F&&n.F(C(s),l,o,A(n,e,h,r,l))}return h}function d(e,n){var o=/^([-\w:]+)/.exec(e[n]),r={};r.name=o[1].toLowerCase(),r.c=t.f[r.name];for(var a=e[n].substr(o[0].length),g=n+1,C=e.length;g<C&&">"!==e[g];g++)a+=e[g];if(!(C<=g)){for(var h=[];""!==a;)if(o=H.exec(a))if(o[4]&&!o[5]||o[6]&&!o[7]){for(var o=o[4]||o[6],A=l,a=[a,e[g++]];g<C;g++){if(A){if(">"===e[g])break}else 0<=e[g].indexOf(o)&&(A=i);a.push(e[g])}if(C<=g)break;a=a.join("")}else{var I,A=o[1].toLowerCase();if(o[2]){var c=(I=o[3]).charCodeAt(0);34!==c&&39!==c||(I=I.substr(1,I.length-2)),I=s(I.replace(L,""))}else I="";h.push(A,I),a=a.substr(o[0].length)}else a=a.replace(/^[\s\S][^a-z\s]*/,"");return r.R=h,r.next=g+1,r}}function u(i){function o(t,e){s||e.push(t)}var r,s;return h({startDoc:function(){r=[],s=l},startTag:function(l,o,g){if(!s&&t.f.hasOwnProperty(l)){var C=t.f[l];if(!(C&t.c.FOLDABLE)){var h=i(l,o);if(h){if("object"!=typeof h)throw Error("tagPolicy did not return object (old API?)");if(!("attribs"in h))throw Error("tagPolicy gave no attribs");o=h.attribs;var A;if("tagName"in h?(A=h.tagName,h=t.f[A]):(A=l,h=C),C&t.c.OPTIONAL_ENDTAG){var I=r[r.length-1];I&&I.D===l&&(I.v!==A||l!==A)&&g.push("</",I.v,">")}for(C&t.c.EMPTY||r.push({D:l,v:A}),g.push("<",A),l=0,I=o.length;l<I;l+=2){var c=o[l],d=o[l+1];d!==n&&d!==e&&g.push(" ",c,'="',a(d),'"')}g.push(">"),C&t.c.EMPTY&&!(h&t.c.EMPTY)&&g.push("</",A,">")}else s=!(C&t.c.EMPTY)}}},endTag:function(e,i){if(s)s=l;else if(t.f.hasOwnProperty(e)){var n=t.f[e];if(!(n&(t.c.EMPTY|t.c.FOLDABLE))){if(n&t.c.OPTIONAL_ENDTAG)for(n=r.length;0<=--n;){var o=r[n].D;if(o===e)break;if(!(t.f[o]&t.c.OPTIONAL_ENDTAG))return}else for(n=r.length;0<=--n&&r[n].D!==e;);if(!(0>n)){for(o=r.length;--o>n;){var a=r[o].v;t.f[a]&t.c.OPTIONAL_ENDTAG||i.push("</",a,">")}n<r.length&&(e=r[n].v),r.length=n,i.push("</",e,">")}}}},pcdata:o,rcdata:o,cdata:o,endDoc:function(t){for(;r.length;r.length--)t.push("</",r[r.length-1].v,">")}})}function p(t,e,i,l,o){if(!o)return n;try{var r=g.parse(""+t);if(r&&(!r.K()||X.test(r.W()))){var s=o(r,e,i,l);return s?s.toString():n}}catch(t){}return n}function m(t,e,i,n,l){if(i||t(e+" removed",{S:"removed",tagName:e}),n!==l){var o="changed";n&&!l?o="removed":!n&&l&&(o="added"),t(e+"."+i+" "+o,{S:o,tagName:e,la:i,oldValue:n,newValue:l})}}function x(t,e,i){return e=e+"::"+i,t.hasOwnProperty(e)?t[e]:(e="*::"+i,t.hasOwnProperty(e)?t[e]:void 0)}function v(i,l,o,r,s){for(var a=0;a<l.length;a+=2){var g,C=l[a],h=l[a+1],A=h,I=n;if(g=i+"::"+C,(t.m.hasOwnProperty(g)||(g="*::"+C,t.m.hasOwnProperty(g)))&&(I=t.m[g]),I!==n)switch(I){case t.d.NONE:break;case t.d.SCRIPT:h=n,s&&m(s,i,C,A,h);break;case t.d.STYLE:if(void 0===b){h=n,s&&m(s,i,C,A,h);break}var c=[];b(h,{declaration:function(e,i){var l=e.toLowerCase();w(l,i,o?function(e){return p(e,t.P.ja,t.M.ka,{TYPE:"CSS",CSS_PROP:l},o)}:n),i.length&&c.push(l+": "+i.join(" "))}}),h=0<c.length?c.join(" ; "):n,s&&m(s,i,C,A,h);break;case t.d.ID:case t.d.IDREF:case t.d.IDREFS:case t.d.GLOBAL_NAME:case t.d.LOCAL_NAME:case t.d.CLASSES:h=r?r(h):h,s&&m(s,i,C,A,h);break;case t.d.URI:h=p(h,x(t.J,i,C),x(t.I,i,C),{TYPE:"MARKUP",XML_ATTR:C,XML_TAG:i},o),s&&m(s,i,C,A,h);break;case t.d.URI_FRAGMENT:h&&"#"===h.charAt(0)?(h=h.substring(1),(h=r?r(h):h)!==n&&h!==e&&(h="#"+h)):h=n,s&&m(s,i,C,A,h);break;default:h=n,s&&m(s,i,C,A,h)}else h=n,s&&m(s,i,C,A,h);l[a+1]=h}return l}function y(i,n,l){return function(o,r){if(!(t.f[o]&t.c.UNSAFE))return{attribs:v(o,r,i,n,l)};l&&m(l,o,e,e,e)}}function f(t,e){var i=[];return u(e)(t,i),i.join("")}var b,w;"undefined"!=typeof window&&(b=window.parseCssDeclarations,w=window.sanitizeCssProperty);var E={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:"Â "},S=/^#(\d+)$/,T=/^#x([0-9A-Fa-f]+)$/,G=/^[A-Za-z][A-za-z0-9]+$/,R="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):n,L=/\0/g,P=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,M=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,N=/&/g,D=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,O=/[<]/g,U=/>/g,k=/\"/g,H=/^\s*([-.:\w]+)(?:\s*(=)\s*((")[^"]*("|$)|(')[^']*('|$)|(?=[a-z][-\w]*\s*=)|[^"'\s]*))?/i,V=3==="a,b".split(/(,)/).length,Z=t.c.CDATA|t.c.RCDATA,Y={},F={},X=/^(?:https?|mailto|data)$/i,B={};return B.pa=B.escapeAttrib=a,B.ra=B.makeHtmlSanitizer=u,B.sa=B.makeSaxParser=h,B.ta=B.makeTagPolicy=y,B.wa=B.normalizeRCData=C,B.xa=B.sanitize=function(t,e,i,n){return f(t,y(e,i,n))},B.ya=B.sanitizeAttribs=v,B.za=B.sanitizeWithPolicy=f,B.Ba=B.unescapeEntities=s,B}(u),m=p.sanitize;"undefined"!=typeof window&&(window.html=p,window.html_sanitize=m)}();var mxClient={VERSION:"3.6.0.0",IS_IE:navigator.userAgent.indexOf("MSIE")>=0,IS_IE6:navigator.userAgent.indexOf("MSIE 6")>=0,IS_IE11:!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:!!navigator.userAgent.match(/Edge\//),IS_QUIRKS:navigator.userAgent.indexOf("MSIE")>=0&&(null==document.documentMode||5==document.documentMode),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:navigator.userAgent.indexOf("Mozilla/")>=0&&navigator.userAgent.indexOf("MSIE")<0&&navigator.userAgent.indexOf("Edge/")<0,IS_OP:navigator.userAgent.indexOf("Opera/")>=0||navigator.userAgent.indexOf("OPR/")>=0,IS_OT:navigator.userAgent.indexOf("Presto/")>=0&&navigator.userAgent.indexOf("Presto/2.4.")<0&&navigator.userAgent.indexOf("Presto/2.3.")<0&&navigator.userAgent.indexOf("Presto/2.2.")<0&&navigator.userAgent.indexOf("Presto/2.1.")<0&&navigator.userAgent.indexOf("Presto/2.0.")<0&&navigator.userAgent.indexOf("Presto/1.")<0,IS_SF:navigator.userAgent.indexOf("AppleWebKit/")>=0&&navigator.userAgent.indexOf("Chrome/")<0&&navigator.userAgent.indexOf("Edge/")<0,IS_IOS:!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),IS_GC:navigator.userAgent.indexOf("Chrome/")>=0&&navigator.userAgent.indexOf("Edge/")<0,IS_CHROMEAPP:null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime,IS_FF:navigator.userAgent.indexOf("Firefox/")>=0,IS_MT:navigator.userAgent.indexOf("Firefox/")>=0&&navigator.userAgent.indexOf("Firefox/1.")<0&&navigator.userAgent.indexOf("Firefox/2.")<0||navigator.userAgent.indexOf("Iceweasel/")>=0&&navigator.userAgent.indexOf("Iceweasel/1.")<0&&navigator.userAgent.indexOf("Iceweasel/2.")<0||navigator.userAgent.indexOf("SeaMonkey/")>=0&&navigator.userAgent.indexOf("SeaMonkey/1.")<0||navigator.userAgent.indexOf("Iceape/")>=0&&navigator.userAgent.indexOf("Iceape/1.")<0,IS_SVG:navigator.userAgent.indexOf("Firefox/")>=0||navigator.userAgent.indexOf("Iceweasel/")>=0||navigator.userAgent.indexOf("Seamonkey/")>=0||navigator.userAgent.indexOf("Iceape/")>=0||navigator.userAgent.indexOf("Galeon/")>=0||navigator.userAgent.indexOf("Epiphany/")>=0||navigator.userAgent.indexOf("AppleWebKit/")>=0||navigator.userAgent.indexOf("Gecko/")>=0||navigator.userAgent.indexOf("Opera/")>=0||null!=document.documentMode&&document.documentMode>=9,NO_FO:!document.createElementNS||"[object SVGForeignObjectElement]"!=document.createElementNS("http://www.w3.org/2000/svg","foreignObject")||navigator.userAgent.indexOf("Opera/")>=0,IS_VML:"MICROSOFT INTERNET EXPLORER"==navigator.appName.toUpperCase(),IS_WIN:navigator.appVersion.indexOf("Win")>0,IS_MAC:navigator.appVersion.indexOf("Mac")>0,IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:null!=window.PointerEvent,IS_LOCAL:document.location.href.indexOf("http://")<0&&document.location.href.indexOf("https://")<0,isBrowserSupported:function(){return mxClient.IS_VML||mxClient.IS_SVG},link:function(t,e,i){if(i=i||document,mxClient.IS_IE6)i.write('<link rel="'+t+'" href="'+e+'" charset="ISO-8859-1" type="text/css"/>');else{var n=i.createElement("link");n.setAttribute("rel",t),n.setAttribute("href",e),n.setAttribute("charset","ISO-8859-1"),n.setAttribute("type","text/css"),i.getElementsByTagName("head")[0].appendChild(n)}},include:function(t){document.write('<script src="'+t+'"><\/script>')},dispose:function(){for(var t=0;t<mxEvent.objects.length;t++)null!=mxEvent.objects[t].mxListenerList&&mxEvent.removeAllListeners(mxEvent.objects[t])}};"undefined"==typeof mxLoadResources&&(mxLoadResources=!0),"undefined"==typeof mxResourceExtension&&(mxResourceExtension=".txt"),"undefined"==typeof mxLoadStylesheets&&(mxLoadStylesheets=!0),"undefined"!=typeof mxBasePath&&mxBasePath.length>0?("/"==mxBasePath.substring(mxBasePath.length-1)&&(mxBasePath=mxBasePath.substring(0,mxBasePath.length-1)),mxClient.basePath=mxBasePath):mxClient.basePath=".","undefined"!=typeof mxImageBasePath&&mxImageBasePath.length>0?("/"==mxImageBasePath.substring(mxImageBasePath.length-1)&&(mxImageBasePath=mxImageBasePath.substring(0,mxImageBasePath.length-1)),mxClient.imageBasePath=mxImageBasePath):mxClient.imageBasePath=mxClient.basePath+"/images","undefined"!=typeof mxLanguage&&null!=mxLanguage?mxClient.language=mxLanguage:mxClient.language=mxClient.IS_IE?navigator.userLanguage:navigator.language,"undefined"!=typeof mxDefaultLanguage&&null!=mxDefaultLanguage?mxClient.defaultLanguage=mxDefaultLanguage:mxClient.defaultLanguage="en",mxLoadStylesheets&&mxClient.link("stylesheet",mxClient.basePath+"/css/common.css"),"undefined"!=typeof mxLanguages&&null!=mxLanguages&&(mxClient.languages=mxLanguages),mxClient.IS_VML&&(mxClient.IS_SVG?mxClient.IS_VML=!1:(8==document.documentMode?(document.namespaces.add(mxClient.VML_PREFIX,"urn:schemas-microsoft-com:vml","#default#VML"),document.namespaces.add(mxClient.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office","#default#VML")):(document.namespaces.add(mxClient.VML_PREFIX,"urn:schemas-microsoft-com:vml"),document.namespaces.add(mxClient.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office")),mxClient.IS_QUIRKS&&document.styleSheets.length>=30?function(){var t=document.createElement("style");t.type="text/css",t.styleSheet.cssText=mxClient.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+mxClient.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",document.getElementsByTagName("head")[0].appendChild(t)}():document.createStyleSheet().cssText=mxClient.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+mxClient.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",mxLoadStylesheets&&mxClient.link("stylesheet",mxClient.basePath+"/css/explorer.css"),window.attachEvent("onunload",mxClient.dispose)));var mxLog={consoleName:"Console",TRACE:!1,DEBUG:!0,WARN:!0,buffer:"",init:function(){if(null==mxLog.window){var t=mxLog.consoleName+" - mxGraph "+mxClient.VERSION,e=document.createElement("table");e.setAttribute("width","100%"),e.setAttribute("height","100%");var i=document.createElement("tbody"),n=document.createElement("tr"),l=document.createElement("td");l.style.verticalAlign="top",mxLog.textarea=document.createElement("textarea"),mxLog.textarea.setAttribute("readOnly","true"),mxLog.textarea.style.height="100%",mxLog.textarea.style.resize="none",mxLog.textarea.value=mxLog.buffer,mxClient.IS_NS&&"BackCompat"!=document.compatMode?mxLog.textarea.style.width="99%":mxLog.textarea.style.width="100%",l.appendChild(mxLog.textarea),n.appendChild(l),i.appendChild(n),n=document.createElement("tr"),mxLog.td=document.createElement("td"),mxLog.td.style.verticalAlign="top",mxLog.td.setAttribute("height","30px"),n.appendChild(mxLog.td),i.appendChild(n),e.appendChild(i),mxLog.addButton("Info",function(t){mxLog.info()}),mxLog.addButton("DOM",function(t){var e=mxUtils.getInnerHtml(document.body);mxLog.debug(e)}),mxLog.addButton("Trace",function(t){mxLog.TRACE=!mxLog.TRACE,mxLog.TRACE?mxLog.debug("Tracing enabled"):mxLog.debug("Tracing disabled")}),mxLog.addButton("Copy",function(t){try{mxUtils.copy(mxLog.textarea.value)}catch(t){mxUtils.alert(t)}}),mxLog.addButton("Show",function(t){try{mxUtils.popup(mxLog.textarea.value)}catch(t){mxUtils.alert(t)}}),mxLog.addButton("Clear",function(t){mxLog.textarea.value=""});var o=0,r=0;if("number"==typeof window.innerWidth?(o=window.innerHeight,r=window.innerWidth):(o=document.documentElement.clientHeight||document.body.clientHeight,r=document.body.clientWidth),mxLog.window=new mxWindow(t,e,Math.max(0,r-320),Math.max(0,o-210),300,160),mxLog.window.setMaximizable(!0),mxLog.window.setScrollable(!1),mxLog.window.setResizable(!0),mxLog.window.setClosable(!0),mxLog.window.destroyOnClose=!1,(mxClient.IS_NS||mxClient.IS_IE)&&!mxClient.IS_GC&&!mxClient.IS_SF&&"BackCompat"!=document.compatMode||11==document.documentMode){var s=mxLog.window.getElement(),a=function(t,e){mxLog.textarea.style.height=Math.max(0,s.offsetHeight-70)+"px"};mxLog.window.addListener(mxEvent.RESIZE_END,a),mxLog.window.addListener(mxEvent.MAXIMIZE,a),mxLog.window.addListener(mxEvent.NORMALIZE,a),mxLog.textarea.style.height="92px"}}},info:function(){mxLog.writeln(mxUtils.toString(navigator))},addButton:function(t,e){var i=document.createElement("button");mxUtils.write(i,t),mxEvent.addListener(i,"click",e),mxLog.td.appendChild(i)},isVisible:function(){return null!=mxLog.window&&mxLog.window.isVisible()},show:function(){mxLog.setVisible(!0)},setVisible:function(t){null==mxLog.window&&mxLog.init(),null!=mxLog.window&&mxLog.window.setVisible(t)},enter:function(t){if(mxLog.TRACE)return mxLog.writeln("Entering "+t),(new Date).getTime()},leave:function(t,e){if(mxLog.TRACE){var i=0!=e?" ("+((new Date).getTime()-e)+" ms)":"";mxLog.writeln("Leaving "+t+i)}},debug:function(){mxLog.DEBUG&&mxLog.writeln.apply(this,arguments)},warn:function(){mxLog.WARN&&mxLog.writeln.apply(this,arguments)},write:function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e],e<arguments.length-1&&(t+=" ");null!=mxLog.textarea?(mxLog.textarea.value=mxLog.textarea.value+t,navigator.userAgent.indexOf("Presto/2.5")>=0&&(mxLog.textarea.style.visibility="hidden",mxLog.textarea.style.visibility="visible"),mxLog.textarea.scrollTop=mxLog.textarea.scrollHeight):mxLog.buffer+=t},writeln:function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e],e<arguments.length-1&&(t+=" ");mxLog.write(t+"\n")}},mxObjectIdentity={FIELD_NAME:"mxObjectId",counter:0,get:function(t){if(null!=t){if(null==t[mxObjectIdentity.FIELD_NAME])if("object"==typeof t){var e=mxUtils.getFunctionName(t.constructor);t[mxObjectIdentity.FIELD_NAME]=e+"#"+mxObjectIdentity.counter++}else"function"==typeof t&&(t[mxObjectIdentity.FIELD_NAME]="Function#"+mxObjectIdentity.counter++);return t[mxObjectIdentity.FIELD_NAME]}return null},clear:function(t){"object"!=typeof t&&"function"!=typeof t||delete t[mxObjectIdentity.FIELD_NAME]}};mxDictionary.prototype.map=null,mxDictionary.prototype.clear=function(){this.map={}},mxDictionary.prototype.get=function(t){var e=mxObjectIdentity.get(t);return this.map[e]},mxDictionary.prototype.put=function(t,e){var i=mxObjectIdentity.get(t),n=this.map[i];return this.map[i]=e,n},mxDictionary.prototype.remove=function(t){var e=mxObjectIdentity.get(t),i=this.map[e];return delete this.map[e],i},mxDictionary.prototype.getKeys=function(){var t=[];for(var e in this.map)t.push(e);return t},mxDictionary.prototype.getValues=function(){var t=[];for(var e in this.map)t.push(this.map[e]);return t},mxDictionary.prototype.visit=function(t){for(var e in this.map)t(e,this.map[e])};var mxResources={resources:[],extension:mxResourceExtension,resourcesEncoded:!1,loadDefaultBundle:!0,loadSpecialBundle:!0,isLanguageSupported:function(t){return null==mxClient.languages||mxUtils.indexOf(mxClient.languages,t)>=0},getDefaultBundle:function(t,e){return mxResources.loadDefaultBundle||!mxResources.isLanguageSupported(e)?t+mxResources.extension:null},getSpecialBundle:function(t,e){if(null==mxClient.languages||!this.isLanguageSupported(e)){var i=e.indexOf("-");i>0&&(e=e.substring(0,i))}return mxResources.loadSpecialBundle&&mxResources.isLanguageSupported(e)&&e!=mxClient.defaultLanguage?t+"_"+e+mxResources.extension:null},add:function(t,e,i){if((e=null!=e?e:null!=mxClient.language?mxClient.language.toLowerCase():mxConstants.NONE)!=mxConstants.NONE){var n=mxResources.getDefaultBundle(t,e),l=mxResources.getSpecialBundle(t,e),o=function(){if(null!=l)if(i)mxUtils.get(l,function(t){mxResources.parse(t.getText()),i()},function(){i()});else try{var t=mxUtils.load(l);t.isReady()&&mxResources.parse(t.getText())}catch(t){}else null!=i&&i()};if(null!=n)if(i)mxUtils.get(n,function(t){mxResources.parse(t.getText()),o()},function(){o()});else try{var r=mxUtils.load(n);r.isReady()&&mxResources.parse(r.getText()),o()}catch(t){}else o()}},parse:function(t){if(null!=t)for(var e=t.split("\n"),i=0;i<e.length;i++)if("#"!=e[i].charAt(0)){var n=e[i].indexOf("=");if(n>0){var l=e[i].substring(0,n),o=e[i].length;13==e[i].charCodeAt(o-1)&&o--;var r=e[i].substring(n+1,o);this.resourcesEncoded?(r=r.replace(/\\(?=u[a-fA-F\d]{4})/g,"%"),mxResources.resources[l]=unescape(r)):mxResources.resources[l]=r}}},get:function(t,e,i){var n=mxResources.resources[t];return null==n&&(n=i),null!=n&&null!=e&&(n=mxResources.replacePlaceholders(n,e)),n},replacePlaceholders:function(t,e){for(var i=[],n=null,l=0;l<t.length;l++){var o=t.charAt(l);"{"==o?n="":null!=n&&"}"==o?((n=parseInt(n)-1)>=0&&n<e.length&&i.push(e[n]),n=null):null!=n?n+=o:i.push(o)}return i.join("")},loadResources:function(t){mxResources.add(mxClient.basePath+"/resources/editor",null,function(){mxResources.add(mxClient.basePath+"/resources/graph",null,t)})}};mxPoint.prototype.x=null,mxPoint.prototype.y=null,mxPoint.prototype.equals=function(t){return null!=t&&t.x==this.x&&t.y==this.y},mxPoint.prototype.clone=function(){return mxUtils.clone(this)},mxRectangle.prototype=new mxPoint,mxRectangle.prototype.constructor=mxRectangle,mxRectangle.prototype.width=null,mxRectangle.prototype.height=null,mxRectangle.prototype.setRect=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},mxRectangle.prototype.getCenterX=function(){return this.x+this.width/2},mxRectangle.prototype.getCenterY=function(){return this.y+this.height/2},mxRectangle.prototype.add=function(t){if(null!=t){var e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),l=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.y=i,this.width=n-e,this.height=l-i}},mxRectangle.prototype.intersect=function(t){if(null!=t){var e=this.x+this.width,i=t.x+t.width,n=this.y+this.height,l=t.y+t.height;this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.width=Math.min(e,i)-this.x,this.height=Math.min(n,l)-this.y}},mxRectangle.prototype.grow=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},mxRectangle.prototype.getPoint=function(){return new mxPoint(this.x,this.y)},mxRectangle.prototype.rotate90=function(){var t=(this.width-this.height)/2;this.x+=t,this.y-=t;var e=this.width;this.width=this.height,this.height=e},mxRectangle.prototype.equals=function(t){return null!=t&&t.x==this.x&&t.y==this.y&&t.width==this.width&&t.height==this.height},mxRectangle.fromRectangle=function(t){return new mxRectangle(t.x,t.y,t.width,t.height)};var mxEffects={animateChanges:function(t,e,i){var n=0,l=function(){for(var r=!1,s=0;s<e.length;s++){var a=e[s];if(a instanceof mxGeometryChange||a instanceof mxTerminalChange||a instanceof mxValueChange||a instanceof mxChildChange||a instanceof mxStyleChange){var g=t.getView().getState(a.cell||a.child,!1);if(null!=g)if(r=!0,a.constructor!=mxGeometryChange||t.model.isEdge(a.cell))mxUtils.setOpacity(g.shape.node,100*n/10);else{var C=t.getView().scale,h=(a.geometry.x-a.previous.x)*C,A=(a.geometry.y-a.previous.y)*C,I=(a.geometry.width-a.previous.width)*C,c=(a.geometry.height-a.previous.height)*C;0==n?(g.x-=h,g.y-=A,g.width-=I,g.height-=c):(g.x+=h/10,g.y+=A/10,g.width+=I/10,g.height+=c/10),t.cellRenderer.redraw(g),mxEffects.cascadeOpacity(t,a.cell,100*n/10)}}}n<10&&r?(n++,window.setTimeout(l,o)):null!=i&&i()},o=30;l()},cascadeOpacity:function(t,e,i){for(var n=t.model.getChildCount(e),l=0;l<n;l++){var o=t.model.getChildAt(e,l),r=t.getView().getState(o);null!=r&&(mxUtils.setOpacity(r.shape.node,i),mxEffects.cascadeOpacity(t,o,i))}var s=t.model.getEdges(e);if(null!=s)for(l=0;l<s.length;l++){var a=t.getView().getState(s[l]);null!=a&&mxUtils.setOpacity(a.shape.node,i)}},fadeOut:function(t,e,i,n,l,o){n=n||40,l=l||30;var r=e||100;if(mxUtils.setOpacity(t,r),o||null==o){var s=function(){r=Math.max(r-n,0),mxUtils.setOpacity(t,r),r>0?window.setTimeout(s,l):(t.style.visibility="hidden",i&&t.parentNode&&t.parentNode.removeChild(t))};window.setTimeout(s,l)}else t.style.visibility="hidden",i&&t.parentNode&&t.parentNode.removeChild(t)}},mxUtils={errorResource:"none"!=mxClient.language?"error":"",closeResource:"none"!=mxClient.language?"close":"",errorImage:mxClient.imageBasePath+"/error.gif",removeCursors:function(t){null!=t.style&&(t.style.cursor="");var e=t.childNodes;if(null!=e)for(var i=e.length,n=0;n<i;n+=1)mxUtils.removeCursors(e[n])},getCurrentStyle:function(){return mxClient.IS_IE?function(t){return null!=t?t.currentStyle:null}:function(t){return null!=t?window.getComputedStyle(t,""):null}}(),parseCssNumber:function(t){return"thin"==t?t="2":"medium"==t?t="4":"thick"==t&&(t="6"),t=parseFloat(t),isNaN(t)&&(t=0),t},setPrefixedStyle:function(){var t=null;return mxClient.IS_OT?t="O":mxClient.IS_SF||mxClient.IS_GC?t="Webkit":mxClient.IS_MT?t="Moz":mxClient.IS_IE&&document.documentMode>=9&&document.documentMode<10&&(t="ms"),function(e,i,n){e[i]=n,null!=t&&i.length>0&&(e[i=t+i.substring(0,1).toUpperCase()+i.substring(1)]=n)}}(),hasScrollbars:function(t){var e=mxUtils.getCurrentStyle(t);return null!=e&&("scroll"==e.overflow||"auto"==e.overflow)},bind:function(t,e){return function(){return e.apply(t,arguments)}},eval:function(expr){var result=null;if(expr.indexOf("function")>=0)try{eval("var _mxJavaScriptExpression="+expr),result=_mxJavaScriptExpression,_mxJavaScriptExpression=null}catch(t){mxLog.warn(t.message+" while evaluating "+expr)}else try{result=eval(expr)}catch(t){mxLog.warn(t.message+" while evaluating "+expr)}return result},findNode:function(t,e,i){if(t.nodeType==mxConstants.NODETYPE_ELEMENT){var n=t.getAttribute(e);if(null!=n&&n==i)return t}for(t=t.firstChild;null!=t;){var l=mxUtils.findNode(t,e,i);if(null!=l)return l;t=t.nextSibling}return null},getFunctionName:function(t){var e=null;if(null!=t)if(null!=t.name)e=t.name;else if(e=mxUtils.trim(t.toString()),/^function\s/.test(e)){var i=(e=mxUtils.ltrim(e.substring(9))).indexOf("(");i>0&&(e=e.substring(0,i))}return e},indexOf:function(t,e){if(null!=t&&null!=e)for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1},indexOfNestedArray:function(t,e,i){for(var n=0;n<t.length;n++){if(t[n]==e)return n;if(t[n][i]instanceof Array){if(this.indexOfNestedArray(t[n][i],e,i)>=0)return n}else if(t[n]==e)return n}return-1},forEach:function(t,e){if(null!=t&&null!=e)for(var i=0;i<t.length;i++)e(t[i]);return t},remove:function(t,e){var i=null;if("object"==typeof e)for(var n=mxUtils.indexOf(e,t);n>=0;)e.splice(n,1),i=t,n=mxUtils.indexOf(e,t);for(var l in e)e[l]==t&&(delete e[l],i=t);return i},isNode:function(t,e,i,n){return!(null==t||isNaN(t.nodeType)||null!=e&&t.nodeName.toLowerCase()!=e.toLowerCase())&&(null==i||t.getAttribute(i)==n)},isAncestorNode:function(t,e){for(var i=e;null!=i;){if(i==t)return!0;i=i.parentNode}return!1},getChildNodes:function(t,e){e=e||mxConstants.NODETYPE_ELEMENT;for(var i=[],n=t.firstChild;null!=n;)n.nodeType==e&&i.push(n),n=n.nextSibling;return i},importNode:function(t,e,i){if(!mxClient.IS_IE||!(null==document.documentMode||document.documentMode<10))return t.importNode(e,i);switch(e.nodeType){case 1:var n=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0){for(l=0;l<e.attributes.length;l++)n.setAttribute(e.attributes[l].nodeName,e.getAttribute(e.attributes[l].nodeName));if(i&&e.childNodes&&e.childNodes.length>0)for(var l=0;l<e.childNodes.length;l++)n.appendChild(mxUtils.importNode(t,e.childNodes[l],i))}return n;case 3:case 4:case 8:return t.createTextNode(e.value)}},createXmlDocument:function(){var t=null;return document.implementation&&document.implementation.createDocument?t=document.implementation.createDocument("","",null):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLDOM")),t},parseXml:function(){return window.DOMParser?function(t){return(new DOMParser).parseFromString(t,"text/xml")}:function(t){var e=mxUtils.createXmlDocument();return e.async=!1,e.validateOnParse=!1,e.resolveExternals=!1,e.loadXML(t),e}}(),clearSelection:function(){return document.selection?function(){document.selection.empty()}:window.getSelection?function(){window.getSelection().removeAllRanges()}:function(){}}(),getPrettyXml:function(t,e,i){var n=[];if(null!=t)if(e=e||"  ",i=i||"",t.nodeType==mxConstants.NODETYPE_TEXT)n.push(t.value);else{n.push(i+"<"+t.nodeName);var l=t.attributes;if(null!=l)for(var o=0;o<l.length;o++){var r=mxUtils.htmlEntities(l[o].value);n.push(" "+l[o].nodeName+'="'+r+'"')}var s=t.firstChild;if(null!=s){for(n.push(">\n");null!=s;)n.push(mxUtils.getPrettyXml(s,e,i+e)),s=s.nextSibling;n.push(i+"</"+t.nodeName+">\n")}else n.push("/>\n")}return n.join("")},removeWhitespace:function(t,e){for(var i=e?t.previousSibling:t.nextSibling;null!=i&&i.nodeType==mxConstants.NODETYPE_TEXT;){var n=e?i.previousSibling:i.nextSibling,l=mxUtils.getTextContent(i);0==mxUtils.trim(l).length&&i.parentNode.removeChild(i),i=n}},htmlEntities:function(t,e){return t=t||"",t=t.replace(/&/g,"&amp;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),(null==e||e)&&(t=t.replace(/\n/g,"&#xa;")),t},isVml:function(t){return null!=t&&"urn:schemas-microsoft-com:vml"==t.tagUrn},getXml:function(t,e){var i="";return null!=window.XMLSerializer?i=(new XMLSerializer).serializeToString(t):null!=t.xml&&(i=t.xml.replace(/\r\n\t[\t]*/g,"").replace(/>\r\n/g,">").replace(/\r\n/g,"\n")),e=e||"&#xa;",i=i.replace(/\n/g,e)},extractTextWithWhitespace:function(t){for(var e=!1,i=[],n=0;t[n];n++){var l=t[n];if(3===l.nodeType||4===l.nodeType){if(11==document.documentMode&&n==t.length-1&&0==l.nodeValue.length)break;i.push(l.nodeValue+(null==l.nextSibling||3!=l.nextSibling.nodeType?"\n":"")),e=!0}else 8!==l.nodeType&&((mxClient.IS_IE||mxClient.IS_IE11)&&"P"==l.nodeName&&0==l.innerHTML.length||!e&&"BR"==l.nodeName||"DIV"==l.nodeName&&"<br>"==l.innerHTML?i.push("\n"):i.push(mxUtils.extractTextWithWhitespace(l.childNodes)),e=!1)}return i.join("")},replaceTrailingNewlines:function(t,e){for(var i="";t.length>0&&"\n"==t.charAt(t.length-1);)t=t.substring(0,t.length-1),i+=e;return t+i},getTextContent:function(t){return void 0!==t.innerText?t.innerText:null!=t?t[void 0===t.textContent?"text":"textContent"]:""},setTextContent:function(t,e){void 0!==t.innerText?t.innerText=e:t[void 0===t.textContent?"text":"textContent"]=e},getInnerHtml:function(){return mxClient.IS_IE?function(t){return null!=t?t.innerHTML:""}:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""}}(),getOuterHtml:function(){return mxClient.IS_IE?function(t){if(null!=t){if(null!=t.outerHTML)return t.outerHTML;var e=[];e.push("<"+t.nodeName);var i=t.attributes;if(null!=i)for(var n=0;n<i.length;n++){var l=i[n].value;null!=l&&l.length>0&&(e.push(" "),e.push(i[n].nodeName),e.push('="'),e.push(l),e.push('"'))}return 0==t.innerHTML.length?e.push("/>"):(e.push(">"),e.push(t.innerHTML),e.push("</"+t.nodeName+">")),e.join("")}return""}:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""}}(),write:function(t,e){var i=t.ownerDocument.createTextNode(e);return null!=t&&t.appendChild(i),i},writeln:function(t,e){var i=t.ownerDocument.createTextNode(e);return null!=t&&(t.appendChild(i),t.appendChild(document.createElement("br"))),i},br:function(t,e){e=e||1;for(var i=null,n=0;n<e;n++)null!=t&&(i=t.ownerDocument.createElement("br"),t.appendChild(i));return i},button:function(t,e,i){var n=(i=null!=i?i:document).createElement("button");return mxUtils.write(n,t),mxEvent.addListener(n,"click",function(t){e(t)}),n},para:function(t,e){var i=document.createElement("p");return mxUtils.write(i,e),null!=t&&t.appendChild(i),i},addTransparentBackgroundFilter:function(t){t.style.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+mxClient.imageBasePath+"/transparent.gif', sizingMethod='scale')"},linkAction:function(t,e,i,n,l){return mxUtils.link(t,e,function(){i.execute(n)},l)},linkInvoke:function(t,e,i,n,l,o){return mxUtils.link(t,e,function(){i[n](l)},o)},link:function(t,e,i,n){var l=document.createElement("span");return l.style.color="blue",l.style.textDecoration="underline",l.style.cursor="pointer",null!=n&&(l.style.paddingLeft=n+"px"),mxEvent.addListener(l,"click",i),mxUtils.write(l,e),null!=t&&t.appendChild(l),l},fit:function(t){var e=parseInt(t.offsetLeft),i=parseInt(t.offsetWidth),n=mxUtils.getDocumentScrollOrigin(t.ownerDocument),l=n.x,o=n.y,r=document.body,s=document.documentElement,a=l+(r.clientWidth||s.clientWidth);e+i>a&&(t.style.left=Math.max(l,a-i)+"px");var g=parseInt(t.offsetTop),C=parseInt(t.offsetHeight),h=o+Math.max(r.clientHeight||0,s.clientHeight);g+C>h&&(t.style.top=Math.max(o,h-C)+"px")},load:function(t){var e=new mxXmlRequest(t,null,"GET",!1);return e.send(),e},get:function(t,e,i,n,l,o){var r=new mxXmlRequest(t,null,"GET");return null!=n&&r.setBinary(n),r.send(e,i,l,o),r},getAll:function(t,e,i){for(var n=t.length,l=[],o=0,r=function(){0==o&&null!=i&&i(),o++},s=0;s<t.length;s++)!function(t,i){mxUtils.get(t,function(t){var o=t.getStatus();o<200||o>299?r():(l[i]=t,0==--n&&e(l))},r)}(t[s],s);0==n&&e(l)},post:function(t,e,i,n){return new mxXmlRequest(t,e).send(i,n)},submit:function(t,e,i,n){return new mxXmlRequest(t,e).simulate(i,n)},loadInto:function(t,e,i){mxClient.IS_IE?e.onreadystatechange=function(){4==e.readyState&&i()}:e.addEventListener("load",i,!1),e.load(t)},getValue:function(t,e,i){var n=null!=t?t[e]:null;return null==n&&(n=i),n},getNumber:function(t,e,i){var n=null!=t?t[e]:null;return null==n&&(n=i||0),Number(n)},getColor:function(t,e,i){var n=null!=t?t[e]:null;return null==n?n=i:n==mxConstants.NONE&&(n=null),n},clone:function(t,e,i){i=null!=i&&i;var n=null;if(null!=t&&"function"==typeof t.constructor){n=new t.constructor;for(var l in t)l!=mxObjectIdentity.FIELD_NAME&&(null==e||mxUtils.indexOf(e,l)<0)&&(i||"object"!=typeof t[l]?n[l]=t[l]:n[l]=mxUtils.clone(t[l]))}return n},equalPoints:function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e)for(var i=0;i<t.length;i++)if(t[i]==e[i]||null!=t[i]&&!t[i].equals(e[i]))return!1;return!0},equalEntries:function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e){var i=0;for(var n in e)i++;for(var n in t)if(i--,!(mxUtils.isNaN(t[n])&&mxUtils.isNaN(e[n])||t[n]==e[n]))return!1}return 0==i},removeDuplicates:function(t){for(var e=new mxDictionary,i=[],n=0;n<t.length;n++)e.get(t[n])||(i.push(t[n]),e.put(t[n],!0));return i},isNaN:function(t){return"number"==typeof t&&isNaN(t)},extend:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},toString:function(t){var e="";for(var i in t)try{if(null==t[i])e+=i+" = [null]\n";else if("function"==typeof t[i])e+=i+" => [Function]\n";else if("object"==typeof t[i]){var n=mxUtils.getFunctionName(t[i].constructor);e+=i+" => ["+n+"]\n"}else e+=i+" = "+t[i]+"\n"}catch(t){e+=i+"="+t.message}return e},toRadians:function(t){return Math.PI*t/180},toDegree:function(t){return 180*t/Math.PI},arcToCurves:function(t,e,i,n,l,o,r,s,a){if(s-=t,a-=e,0===i||0===n)return W;var g=r,C=l;i=Math.abs(i),n=Math.abs(n);var h,A=-s/2,I=-a/2,c=Math.cos(C*Math.PI/180),d=Math.sin(C*Math.PI/180),u=c*A+d*I,p=-1*d*A+c*I,m=u*u,x=p*p,v=i*i,y=n*n,f=m/v+x/y;if(f>1)i=Math.sqrt(f)*i,n=Math.sqrt(f)*n,h=0;else{var b=1;o===g&&(b=-1),h=b*Math.sqrt((v*y-v*x-y*m)/(v*x+y*m))}var w=h*i*p/n,E=-1*h*n*u/i,S=c*w-d*E+s/2,T=d*w+c*E+a/2,G=Math.atan2((p-E)/n,(u-w)/i)-Math.atan2(0,1),R=G>=0?G:2*Math.PI+G,L=(G=Math.atan2((-p-E)/n,(-u-w)/i)-Math.atan2((p-E)/n,(u-w)/i))>=0?G:2*Math.PI+G;0==g&&L>0?L-=2*Math.PI:0!=g&&L<0&&(L+=2*Math.PI);for(var P=2*L/Math.PI,M=Math.ceil(P<0?-1*P:P),N=L/M,D=8/3*Math.sin(N/4)*Math.sin(N/4)/Math.sin(N/2),O=c*i,U=c*n,k=d*i,H=d*n,V=Math.cos(R),Z=Math.sin(R),Y=-D*(O*Z+H*V),F=-D*(k*Z-U*V),X=0,B=0,W=[],z=0;z<M;++z){R+=N,X=O*(V=Math.cos(R))-H*(Z=Math.sin(R))+S,B=k*V+U*Z+T;var _=-D*(O*Z+H*V),J=-D*(k*Z-U*V),j=6*z;W[j]=Number(Y+t),W[j+1]=Number(F+e),W[j+2]=Number(X-_+t),W[j+3]=Number(B-J+e),W[j+4]=Number(X+t),W[j+5]=Number(B+e),Y=X+_,F=B+J}return W},getBoundingBox:function(t,e,i){var n=null;if(null!=t&&null!=e&&0!=e){var l=mxUtils.toRadians(e),o=Math.cos(l),r=Math.sin(l);i=null!=i?i:new mxPoint(t.x+t.width/2,t.y+t.height/2);var s=new mxPoint(t.x,t.y),a=new mxPoint(t.x+t.width,t.y),g=new mxPoint(a.x,t.y+t.height),C=new mxPoint(t.x,g.y);s=mxUtils.getRotatedPoint(s,o,r,i),a=mxUtils.getRotatedPoint(a,o,r,i),g=mxUtils.getRotatedPoint(g,o,r,i),C=mxUtils.getRotatedPoint(C,o,r,i),(n=new mxRectangle(s.x,s.y,0,0)).add(new mxRectangle(a.x,a.y,0,0)),n.add(new mxRectangle(g.x,g.y,0,0)),n.add(new mxRectangle(C.x,C.y,0,0))}return n},getRotatedPoint:function(t,e,i,n){n=null!=n?n:new mxPoint;var l=t.x-n.x,o=t.y-n.y,r=o*e+l*i;return new mxPoint(l*e-o*i+n.x,r+n.y)},getPortConstraints:function(t,e,i,n){var l=mxUtils.getValue(t.style,mxConstants.STYLE_PORT_CONSTRAINT,null);if(null==l)return n;var o=l.toString(),r=mxConstants.DIRECTION_MASK_NONE,s=0;1==mxUtils.getValue(t.style,mxConstants.STYLE_PORT_CONSTRAINT_ROTATION,0)&&(s=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0));var a=0;if(s>45?(a=1,s>=135&&(a=2)):s<-45&&(a=3,s<=-135&&(a=2)),o.indexOf(mxConstants.DIRECTION_NORTH)>=0)switch(a){case 0:r|=mxConstants.DIRECTION_MASK_NORTH;break;case 1:r|=mxConstants.DIRECTION_MASK_EAST;break;case 2:r|=mxConstants.DIRECTION_MASK_SOUTH;break;case 3:r|=mxConstants.DIRECTION_MASK_WEST}if(o.indexOf(mxConstants.DIRECTION_WEST)>=0)switch(a){case 0:r|=mxConstants.DIRECTION_MASK_WEST;break;case 1:r|=mxConstants.DIRECTION_MASK_NORTH;break;case 2:r|=mxConstants.DIRECTION_MASK_EAST;break;case 3:r|=mxConstants.DIRECTION_MASK_SOUTH}if(o.indexOf(mxConstants.DIRECTION_SOUTH)>=0)switch(a){case 0:r|=mxConstants.DIRECTION_MASK_SOUTH;break;case 1:r|=mxConstants.DIRECTION_MASK_WEST;break;case 2:r|=mxConstants.DIRECTION_MASK_NORTH;break;case 3:r|=mxConstants.DIRECTION_MASK_EAST}if(o.indexOf(mxConstants.DIRECTION_EAST)>=0)switch(a){case 0:r|=mxConstants.DIRECTION_MASK_EAST;break;case 1:r|=mxConstants.DIRECTION_MASK_SOUTH;break;case 2:r|=mxConstants.DIRECTION_MASK_WEST;break;case 3:r|=mxConstants.DIRECTION_MASK_NORTH}return r},reversePortConstraints:function(t){var e=0;return e=(t&mxConstants.DIRECTION_MASK_WEST)<<3,e|=(t&mxConstants.DIRECTION_MASK_NORTH)<<1,e|=(t&mxConstants.DIRECTION_MASK_SOUTH)>>1,e|=(t&mxConstants.DIRECTION_MASK_EAST)>>3},findNearestSegment:function(t,e,i){var n=-1;if(t.absolutePoints.length>0)for(var l=t.absolutePoints[0],o=null,r=1;r<t.absolutePoints.length;r++){var s=t.absolutePoints[r],a=mxUtils.ptSegDistSq(l.x,l.y,s.x,s.y,e,i);(null==o||a<o)&&(o=a,n=r-1),l=s}return n},rectangleIntersectsSegment:function(t,e,i){var n=t.y,l=t.x,o=n+t.height,r=l+t.width,s=e.x,a=i.x;if(e.x>i.x&&(s=i.x,a=e.x),a>r&&(a=r),s<l&&(s=l),s>a)return!1;var g=e.y,C=i.y,h=i.x-e.x;if(Math.abs(h)>1e-7){var A=(i.y-e.y)/h,I=e.y-A*e.x;g=A*s+I,C=A*a+I}if(g>C){var c=C;C=g,g=c}return C>o&&(C=o),g<n&&(g=n),!(g>C)},contains:function(t,e,i){return t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i},intersects:function(t,e){var i=t.width,n=t.height,l=e.width,o=e.height;if(l<=0||o<=0||i<=0||n<=0)return!1;var r=t.x,s=t.y,a=e.x,g=e.y;return l+=a,o+=g,i+=r,n+=s,(l<a||l>r)&&(o<g||o>s)&&(i<r||i>a)&&(n<s||n>g)},intersectsHotspot:function(t,e,i,n,l,o){if(n=null!=n?n:1,l=null!=l?l:0,o=null!=o?o:0,n>0){var r=t.getCenterX(),s=t.getCenterY(),a=t.width,g=t.height,C=mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE)*t.view.scale;C>0&&(mxUtils.getValue(t.style,mxConstants.STYLE_HORIZONTAL,!0)?(s=t.y+C/2,g=C):(r=t.x+C/2,a=C)),a=Math.max(l,a*n),g=Math.max(l,g*n),o>0&&(a=Math.min(a,o),g=Math.min(g,o));var h=new mxRectangle(r-a/2,s-g/2,a,g),A=mxUtils.toRadians(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION)||0);if(0!=A){var I=Math.cos(-A),c=Math.sin(-A),r=new mxPoint(t.getCenterX(),t.getCenterY()),d=mxUtils.getRotatedPoint(new mxPoint(e,i),I,c,r);e=d.x,i=d.y}return mxUtils.contains(h,e,i)}return!0},getOffset:function(t,e){var i=0,n=0;if(null!=e&&e){var l=mxUtils.getDocumentScrollOrigin(t.ownerDocument);i+=l.x,n+=l.y}var o=t.getBoundingClientRect();return null!=o&&(i+=o.left,n+=o.top),new mxPoint(i,n)},getDocumentScrollOrigin:function(t){if(mxClient.IS_QUIRKS)return new mxPoint(t.body.scrollLeft,t.body.scrollTop);var e=t.defaultView||t.parentWindow;return new mxPoint(null!=e&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,null!=e&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)},getScrollOrigin:function(t){for(var e=document.body,i=document.documentElement,n=mxUtils.getDocumentScrollOrigin(null!=t?t.ownerDocument:document);null!=t&&t!=e&&t!=i;)isNaN(t.scrollLeft)||isNaN(t.scrollTop)||(n.x+=t.scrollLeft,n.y+=t.scrollTop),t=t.parentNode;return n},convertPoint:function(t,e,i){var n=mxUtils.getScrollOrigin(t),l=mxUtils.getOffset(t);return l.x-=n.x,l.y-=n.y,new mxPoint(e-l.x,i-l.y)},ltrim:function(t,e){return e=e||"\\s",t.replace(new RegExp("^["+e+"]+","g"),"")},rtrim:function(t,e){return e=e||"\\s",t.replace(new RegExp("["+e+"]+$","g"),"")},trim:function(t,e){return mxUtils.ltrim(mxUtils.rtrim(t,e),e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)&&("string"!=typeof t||t.toLowerCase().indexOf("0x")<0)},isInteger:function(t){return String(parseInt(t))===String(t)},mod:function(t,e){return(t%e+e)%e},intersection:function(t,e,i,n,l,o,r,s){var a=(s-o)*(i-t)-(r-l)*(n-e),g=((r-l)*(e-o)-(s-o)*(t-l))/a,C=((i-t)*(e-o)-(n-e)*(t-l))/a;return g>=0&&g<=1&&C>=0&&C<=1?new mxPoint(t+g*(i-t),e+g*(n-e)):null},ptSegDistSq:function(t,e,i,n,l,o){var r,s=(l-=t)*(i-=t)+(o-=e)*(n-=e);r=s<=0?0:(s=(l=i-l)*i+(o=n-o)*n)<=0?0:s*s/(i*i+n*n);var a=l*l+o*o-r;return a<0&&(a=0),a},ptLineDist:function(t,e,i,n,l,o){return Math.abs((n-e)*l-(i-t)*o+i*e-n*t)/Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},relativeCcw:function(t,e,i,n,l,o){var r=(l-=t)*(n-=e)-(o-=e)*(i-=t);return 0==r&&(r=l*i+o*n)>0&&(r=(l-=i)*i+(o-=n)*n)<0&&(r=0),r<0?-1:r>0?1:0},animateChanges:function(t,e){mxEffects.animateChanges.apply(this,arguments)},cascadeOpacity:function(t,e,i){mxEffects.cascadeOpacity.apply(this,arguments)},fadeOut:function(t,e,i,n,l,o){mxEffects.fadeOut.apply(this,arguments)},setOpacity:function(t,e){mxUtils.isVml(t)?t.style.filter=e>=100?"":"alpha(opacity="+e/5+")":mxClient.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?t.style.filter=e>=100?"":"alpha(opacity="+e+")":t.style.opacity=e/100},createImage:function(t){var e=null;return mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?((e=document.createElement(mxClient.VML_PREFIX+":image")).setAttribute("src",t),e.style.borderStyle="none"):((e=document.createElement("img")).setAttribute("src",t),e.setAttribute("border","0")),e},sortCells:function(t,e){e=null==e||e;var i=new mxDictionary;return t.sort(function(t,n){var l=i.get(t);null==l&&(l=mxCellPath.create(t).split(mxCellPath.PATH_SEPARATOR),i.put(t,l));var o=i.get(n);null==o&&(o=mxCellPath.create(n).split(mxCellPath.PATH_SEPARATOR),i.put(n,o));var r=mxCellPath.compare(l,o);return 0==r?0:r>0==e?1:-1}),t},getStylename:function(t){if(null!=t){var e=t.split(";")[0];if(e.indexOf("=")<0)return e}return""},getStylenames:function(t){var e=[];if(null!=t)for(var i=t.split(";"),n=0;n<i.length;n++)i[n].indexOf("=")<0&&e.push(i[n]);return e},indexOfStylename:function(t,e){if(null!=t&&null!=e)for(var i=t.split(";"),n=0,l=0;l<i.length;l++){if(i[l]==e)return n;n+=i[l].length+1}return-1},addStylename:function(t,e){return mxUtils.indexOfStylename(t,e)<0&&(null==t?t="":t.length>0&&";"!=t.charAt(t.length-1)&&(t+=";"),t+=e),t},removeStylename:function(t,e){var i=[];if(null!=t)for(var n=t.split(";"),l=0;l<n.length;l++)n[l]!=e&&i.push(n[l]);return i.join(";")},removeAllStylenames:function(t){var e=[];if(null!=t)for(var i=t.split(";"),n=0;n<i.length;n++)i[n].indexOf("=")>=0&&e.push(i[n]);return e.join(";")},setCellStyles:function(t,e,i,n){if(null!=e&&e.length>0){t.beginUpdate();try{for(var l=0;l<e.length;l++)if(null!=e[l]){var o=mxUtils.setStyle(t.getStyle(e[l]),i,n);t.setStyle(e[l],o)}}finally{t.endUpdate()}}},setStyle:function(t,e,i){var n=null!=i&&(void 0===i.length||i.length>0);if(null==t||0==t.length)n&&(t=e+"="+i+";");else if(t.substring(0,e.length+1)==e+"="){o=t.indexOf(";");t=n?e+"="+i+(o<0?";":t.substring(o)):o<0||o==t.length-1?"":t.substring(o+1)}else{var l=t.indexOf(";"+e+"=");if(l<0)n&&(t=t+(";"==t.charAt(t.length-1)?"":";")+e+"="+i+";");else{var o=t.indexOf(";",l+1);t=n?t.substring(0,l+1)+e+"="+i+(o<0?";":t.substring(o)):t.substring(0,l)+(o<0?";":t.substring(o))}}return t},setCellStyleFlags:function(t,e,i,n,l){if(null!=e&&e.length>0){t.beginUpdate();try{for(var o=0;o<e.length;o++)if(null!=e[o]){var r=mxUtils.setStyleFlag(t.getStyle(e[o]),i,n,l);t.setStyle(e[o],r)}}finally{t.endUpdate()}}},setStyleFlag:function(t,e,i,n){if(null==t||0==t.length)t=n||null==n?e+"="+i:e+"=0";else{var l=t.indexOf(e+"=");if(l<0){var o=";"==t.charAt(t.length-1)?"":";";t=n||null==n?t+o+e+"="+i:t+o+e+"=0"}else{var r=t.indexOf(";",l),s="";s=r<0?t.substring(l+e.length+1):t.substring(l+e.length+1,r),s=null==n?parseInt(s)^i:n?parseInt(s)|i:parseInt(s)&~i,t=t.substring(0,l)+e+"="+s+(r>=0?t.substring(r):"")}}return t},getAlignmentAsPoint:function(t,e){var i=0,n=0;return t==mxConstants.ALIGN_CENTER?i=-.5:t==mxConstants.ALIGN_RIGHT&&(i=-1),e==mxConstants.ALIGN_MIDDLE?n=-.5:e==mxConstants.ALIGN_BOTTOM&&(n=-1),new mxPoint(i,n)},getSizeForString:function(t,e,i,n){e=null!=e?e:mxConstants.DEFAULT_FONTSIZE,i=null!=i?i:mxConstants.DEFAULT_FONTFAMILY;var l=document.createElement("div");l.style.fontFamily=i,l.style.fontSize=Math.round(e)+"px",l.style.lineHeight=Math.round(e*mxConstants.LINE_HEIGHT)+"px",l.style.position="absolute",l.style.visibility="hidden",l.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",l.style.zoom="1",null!=n?(l.style.width=n+"px",l.style.whiteSpace="normal"):l.style.whiteSpace="nowrap",l.innerHTML=t,document.body.appendChild(l);var o=new mxRectangle(0,0,l.offsetWidth,l.offsetHeight);return document.body.removeChild(l),o},getViewXml:function(t,e,i,n,l){n=null!=n?n:0,l=null!=l?l:0,e=null!=e?e:1,null==i&&(i=[t.getModel().getRoot()]);var o=t.getView(),r=null,s=o.isEventsEnabled();o.setEventsEnabled(!1);var a=o.drawPane,g=o.overlayPane;t.dialect==mxConstants.DIALECT_SVG?(o.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),o.canvas.appendChild(o.drawPane),o.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g"),o.canvas.appendChild(o.overlayPane)):(o.drawPane=o.drawPane.cloneNode(!1),o.canvas.appendChild(o.drawPane),o.overlayPane=o.overlayPane.cloneNode(!1),o.canvas.appendChild(o.overlayPane));var C=o.getTranslate();o.translate=new mxPoint(n,l);var h=new mxTemporaryCellStates(t.getView(),e,i);try{r=(new mxCodec).encode(t.getView())}finally{h.destroy(),o.translate=C,o.canvas.removeChild(o.drawPane),o.canvas.removeChild(o.overlayPane),o.drawPane=a,o.overlayPane=g,o.setEventsEnabled(s)}return r},getScaleForPageCount:function(t,e,i,n){if(t<1)return 1;i=null!=i?i:mxConstants.PAGE_FORMAT_A4_PORTRAIT,n=null!=n?n:0;var l=i.width-2*n,o=i.height-2*n,r=e.getGraphBounds().clone(),s=e.getView().getScale();r.width/=s,r.height/=s;var a=r.width,g=a/r.height/(l/o),C=Math.sqrt(t),h=Math.sqrt(g),A=C*h,I=C/h;if(A<1&&I>t){m=I/t;I=t,A/=m}if(I<1&&A>t){m=A/t;A=t,I/=m}for(var c=Math.ceil(A)*Math.ceil(I),d=0;c>t;){var u=Math.floor(A)/A,p=Math.floor(I)/I;1==u&&(u=Math.floor(A-1)/A),1==p&&(p=Math.floor(I-1)/I);var m=1;if(m=u>p?u:p,A*=m,I*=m,c=Math.ceil(A)*Math.ceil(I),++d>10)break}return.99999*(l*A/a)},show:function(t,e,i,n,l,o){i=null!=i?i:0,n=null!=n?n:0,null==e?e=window.open().document:e.open(),9==document.documentMode&&e.writeln('\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=9"><![endif]--\x3e');var r=t.getGraphBounds(),s=Math.ceil(i-r.x),a=Math.ceil(n-r.y);if(null==l&&(l=Math.ceil(r.width+i)+Math.ceil(Math.ceil(r.x)-r.x)),null==o&&(o=Math.ceil(r.height+n)+Math.ceil(Math.ceil(r.y)-r.y)),mxClient.IS_IE||11==document.documentMode){for(var g="<html><head>",C=document.getElementsByTagName("base"),h=0;h<C.length;h++)g+=C[h].outerHTML;g+="<style>";for(h=0;h<document.styleSheets.length;h++)try{g+=document.styleSheets[h].cssText}catch(t){}g+='</style></head><body style="margin:0px;">',g+='<div style="position:absolute;overflow:hidden;width:'+l+"px;height:"+o+'px;"><div style="position:relative;left:'+s+"px;top:"+a+'px;">',g+=t.container.innerHTML,g+="</div></div></body><html>",e.writeln(g),e.close()}else{e.writeln("<html><head>");for(var C=document.getElementsByTagName("base"),h=0;h<C.length;h++)e.writeln(mxUtils.getOuterHtml(C[h]));for(var A=document.getElementsByTagName("link"),h=0;h<A.length;h++)e.writeln(mxUtils.getOuterHtml(A[h]));for(var I=document.getElementsByTagName("style"),h=0;h<I.length;h++)e.writeln(mxUtils.getOuterHtml(I[h]));e.writeln('</head><body style="margin:0px;"></body></html>'),e.close();var c=e.createElement("div");c.position="absolute",c.overflow="hidden",c.style.width=l+"px",c.style.height=o+"px";var d=e.createElement("div");d.style.position="absolute",d.style.left=s+"px",d.style.top=a+"px";for(var u=t.container.firstChild,p=null;null!=u;){var m=u.cloneNode(!0);u==t.view.drawPane.ownerSVGElement?(c.appendChild(m),p=m):d.appendChild(m),u=u.nextSibling}e.body.appendChild(c),null!=d.firstChild&&e.body.appendChild(d),null!=p&&(p.style.minWidth="",p.style.minHeight="",p.firstChild.setAttribute("transform","translate("+s+","+a+")"))}return mxUtils.removeCursors(e.body),e},printScreen:function(t){var e=window.open();t.getGraphBounds();mxUtils.show(t,e.document);var i=function(){e.focus(),e.print(),e.close()};mxClient.IS_GC?e.setTimeout(i,500):i()},popup:function(t,e){if(e){var i=document.createElement("div");i.style.overflow="scroll",i.style.width="636px",i.style.height="460px",(l=document.createElement("pre")).innerHTML=mxUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),i.appendChild(l),(n=new mxWindow("Popup Window",i,document.body.clientWidth/2-320,Math.max(document.body.clientHeight||0,document.documentElement.clientHeight)/2-240,640,480,!1,!0)).setClosable(!0),n.setVisible(!0)}else if(mxClient.IS_NS)(n=window.open()).document.writeln("<pre>"+mxUtils.htmlEntities(t)+"</pre"),n.document.close();else{var n=window.open(),l=n.document.createElement("pre");l.innerHTML=mxUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),n.document.body.appendChild(l)}},alert:function(t){alert(t)},prompt:function(t,e){return prompt(t,null!=e?e:"")},confirm:function(t){return confirm(t)},error:function(t,e,i,n){var l=document.createElement("div");l.style.padding="20px";var o=document.createElement("img");o.setAttribute("src",n||mxUtils.errorImage),o.setAttribute("valign","bottom"),o.style.verticalAlign="middle",l.appendChild(o),l.appendChild(document.createTextNode("Â ")),l.appendChild(document.createTextNode("Â ")),l.appendChild(document.createTextNode("Â ")),mxUtils.write(l,t);var r=document.body.clientWidth,s=document.body.clientHeight||document.documentElement.clientHeight,a=new mxWindow(mxResources.get(mxUtils.errorResource)||mxUtils.errorResource,l,(r-e)/2,s/4,e,null,!1,!0);if(i){mxUtils.br(l);var g=document.createElement("p"),C=document.createElement("button");mxClient.IS_IE?C.style.cssText="float:right":C.setAttribute("style","float:right"),mxEvent.addListener(C,"click",function(t){a.destroy()}),mxUtils.write(C,mxResources.get(mxUtils.closeResource)||mxUtils.closeResource),g.appendChild(C),l.appendChild(g),mxUtils.br(l),a.setClosable(!0)}return a.setVisible(!0),a},makeDraggable:function(t,e,i,n,l,o,r,s,a,g){var C=new mxDragSource(t,i);return C.dragOffset=new mxPoint(null!=l?l:0,null!=o?o:mxConstants.TOOLTIP_VERTICAL_OFFSET),C.autoscroll=r,C.setGuidesEnabled(!1),null!=a&&(C.highlightDropTargets=a),null!=g&&(C.getDropTarget=g),C.getGraphForEvent=function(t){return"function"==typeof e?e(t):e},null!=n&&(C.createDragElement=function(){return n.cloneNode(!0)},s&&(C.createPreviewElement=function(t){var e=n.cloneNode(!0),i=parseInt(e.style.width),l=parseInt(e.style.height);return e.style.width=Math.round(i*t.view.scale)+"px",e.style.height=Math.round(l*t.view.scale)+"px",e})),C},createUUID:function(t,e){var i,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),l=[];if(e=e||n.length,t)for(i=0;i<t;i++)l[i]=n[0|Math.random()*e];else{var o;for(l[8]=l[13]=l[18]=l[23]="-",l[14]="4",i=0;i<36;i++)l[i]||(o=0|16*Math.random(),l[i]=n[19==i?3&o|8:o])}return l.join("")},getPrettyJSON:function(t){for(var e=[],i="",n="",l=JSON.stringify(t),o=0;o<l.length;o++)switch(n=l[o]){case"{":case"[":i+="  ",e.push(n+"\n"+i);break;case"}":case"]":i=i.substr(0,i.length-2),"}"!=l[o-1]&&"]"!=l[o-1]&&e.push("\n"),e.push(i+n),o<l.length-1&&","!=l[o+1]&&e.push("\n");break;case",":e.push(n+"\n"+i);break;default:e.push(n)}return e.join("")},getCellAttributeValue:function(t,e){var i=null,n=t.value,l=n?n.attributes:null;if(l)for(var o in l){var r=l[o].value;try{var s=JSON.parse(r);for(var a in s)if(s[a].name==e)return i=s[a].value[0]}catch(t){}}return i},checkArrayIfDuplicateValues:function(t){var e=t.sort(),i={};i.status=!1;for(var n in t)if(e[n]==e[parseInt(n)+1])return i.status=!0,i.data=e[n],i;return i}},mxConstants={DEFAULT_HOTSPOT:.3,MIN_HOTSPOT_SIZE:8,MAX_HOTSPOT_SIZE:0,RENDERING_HINT_EXACT:"exact",RENDERING_HINT_FASTER:"faster",RENDERING_HINT_FASTEST:"fastest",DIALECT_SVG:"svg",DIALECT_VML:"vml",DIALECT_MIXEDHTML:"mixedHtml",DIALECT_PREFERHTML:"preferHtml",DIALECT_STRICTHTML:"strictHtml",NS_SVG:"http://www.w3.org/2000/svg",NS_XHTML:"http://www.w3.org/1999/xhtml",NS_XLINK:"http://www.w3.org/1999/xlink",SHADOWCOLOR:"gray",VML_SHADOWCOLOR:"gray",SHADOW_OFFSET_X:2,SHADOW_OFFSET_Y:3,SHADOW_OPACITY:1,NODETYPE_ELEMENT:1,NODETYPE_ATTRIBUTE:2,NODETYPE_TEXT:3,NODETYPE_CDATA:4,NODETYPE_ENTITY_REFERENCE:5,NODETYPE_ENTITY:6,NODETYPE_PROCESSING_INSTRUCTION:7,NODETYPE_COMMENT:8,NODETYPE_DOCUMENT:9,NODETYPE_DOCUMENTTYPE:10,NODETYPE_DOCUMENT_FRAGMENT:11,NODETYPE_NOTATION:12,TOOLTIP_VERTICAL_OFFSET:16,DEFAULT_VALID_COLOR:"#00FF00",DEFAULT_INVALID_COLOR:"#FF0000",OUTLINE_HIGHLIGHT_COLOR:"#00FF00",OUTLINE_HIGHLIGHT_STROKEWIDTH:5,HIGHLIGHT_STROKEWIDTH:3,HIGHLIGHT_SIZE:2,HIGHLIGHT_OPACITY:100,CURSOR_MOVABLE_VERTEX:"move",CURSOR_MOVABLE_EDGE:"move",CURSOR_LABEL_HANDLE:"default",CURSOR_TERMINAL_HANDLE:"pointer",CURSOR_BEND_HANDLE:"crosshair",CURSOR_VIRTUAL_BEND_HANDLE:"crosshair",CURSOR_CONNECT:"pointer",HIGHLIGHT_COLOR:"#00FF00",CONNECT_TARGET_COLOR:"#0000FF",INVALID_CONNECT_TARGET_COLOR:"#FF0000",DROP_TARGET_COLOR:"#0000FF",VALID_COLOR:"#00FF00",INVALID_COLOR:"#FF0000",EDGE_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_STROKEWIDTH:1,EDGE_SELECTION_STROKEWIDTH:1,VERTEX_SELECTION_DASHED:!0,EDGE_SELECTION_DASHED:!0,GUIDE_COLOR:"#FF0000",GUIDE_STROKEWIDTH:1,OUTLINE_COLOR:"#0099FF",OUTLINE_STROKEWIDTH:mxClient.IS_IE?2:3,HANDLE_SIZE:6,LABEL_HANDLE_SIZE:4,HANDLE_FILLCOLOR:"#00FF00",HANDLE_STROKECOLOR:"black",LABEL_HANDLE_FILLCOLOR:"yellow",CONNECT_HANDLE_FILLCOLOR:"#0000FF",LOCKED_HANDLE_FILLCOLOR:"#FF0000",OUTLINE_HANDLE_FILLCOLOR:"#00FFFF",OUTLINE_HANDLE_STROKECOLOR:"#0033FF",DEFAULT_FONTFAMILY:"Arial,Helvetica",
DEFAULT_FONTSIZE:11,DEFAULT_TEXT_DIRECTION:"",LINE_HEIGHT:1.2,WORD_WRAP:"normal",ABSOLUTE_LINE_HEIGHT:!1,DEFAULT_FONTSTYLE:0,DEFAULT_STARTSIZE:40,DEFAULT_MARKERSIZE:6,DEFAULT_IMAGESIZE:24,ENTITY_SEGMENT:30,RECTANGLE_ROUNDING_FACTOR:.15,LINE_ARCSIZE:20,ARROW_SPACING:0,ARROW_WIDTH:30,ARROW_SIZE:30,PAGE_FORMAT_A4_PORTRAIT:new mxRectangle(0,0,826,1169),PAGE_FORMAT_A4_LANDSCAPE:new mxRectangle(0,0,1169,826),PAGE_FORMAT_LETTER_PORTRAIT:new mxRectangle(0,0,850,1100),PAGE_FORMAT_LETTER_LANDSCAPE:new mxRectangle(0,0,1100,850),NONE:"none",STYLE_PERIMETER:"perimeter",STYLE_SOURCE_PORT:"sourcePort",STYLE_TARGET_PORT:"targetPort",STYLE_PORT_CONSTRAINT:"portConstraint",STYLE_PORT_CONSTRAINT_ROTATION:"portConstraintRotation",STYLE_OPACITY:"opacity",STYLE_FILL_OPACITY:"fillOpacity",STYLE_STROKE_OPACITY:"strokeOpacity",STYLE_TEXT_OPACITY:"textOpacity",STYLE_TEXT_DIRECTION:"textDirection",STYLE_OVERFLOW:"overflow",STYLE_ORTHOGONAL:"orthogonal",STYLE_EXIT_X:"exitX",STYLE_EXIT_Y:"exitY",STYLE_EXIT_PERIMETER:"exitPerimeter",STYLE_ENTRY_X:"entryX",STYLE_ENTRY_Y:"entryY",STYLE_ENTRY_PERIMETER:"entryPerimeter",STYLE_WHITE_SPACE:"whiteSpace",STYLE_ROTATION:"rotation",STYLE_FILLCOLOR:"fillColor",STYLE_POINTER_EVENTS:"pointerEvents",STYLE_SWIMLANE_FILLCOLOR:"swimlaneFillColor",STYLE_MARGIN:"margin",STYLE_GRADIENTCOLOR:"gradientColor",STYLE_GRADIENT_DIRECTION:"gradientDirection",STYLE_STROKECOLOR:"strokeColor",STYLE_SEPARATORCOLOR:"separatorColor",STYLE_STROKEWIDTH:"strokeWidth",STYLE_ALIGN:"align",STYLE_VERTICAL_ALIGN:"verticalAlign",STYLE_LABEL_WIDTH:"labelWidth",STYLE_LABEL_POSITION:"labelPosition",STYLE_VERTICAL_LABEL_POSITION:"verticalLabelPosition",STYLE_IMAGE_ASPECT:"imageAspect",STYLE_IMAGE_ALIGN:"imageAlign",STYLE_IMAGE_VERTICAL_ALIGN:"imageVerticalAlign",STYLE_GLASS:"glass",STYLE_IMAGE:"image",STYLE_IMAGE_WIDTH:"imageWidth",STYLE_IMAGE_HEIGHT:"imageHeight",STYLE_IMAGE_BACKGROUND:"imageBackground",STYLE_IMAGE_BORDER:"imageBorder",STYLE_FLIPH:"flipH",STYLE_FLIPV:"flipV",STYLE_NOLABEL:"noLabel",STYLE_NOEDGESTYLE:"noEdgeStyle",STYLE_LABEL_BACKGROUNDCOLOR:"labelBackgroundColor",STYLE_LABEL_BORDERCOLOR:"labelBorderColor",STYLE_LABEL_PADDING:"labelPadding",STYLE_INDICATOR_SHAPE:"indicatorShape",STYLE_INDICATOR_IMAGE:"indicatorImage",STYLE_INDICATOR_COLOR:"indicatorColor",STYLE_INDICATOR_STROKECOLOR:"indicatorStrokeColor",STYLE_INDICATOR_GRADIENTCOLOR:"indicatorGradientColor",STYLE_INDICATOR_SPACING:"indicatorSpacing",STYLE_INDICATOR_WIDTH:"indicatorWidth",STYLE_INDICATOR_HEIGHT:"indicatorHeight",STYLE_INDICATOR_DIRECTION:"indicatorDirection",STYLE_SHADOW:"shadow",STYLE_SEGMENT:"segment",STYLE_ENDARROW:"endArrow",STYLE_STARTARROW:"startArrow",STYLE_ENDSIZE:"endSize",STYLE_STARTSIZE:"startSize",STYLE_SWIMLANE_LINE:"swimlaneLine",STYLE_ENDFILL:"endFill",STYLE_STARTFILL:"startFill",STYLE_DASHED:"dashed",STYLE_DASH_PATTERN:"dashPattern",STYLE_ROUNDED:"rounded",STYLE_CURVED:"curved",STYLE_ARCSIZE:"arcSize",STYLE_SMOOTH:"smooth",STYLE_SOURCE_PERIMETER_SPACING:"sourcePerimeterSpacing",STYLE_TARGET_PERIMETER_SPACING:"targetPerimeterSpacing",STYLE_PERIMETER_SPACING:"perimeterSpacing",STYLE_SPACING:"spacing",STYLE_SPACING_TOP:"spacingTop",STYLE_SPACING_LEFT:"spacingLeft",STYLE_SPACING_BOTTOM:"spacingBottom",STYLE_SPACING_RIGHT:"spacingRight",STYLE_HORIZONTAL:"horizontal",STYLE_DIRECTION:"direction",STYLE_ELBOW:"elbow",STYLE_FONTCOLOR:"fontColor",STYLE_FONTFAMILY:"fontFamily",STYLE_FONTSIZE:"fontSize",STYLE_FONTSTYLE:"fontStyle",STYLE_ASPECT:"aspect",STYLE_AUTOSIZE:"autosize",STYLE_FOLDABLE:"foldable",STYLE_EDITABLE:"editable",STYLE_BENDABLE:"bendable",STYLE_MOVABLE:"movable",STYLE_RESIZABLE:"resizable",STYLE_RESIZE_WIDTH:"resizeWidth",STYLE_RESIZE_HEIGHT:"resizeHeight",STYLE_ROTATABLE:"rotatable",STYLE_CLONEABLE:"cloneable",STYLE_DELETABLE:"deletable",STYLE_SHAPE:"shape",STYLE_EDGE:"edgeStyle",STYLE_JETTY_SIZE:"jettySize",STYLE_SOURCE_JETTY_SIZE:"sourceJettySize",STYLE_TARGET_JETTY_SIZE:"targetJettySize",STYLE_LOOP:"loopStyle",STYLE_ORTHOGONAL_LOOP:"orthogonalLoop",STYLE_ROUTING_CENTER_X:"routingCenterX",STYLE_ROUTING_CENTER_Y:"routingCenterY",FONT_BOLD:1,FONT_ITALIC:2,FONT_UNDERLINE:4,SHAPE_RECTANGLE:"rectangle",SHAPE_ELLIPSE:"ellipse",SHAPE_DOUBLE_ELLIPSE:"doubleEllipse",SHAPE_RHOMBUS:"rhombus",SHAPE_LINE:"line",SHAPE_IMAGE:"image",SHAPE_ARROW:"arrow",SHAPE_ARROW_CONNECTOR:"arrowConnector",SHAPE_LABEL:"label",SHAPE_CYLINDER:"cylinder",SHAPE_SWIMLANE:"swimlane",SHAPE_CONNECTOR:"connector",SHAPE_ACTOR:"actor",SHAPE_CLOUD:"cloud",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",ARROW_CLASSIC:"classic",ARROW_CLASSIC_THIN:"classicThin",ARROW_BLOCK:"block",ARROW_BLOCK_THIN:"blockThin",ARROW_OPEN:"open",ARROW_OPEN_THIN:"openThin",ARROW_OVAL:"oval",ARROW_DIAMOND:"diamond",ARROW_DIAMOND_THIN:"diamondThin",ALIGN_LEFT:"left",ALIGN_CENTER:"center",ALIGN_RIGHT:"right",ALIGN_TOP:"top",ALIGN_MIDDLE:"middle",ALIGN_BOTTOM:"bottom",DIRECTION_NORTH:"north",DIRECTION_SOUTH:"south",DIRECTION_EAST:"east",DIRECTION_WEST:"west",TEXT_DIRECTION_DEFAULT:"",TEXT_DIRECTION_AUTO:"auto",TEXT_DIRECTION_LTR:"ltr",TEXT_DIRECTION_RTL:"rtl",DIRECTION_MASK_NONE:0,DIRECTION_MASK_WEST:1,DIRECTION_MASK_NORTH:2,DIRECTION_MASK_SOUTH:4,DIRECTION_MASK_EAST:8,DIRECTION_MASK_ALL:15,ELBOW_VERTICAL:"vertical",ELBOW_HORIZONTAL:"horizontal",EDGESTYLE_ELBOW:"elbowEdgeStyle",EDGESTYLE_ENTITY_RELATION:"entityRelationEdgeStyle",EDGESTYLE_LOOP:"loopEdgeStyle",EDGESTYLE_SIDETOSIDE:"sideToSideEdgeStyle",EDGESTYLE_TOPTOBOTTOM:"topToBottomEdgeStyle",EDGESTYLE_ORTHOGONAL:"orthogonalEdgeStyle",EDGESTYLE_SEGMENT:"segmentEdgeStyle",PERIMETER_ELLIPSE:"ellipsePerimeter",PERIMETER_RECTANGLE:"rectanglePerimeter",PERIMETER_RHOMBUS:"rhombusPerimeter",PERIMETER_HEXAGON:"hexagonPerimeter",PERIMETER_TRIANGLE:"trianglePerimeter"};mxEventObject.prototype.name=null,mxEventObject.prototype.properties=null,mxEventObject.prototype.consumed=!1,mxEventObject.prototype.getName=function(){return this.name},mxEventObject.prototype.getProperties=function(){return this.properties},mxEventObject.prototype.getProperty=function(t){return this.properties[t]},mxEventObject.prototype.isConsumed=function(){return this.consumed},mxEventObject.prototype.consume=function(){this.consumed=!0},mxMouseEvent.prototype.consumed=!1,mxMouseEvent.prototype.evt=null,mxMouseEvent.prototype.graphX=null,mxMouseEvent.prototype.graphY=null,mxMouseEvent.prototype.state=null,mxMouseEvent.prototype.sourceState=null,mxMouseEvent.prototype.getEvent=function(){return this.evt},mxMouseEvent.prototype.getSource=function(){return mxEvent.getSource(this.evt)},mxMouseEvent.prototype.isSource=function(t){return null!=t&&mxUtils.isAncestorNode(t.node,this.getSource())},mxMouseEvent.prototype.getX=function(){return mxEvent.getClientX(this.getEvent())},mxMouseEvent.prototype.getY=function(){return mxEvent.getClientY(this.getEvent())},mxMouseEvent.prototype.getGraphX=function(){return this.graphX},mxMouseEvent.prototype.getGraphY=function(){return this.graphY},mxMouseEvent.prototype.getState=function(){return this.state},mxMouseEvent.prototype.getCell=function(){var t=this.getState();return null!=t?t.cell:null},mxMouseEvent.prototype.isPopupTrigger=function(){return mxEvent.isPopupTrigger(this.getEvent())},mxMouseEvent.prototype.isConsumed=function(){return this.consumed},mxMouseEvent.prototype.consume=function(t){(t=null==t||t)&&this.evt.preventDefault&&this.evt.preventDefault(),mxClient.IS_IE&&(this.evt.returnValue=!0),this.consumed=!0},mxEventSource.prototype.eventListeners=null,mxEventSource.prototype.eventsEnabled=!0,mxEventSource.prototype.eventSource=null,mxEventSource.prototype.isEventsEnabled=function(){return this.eventsEnabled},mxEventSource.prototype.setEventsEnabled=function(t){this.eventsEnabled=t},mxEventSource.prototype.getEventSource=function(){return this.eventSource},mxEventSource.prototype.setEventSource=function(t){this.eventSource=t},mxEventSource.prototype.addListener=function(t,e){null==this.eventListeners&&(this.eventListeners=[]),this.eventListeners.push(t),this.eventListeners.push(e)},mxEventSource.prototype.removeListener=function(t){if(null!=this.eventListeners)for(var e=0;e<this.eventListeners.length;)this.eventListeners[e+1]==t?this.eventListeners.splice(e,2):e+=2},mxEventSource.prototype.fireEvent=function(t,e){if(null!=this.eventListeners&&this.isEventsEnabled()){null==t&&(t=new mxEventObject),null==e&&(e=this.getEventSource()),null==e&&(e=this);for(var i=[e,t],n=0;n<this.eventListeners.length;n+=2){var l=this.eventListeners[n];null!=l&&l!=t.getName()||this.eventListeners[n+1].apply(this,i)}}};var mxEvent={objects:[],addListener:function(){var t=function(t,e,i){null==t.mxListenerList&&(t.mxListenerList=[],mxEvent.objects.push(t));var n={name:e,f:i};t.mxListenerList.push(n)};return window.addEventListener?function(e,i,n){e.addEventListener(i,n,!1),t(e,i,n)}:function(e,i,n){e.attachEvent("on"+i,n),t(e,i,n)}}(),removeListener:function(){var t=function(t,e,i){if(null!=t.mxListenerList){for(var n=t.mxListenerList.length,l=0;l<n;l++)if(t.mxListenerList[l].f==i){t.mxListenerList.splice(l,1);break}if(0==t.mxListenerList.length){t.mxListenerList=null;var o=mxUtils.indexOf(mxEvent.objects,t);o>=0&&mxEvent.objects.splice(o,1)}}};return window.removeEventListener?function(e,i,n){e.removeEventListener(i,n,!1),t(e,0,n)}:function(e,i,n){e.detachEvent("on"+i,n),t(e,0,n)}}(),removeAllListeners:function(t){var e=t.mxListenerList;if(null!=e)for(;e.length>0;){var i=e[0];mxEvent.removeListener(t,i.name,i.f)}},addGestureListeners:function(t,e,i,n){null!=e&&mxEvent.addListener(t,mxClient.IS_POINTER?"pointerdown":"mousedown",e),null!=i&&mxEvent.addListener(t,mxClient.IS_POINTER?"pointermove":"mousemove",i),null!=n&&mxEvent.addListener(t,mxClient.IS_POINTER?"pointerup":"mouseup",n),!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=e&&mxEvent.addListener(t,"touchstart",e),null!=i&&mxEvent.addListener(t,"touchmove",i),null!=n&&mxEvent.addListener(t,"touchend",n))},removeGestureListeners:function(t,e,i,n){null!=e&&mxEvent.removeListener(t,mxClient.IS_POINTER?"pointerdown":"mousedown",e),null!=i&&mxEvent.removeListener(t,mxClient.IS_POINTER?"pointermove":"mousemove",i),null!=n&&mxEvent.removeListener(t,mxClient.IS_POINTER?"pointerup":"mouseup",n),!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=e&&mxEvent.removeListener(t,"touchstart",e),null!=i&&mxEvent.removeListener(t,"touchmove",i),null!=n&&mxEvent.removeListener(t,"touchend",n))},redirectMouseEvents:function(t,e,i,n,l,o,r){var s=function(t){return"function"==typeof i?i(t):i};mxEvent.addGestureListeners(t,function(t){null!=n?n(t):mxEvent.isConsumed(t)||e.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t,s(t)))},function(t){null!=l?l(t):mxEvent.isConsumed(t)||e.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t,s(t)))},function(t){null!=o?o(t):mxEvent.isConsumed(t)||e.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t,s(t)))}),mxEvent.addListener(t,"dblclick",function(t){if(null!=r)r(t);else if(!mxEvent.isConsumed(t)){var i=s(t);e.dblClick(t,null!=i?i.cell:null)}})},release:function(t){if(null!=t){mxEvent.removeAllListeners(t);var e=t.childNodes;if(null!=e)for(var i=e.length,n=0;n<i;n+=1)mxEvent.release(e[n])}},addMouseWheelListener:function(t){if(null!=t){var e=function(e){null==e&&(e=window.event);var i=0;0!=(i=mxClient.IS_FF?-e.detail/2:e.wheelDelta/120)&&t(e,i>0)};if(mxClient.IS_NS&&null==document.documentMode){var i=mxClient.IS_SF||mxClient.IS_GC?"mousewheel":"DOMMouseScroll";mxEvent.addListener(window,i,e)}else mxEvent.addListener(document,"mousewheel",e)}},disableContextMenu:function(){return mxClient.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?function(t){mxEvent.addListener(t,"contextmenu",function(){return!1})}:function(t){t.setAttribute("oncontextmenu","return false;")}}(),getSource:function(t){return null!=t.srcElement?t.srcElement:t.target},isConsumed:function(t){return null!=t.isConsumed&&t.isConsumed},isTouchEvent:function(t){return null!=t.pointerType?"touch"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_TOUCH:null!=t.mozInputSource?5==t.mozInputSource:0==t.type.indexOf("touch")},isMultiTouchEvent:function(t){return null!=t.type&&0==t.type.indexOf("touch")&&null!=t.touches&&t.touches.length>1},isMouseEvent:function(t){return null!=t.pointerType?"mouse"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE:null!=t.mozInputSource?1==t.mozInputSource:0==t.type.indexOf("mouse")},isLeftMouseButton:function(t){return"buttons"in t&&("mousedown"==t.type||"mousemove"==t.type)?1==t.buttons:"which"in t?1===t.which:1===t.button},isMiddleMouseButton:function(t){return"which"in t?2===t.which:4===t.button},isRightMouseButton:function(t){return"which"in t?3===t.which:2===t.button},isPopupTrigger:function(t){return mxEvent.isRightMouseButton(t)||mxClient.IS_MAC&&mxEvent.isControlDown(t)&&!mxEvent.isShiftDown(t)&&!mxEvent.isMetaDown(t)&&!mxEvent.isAltDown(t)},isShiftDown:function(t){return null!=t&&t.shiftKey},isAltDown:function(t){return null!=t&&t.altKey},isControlDown:function(t){return null!=t&&t.ctrlKey},isMetaDown:function(t){return null!=t&&t.metaKey},getMainEvent:function(t){return"touchstart"!=t.type&&"touchmove"!=t.type||null==t.touches||null==t.touches[0]?"touchend"==t.type&&null!=t.changedTouches&&null!=t.changedTouches[0]&&(t=t.changedTouches[0]):t=t.touches[0],t},getClientX:function(t){return mxEvent.getMainEvent(t).clientX},getClientY:function(t){return mxEvent.getMainEvent(t).clientY},consume:function(t,e,i){e=null==e||e,i=null==i||i,e&&(t.preventDefault?(i&&t.stopPropagation(),t.preventDefault()):i&&(t.cancelBubble=!0)),t.isConsumed=!0,t.preventDefault||(t.returnValue=!1)},LABEL_HANDLE:-1,ROTATION_HANDLE:-2,CUSTOM_HANDLE:-100,VIRTUAL_HANDLE:-1e5,MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove",MOUSE_UP:"mouseUp",ACTIVATE:"activate",RESIZE_START:"resizeStart",RESIZE:"resize",RESIZE_END:"resizeEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",PAN_START:"panStart",PAN:"pan",PAN_END:"panEnd",MINIMIZE:"minimize",NORMALIZE:"normalize",MAXIMIZE:"maximize",HIDE:"hide",SHOW:"show",CLOSE:"close",DESTROY:"destroy",REFRESH:"refresh",SIZE:"size",SELECT:"select",FIRED:"fired",FIRE_MOUSE_EVENT:"fireMouseEvent",GESTURE:"gesture",TAP_AND_HOLD:"tapAndHold",GET:"get",RECEIVE:"receive",CONNECT:"connect",DISCONNECT:"disconnect",SUSPEND:"suspend",RESUME:"resume",MARK:"mark",ROOT:"root",POST:"post",OPEN:"open",SAVE:"save",BEFORE_ADD_VERTEX:"beforeAddVertex",ADD_VERTEX:"addVertex",AFTER_ADD_VERTEX:"afterAddVertex",DONE:"done",EXECUTE:"execute",EXECUTED:"executed",BEGIN_UPDATE:"beginUpdate",START_EDIT:"startEdit",END_UPDATE:"endUpdate",END_EDIT:"endEdit",BEFORE_UNDO:"beforeUndo",UNDO:"undo",REDO:"redo",CHANGE:"change",NOTIFY:"notify",LAYOUT_CELLS:"layoutCells",CLICK:"click",SCALE:"scale",TRANSLATE:"translate",SCALE_AND_TRANSLATE:"scaleAndTranslate",UP:"up",DOWN:"down",ADD:"add",REMOVE:"remove",CLEAR:"clear",ADD_CELLS:"addCells",CELLS_ADDED:"cellsAdded",MOVE_CELLS:"moveCells",CELLS_MOVED:"cellsMoved",RESIZE_CELLS:"resizeCells",CELLS_RESIZED:"cellsResized",TOGGLE_CELLS:"toggleCells",CELLS_TOGGLED:"cellsToggled",ORDER_CELLS:"orderCells",CELLS_ORDERED:"cellsOrdered",REMOVE_CELLS:"removeCells",CELLS_REMOVED:"cellsRemoved",GROUP_CELLS:"groupCells",UNGROUP_CELLS:"ungroupCells",REMOVE_CELLS_FROM_PARENT:"removeCellsFromParent",FOLD_CELLS:"foldCells",CELLS_FOLDED:"cellsFolded",ALIGN_CELLS:"alignCells",LABEL_CHANGED:"labelChanged",CONNECT_CELL:"connectCell",CELL_CONNECTED:"cellConnected",SPLIT_EDGE:"splitEdge",FLIP_EDGE:"flipEdge",START_EDITING:"startEditing",EDITING_STARTED:"editingStarted",EDITING_STOPPED:"editingStopped",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",UPDATE_CELL_SIZE:"updateCellSize",ESCAPE:"escape",CLICK:"click",DOUBLE_CLICK:"doubleClick",START:"start",RESET:"reset"};mxXmlRequest.prototype.url=null,mxXmlRequest.prototype.params=null,mxXmlRequest.prototype.method=null,mxXmlRequest.prototype.async=null,mxXmlRequest.prototype.binary=!1,mxXmlRequest.prototype.withCredentials=!1,mxXmlRequest.prototype.username=null,mxXmlRequest.prototype.password=null,mxXmlRequest.prototype.request=null,mxXmlRequest.prototype.decodeSimulateValues=!1,mxXmlRequest.prototype.isBinary=function(){return this.binary},mxXmlRequest.prototype.setBinary=function(t){this.binary=t},mxXmlRequest.prototype.getText=function(){return this.request.responseText},mxXmlRequest.prototype.isReady=function(){return 4==this.request.readyState},mxXmlRequest.prototype.getDocumentElement=function(){var t=this.getXml();return null!=t?t.documentElement:null},mxXmlRequest.prototype.getXml=function(){var t=this.request.responseXML;return(document.documentMode>=9||null==t||null==t.documentElement)&&(t=mxUtils.parseXml(this.request.responseText)),t},mxXmlRequest.prototype.getText=function(){return this.request.responseText},mxXmlRequest.prototype.getStatus=function(){return this.request.status},mxXmlRequest.prototype.create=function(){return window.XMLHttpRequest?function(){var t=new XMLHttpRequest;return this.isBinary()&&t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t}:"undefined"!=typeof ActiveXObject?function(){return new ActiveXObject("Microsoft.XMLHTTP")}:void 0}(),mxXmlRequest.prototype.send=function(t,e,i,n){this.request=this.create(),null!=this.request&&(null!=t&&(this.request.onreadystatechange=mxUtils.bind(this,function(){this.isReady()&&(t(this),this.onreadystatechange=null)})),this.request.open(this.method,this.url,this.async,this.username,this.password),this.setRequestHeaders(this.request,this.params),window.XMLHttpRequest&&this.withCredentials&&(this.request.withCredentials="true"),!mxClient.IS_QUIRKS&&(null==document.documentMode||document.documentMode>9)&&window.XMLHttpRequest&&null!=i&&null!=n&&(this.request.timeout=i,this.request.ontimeout=n),this.request.send(this.params))},mxXmlRequest.prototype.setRequestHeaders=function(t,e){null!=e&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},mxXmlRequest.prototype.simulate=function(t,e){var i=null;(t=t||document)==document&&(i=window.onbeforeunload,window.onbeforeunload=null);var n=t.createElement("form");n.setAttribute("method",this.method),n.setAttribute("action",this.url),null!=e&&n.setAttribute("target",e),n.style.display="none",n.style.visibility="hidden";for(var l=this.params.indexOf("&")>0?this.params.split("&"):this.params.split(),o=0;o<l.length;o++){var r=l[o].indexOf("=");if(r>0){var s=l[o].substring(0,r),a=l[o].substring(r+1);this.decodeSimulateValues&&(a=decodeURIComponent(a));var g=t.createElement("textarea");g.setAttribute("name",s),mxUtils.write(g,a),n.appendChild(g)}}t.body.appendChild(n),n.submit(),t.body.removeChild(n),null!=i&&(window.onbeforeunload=i)};var mxClipboard={STEPSIZE:10,insertCount:1,cells:null,setCells:function(t){mxClipboard.cells=t},getCells:function(){return mxClipboard.cells},isEmpty:function(){return null==mxClipboard.getCells()},cut:function(t,e){return e=mxClipboard.copy(t,e),mxClipboard.insertCount=0,mxClipboard.removeCells(t,e),e},removeCells:function(t,e){t.removeCells(e)},copy:function(t,e){e=e||t.getSelectionCells();var i=t.getExportableCells(t.model.getTopmostCells(e));return mxClipboard.insertCount=1,mxClipboard.setCells(t.cloneCells(i)),i},paste:function(t){var e=null;if(!mxClipboard.isEmpty()){e=t.getImportableCells(mxClipboard.getCells());var i=mxClipboard.insertCount*mxClipboard.STEPSIZE,n=t.getDefaultParent();e=t.importCells(e,i,i,n),mxClipboard.insertCount++,t.setSelectionCells(e)}return e}};mxWindow.prototype=new mxEventSource,mxWindow.prototype.constructor=mxWindow,mxWindow.prototype.closeImage=mxClient.imageBasePath+"/close.gif",mxWindow.prototype.minimizeImage=mxClient.imageBasePath+"/minimize.gif",mxWindow.prototype.normalizeImage=mxClient.imageBasePath+"/normalize.gif",mxWindow.prototype.maximizeImage=mxClient.imageBasePath+"/maximize.gif",mxWindow.prototype.resizeImage=mxClient.imageBasePath+"/resize.gif",mxWindow.prototype.visible=!1,mxWindow.prototype.minimumSize=new mxRectangle(0,0,50,40),mxWindow.prototype.destroyOnClose=!0,mxWindow.prototype.contentHeightCorrection=8==document.documentMode||7==document.documentMode?6:2,mxWindow.prototype.title=null,mxWindow.prototype.content=null,mxWindow.prototype.init=function(t,e,i,n,l){l=null!=l?l:"mxWindow",this.div=document.createElement("div"),this.div.className=l,this.div.style.left=t+"px",this.div.style.top=e+"px",this.table=document.createElement("table"),this.table.className=l,mxClient.IS_POINTER&&(this.div.style.touchAction="none"),null!=i&&(mxClient.IS_QUIRKS||(this.div.style.width=i+"px"),this.table.style.width=i+"px"),null!=n&&(mxClient.IS_QUIRKS||(this.div.style.height=n+"px"),this.table.style.height=n+"px");var o=document.createElement("tbody"),r=document.createElement("tr");this.title=document.createElement("td"),this.title.className=l+"Title",r.appendChild(this.title),o.appendChild(r),r=document.createElement("tr"),this.td=document.createElement("td"),this.td.className=l+"Pane",7==document.documentMode&&(this.td.style.height="100%"),this.contentWrapper=document.createElement("div"),this.contentWrapper.className=l+"Pane",this.contentWrapper.style.width="100%",this.contentWrapper.appendChild(this.content),(mxClient.IS_QUIRKS||"DIV"!=this.content.nodeName.toUpperCase())&&(this.contentWrapper.style.height="100%"),this.td.appendChild(this.contentWrapper),r.appendChild(this.td),o.appendChild(r),this.table.appendChild(o),this.div.appendChild(this.table);var s=mxUtils.bind(this,function(t){this.activate()});mxEvent.addGestureListeners(this.title,s),mxEvent.addGestureListeners(this.table,s),this.hide()},mxWindow.prototype.setTitle=function(t){for(var e=this.title.firstChild;null!=e;){var i=e.nextSibling;e.nodeType==mxConstants.NODETYPE_TEXT&&e.parentNode.removeChild(e),e=i}mxUtils.write(this.title,t||"")},mxWindow.prototype.setScrollable=function(t){navigator.userAgent.indexOf("Presto/2.5")<0&&(this.contentWrapper.style.overflow=t?"auto":"hidden")},mxWindow.prototype.activate=function(){if(mxWindow.activeWindow!=this){var t=mxUtils.getCurrentStyle(this.getElement()),e=null!=t?t.zIndex:3;if(mxWindow.activeWindow){var i=mxWindow.activeWindow.getElement();null!=i&&null!=i.style&&(i.style.zIndex=e)}var n=mxWindow.activeWindow;this.getElement().style.zIndex=parseInt(e)+1,mxWindow.activeWindow=this,this.fireEvent(new mxEventObject(mxEvent.ACTIVATE,"previousWindow",n))}},mxWindow.prototype.getElement=function(){return this.div},mxWindow.prototype.fit=function(){mxUtils.fit(this.div)},mxWindow.prototype.isResizable=function(){return null!=this.resize&&"none"!=this.resize.style.display},mxWindow.prototype.setResizable=function(t){if(t)if(null==this.resize){this.resize=document.createElement("img"),this.resize.style.position="absolute",this.resize.style.bottom="2px",this.resize.style.right="2px",this.resize.setAttribute("src",mxClient.imageBasePath+"/resize.gif"),this.resize.style.cursor="nw-resize";var e=null,i=null,n=null,l=null,o=mxUtils.bind(this,function(t){this.activate(),e=mxEvent.getClientX(t),i=mxEvent.getClientY(t),n=this.div.offsetWidth,l=this.div.offsetHeight,mxEvent.addGestureListeners(document,null,r,s),this.fireEvent(new mxEventObject(mxEvent.RESIZE_START,"event",t)),mxEvent.consume(t)}),r=mxUtils.bind(this,function(t){if(null!=e&&null!=i){var o=mxEvent.getClientX(t)-e,r=mxEvent.getClientY(t)-i;this.setSize(n+o,l+r),this.fireEvent(new mxEventObject(mxEvent.RESIZE,"event",t)),mxEvent.consume(t)}}),s=mxUtils.bind(this,function(t){null!=e&&null!=i&&(e=null,i=null,mxEvent.removeGestureListeners(document,null,r,s),this.fireEvent(new mxEventObject(mxEvent.RESIZE_END,"event",t)),mxEvent.consume(t))});mxEvent.addGestureListeners(this.resize,o,r,s),this.div.appendChild(this.resize)}else this.resize.style.display="inline";else null!=this.resize&&(this.resize.style.display="none")},mxWindow.prototype.setSize=function(t,e){t=Math.max(this.minimumSize.width,t),e=Math.max(this.minimumSize.height,e),mxClient.IS_QUIRKS||(this.div.style.width=t+"px",this.div.style.height=e+"px"),this.table.style.width=t+"px",this.table.style.height=e+"px",mxClient.IS_QUIRKS||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px")},mxWindow.prototype.setMinimizable=function(t){this.minimize.style.display=t?"":"none"},mxWindow.prototype.getMinimumSize=function(){return new mxRectangle(0,0,0,this.title.offsetHeight)},mxWindow.prototype.installMinimizeHandler=function(){this.minimize=document.createElement("img"),this.minimize.setAttribute("src",this.minimizeImage),this.minimize.setAttribute("align","right"),this.minimize.setAttribute("title","Minimize"),this.minimize.style.cursor="pointer",this.minimize.style.marginRight="1px",this.minimize.style.display="none",this.title.appendChild(this.minimize);var t=!1,e=null,i=null,n=mxUtils.bind(this,function(n){if(this.activate(),t)t=!1,this.minimize.setAttribute("src",this.minimizeImage),this.minimize.setAttribute("title","Minimize"),this.contentWrapper.style.display="",this.maximize.style.display=e,mxClient.IS_QUIRKS||(this.div.style.height=i),this.table.style.height=i,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",n));else{t=!0,this.minimize.setAttribute("src",this.normalizeImage),this.minimize.setAttribute("title","Normalize"),this.contentWrapper.style.display="none",e=this.maximize.style.display,this.maximize.style.display="none",i=this.table.style.height;var l=this.getMinimumSize();l.height>0&&(mxClient.IS_QUIRKS||(this.div.style.height=l.height+"px"),this.table.style.height=l.height+"px"),l.width>0&&(mxClient.IS_QUIRKS||(this.div.style.width=l.width+"px"),this.table.style.width=l.width+"px"),null!=this.resize&&(this.resize.style.visibility="hidden"),this.fireEvent(new mxEventObject(mxEvent.MINIMIZE,"event",n))}mxEvent.consume(n)});mxEvent.addGestureListeners(this.minimize,n)},mxWindow.prototype.setMaximizable=function(t){this.maximize.style.display=t?"":"none"},mxWindow.prototype.installMaximizeHandler=function(){this.maximize=document.createElement("img"),this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("align","right"),this.maximize.setAttribute("title","Maximize"),this.maximize.style.cursor="default",this.maximize.style.marginLeft="1px",this.maximize.style.cursor="pointer",this.maximize.style.display="none",this.title.appendChild(this.maximize);var t=!1,e=null,i=null,n=null,l=null,o=mxUtils.bind(this,function(o){if(this.activate(),"none"!=this.maximize.style.display){if(t){if(t=!1,this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("title","Maximize"),this.contentWrapper.style.display="",this.minimize.style.visibility="",this.div.style.left=e+"px",this.div.style.top=i+"px",!mxClient.IS_QUIRKS){this.div.style.height=n,this.div.style.width=l;var r=mxUtils.getCurrentStyle(this.contentWrapper);"auto"!=r.overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px")}this.table.style.height=n,this.table.style.width=l,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",o))}else{t=!0,this.maximize.setAttribute("src",this.normalizeImage),this.maximize.setAttribute("title","Normalize"),this.contentWrapper.style.display="",this.minimize.style.visibility="hidden",e=parseInt(this.div.style.left),i=parseInt(this.div.style.top),n=this.table.style.height,l=this.table.style.width,this.div.style.left="0px",this.div.style.top="0px";var s=Math.max(this.vgdContainer.clientHeight||0,document.documentElement.clientHeight||0);mxClient.IS_QUIRKS||(this.div.style.width=this.vgdContainer.clientWidth-2+"px",this.div.style.height=s-2+"px"),this.table.style.width=this.vgdContainer.clientWidth-2+"px",this.table.style.height=s-2+"px",null!=this.resize&&(this.resize.style.visibility="hidden"),mxClient.IS_QUIRKS||"auto"!=(r=mxUtils.getCurrentStyle(this.contentWrapper)).overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"),this.fireEvent(new mxEventObject(mxEvent.MAXIMIZE,"event",o))}mxEvent.consume(o)}});mxEvent.addGestureListeners(this.maximize,o),mxEvent.addListener(this.title,"dblclick",o)},mxWindow.prototype.installMoveHandler=function(){this.title.style.cursor="move",mxEvent.addGestureListeners(this.title,mxUtils.bind(this,function(t){var e=mxEvent.getClientX(t),i=mxEvent.getClientY(t),n=this.getX(),l=this.getY(),o=mxUtils.bind(this,function(t){var o=mxEvent.getClientX(t)-e,r=mxEvent.getClientY(t)-i;this.setLocation(n+o,l+r),this.fireEvent(new mxEventObject(mxEvent.MOVE,"event",t)),mxEvent.consume(t)}),r=mxUtils.bind(this,function(t){mxEvent.removeGestureListeners(document,null,o,r),this.fireEvent(new mxEventObject(mxEvent.MOVE_END,"event",t)),mxEvent.consume(t)});mxEvent.addGestureListeners(document,null,o,r),this.fireEvent(new mxEventObject(mxEvent.MOVE_START,"event",t)),mxEvent.consume(t)})),mxClient.IS_POINTER&&(this.title.style.touchAction="none")},mxWindow.prototype.setLocation=function(t,e){this.div.style.left=t+"px",this.div.style.top=e+"px"},mxWindow.prototype.getX=function(){return parseInt(this.div.style.left)},mxWindow.prototype.getY=function(){return parseInt(this.div.style.top)},mxWindow.prototype.installCloseHandler=function(){this.closeImg=document.createElement("img"),this.closeImg.setAttribute("src",this.closeImage),this.closeImg.setAttribute("align","right"),this.closeImg.setAttribute("title","Close"),this.closeImg.style.marginLeft="2px",this.closeImg.style.cursor="pointer",this.closeImg.style.display="none",this.title.insertBefore(this.closeImg,this.title.firstChild),mxEvent.addGestureListeners(this.closeImg,mxUtils.bind(this,function(t){this.fireEvent(new mxEventObject(mxEvent.CLOSE,"event",t)),this.destroyOnClose?this.destroy():this.setVisible(!1),mxEvent.consume(t)}))},mxWindow.prototype.setImage=function(t){this.image=document.createElement("img"),this.image.setAttribute("src",t),this.image.setAttribute("align","left"),this.image.style.marginRight="4px",this.image.style.marginLeft="0px",this.image.style.marginTop="-2px",this.title.insertBefore(this.image,this.title.firstChild)},mxWindow.prototype.setClosable=function(t){this.closeImg.style.display=t?"":"none"},mxWindow.prototype.isVisible=function(){return null!=this.div&&"none"!=this.div.style.display},mxWindow.prototype.setVisible=function(t){null!=this.div&&this.isVisible()!=t&&(t?this.show():this.hide())},mxWindow.prototype.show=function(){this.div.style.display="",this.activate();var t=mxUtils.getCurrentStyle(this.contentWrapper);mxClient.IS_QUIRKS||"auto"!=t.overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"),this.fireEvent(new mxEventObject(mxEvent.SHOW))},mxWindow.prototype.hide=function(){this.div.style.display="none",this.fireEvent(new mxEventObject(mxEvent.HIDE))},mxWindow.prototype.destroy=function(){this.fireEvent(new mxEventObject(mxEvent.DESTROY)),null!=this.div&&(mxEvent.release(this.div),this.div.parentNode.removeChild(this.div),this.div=null),this.title=null,this.content=null,this.contentWrapper=null},mxForm.prototype.table=null,mxForm.prototype.body=!1,mxForm.prototype.getTable=function(){return this.table},mxForm.prototype.addButtons=function(t,e){var i=document.createElement("tr"),n=document.createElement("td");i.appendChild(n),n=document.createElement("td");var l=document.createElement("button");mxUtils.write(l,mxResources.get("ok")||"OK"),n.appendChild(l),mxEvent.addListener(l,"click",function(){t()}),l=document.createElement("button"),mxUtils.write(l,mxResources.get("cancel")||"Cancel"),n.appendChild(l),mxEvent.addListener(l,"click",function(){e()}),i.appendChild(n),this.body.appendChild(i)},mxForm.prototype.addCheckbox=function(t,e){var i=document.createElement("input");return i.setAttribute("type","checkbox"),this.addField(t,i),e&&(i.checked=!0),i},mxForm.prototype.addTextarea=function(t,e,i){var n=document.createElement("textarea");return mxClient.IS_NS&&i--,n.setAttribute("rows",i||2),n.value=e,this.addField(t,n)},mxForm.prototype.addCombo=function(t,e,i){var n=document.createElement("select");return null!=i&&n.setAttribute("size",i),e&&n.setAttribute("multiple","true"),this.addField(t,n)},mxForm.prototype.addText=function(t,e){var i=document.createElement("input");return i.setAttribute("type","text"),i.value=e,this.addField(t,i)},mxForm.prototype.addOption=function(t,e,i,n){var l=document.createElement("option");mxUtils.writeln(l,e),l.setAttribute("value",i),n&&l.setAttribute("selected",n),t.appendChild(l)},mxForm.prototype.addField=function(t,e){var i=document.createElement("tr"),n=document.createElement("td");return mxUtils.write(n,t),i.appendChild(n),(n=document.createElement("td")).appendChild(e),i.appendChild(n),this.body.appendChild(i),e},mxForm.prototype.addListAttributeElements=function(t,e){var i=document.createElement("tr");for(var n in t){var l=mxResources.get(n);"name"==n&&(l="Key");var o="80px";if("intrinsic"!=e||(o="100px","description"!=n)){var r=document.createElement("td");mxUtils.write(r,t[n]),r.setAttribute("title",l+":"+t[n]),r.style.overflow="hidden",r.style.width=o,r.style.minWidth="50px",r.style.maxWidth="90px",i.appendChild(r)}}return this.body.appendChild(i),i},mxForm.prototype.addText2=function(t,e){var i=[];e instanceof Array?i=e:i.push(e);var n=[];for(var l in i){var o=document.createElement("input");o.setAttribute("type","text"),o.value=i[l],n.push(o)}return this.addField2(t,n)},mxForm.prototype.addField2=function(t,e){var i=[];e instanceof Array?i=e:i.push(e);var n=document.createElement("tr"),l=document.createElement("td");mxUtils.write(l,t),n.appendChild(l);for(var o in i)(l=document.createElement("td")).appendChild(i[o]),n.appendChild(l);return this.body.appendChild(n),e},mxImage.prototype.src=null,mxImage.prototype.width=null,mxImage.prototype.height=null,mxDivResizer.prototype.resizeWidth=!0,mxDivResizer.prototype.resizeHeight=!0,mxDivResizer.prototype.handlingResize=!1,mxDivResizer.prototype.resize=function(){var t=this.getDocumentWidth(),e=this.getDocumentHeight(),i=parseInt(this.div.style.left),n=parseInt(this.div.style.right),l=parseInt(this.div.style.top),o=parseInt(this.div.style.bottom);this.resizeWidth&&!isNaN(i)&&!isNaN(n)&&i>=0&&n>=0&&t-n-i>0&&(this.div.style.width=t-n-i+"px"),this.resizeHeight&&!isNaN(l)&&!isNaN(o)&&l>=0&&o>=0&&e-l-o>0&&(this.div.style.height=e-l-o+"px")},mxDivResizer.prototype.getDocumentWidth=function(){return document.body.clientWidth},mxDivResizer.prototype.getDocumentHeight=function(){return document.body.clientHeight},mxDragSource.prototype.element=null,mxDragSource.prototype.dropHandler=null,mxDragSource.prototype.dragOffset=null,mxDragSource.prototype.dragElement=null,mxDragSource.prototype.previewElement=null,mxDragSource.prototype.enabled=!0,mxDragSource.prototype.currentGraph=null,mxDragSource.prototype.currentDropTarget=null,mxDragSource.prototype.currentPoint=null,mxDragSource.prototype.currentGuide=null,mxDragSource.prototype.currentHighlight=null,mxDragSource.prototype.autoscroll=!0,mxDragSource.prototype.guidesEnabled=!0,mxDragSource.prototype.gridEnabled=!0,mxDragSource.prototype.highlightDropTargets=!0,mxDragSource.prototype.dragElementZIndex=100,mxDragSource.prototype.dragElementOpacity=70,mxDragSource.prototype.isEnabled=function(){return this.enabled},mxDragSource.prototype.setEnabled=function(t){this.enabled=t},mxDragSource.prototype.isGuidesEnabled=function(){return this.guidesEnabled},mxDragSource.prototype.setGuidesEnabled=function(t){this.guidesEnabled=t},mxDragSource.prototype.isGridEnabled=function(){return this.gridEnabled},mxDragSource.prototype.setGridEnabled=function(t){this.gridEnabled=t},mxDragSource.prototype.getGraphForEvent=function(t){return null},mxDragSource.prototype.getDropTarget=function(t,e,i,n){return t.getCellAt(e,i)},mxDragSource.prototype.createDragElement=function(t){return this.element.cloneNode(!0)},mxDragSource.prototype.createPreviewElement=function(t){return null},mxDragSource.prototype.isActive=function(){return null!=this.mouseMoveHandler},mxDragSource.prototype.reset=function(){null!=this.currentGraph&&(this.dragExit(this.currentGraph),this.currentGraph=null),this.removeDragElement(),this.removeListeners(),this.stopDrag()},mxDragSource.prototype.mouseDown=function(t){this.enabled&&!mxEvent.isConsumed(t)&&null==this.mouseMoveHandler&&(this.startDrag(t),this.mouseMoveHandler=mxUtils.bind(this,this.mouseMove),this.mouseUpHandler=mxUtils.bind(this,this.mouseUp),mxEvent.addGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),mxClient.IS_TOUCH&&!mxEvent.isMouseEvent(t)&&(this.eventSource=mxEvent.getSource(t),mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler)))},mxDragSource.prototype.startDrag=function(t){this.dragElement=this.createDragElement(t),this.dragElement.style.position="absolute",this.dragElement.style.zIndex=this.dragElementZIndex,mxUtils.setOpacity(this.dragElement,this.dragElementOpacity)},mxDragSource.prototype.stopDrag=function(){this.removeDragElement()},mxDragSource.prototype.removeDragElement=function(){null!=this.dragElement&&(null!=this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null)},mxDragSource.prototype.graphContainsEvent=function(t,e){var i=mxEvent.getClientX(e),n=mxEvent.getClientY(e),l=mxUtils.getOffset(t.container),o=mxUtils.getScrollOrigin();return i>=l.x-o.x&&n>=l.y-o.y&&i<=l.x-o.x+t.container.offsetWidth&&n<=l.y-o.y+t.container.offsetHeight},mxDragSource.prototype.mouseMove=function(t){var e=this.getGraphForEvent(t);if(null==e||this.graphContainsEvent(e,t)||(e=null),e!=this.currentGraph&&(null!=this.currentGraph&&this.dragExit(this.currentGraph,t),this.currentGraph=e,null!=this.currentGraph&&this.dragEnter(this.currentGraph,t)),null!=this.currentGraph&&this.dragOver(this.currentGraph,t),null==this.dragElement||null!=this.previewElement&&"visible"==this.previewElement.style.visibility)null!=this.dragElement&&(this.dragElement.style.visibility="hidden");else{var i=mxEvent.getClientX(t),n=mxEvent.getClientY(t);null==this.dragElement.parentNode&&this.vgdContainer.appendChild(this.dragElement),this.dragElement.style.visibility="visible",null!=this.dragOffset&&(i+=this.dragOffset.x,n+=this.dragOffset.y);var l=mxUtils.getDocumentScrollOrigin(document),o=this.vgdContainer.offsetLeft,r=this.vgdContainer.offsetTop;this.dragElement.style.left=i+l.x-o+"px",this.dragElement.style.top=n+l.y-r+"px"}mxEvent.consume(t)},mxDragSource.prototype.mouseUp=function(t){if(null!=this.currentGraph){if(null!=this.currentPoint&&(null==this.previewElement||"hidden"!=this.previewElement.style.visibility)){var e=this.currentGraph.view.scale,i=this.currentGraph.view.translate,n=this.currentPoint.x/e-i.x,l=this.currentPoint.y/e-i.y;this.drop(this.currentGraph,t,this.currentDropTarget,n,l)}this.dragExit(this.currentGraph),this.currentGraph=null}this.stopDrag(),this.removeListeners(),mxEvent.consume(t)},mxDragSource.prototype.removeListeners=function(){null!=this.eventSource&&(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler),this.eventSource=null),mxEvent.removeGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null},mxDragSource.prototype.dragEnter=function(t,e){t.isMouseDown=!0,t.isMouseTrigger=mxEvent.isMouseEvent(e),this.previewElement=this.createPreviewElement(t),this.isGuidesEnabled()&&null!=this.previewElement&&(this.currentGuide=new mxGuide(t,t.graphHandler.getGuideStates())),this.highlightDropTargets&&(this.currentHighlight=new mxCellHighlight(t,mxConstants.DROP_TARGET_COLOR)),t.addListener(mxEvent.FIRE_MOUSE_EVENT,this.eventConsumer)},mxDragSource.prototype.dragExit=function(t,e){this.currentDropTarget=null,this.currentPoint=null,t.isMouseDown=!1,t.removeListener(this.eventConsumer),null!=this.previewElement&&(null!=this.previewElement.parentNode&&this.previewElement.parentNode.removeChild(this.previewElement),this.previewElement=null),null!=this.currentGuide&&(this.currentGuide.destroy(),this.currentGuide=null),null!=this.currentHighlight&&(this.currentHighlight.destroy(),this.currentHighlight=null)},mxDragSource.prototype.dragOver=function(t,e){var i=mxUtils.getOffset(t.container),n=mxUtils.getScrollOrigin(t.container),l=mxEvent.getClientX(e)-i.x+n.x-t.panDx,o=mxEvent.getClientY(e)-i.y+n.y-t.panDy;if(t.autoScroll&&(null==this.autoscroll||this.autoscroll)&&t.scrollPointToVisible(l,o,t.autoExtend),null!=this.currentHighlight&&t.isDropEnabled()){this.currentDropTarget=this.getDropTarget(t,l,o,e);var r=t.getView().getState(this.currentDropTarget);this.currentHighlight.highlight(r)}this.currentPoint=new mxPoint(l,o)},mxDragSource.prototype.drop=function(t,e,i,n,l){this.dropHandler(t,e,i,n,l),"hidden"!=t.container.style.visibility&&t.container.focus()},mxToolbar.prototype=new mxEventSource,mxToolbar.prototype.constructor=mxToolbar,mxToolbar.prototype.container=null,mxToolbar.prototype.enabled=!0,mxToolbar.prototype.noReset=!1,mxToolbar.prototype.updateDefaultMode=!0,mxToolbar.prototype.addItem=function(t,e,i,n,l,o){var r=document.createElement(null!=e?"img":"button"),s=l||(null!=o?"mxToolbarMode":"mxToolbarItem");r.className=s,r.setAttribute("src",e),null!=t&&(null!=e?r.setAttribute("title",t):mxUtils.write(r,t)),this.container.appendChild(r),null!=i&&(mxEvent.addListener(r,"click",i),mxClient.IS_TOUCH&&mxEvent.addListener(r,"touchend",i));var a=mxUtils.bind(this,function(t){null!=n?r.setAttribute("src",e):r.style.backgroundColor=""});return mxEvent.addGestureListeners(r,mxUtils.bind(this,function(t){if(null!=n?r.setAttribute("src",n):r.style.backgroundColor="gray",null!=o){null==this.menu&&(this.menu=new mxPopupMenu,this.menu.init());var e=this.currentImg;if(this.menu.isMenuShowing()&&this.menu.hideMenu(),e!=r){this.currentImg=r,this.menu.factoryMethod=o;var i=new mxPoint(r.offsetLeft,r.offsetTop+r.offsetHeight);this.menu.popup(i.x,i.y,null,t),this.menu.isMenuShowing()&&(r.className=s+"Selected",this.menu.hideMenu=function(){mxPopupMenu.prototype.hideMenu.apply(this),r.className=s,this.currentImg=null})}}}),null,a),mxEvent.addListener(r,"mouseout",a),r},mxToolbar.prototype.addCombo=function(t){var e=document.createElement("div");e.style.display="inline",e.className="mxToolbarComboContainer";var i=document.createElement("select");return i.className=t||"mxToolbarCombo",e.appendChild(i),this.container.appendChild(e),i},mxToolbar.prototype.addActionCombo=function(t,e){var i=document.createElement("select");return i.className=e||"mxToolbarCombo",this.addOption(i,t,null),mxEvent.addListener(i,"change",function(t){var e=i.options[i.selectedIndex];i.selectedIndex=0,null!=e.funct&&e.funct(t)}),this.container.appendChild(i),i},mxToolbar.prototype.addOption=function(t,e,i){var n=document.createElement("option");return mxUtils.writeln(n,e),"function"==typeof i?n.funct=i:n.setAttribute("value",i),t.appendChild(n),n},mxToolbar.prototype.addSwitchMode=function(t,e,i,n,l){var o=document.createElement("img");return o.initialClassName=l||"mxToolbarMode",o.className=o.initialClassName,o.setAttribute("src",e),o.altIcon=n,null!=t&&o.setAttribute("title",t),mxEvent.addListener(o,"click",mxUtils.bind(this,function(t){var e=this.selectedMode.altIcon;null!=e?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",e)):this.selectedMode.className=this.selectedMode.initialClassName,this.updateDefaultMode&&(this.defaultMode=o),this.selectedMode=o,null!=(e=o.altIcon)?(o.altIcon=o.getAttribute("src"),o.setAttribute("src",e)):o.className=o.initialClassName+"Selected",this.fireEvent(new mxEventObject(mxEvent.SELECT)),i()})),this.container.appendChild(o),null==this.defaultMode&&(this.defaultMode=o,this.selectMode(o),i()),o},mxToolbar.prototype.addMode=function(t,e,i,n,l,o){o=null==o||o;var r=document.createElement(null!=e?"img":"button");return r.initialClassName=l||"mxToolbarMode",r.className=r.initialClassName,r.setAttribute("src",e),r.altIcon=n,null!=t&&r.setAttribute("title",t),this.enabled&&o&&(mxEvent.addListener(r,"click",mxUtils.bind(this,function(t){this.selectMode(r,i),this.noReset=!1})),mxEvent.addListener(r,"dblclick",mxUtils.bind(this,function(t){this.selectMode(r,i),this.noReset=!0})),null==this.defaultMode&&(this.defaultMode=r,this.defaultFunction=i,this.selectMode(r,i))),this.container.appendChild(r),r},mxToolbar.prototype.selectMode=function(t,e){if(this.selectedMode!=t){null!=this.selectedMode&&(null!=(i=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",i)):this.selectedMode.className=this.selectedMode.initialClassName),this.selectedMode=t;var i=this.selectedMode.altIcon;null!=i?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",i)):this.selectedMode.className=this.selectedMode.initialClassName+"Selected",this.fireEvent(new mxEventObject(mxEvent.SELECT,"function",e))}},mxToolbar.prototype.resetMode=function(t){!t&&this.noReset||this.selectedMode==this.defaultMode||this.selectMode(this.defaultMode,this.defaultFunction)},mxToolbar.prototype.addSeparator=function(t){return this.addItem(null,t,null)},mxToolbar.prototype.addBreak=function(){mxUtils.br(this.container)},mxToolbar.prototype.addLine=function(){var t=document.createElement("hr");t.style.marginRight="6px",t.setAttribute("size","1"),this.container.appendChild(t)},mxToolbar.prototype.destroy=function(){mxEvent.release(this.container),this.container=null,this.defaultMode=null,this.defaultFunction=null,this.selectedMode=null,null!=this.menu&&this.menu.destroy()},mxUndoableEdit.prototype.source=null,mxUndoableEdit.prototype.changes=null,mxUndoableEdit.prototype.significant=null,mxUndoableEdit.prototype.undone=!1,mxUndoableEdit.prototype.redone=!1,mxUndoableEdit.prototype.isEmpty=function(){return 0==this.changes.length},mxUndoableEdit.prototype.isSignificant=function(){return this.significant},mxUndoableEdit.prototype.add=function(t){this.changes.push(t)},mxUndoableEdit.prototype.notify=function(){},mxUndoableEdit.prototype.die=function(){},mxUndoableEdit.prototype.undo=function(){if(!this.undone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var t=this.changes.length-1;t>=0;t--){var e=this.changes[t];null!=e.execute?e.execute():null!=e.undo&&e.undo(),this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",e))}this.undone=!0,this.redone=!1,this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()},mxUndoableEdit.prototype.redo=function(){if(!this.redone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var t=this.changes.length,e=0;e<t;e++){var i=this.changes[e];null!=i.execute?i.execute():null!=i.redo&&i.redo(),this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",i))}this.undone=!1,this.redone=!0,this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()},mxUndoManager.prototype=new mxEventSource,mxUndoManager.prototype.constructor=mxUndoManager,mxUndoManager.prototype.size=null,mxUndoManager.prototype.history=null,mxUndoManager.prototype.indexOfNextAdd=0,mxUndoManager.prototype.isEmpty=function(){return 0==this.history.length},mxUndoManager.prototype.clear=function(){this.history=[],this.indexOfNextAdd=0,this.fireEvent(new mxEventObject(mxEvent.CLEAR))},mxUndoManager.prototype.canUndo=function(){return this.indexOfNextAdd>0},mxUndoManager.prototype.undo=function(){for(;this.indexOfNextAdd>0;){var t=this.history[--this.indexOfNextAdd];if(t.undo(),t.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",t));break}}},mxUndoManager.prototype.canRedo=function(){return this.indexOfNextAdd<this.history.length},mxUndoManager.prototype.redo=function(){for(var t=this.history.length;this.indexOfNextAdd<t;){var e=this.history[this.indexOfNextAdd++];if(e.redo(),e.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.REDO,"edit",e));break}}},mxUndoManager.prototype.undoableEditHappened=function(t){this.trim(),this.size>0&&this.size==this.history.length&&this.history.shift(),this.history.push(t),this.indexOfNextAdd=this.history.length,this.fireEvent(new mxEventObject(mxEvent.ADD,"edit",t))},mxUndoManager.prototype.trim=function(){if(this.history.length>this.indexOfNextAdd)for(var t=this.history.splice(this.indexOfNextAdd,this.history.length-this.indexOfNextAdd),e=0;e<t.length;e++)t[e].die()};var mxUrlConverter=function(){};mxUrlConverter.prototype.enabled=!0,mxUrlConverter.prototype.baseUrl=null,mxUrlConverter.prototype.baseDomain=null,mxUrlConverter.prototype.updateBaseUrl=function(){this.baseDomain=location.protocol+"//"+location.host,this.baseUrl=this.baseDomain+location.pathname;var t=this.baseUrl.lastIndexOf("/");t>0&&(this.baseUrl=this.baseUrl.substring(0,t+1))},mxUrlConverter.prototype.isEnabled=function(){return this.enabled},mxUrlConverter.prototype.setEnabled=function(t){this.enabled=t},mxUrlConverter.prototype.getBaseUrl=function(){return this.baseUrl},mxUrlConverter.prototype.setBaseUrl=function(t){this.baseUrl=t},mxUrlConverter.prototype.getBaseDomain=function(){return this.baseDomain},mxUrlConverter.prototype.setBaseDomain=function(t){this.baseDomain=t},mxUrlConverter.prototype.isRelativeUrl=function(t){return"//"!=t.substring(0,2)&&"http://"!=t.substring(0,7)&&"https://"!=t.substring(0,8)&&"data:image"!=t.substring(0,10)},mxUrlConverter.prototype.convert=function(t){return this.isEnabled()&&this.isRelativeUrl(t)&&(null==this.getBaseUrl()&&this.updateBaseUrl(),t="/"==t.charAt(0)?this.getBaseDomain()+t:this.getBaseUrl()+t),t},mxPanningManager.prototype.damper=1/6,mxPanningManager.prototype.delay=10,mxPanningManager.prototype.handleMouseOut=!0,mxPanningManager.prototype.border=0,mxPopupMenu.prototype=new mxEventSource,mxPopupMenu.prototype.constructor=mxPopupMenu,mxPopupMenu.prototype.submenuImage=mxClient.imageBasePath+"/submenu.gif",mxPopupMenu.prototype.zIndex=10006,mxPopupMenu.prototype.factoryMethod=null,mxPopupMenu.prototype.useLeftButtonForPopup=!1,mxPopupMenu.prototype.enabled=!0,mxPopupMenu.prototype.itemCount=0,mxPopupMenu.prototype.autoExpand=!1,mxPopupMenu.prototype.smartSeparators=!1,mxPopupMenu.prototype.labels=!0,mxPopupMenu.prototype.init=function(){this.table=document.createElement("table"),this.table.className="mxPopupMenu",this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.div=document.createElement("div"),this.div.className="mxPopupMenu",this.div.style.display="inline",this.div.style.zIndex=this.zIndex,this.div.appendChild(this.table),mxEvent.disableContextMenu(this.div)},mxPopupMenu.prototype.isEnabled=function(){return this.enabled},mxPopupMenu.prototype.setEnabled=function(t){this.enabled=t},mxPopupMenu.prototype.isPopupTrigger=function(t){return t.isPopupTrigger()||this.useLeftButtonForPopup&&mxEvent.isLeftMouseButton(t.getEvent())},mxPopupMenu.prototype.addItem=function(t,e,i,n,l,o,r){n=n||this,this.itemCount++,n.willAddSeparator&&(n.containsItems&&this.addSeparator(n,!0),n.willAddSeparator=!1),n.containsItems=!0;var s=document.createElement("tr");s.className="mxPopupMenuItem";var a=document.createElement("td");if(a.className="mxPopupMenuIcon",null!=e){var g=document.createElement("img");g.src=e,a.appendChild(g)}else if(null!=l){var C=document.createElement("div");C.className=l,a.appendChild(C)}if(s.appendChild(a),this.labels){var h=document.createElement("td");h.className="mxPopupMenuItem"+(null==o||o?"":" mxDisabled"),mxUtils.write(h,t),h.align="left",s.appendChild(h);var A=document.createElement("td");A.className="mxPopupMenuItem"+(null==o||o?"":" mxDisabled"),A.style.paddingRight="6px",A.style.textAlign="right",s.appendChild(A),null==n.div&&this.createSubmenu(n)}if(n.tbody.appendChild(s),0!=r&&0!=o){var I=null;mxEvent.addGestureListeners(s,mxUtils.bind(this,function(t){this.eventReceiver=s,n.activeRow!=s&&n.activeRow!=n&&(null!=n.activeRow&&null!=n.activeRow.div.parentNode&&this.hideSubmenu(n),null!=s.div&&(this.showSubmenu(n,s),n.activeRow=s)),(mxClient.IS_QUIRKS||8==document.documentMode)&&(I=document.selection.createRange()),mxEvent.consume(t)}),mxUtils.bind(this,function(t){n.activeRow!=s&&n.activeRow!=n&&(null!=n.activeRow&&null!=n.activeRow.div.parentNode&&this.hideSubmenu(n),this.autoExpand&&null!=s.div&&(this.showSubmenu(n,s),n.activeRow=s)),s.className="mxPopupMenuItemHover"}),mxUtils.bind(this,function(t){if(this.eventReceiver==s){if(n.activeRow!=s&&this.hideMenu(),null!=I){try{I.select()}catch(t){}I=null}null!=i&&i(t)}this.eventReceiver=null,mxEvent.consume(t)})),mxEvent.addListener(s,"mouseout",mxUtils.bind(this,function(t){s.className="mxPopupMenuItem"}))}return s},mxPopupMenu.prototype.addCheckmark=function(t,e){var i=t.firstChild.nextSibling;i.style.backgroundImage="url('"+e+"')",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="2px 50%"},mxPopupMenu.prototype.createSubmenu=function(t){t.table=document.createElement("table"),t.table.className="mxPopupMenu",t.tbody=document.createElement("tbody"),t.table.appendChild(t.tbody),t.div=document.createElement("div"),t.div.className="mxPopupMenu",t.div.style.position="absolute",t.div.style.display="inline",t.div.style.zIndex=this.zIndex,t.div.appendChild(t.table);var e=document.createElement("img");e.setAttribute("src",this.submenuImage),td=t.firstChild.nextSibling.nextSibling,td.appendChild(e)},mxPopupMenu.prototype.showSubmenu=function(t,e){if(null!=e.div){e.div.style.left=t.div.offsetLeft+e.offsetLeft+e.offsetWidth-1+"px",e.div.style.top=t.div.offsetTop+e.offsetTop+"px",this.vgdContainer.appendChild(e.div);var i=parseInt(e.div.offsetLeft),n=parseInt(e.div.offsetWidth),l=mxUtils.getDocumentScrollOrigin(document),o=this.vgdContainer,r=document.documentElement;i+n>l.x+(o.clientWidth||r.clientWidth)&&(e.div.style.left=t.div.offsetLeft-n+(mxClient.IS_IE?6:-6)+"px"),mxUtils.fit(e.div)}},mxPopupMenu.prototype.addSeparator=function(t,e){if(t=t||this,this.smartSeparators&&!e)t.willAddSeparator=!0;else if(null!=t.tbody){t.willAddSeparator=!1;var i=document.createElement("tr"),n=document.createElement("td");n.className="mxPopupMenuIcon",n.style.padding="0 0 0 0px",i.appendChild(n);var l=document.createElement("td");l.style.padding="0 0 0 0px",l.setAttribute("colSpan","2");var o=document.createElement("hr");o.setAttribute("size","1"),l.appendChild(o),i.appendChild(l),t.tbody.appendChild(i)}},mxPopupMenu.prototype.popup=function(t,e,i,n){if(null!=this.div&&null!=this.tbody&&null!=this.factoryMethod){for(this.div.style.left=t+"px",this.div.style.top=e+"px";null!=this.tbody.firstChild;)mxEvent.release(this.tbody.firstChild),this.tbody.removeChild(this.tbody.firstChild);this.itemCount=0,this.factoryMethod(this,i,n),this.itemCount>0&&(this.showMenu(),this.fireEvent(new mxEventObject(mxEvent.SHOW)))}},mxPopupMenu.prototype.isMenuShowing=function(){return null!=this.div&&this.div.parentNode==this.vgdContainer},mxPopupMenu.prototype.showMenu=function(){document.documentMode>=9&&(this.div.style.filter="none"),this.vgdContainer.appendChild(this.div),mxUtils.fit(this.div)},mxPopupMenu.prototype.hideMenu=function(){null!=this.div&&(null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.hideSubmenu(this),this.containsItems=!1,this.fireEvent(new mxEventObject(mxEvent.HIDE)))},mxPopupMenu.prototype.hideSubmenu=function(t){null!=t.activeRow&&(this.hideSubmenu(t.activeRow),null!=t.activeRow.div.parentNode&&t.activeRow.div.parentNode.removeChild(t.activeRow.div),t.activeRow=null)},mxPopupMenu.prototype.destroy=function(){null!=this.div&&(mxEvent.release(this.div),null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.div=null)},mxAutoSaveManager.prototype=new mxEventSource,mxAutoSaveManager.prototype.constructor=mxAutoSaveManager,mxAutoSaveManager.prototype.graph=null,mxAutoSaveManager.prototype.autoSaveDelay=10,mxAutoSaveManager.prototype.autoSaveThrottle=2,mxAutoSaveManager.prototype.autoSaveThreshold=5,mxAutoSaveManager.prototype.ignoredChanges=0,mxAutoSaveManager.prototype.lastSnapshot=0,mxAutoSaveManager.prototype.enabled=!0,mxAutoSaveManager.prototype.changeHandler=null,mxAutoSaveManager.prototype.isEnabled=function(){return this.enabled},mxAutoSaveManager.prototype.setEnabled=function(t){this.enabled=t},mxAutoSaveManager.prototype.setGraph=function(t){null!=this.graph&&this.graph.getModel().removeListener(this.changeHandler),this.graph=t,null!=this.graph&&this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)},mxAutoSaveManager.prototype.save=function(){},mxAutoSaveManager.prototype.graphModelChanged=function(t){var e=((new Date).getTime()-this.lastSnapshot)/1e3;e>this.autoSaveDelay||this.ignoredChanges>=this.autoSaveThreshold&&e>this.autoSaveThrottle?(this.save(),this.reset()):this.ignoredChanges++},mxAutoSaveManager.prototype.reset=function(){this.lastSnapshot=(new Date).getTime(),this.ignoredChanges=0},mxAutoSaveManager.prototype.destroy=function(){this.setGraph(null)},mxAnimation.prototype=new mxEventSource,mxAnimation.prototype.constructor=mxAnimation,mxAnimation.prototype.delay=null,mxAnimation.prototype.thread=null,mxAnimation.prototype.isRunning=function(){return null!=this.thread},mxAnimation.prototype.startAnimation=function(){null==this.thread&&(this.thread=window.setInterval(mxUtils.bind(this,this.updateAnimation),this.delay))},mxAnimation.prototype.updateAnimation=function(){this.fireEvent(new mxEventObject(mxEvent.EXECUTE))},mxAnimation.prototype.stopAnimation=function(){null!=this.thread&&(window.clearInterval(this.thread),this.thread=null,this.fireEvent(new mxEventObject(mxEvent.DONE)))},mxMorphing.prototype=new mxAnimation,mxMorphing.prototype.constructor=mxMorphing,mxMorphing.prototype.graph=null,mxMorphing.prototype.steps=null,mxMorphing.prototype.step=0,mxMorphing.prototype.ease=null,mxMorphing.prototype.cells=null,mxMorphing.prototype.updateAnimation=function(){var t=new mxCellStatePreview(this.graph);if(null!=this.cells)for(var e=0;e<this.cells.length;e++)this.animateCell(this.cells[e],t,!1);else this.animateCell(this.graph.getModel().getRoot(),t,!0);this.show(t),(t.isEmpty()||this.step++>=this.steps)&&this.stopAnimation()},mxMorphing.prototype.show=function(t){t.show()},mxMorphing.prototype.animateCell=function(t,e,i){var n=this.graph.getView().getState(t),l=null;if(null!=n&&(l=this.getDelta(n),this.graph.getModel().isVertex(t)&&(0!=l.x||0!=l.y))){var o=this.graph.view.getTranslate(),r=this.graph.view.getScale();l.x+=o.x*r,l.y+=o.y*r,e.moveState(n,-l.x/this.ease,-l.y/this.ease)}if(i&&!this.stopRecursion(n,l))for(var s=this.graph.getModel().getChildCount(t),a=0;a<s;a++)this.animateCell(this.graph.getModel().getChildAt(t,a),e,i)},mxMorphing.prototype.stopRecursion=function(t,e){return null!=e&&(0!=e.x||0!=e.y)},mxMorphing.prototype.getDelta=function(t){var e=this.getOriginForCell(t.cell),i=this.graph.getView().getTranslate(),n=this.graph.getView().getScale(),l=t.x/n-i.x,o=t.y/n-i.y;return new mxPoint((e.x-l)*n,(e.y-o)*n)},mxMorphing.prototype.getOriginForCell=function(t){var e=null;if(null!=t){var i=this.graph.getModel().getParent(t),n=this.graph.getCellGeometry(t);if(e=this.getOriginForCell(i),null!=n)if(n.relative){var l=this.graph.getCellGeometry(i);null!=l&&(e.x+=n.x*l.width,e.y+=n.y*l.height)}else e.x+=n.x,e.y+=n.y}if(null==e){var o=this.graph.view.getTranslate();e=new mxPoint(-o.x,-o.y)}return e},mxImageBundle.prototype.images=null,mxImageBundle.prototype.images=null,mxImageBundle.prototype.putImage=function(t,e,i){this.images[t]={value:e,fallback:i}},mxImageBundle.prototype.getImage=function(t){var e=null;if(null!=t){var i=this.images[t];null!=i&&(e=this.alt?i.fallback:i.value)}return e},mxImageExport.prototype.includeOverlays=!1,mxImageExport.prototype.drawState=function(t,e){null!=t&&(this.visitStatesRecursive(t,e,mxUtils.bind(this,function(){this.drawCellState.apply(this,arguments)})),this.includeOverlays&&this.visitStatesRecursive(t,e,mxUtils.bind(this,function(){this.drawOverlays.apply(this,arguments)})))},mxImageExport.prototype.visitStatesRecursive=function(t,e,i){if(null!=t){i(t,e);for(var n=t.view.graph,l=n.model.getChildCount(t.cell),o=0;o<l;o++){var r=n.view.getState(n.model.getChildAt(t.cell,o));this.visitStatesRecursive(r,e,i)}}},mxImageExport.prototype.getLinkForCellState=function(t,e){return null},mxImageExport.prototype.drawCellState=function(t,e){var i=this.getLinkForCellState(t,e);null!=i&&e.setLink(i),this.drawShape(t,e),this.drawText(t,e),null!=i&&e.setLink(null)},mxImageExport.prototype.drawShape=function(t,e){t.shape instanceof mxShape&&t.shape.checkBounds()&&(e.save(),t.shape.paint(e),e.restore())},mxImageExport.prototype.drawText=function(t,e){null!=t.text&&t.text.checkBounds()&&(e.save(),t.text.paint(e),e.restore())},mxImageExport.prototype.drawOverlays=function(t,e){null!=t.overlays&&t.overlays.visit(function(t,i){i instanceof mxShape&&i.paint(e)})},mxAbstractCanvas2D.prototype.state=null,mxAbstractCanvas2D.prototype.states=null,mxAbstractCanvas2D.prototype.path=null,mxAbstractCanvas2D.prototype.rotateHtml=!0,mxAbstractCanvas2D.prototype.lastX=0,mxAbstractCanvas2D.prototype.lastY=0,mxAbstractCanvas2D.prototype.moveOp="M",mxAbstractCanvas2D.prototype.lineOp="L",mxAbstractCanvas2D.prototype.quadOp="Q",mxAbstractCanvas2D.prototype.curveOp="C",mxAbstractCanvas2D.prototype.closeOp="Z",mxAbstractCanvas2D.prototype.pointerEvents=!1,mxAbstractCanvas2D.prototype.createUrlConverter=function(){return new mxUrlConverter},mxAbstractCanvas2D.prototype.reset=function(){this.state=this.createState(),this.states=[]},mxAbstractCanvas2D.prototype.createState=function(){return{dx:0,dy:0,scale:1,alpha:1,fillAlpha:1,strokeAlpha:1,fillColor:null,gradientFillAlpha:1,gradientColor:null,gradientAlpha:1,gradientDirection:null,strokeColor:null,strokeWidth:1,dashed:!1,dashPattern:"3 3",lineCap:"flat",lineJoin:"miter",miterLimit:10,fontColor:"#000000",fontBackgroundColor:null,fontBorderColor:null,fontSize:mxConstants.DEFAULT_FONTSIZE,fontFamily:mxConstants.DEFAULT_FONTFAMILY,fontStyle:0,shadow:!1,shadowColor:mxConstants.SHADOWCOLOR,shadowAlpha:mxConstants.SHADOW_OPACITY,shadowDx:mxConstants.SHADOW_OFFSET_X,shadowDy:mxConstants.SHADOW_OFFSET_Y,rotation:0,rotationCx:0,rotationCy:0}},mxAbstractCanvas2D.prototype.format=function(t){return Math.round(parseFloat(t))},mxAbstractCanvas2D.prototype.addOp=function(){if(null!=this.path&&(this.path.push(arguments[0]),arguments.length>2))for(var t=this.state,e=2;e<arguments.length;e+=2)this.lastX=arguments[e-1],this.lastY=arguments[e],this.path.push(this.format((this.lastX+t.dx)*t.scale)),this.path.push(this.format((this.lastY+t.dy)*t.scale))},mxAbstractCanvas2D.prototype.rotatePoint=function(t,e,i,n,l){var o=i*(Math.PI/180);return mxUtils.getRotatedPoint(new mxPoint(t,e),Math.cos(o),Math.sin(o),new mxPoint(n,l))},mxAbstractCanvas2D.prototype.save=function(){this.states.push(this.state),this.state=mxUtils.clone(this.state)},mxAbstractCanvas2D.prototype.restore=function(){this.states.length>0&&(this.state=this.states.pop())},mxAbstractCanvas2D.prototype.setLink=function(t){},mxAbstractCanvas2D.prototype.scale=function(t){this.state.scale*=t,this.state.strokeWidth*=t},mxAbstractCanvas2D.prototype.translate=function(t,e){this.state.dx+=t,this.state.dy+=e},mxAbstractCanvas2D.prototype.rotate=function(t,e,i,n,l){},mxAbstractCanvas2D.prototype.setAlpha=function(t){this.state.alpha=t},mxAbstractCanvas2D.prototype.setFillAlpha=function(t){this.state.fillAlpha=t},mxAbstractCanvas2D.prototype.setStrokeAlpha=function(t){this.state.strokeAlpha=t},mxAbstractCanvas2D.prototype.setFillColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fillColor=t,this.state.gradientColor=null},mxAbstractCanvas2D.prototype.setGradient=function(t,e,i,n,l,o,r,s,a){var g=this.state;g.fillColor=t,g.gradientFillAlpha=null!=s?s:1,g.gradientColor=e,g.gradientAlpha=null!=a?a:1,g.gradientDirection=r},mxAbstractCanvas2D.prototype.setStrokeColor=function(t){t==mxConstants.NONE&&(t=null),this.state.strokeColor=t},mxAbstractCanvas2D.prototype.setStrokeWidth=function(t){this.state.strokeWidth=t},mxAbstractCanvas2D.prototype.setDashed=function(t){this.state.dashed=t},mxAbstractCanvas2D.prototype.setDashPattern=function(t){this.state.dashPattern=t},mxAbstractCanvas2D.prototype.setLineCap=function(t){this.state.lineCap=t},mxAbstractCanvas2D.prototype.setLineJoin=function(t){this.state.lineJoin=t},mxAbstractCanvas2D.prototype.setMiterLimit=function(t){this.state.miterLimit=t},mxAbstractCanvas2D.prototype.setFontColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fontColor=t},mxAbstractCanvas2D.prototype.setFontBackgroundColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fontBackgroundColor=t},mxAbstractCanvas2D.prototype.setFontBorderColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fontBorderColor=t},mxAbstractCanvas2D.prototype.setFontSize=function(t){this.state.fontSize=parseFloat(t)},mxAbstractCanvas2D.prototype.setFontFamily=function(t){this.state.fontFamily=t},mxAbstractCanvas2D.prototype.setFontStyle=function(t){null==t&&(t=0),this.state.fontStyle=t},mxAbstractCanvas2D.prototype.setShadow=function(t){this.state.shadow=t},mxAbstractCanvas2D.prototype.setShadowColor=function(t){t==mxConstants.NONE&&(t=null),this.state.shadowColor=t},mxAbstractCanvas2D.prototype.setShadowAlpha=function(t){this.state.shadowAlpha=t},mxAbstractCanvas2D.prototype.setShadowOffset=function(t,e){this.state.shadowDx=t,this.state.shadowDy=e},mxAbstractCanvas2D.prototype.begin=function(){this.lastX=0,this.lastY=0,this.path=[]},mxAbstractCanvas2D.prototype.moveTo=function(t,e){this.addOp(this.moveOp,t,e)},mxAbstractCanvas2D.prototype.lineTo=function(t,e){this.addOp(this.lineOp,t,e)},mxAbstractCanvas2D.prototype.quadTo=function(t,e,i,n){this.addOp(this.quadOp,t,e,i,n)},mxAbstractCanvas2D.prototype.curveTo=function(t,e,i,n,l,o){this.addOp(this.curveOp,t,e,i,n,l,o)},mxAbstractCanvas2D.prototype.arcTo=function(t,e,i,n,l,o,r){var s=mxUtils.arcToCurves(this.lastX,this.lastY,t,e,i,n,l,o,r);if(null!=s)for(var a=0;a<s.length;a+=6)this.curveTo(s[a],s[a+1],s[a+2],s[a+3],s[a+4],s[a+5])},mxAbstractCanvas2D.prototype.close=function(t,e,i,n,l,o){this.addOp(this.closeOp)},mxAbstractCanvas2D.prototype.end=function(){},mxUtils.extend(mxXmlCanvas2D,mxAbstractCanvas2D),mxXmlCanvas2D.prototype.textEnabled=!0,mxXmlCanvas2D.prototype.compressed=!0,mxXmlCanvas2D.prototype.writeDefaults=function(){var t;(t=this.createElement("fontfamily")).setAttribute("family",mxConstants.DEFAULT_FONTFAMILY),this.root.appendChild(t),(t=this.createElement("fontsize")).setAttribute("size",mxConstants.DEFAULT_FONTSIZE),this.root.appendChild(t),(t=this.createElement("shadowcolor")).setAttribute("color",mxConstants.SHADOWCOLOR),this.root.appendChild(t),(t=this.createElement("shadowalpha")).setAttribute("alpha",mxConstants.SHADOW_OPACITY),this.root.appendChild(t),(t=this.createElement("shadowoffset")).setAttribute("dx",mxConstants.SHADOW_OFFSET_X),t.setAttribute("dy",mxConstants.SHADOW_OFFSET_Y),this.root.appendChild(t)},mxXmlCanvas2D.prototype.format=function(t){return parseFloat(parseFloat(t).toFixed(2))},mxXmlCanvas2D.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},mxXmlCanvas2D.prototype.save=function(){this.compressed&&mxAbstractCanvas2D.prototype.save.apply(this,arguments),this.root.appendChild(this.createElement("save"))},mxXmlCanvas2D.prototype.restore=function(){this.compressed&&mxAbstractCanvas2D.prototype.restore.apply(this,arguments),this.root.appendChild(this.createElement("restore"))},mxXmlCanvas2D.prototype.scale=function(t){var e=this.createElement("scale");e.setAttribute("scale",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.translate=function(t,e){var i=this.createElement("translate");i.setAttribute("dx",this.format(t)),i.setAttribute("dy",this.format(e)),this.root.appendChild(i)},mxXmlCanvas2D.prototype.rotate=function(t,e,i,n,l){var o=this.createElement("rotate");(0!=t||e||i)&&(o.setAttribute("theta",this.format(t)),o.setAttribute("flipH",e?"1":"0"),o.setAttribute("flipV",i?"1":"0"),o.setAttribute("cx",this.format(n)),o.setAttribute("cy",this.format(l)),this.root.appendChild(o))},mxXmlCanvas2D.prototype.setAlpha=function(t){if(this.compressed){if(this.state.alpha==t)return;mxAbstractCanvas2D.prototype.setAlpha.apply(this,arguments)}var e=this.createElement("alpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setFillAlpha=function(t){if(this.compressed){if(this.state.fillAlpha==t)return;mxAbstractCanvas2D.prototype.setFillAlpha.apply(this,arguments)}var e=this.createElement("fillalpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setStrokeAlpha=function(t){if(this.compressed){if(this.state.strokeAlpha==t)return;mxAbstractCanvas2D.prototype.setStrokeAlpha.apply(this,arguments)}var e=this.createElement("strokealpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setFillColor=function(t){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fillColor==t)return;mxAbstractCanvas2D.prototype.setFillColor.apply(this,arguments)}var e=this.createElement("fillcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setGradient=function(t,e,i,n,l,o,r,s,a){if(null!=t&&null!=e){mxAbstractCanvas2D.prototype.setGradient.apply(this,arguments);var g=this.createElement("gradient");g.setAttribute("c1",t),g.setAttribute("c2",e),g.setAttribute("x",this.format(i)),g.setAttribute("y",this.format(n)),g.setAttribute("w",this.format(l)),g.setAttribute("h",this.format(o)),null!=r&&g.setAttribute("direction",r),null!=s&&g.setAttribute("alpha1",s),null!=a&&g.setAttribute("alpha2",a),this.root.appendChild(g)}},mxXmlCanvas2D.prototype.setStrokeColor=function(t){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.strokeColor==t)return;mxAbstractCanvas2D.prototype.setStrokeColor.apply(this,arguments)}var e=this.createElement("strokecolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setStrokeWidth=function(t){if(this.compressed){if(this.state.strokeWidth==t)return;mxAbstractCanvas2D.prototype.setStrokeWidth.apply(this,arguments)}var e=this.createElement("strokewidth");e.setAttribute("width",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setDashed=function(t){if(this.compressed){if(this.state.dashed==t)return;mxAbstractCanvas2D.prototype.setDashed.apply(this,arguments)}var e=this.createElement("dashed");e.setAttribute("dashed",t?"1":"0"),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setDashPattern=function(t){if(this.compressed){if(this.state.dashPattern==t)return;mxAbstractCanvas2D.prototype.setDashPattern.apply(this,arguments)}var e=this.createElement("dashpattern");e.setAttribute("pattern",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setLineCap=function(t){if(this.compressed){if(this.state.lineCap==t)return;mxAbstractCanvas2D.prototype.setLineCap.apply(this,arguments)}var e=this.createElement("linecap");e.setAttribute("cap",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setLineJoin=function(t){if(this.compressed){if(this.state.lineJoin==t)return;mxAbstractCanvas2D.prototype.setLineJoin.apply(this,arguments)}var e=this.createElement("linejoin");e.setAttribute("join",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setMiterLimit=function(t){if(this.compressed){if(this.state.miterLimit==t)return;mxAbstractCanvas2D.prototype.setMiterLimit.apply(this,arguments)}var e=this.createElement("miterlimit");e.setAttribute("limit",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setFontColor=function(t){if(this.textEnabled){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fontColor==t)return;mxAbstractCanvas2D.prototype.setFontColor.apply(this,arguments)}var e=this.createElement("fontcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontBackgroundColor=function(t){if(this.textEnabled){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fontBackgroundColor==t)return;mxAbstractCanvas2D.prototype.setFontBackgroundColor.apply(this,arguments)}var e=this.createElement("fontbackgroundcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontBorderColor=function(t){if(this.textEnabled){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fontBorderColor==t)return;mxAbstractCanvas2D.prototype.setFontBorderColor.apply(this,arguments)}var e=this.createElement("fontbordercolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontSize=function(t){if(this.textEnabled){if(this.compressed){if(this.state.fontSize==t)return;mxAbstractCanvas2D.prototype.setFontSize.apply(this,arguments)}var e=this.createElement("fontsize");e.setAttribute("size",t),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontFamily=function(t){if(this.textEnabled){if(this.compressed){if(this.state.fontFamily==t)return;mxAbstractCanvas2D.prototype.setFontFamily.apply(this,arguments)}var e=this.createElement("fontfamily");e.setAttribute("family",t),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontStyle=function(t){if(this.textEnabled){if(null==t&&(t=0),this.compressed){if(this.state.fontStyle==t)return;mxAbstractCanvas2D.prototype.setFontStyle.apply(this,arguments)}var e=this.createElement("fontstyle");e.setAttribute("style",t),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setShadow=function(t){if(this.compressed){if(this.state.shadow==t)return;mxAbstractCanvas2D.prototype.setShadow.apply(this,arguments)}var e=this.createElement("shadow");e.setAttribute("enabled",t?"1":"0"),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setShadowColor=function(t){if(this.compressed){if(t==mxConstants.NONE&&(t=null),this.state.shadowColor==t)return;mxAbstractCanvas2D.prototype.setShadowColor.apply(this,arguments)}var e=this.createElement("shadowcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setShadowAlpha=function(t){if(this.compressed){if(this.state.shadowAlpha==t)return;mxAbstractCanvas2D.prototype.setShadowAlpha.apply(this,arguments)}var e=this.createElement("shadowalpha");e.setAttribute("alpha",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setShadowOffset=function(t,e){if(this.compressed){if(this.state.shadowDx==t&&this.state.shadowDy==e)return;mxAbstractCanvas2D.prototype.setShadowOffset.apply(this,arguments)}var i=this.createElement("shadowoffset");i.setAttribute("dx",t),i.setAttribute("dy",e),this.root.appendChild(i)},mxXmlCanvas2D.prototype.rect=function(t,e,i,n){var l=this.createElement("rect");l.setAttribute("x",this.format(t)),l.setAttribute("y",this.format(e)),l.setAttribute("w",this.format(i)),l.setAttribute("h",this.format(n)),this.root.appendChild(l)},mxXmlCanvas2D.prototype.roundrect=function(t,e,i,n,l,o){var r=this.createElement("roundrect");r.setAttribute("x",this.format(t)),r.setAttribute("y",this.format(e)),r.setAttribute("w",this.format(i)),r.setAttribute("h",this.format(n)),r.setAttribute("dx",this.format(l)),r.setAttribute("dy",this.format(o)),this.root.appendChild(r)},mxXmlCanvas2D.prototype.ellipse=function(t,e,i,n){var l=this.createElement("ellipse");l.setAttribute("x",this.format(t)),l.setAttribute("y",this.format(e)),l.setAttribute("w",this.format(i)),l.setAttribute("h",this.format(n)),this.root.appendChild(l)},mxXmlCanvas2D.prototype.image=function(t,e,i,n,l,o,r,s){l=this.converter.convert(l);var a=this.createElement("image");a.setAttribute("x",this.format(t)),a.setAttribute("y",this.format(e)),a.setAttribute("w",this.format(i)),a.setAttribute("h",this.format(n)),a.setAttribute("src",l),a.setAttribute("aspect",o?"1":"0"),a.setAttribute("flipH",r?"1":"0"),a.setAttribute("flipV",s?"1":"0"),this.root.appendChild(a)},mxXmlCanvas2D.prototype.begin=function(){this.root.appendChild(this.createElement("begin")),this.lastX=0,this.lastY=0},mxXmlCanvas2D.prototype.moveTo=function(t,e){var i=this.createElement("move");i.setAttribute("x",this.format(t)),i.setAttribute("y",this.format(e)),this.root.appendChild(i),this.lastX=t,this.lastY=e},mxXmlCanvas2D.prototype.lineTo=function(t,e){var i=this.createElement("line");i.setAttribute("x",this.format(t)),i.setAttribute("y",this.format(e)),this.root.appendChild(i),this.lastX=t,this.lastY=e},mxXmlCanvas2D.prototype.quadTo=function(t,e,i,n){var l=this.createElement("quad");l.setAttribute("x1",this.format(t)),l.setAttribute("y1",this.format(e)),l.setAttribute("x2",this.format(i)),l.setAttribute("y2",this.format(n)),this.root.appendChild(l),this.lastX=i,this.lastY=n},mxXmlCanvas2D.prototype.curveTo=function(t,e,i,n,l,o){var r=this.createElement("curve");r.setAttribute("x1",this.format(t)),r.setAttribute("y1",this.format(e)),r.setAttribute("x2",this.format(i)),r.setAttribute("y2",this.format(n)),r.setAttribute("x3",this.format(l)),r.setAttribute("y3",this.format(o)),this.root.appendChild(r),this.lastX=l,this.lastY=o},mxXmlCanvas2D.prototype.close=function(){this.root.appendChild(this.createElement("close"))},mxXmlCanvas2D.prototype.text=function(t,e,i,n,l,o,r,s,a,g,C,h,A){if(this.textEnabled&&null!=l){mxUtils.isNode(l)&&(l=mxUtils.getOuterHtml(l));var I=this.createElement("text");I.setAttribute("x",this.format(t)),I.setAttribute("y",this.format(e)),I.setAttribute("w",this.format(i)),I.setAttribute("h",this.format(n)),I.setAttribute("str",l),null!=o&&I.setAttribute("align",o),null!=r&&I.setAttribute("valign",r),I.setAttribute("wrap",s?"1":"0"),null==a&&(a=""),I.setAttribute("format",a),null!=g&&I.setAttribute("overflow",g),null!=C&&I.setAttribute("clip",C?"1":"0"),null!=h&&I.setAttribute("rotation",h),null!=A&&I.setAttribute("dir",A),this.root.appendChild(I)}},mxXmlCanvas2D.prototype.stroke=function(){this.root.appendChild(this.createElement("stroke"))},mxXmlCanvas2D.prototype.fill=function(){this.root.appendChild(this.createElement("fill"))},mxXmlCanvas2D.prototype.fillAndStroke=function(){this.root.appendChild(this.createElement("fillstroke"))},mxUtils.extend(mxSvgCanvas2D,mxAbstractCanvas2D),function(){if(mxSvgCanvas2D.prototype.useDomParser=!mxClient.IS_IE&&"function"==typeof DOMParser&&"function"==typeof XMLSerializer,mxSvgCanvas2D.prototype.useDomParser)try{var t=(new DOMParser).parseFromString("test text","text/html");mxSvgCanvas2D.prototype.useDomParser=null!=t}catch(t){mxSvgCanvas2D.prototype.useDomParser=!1}}(),mxSvgCanvas2D.prototype.node=null,mxSvgCanvas2D.prototype.matchHtmlAlignment=!0,mxSvgCanvas2D.prototype.textEnabled=!0,mxSvgCanvas2D.prototype.foEnabled=!0,mxSvgCanvas2D.prototype.foAltText="[Object]",mxSvgCanvas2D.prototype.foOffset=0,mxSvgCanvas2D.prototype.textOffset=0,mxSvgCanvas2D.prototype.strokeTolerance=0,mxSvgCanvas2D.prototype.refCount=0,mxSvgCanvas2D.prototype.blockImagePointerEvents=!1,mxSvgCanvas2D.prototype.lineHeightCorrection=1,mxSvgCanvas2D.prototype.pointerEventsValue="all",mxSvgCanvas2D.prototype.fontMetricsPadding=10,mxSvgCanvas2D.prototype.cacheOffsetSize=!0,mxSvgCanvas2D.prototype.format=function(t){return parseFloat(parseFloat(t).toFixed(2))},mxSvgCanvas2D.prototype.getBaseUrl=function(){var t=window.location.href,e=t.lastIndexOf("#");return e>0&&(t=t.substring(0,e)),t},mxSvgCanvas2D.prototype.reset=function(){mxAbstractCanvas2D.prototype.reset.apply(this,arguments),this.gradients=[]},mxSvgCanvas2D.prototype.createStyle=function(t){var e=this.createElement("style");return e.setAttribute("type","text/css"),mxUtils.write(e,"svg{font-family:"+mxConstants.DEFAULT_FONTFAMILY+";font-size:"+mxConstants.DEFAULT_FONTSIZE+";fill:none;stroke-miterlimit:10}"),e},mxSvgCanvas2D.prototype.createElement=function(t,e){if(null!=this.root.ownerDocument.createElementNS)return this.root.ownerDocument.createElementNS(e||mxConstants.NS_SVG,t);var i=this.root.ownerDocument.createElement(t);return null!=e&&i.setAttribute("xmlns",e),i},mxSvgCanvas2D.prototype.createAlternateContent=function(t,e,i,n,l,o,r,s,a,g,C,h,A){if(null!=this.foAltText){var I=this.state,c=this.createElement("text");return c.setAttribute("x",Math.round(n/2)),c.setAttribute("y",Math.round((l+I.fontSize)/2)),c.setAttribute("fill",I.fontColor||"black"),c.setAttribute("text-anchor","middle"),c.setAttribute("font-size",I.fontSize+"px"),c.setAttribute("font-family",I.fontFamily),(I.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&c.setAttribute("font-weight","bold"),(I.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&c.setAttribute("font-style","italic"),(I.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&c.setAttribute("text-decoration","underline"),mxUtils.write(c,this.foAltText),c}return null},mxSvgCanvas2D.prototype.createGradientId=function(t,e,i,n,l){"#"==t.charAt(0)&&(t=t.substring(1)),"#"==e.charAt(0)&&(e=e.substring(1)),t=t.toLowerCase()+"-"+i,e=e.toLowerCase()+"-"+n;var o=null;if(null==l||l==mxConstants.DIRECTION_SOUTH)o="s";else if(l==mxConstants.DIRECTION_EAST)o="e";else{var r=t;t=e,e=r,l==mxConstants.DIRECTION_NORTH?o="s":l==mxConstants.DIRECTION_WEST&&(o="e")}return"mx-gradient-"+t+"-"+e+"-"+o},mxSvgCanvas2D.prototype.getSvgGradient=function(t,e,i,n,l){var o=this.createGradientId(t,e,i,n,l),r=this.gradients[o];if(null==r){var s=this.root.ownerSVGElement,a=0,g=o+"-"+a;if(null!=s)for(r=s.ownerDocument.getElementById(g);null!=r&&r.ownerSVGElement!=s;)g=o+"-"+a++,r=s.ownerDocument.getElementById(g);else g="id"+ ++this.refCount;null==r&&((r=this.createSvgGradient(t,e,i,n,l)).setAttribute("id",g),null!=this.defs?this.defs.appendChild(r):s.appendChild(r)),this.gradients[o]=r}return r.getAttribute("id")},mxSvgCanvas2D.prototype.createSvgGradient=function(t,e,i,n,l){var o=this.createElement("linearGradient");o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","0%"),o.setAttribute("y2","0%"),null==l||l==mxConstants.DIRECTION_SOUTH?o.setAttribute("y2","100%"):l==mxConstants.DIRECTION_EAST?o.setAttribute("x2","100%"):l==mxConstants.DIRECTION_NORTH?o.setAttribute("y1","100%"):l==mxConstants.DIRECTION_WEST&&o.setAttribute("x1","100%");var r=i<1?";stop-opacity:"+i:"",s=this.createElement("stop");return s.setAttribute("offset","0%"),s.setAttribute("style","stop-color:"+t+r),o.appendChild(s),r=n<1?";stop-opacity:"+n:"",(s=this.createElement("stop")).setAttribute("offset","100%"),s.setAttribute("style","stop-color:"+e+r),o.appendChild(s),o},mxSvgCanvas2D.prototype.addNode=function(t,e){var i=this.node,n=this.state;if(null!=i){if("path"==i.nodeName){if(!(null!=this.path&&this.path.length>0))return;i.setAttribute("d",this.path.join(" "))}t&&null!=n.fillColor?this.updateFill():this.styleEnabled||("ellipse"==i.nodeName&&mxClient.IS_FF?i.setAttribute("fill","transparent"):i.setAttribute("fill","none"),t=!1),e&&null!=n.strokeColor?this.updateStroke():this.styleEnabled||i.setAttribute("stroke","none"),null!=n.transform&&n.transform.length>0&&i.setAttribute("transform",n.transform),n.shadow&&this.root.appendChild(this.createShadow(i)),this.strokeTolerance>0&&!t&&this.root.appendChild(this.createTolerance(i)),!this.pointerEvents||"path"==i.nodeName&&this.path[this.path.length-1]!=this.closeOp?this.pointerEvents||null!=this.originalRoot||i.setAttribute("pointer-events","none"):i.setAttribute("pointer-events",this.pointerEventsValue),("rect"!=i.nodeName&&"path"!=i.nodeName&&"ellipse"!=i.nodeName||"none"!=i.getAttribute("fill")&&"transparent"!=i.getAttribute("fill")||"none"!=i.getAttribute("stroke")||"none"!=i.getAttribute("pointer-events"))&&this.root.appendChild(i),this.node=null}},mxSvgCanvas2D.prototype.updateFill=function(){var t=this.state;if((t.alpha<1||t.fillAlpha<1)&&this.node.setAttribute("fill-opacity",t.alpha*t.fillAlpha),null!=t.fillColor)if(null!=t.gradientColor){var e=this.getSvgGradient(t.fillColor,t.gradientColor,t.gradientFillAlpha,t.gradientAlpha,t.gradientDirection);if(mxClient.IS_CHROME_APP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document)this.node.setAttribute("fill","url(#"+e+")");else{var i=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");this.node.setAttribute("fill","url("+i+"#"+e+")")}}else this.node.setAttribute("fill",t.fillColor.toLowerCase())},mxSvgCanvas2D.prototype.getCurrentStrokeWidth=function(){return Math.max(1,this.format(this.state.strokeWidth*this.state.scale))},mxSvgCanvas2D.prototype.updateStroke=function(){var t=this.state;this.node.setAttribute("stroke",t.strokeColor.toLowerCase()),(t.alpha<1||t.strokeAlpha<1)&&this.node.setAttribute("stroke-opacity",t.alpha*t.strokeAlpha);var e=this.getCurrentStrokeWidth();1!=e&&this.node.setAttribute("stroke-width",e),"path"==this.node.nodeName&&this.updateStrokeAttributes(),t.dashed&&this.node.setAttribute("stroke-dasharray",this.createDashPattern(t.strokeWidth*t.scale))},mxSvgCanvas2D.prototype.updateStrokeAttributes=function(){var t=this.state;if(null!=t.lineJoin&&"miter"!=t.lineJoin&&this.node.setAttribute("stroke-linejoin",t.lineJoin),null!=t.lineCap){var e=t.lineCap;"flat"==e&&(e="butt"),"butt"!=e&&this.node.setAttribute("stroke-linecap",e)}null==t.miterLimit||this.styleEnabled&&10==t.miterLimit||this.node.setAttribute("stroke-miterlimit",t.miterLimit)},mxSvgCanvas2D.prototype.createDashPattern=function(t){var e=[];if("string"==typeof this.state.dashPattern){var i=this.state.dashPattern.split(" ");if(i.length>0)for(var n=0;n<i.length;n++)e[n]=Number(i[n])*t}return e.join(" ")},mxSvgCanvas2D.prototype.createTolerance=function(t){var e=t.cloneNode(!0),i=parseFloat(e.getAttribute("stroke-width")||1)+this.strokeTolerance;return e.setAttribute("pointer-events","stroke"),e.setAttribute("visibility","hidden"),e.removeAttribute("stroke-dasharray"),e.setAttribute("stroke-width",i),e.setAttribute("fill","none"),e.setAttribute("stroke",mxClient.IS_OT?"none":"white"),e},mxSvgCanvas2D.prototype.createShadow=function(t){var e=t.cloneNode(!0),i=this.state;return"none"==e.getAttribute("fill")||mxClient.IS_FF&&"transparent"==e.getAttribute("fill")||e.setAttribute("fill",i.shadowColor),"none"!=e.getAttribute("stroke")&&e.setAttribute("stroke",i.shadowColor),e.setAttribute("transform","translate("+this.format(i.shadowDx*i.scale)+","+this.format(i.shadowDy*i.scale)+")"+(i.transform||"")),e.setAttribute("opacity",i.shadowAlpha),e},mxSvgCanvas2D.prototype.setLink=function(t){if(null==t)this.root=this.originalRoot;else{this.originalRoot=this.root;var e=this.createElement("a");null==e.setAttributeNS||this.root.ownerDocument!=document&&null==document.documentMode?e.setAttribute("xlink:href",t):e.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",t),this.root.appendChild(e),this.root=e}},mxSvgCanvas2D.prototype.rotate=function(t,e,i,n,l){if(0!=t||e||i){var o=this.state;if(n+=o.dx,l+=o.dy,n*=o.scale,l*=o.scale,o.transform=o.transform||"",e&&i)t+=180;else if(e!=i){var r=e?n:0,s=e?-1:1,a=i?l:0,g=i?-1:1;o.transform+="translate("+this.format(r)+","+this.format(a)+")scale("+this.format(s)+","+this.format(g)+")translate("+this.format(-r)+","+this.format(-a)+")"}(e?!i:i)&&(t*=-1),0!=t&&(o.transform+="rotate("+this.format(t)+","+this.format(n)+","+this.format(l)+")"),o.rotation=o.rotation+t,o.rotationCx=n,o.rotationCy=l}},mxSvgCanvas2D.prototype.begin=function(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments),this.node=this.createElement("path")},mxSvgCanvas2D.prototype.rect=function(t,e,i,n){var l=this.state,o=this.createElement("rect");o.setAttribute("x",this.format((t+l.dx)*l.scale)),o.setAttribute("y",this.format((e+l.dy)*l.scale)),o.setAttribute("width",this.format(i*l.scale)),o.setAttribute("height",this.format(n*l.scale)),this.node=o},mxSvgCanvas2D.prototype.roundrect=function(t,e,i,n,l,o){this.rect(t,e,i,n),l>0&&this.node.setAttribute("rx",this.format(l*this.state.scale)),o>0&&this.node.setAttribute("ry",this.format(o*this.state.scale))},mxSvgCanvas2D.prototype.ellipse=function(t,e,i,n){var l=this.state,o=this.createElement("ellipse");o.setAttribute("cx",Math.round((t+i/2+l.dx)*l.scale)),o.setAttribute("cy",Math.round((e+n/2+l.dy)*l.scale)),o.setAttribute("rx",i/2*l.scale),o.setAttribute("ry",n/2*l.scale),this.node=o},mxSvgCanvas2D.prototype.image=function(t,e,i,n,l,o,r,s){l=this.converter.convert(l),o=null==o||o,r=null!=r&&r,s=null!=s&&s;var a=this.state;t+=a.dx,e+=a.dy;var g=this.createElement("image");g.setAttribute("x",this.format(t*a.scale)),g.setAttribute("y",this.format(e*a.scale)),g.setAttribute("width",this.format(i*a.scale)),g.setAttribute("height",this.format(n*a.scale)),null==g.setAttributeNS?g.setAttribute("xlink:href",l):g.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",l),o||g.setAttribute("preserveAspectRatio","none"),(a.alpha<1||a.fillAlpha<1)&&g.setAttribute("opacity",a.alpha*a.fillAlpha);var C=this.state.transform||"";if(r||s){var h=1,A=1,I=0,c=0;r&&(h=-1,I=-i-2*t),s&&(A=-1,c=-n-2*e),C+="scale("+h+","+A+")translate("+I*a.scale+","+c*a.scale+")"}C.length>0&&g.setAttribute("transform",C),this.pointerEvents||g.setAttribute("pointer-events","none"),this.root.appendChild(g),this.blockImagePointerEvents&&(g.setAttribute("style","pointer-events:none"),(g=this.createElement("rect")).setAttribute("visibility","hidden"),g.setAttribute("pointer-events","fill"),g.setAttribute("x",this.format(t*a.scale)),g.setAttribute("y",this.format(e*a.scale)),g.setAttribute("width",this.format(i*a.scale)),g.setAttribute("height",this.format(n*a.scale)),this.root.appendChild(g))},mxSvgCanvas2D.prototype.convertHtml=function(t){if(this.useDomParser){var e=(new DOMParser).parseFromString(t,"text/html");null!=e&&("<body"==(t=(new XMLSerializer).serializeToString(e.body)).substring(0,5)&&(t=t.substring(t.indexOf(">",5)+1)),"</body>"==t.substring(t.length-7,t.length)&&(t=t.substring(0,t.length-7)))}else{if(null!=document.implementation&&null!=document.implementation.createDocument){var i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=i.createElement("body");i.documentElement.appendChild(n);var l=document.createElement("div");l.innerHTML=t;for(var o=l.firstChild;null!=o;){var r=o.nextSibling;n.appendChild(i.adoptNode(o)),o=r}return n.innerHTML}var s=document.createElement("textarea");s.innerHTML=t.replace(/&amp;/g,"&amp;amp;").replace(/&#60;/g,"&amp;lt;").replace(/&#62;/g,"&amp;gt;").replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=s.value.replace(/&/g,"&amp;").replace(/&amp;lt;/g,"&lt;").replace(/&amp;gt;/g,"&gt;").replace(/&amp;amp;/g,"&amp;").replace(/<br>/g,"<br />").replace(/<hr>/g,"<hr />").replace(/(<img[^>]+)>/gm,"$1 />")}return t},mxSvgCanvas2D.prototype.createDiv=function(t,e,i,n,l){var o=this.state,r=mxConstants.ABSOLUTE_LINE_HEIGHT?o.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT*this.lineHeightCorrection;n="display:inline-block;font-size:"+o.fontSize+"px;font-family:"+o.fontFamily+";color:"+o.fontColor+";line-height:"+r+";"+n,(o.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(n+="font-weight:bold;"),(o.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(n+="font-style:italic;"),(o.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(n+="text-decoration:underline;"),e==mxConstants.ALIGN_CENTER?n+="text-align:center;":e==mxConstants.ALIGN_RIGHT&&(n+="text-align:right;");var s="";null!=o.fontBackgroundColor&&(s+="background-color:"+o.fontBackgroundColor+";"),null!=o.fontBorderColor&&(s+="border:1px solid "+o.fontBorderColor+";");var a=t;if(mxUtils.isNode(a)||(a=this.convertHtml(a),"fill"!=l&&"width"!=l?a='<div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;'+s+'">'+a+"</div>":n+=s),!mxClient.IS_IE&&document.createElementNS){var g=document.createElementNS("http://www.w3.org/1999/xhtml","div");return g.setAttribute("style",n),mxUtils.isNode(a)?this.root.ownerDocument!=document?g.appendChild(a.cloneNode(!0)):g.appendChild(a):g.innerHTML=a,g}return mxUtils.isNode(a)&&this.root.ownerDocument!=document&&(a=a.outerHTML),mxUtils.parseXml('<div xmlns="http://www.w3.org/1999/xhtml" style="'+n+'">'+a+"</div>").documentElement},mxSvgCanvas2D.prototype.invalidateCachedOffsetSize=function(t){delete t.firstChild.mxCachedOffsetWidth,delete t.firstChild.mxCachedFinalOffsetWidth,delete t.firstChild.mxCachedFinalOffsetHeight},mxSvgCanvas2D.prototype.updateText=function(t,e,i,n,l,o,r,s,a,g,C){if(null!=C&&null!=C.firstChild&&null!=C.firstChild.firstChild&&null!=C.firstChild.firstChild.firstChild){var h=C.firstChild,A=h.firstChild,I=A.firstChild;g=null!=g?g:0;var c=this.state;t+=c.dx,e+=c.dy,a?(I.style.maxHeight=Math.round(n)+"px",I.style.maxWidth=Math.round(i)+"px"):"fill"==s?(I.style.width=Math.round(i+1)+"px",I.style.height=Math.round(n+1)+"px"):"width"==s&&(I.style.width=Math.round(i+1)+"px",n>0&&(I.style.maxHeight=Math.round(n)+"px")),r&&i>0&&(I.style.width=Math.round(i+1)+"px");var d=0,u=0,p=I;null!=p.firstChild&&"DIV"==p.firstChild.nodeName&&(p=p.firstChild),d=(null!=h.mxCachedOffsetWidth?h.mxCachedOffsetWidth:p.offsetWidth)+2,r&&"fill"!=s&&(a&&(d=Math.min(d,i)),I.style.width=d+"px"),d=(null!=h.mxCachedFinalOffsetWidth?h.mxCachedFinalOffsetWidth:p.offsetWidth)+2,u=(null!=h.mxCachedFinalOffsetHeight?h.mxCachedFinalOffsetHeight:p.offsetHeight)-2,a&&(u=Math.min(u,n),d=Math.min(d,i)),"width"==s?n=u:"fill"!=s&&(i=d,n=u);var m=0,x=0;l==mxConstants.ALIGN_CENTER?m-=i/2:l==mxConstants.ALIGN_RIGHT&&(m-=i),t+=m,o==mxConstants.ALIGN_MIDDLE?x-=n/2:o==mxConstants.ALIGN_BOTTOM&&(x-=n),"fill"!=s&&mxClient.IS_FF&&mxClient.IS_WIN&&(x-=2),e+=x;var v=1!=c.scale?"scale("+c.scale+")":"";if(0!=c.rotation&&this.rotateHtml){v+="rotate("+c.rotation+","+i/2+","+n/2+")";var y=this.rotatePoint((t+i/2)*c.scale,(e+n/2)*c.scale,c.rotation,c.rotationCx,c.rotationCy);t=y.x-i*c.scale/2,e=y.y-n*c.scale/2}else t*=c.scale,e*=c.scale;0!=g&&(v+="rotate("+g+","+-m+","+-x+")"),h.setAttribute("transform","translate("+Math.round(t)+","+Math.round(e)+")"+v),A.setAttribute("width",Math.round(Math.max(1,i))),A.setAttribute("height",Math.round(Math.max(1,n)))}},mxSvgCanvas2D.prototype.text=function(t,e,i,n,l,o,r,s,a,g,C,h,A){if(this.textEnabled&&null!=l){h=null!=h?h:0;var I=this.state;if(t+=I.dx,e+=I.dy,this.foEnabled&&"html"==a){var c="vertical-align:top;";C?c+="overflow:hidden;max-height:"+Math.round(n)+"px;max-width:"+Math.round(i)+"px;":"fill"==g?c+="width:"+Math.round(i+1)+"px;height:"+Math.round(n+1)+"px;overflow:hidden;":"width"==g&&(c+="width:"+Math.round(i+1)+"px;",n>0&&(c+="max-height:"+Math.round(n)+"px;overflow:hidden;")),c+=s&&i>0?"width:"+Math.round(i+1)+"px;white-space:normal;word-wrap:"+mxConstants.WORD_WRAP+";":"white-space:nowrap;";var d=this.createElement("g");I.alpha<1&&d.setAttribute("opacity",I.alpha);var u=this.createElement("foreignObject");u.setAttribute("style","overflow:visible;"),u.setAttribute("pointer-events","all");var p=this.createDiv(l,o,r,c,g);if(null==p)return;null!=A&&p.setAttribute("dir",A),d.appendChild(u),this.root.appendChild(d);var m=0,x=0,v=2,y=2;if(!mxClient.IS_IE||9!=document.documentMode&&mxClient.IS_SVG){this.root.ownerDocument!=document?(p.style.visibility="hidden",this.vgdContainer.appendChild(p)):u.appendChild(p);var f=p;if(null!=f.firstChild&&"DIV"==f.firstChild.nodeName&&(f=f.firstChild,s&&"break-word"==p.style.wordWrap&&(f.style.width="100%")),0==(E=f.offsetWidth)&&p.parentNode==u&&(p.style.visibility="hidden",this.vgdContainer.appendChild(p),E=f.offsetWidth),this.cacheOffsetSize&&(d.mxCachedOffsetWidth=E),!C&&s&&i>0&&this.root.ownerDocument!=document&&"fill"!=g&&"width"!=g){S=p.style.whiteSpace;p.style.whiteSpace="nowrap",E<f.offsetWidth&&(p.style.whiteSpace=S)}m=E+v-1,s&&"fill"!=g&&"width"!=g&&(C&&(m=Math.min(m,i)),p.style.width=m+"px"),m=f.offsetWidth,x=f.offsetHeight,this.cacheOffsetSize&&(d.mxCachedFinalOffsetWidth=m,d.mxCachedFinalOffsetHeight=x),x-=y,p.parentNode!=u&&(u.appendChild(p),p.style.visibility="")}else{var b=document.createElement("div");b.style.cssText=p.getAttribute("style"),b.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",b.style.position="absolute",b.style.visibility="hidden";var w=document.createElement("div");if(w.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",w.style.wordWrap=mxConstants.WORD_WRAP,w.innerHTML=mxUtils.isNode(l)?l.outerHTML:l,b.appendChild(w),this.vgdContainer.appendChild(b),8!=document.documentMode&&9!=document.documentMode&&null!=I.fontBorderColor&&(v+=2,y+=2),s&&i>0){var E=w.offsetWidth;if(!C&&s&&i>0&&this.root.ownerDocument!=document&&"fill"!=g){var S=b.style.whiteSpace;w.style.whiteSpace="nowrap",E<w.offsetWidth&&(b.style.whiteSpace=S)}C&&(E=Math.min(E,i)),b.style.width=E+"px",m=w.offsetWidth+v+0,x=w.offsetHeight+y,b.style.display="inline-block",b.style.position="",b.style.visibility="",b.style.width=m+"px",p.setAttribute("style",b.style.cssText)}else m=w.offsetWidth+v,x=w.offsetHeight+y;b.parentNode.removeChild(b),u.appendChild(p)}C&&(x=Math.min(x,n),m=Math.min(m,i)),"width"==g?n=x:"fill"!=g&&(i=m,n=x),I.alpha<1&&d.setAttribute("opacity",I.alpha);var T=0,G=0;o==mxConstants.ALIGN_CENTER?T-=i/2:o==mxConstants.ALIGN_RIGHT&&(T-=i),t+=T,r==mxConstants.ALIGN_MIDDLE?G-=n/2:r==mxConstants.ALIGN_BOTTOM&&(G-=n),"fill"!=g&&mxClient.IS_FF&&mxClient.IS_WIN&&(G-=2),e+=G;var R=1!=I.scale?"scale("+I.scale+")":"";if(0!=I.rotation&&this.rotateHtml){R+="rotate("+I.rotation+","+i/2+","+n/2+")";var L=this.rotatePoint((t+i/2)*I.scale,(e+n/2)*I.scale,I.rotation,I.rotationCx,I.rotationCy);t=L.x-i*I.scale/2,e=L.y-n*I.scale/2}else t*=I.scale,e*=I.scale;if(0!=h&&(R+="rotate("+h+","+-T+","+-G+")"),d.setAttribute("transform","translate("+(Math.round(t)+this.foOffset)+","+(Math.round(e)+this.foOffset)+")"+R),u.setAttribute("width",Math.round(Math.max(1,i))),u.setAttribute("height",Math.round(Math.max(1,n))),this.root.ownerDocument!=document){var P=this.createAlternateContent(u,t,e,i,n,l,o,r,s,a,g,C,h);if(null!=P){u.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility");var M=this.createElement("switch");M.appendChild(u),M.appendChild(P),d.appendChild(M)}}}else this.plainText(t,e,i,n,l,o,r,s,g,C,h,A)}},mxSvgCanvas2D.prototype.createClip=function(t,e,i,n){for(var l="mx-clip-"+(t=Math.round(t))+"-"+(e=Math.round(e))+"-"+(i=Math.round(i))+"-"+(n=Math.round(n)),o=0,r=l+"-"+o;null!=document.getElementById(r);)r=l+"-"+ ++o;clip=this.createElement("clipPath"),clip.setAttribute("id",r);var s=this.createElement("rect");return s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",i),s.setAttribute("height",n),clip.appendChild(s),clip},mxSvgCanvas2D.prototype.plainText=function(t,e,i,n,l,o,r,s,a,g,C,h){C=null!=C?C:0;var A=this.state,I=A.fontSize,c=this.createElement("g"),d=A.transform||"";if(this.updateFont(c),0!=C&&(d+="rotate("+C+","+this.format(t*A.scale)+","+this.format(e*A.scale)+")"),null!=h&&c.setAttribute("direction",h),g&&i>0&&n>0){var u=t,p=e;o==mxConstants.ALIGN_CENTER?u-=i/2:o==mxConstants.ALIGN_RIGHT&&(u-=i),"fill"!=a&&(r==mxConstants.ALIGN_MIDDLE?p-=n/2:r==mxConstants.ALIGN_BOTTOM&&(p-=n));var m=this.createClip(u*A.scale-2,p*A.scale-2,i*A.scale+4,n*A.scale+4);if(null!=this.defs?this.defs.appendChild(m):this.root.appendChild(m),mxClient.IS_CHROME_APP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document)c.setAttribute("clip-path","url(#"+m.getAttribute("id")+")");else{var x=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");c.setAttribute("clip-path","url("+x+"#"+m.getAttribute("id")+")")}}var v=o==mxConstants.ALIGN_RIGHT?"end":o==mxConstants.ALIGN_CENTER?"middle":"start";"start"!=v&&c.setAttribute("text-anchor",v),this.styleEnabled&&I==mxConstants.DEFAULT_FONTSIZE||c.setAttribute("font-size",I*A.scale+"px"),d.length>0&&c.setAttribute("transform",d),A.alpha<1&&c.setAttribute("opacity",A.alpha);var y=l.split("\n"),f=Math.round(I*mxConstants.LINE_HEIGHT),b=I+(y.length-1)*f,p=e+I-1
;if(r==mxConstants.ALIGN_MIDDLE)p-="fill"==a?n/2:(w=(this.matchHtmlAlignment&&g&&n>0?Math.min(b,n):b)/2)+1;else if(r==mxConstants.ALIGN_BOTTOM)if("fill"==a)p-=n;else{var w=this.matchHtmlAlignment&&g&&n>0?Math.min(b,n):b;p-=w+2}for(var E=0;E<y.length;E++){if(y[E].length>0&&mxUtils.trim(y[E]).length>0){var S=this.createElement("text");S.setAttribute("x",this.format(t*A.scale)+this.textOffset),S.setAttribute("y",this.format(p*A.scale)+this.textOffset),mxUtils.write(S,y[E]),c.appendChild(S)}p+=f}this.root.appendChild(c),this.addTextBackground(c,l,t,e,i,"fill"==a?n:b,o,r,a)},mxSvgCanvas2D.prototype.updateFont=function(t){var e=this.state;t.setAttribute("fill",e.fontColor),this.styleEnabled&&e.fontFamily==mxConstants.DEFAULT_FONTFAMILY||t.setAttribute("font-family",e.fontFamily),(e.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&t.setAttribute("font-weight","bold"),(e.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&t.setAttribute("font-style","italic"),(e.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&t.setAttribute("text-decoration","underline")},mxSvgCanvas2D.prototype.addTextBackground=function(t,e,i,n,l,o,r,s,a){var g=this.state;if(null!=g.fontBackgroundColor||null!=g.fontBorderColor){var C=null;if("fill"==a||"width"==a)r==mxConstants.ALIGN_CENTER?i-=l/2:r==mxConstants.ALIGN_RIGHT&&(i-=l),s==mxConstants.ALIGN_MIDDLE?n-=o/2:s==mxConstants.ALIGN_BOTTOM&&(n-=o),C=new mxRectangle((i+1)*g.scale,n*g.scale,(l-2)*g.scale,(o+2)*g.scale);else if(null!=t.getBBox&&this.root.ownerDocument==document)try{C=t.getBBox();var h=mxClient.IS_IE&&mxClient.IS_SVG;C=new mxRectangle(C.x,C.y+(h?0:1),C.width,C.height+(h?1:0))}catch(t){}else{var A=document.createElement("div");A.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?g.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT,A.style.fontSize=g.fontSize+"px",A.style.fontFamily=g.fontFamily,A.style.whiteSpace="nowrap",A.style.position="absolute",A.style.visibility="hidden",A.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",A.style.zoom="1",(g.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(A.style.fontWeight="bold"),(g.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(A.style.fontStyle="italic"),e=mxUtils.htmlEntities(e,!1),A.innerHTML=e.replace(/\n/g,"<br/>"),this.vgdContainer.appendChild(A);var l=A.offsetWidth,o=A.offsetHeight;A.parentNode.removeChild(A),r==mxConstants.ALIGN_CENTER?i-=l/2:r==mxConstants.ALIGN_RIGHT&&(i-=l),s==mxConstants.ALIGN_MIDDLE?n-=o/2:s==mxConstants.ALIGN_BOTTOM&&(n-=o),C=new mxRectangle((i+1)*g.scale,(n+2)*g.scale,l*g.scale,(o+1)*g.scale)}if(null!=C){var I=this.createElement("rect");I.setAttribute("fill",g.fontBackgroundColor||"none"),I.setAttribute("stroke",g.fontBorderColor||"none"),I.setAttribute("x",Math.floor(C.x-1)),I.setAttribute("y",Math.floor(C.y-1)),I.setAttribute("width",Math.ceil(C.width+2)),I.setAttribute("height",Math.ceil(C.height));var c=null!=g.fontBorderColor?Math.max(1,this.format(g.scale)):0;I.setAttribute("stroke-width",c),this.root.ownerDocument==document&&1==mxUtils.mod(c,2)&&I.setAttribute("transform","translate(0.5, 0.5)"),t.insertBefore(I,t.firstChild)}}},mxSvgCanvas2D.prototype.stroke=function(){this.addNode(!1,!0)},mxSvgCanvas2D.prototype.fill=function(){this.addNode(!0,!1)},mxSvgCanvas2D.prototype.fillAndStroke=function(){this.addNode(!0,!0)};var mxVmlCanvas2D=function(t){mxAbstractCanvas2D.call(this),this.root=t};mxUtils.extend(mxVmlCanvas2D,mxAbstractCanvas2D),mxVmlCanvas2D.prototype.node=null,mxVmlCanvas2D.prototype.textEnabled=!0,mxVmlCanvas2D.prototype.moveOp="m",mxVmlCanvas2D.prototype.lineOp="l",mxVmlCanvas2D.prototype.curveOp="c",mxVmlCanvas2D.prototype.closeOp="x",mxVmlCanvas2D.prototype.rotatedHtmlBackground="",mxVmlCanvas2D.prototype.vmlScale=1,mxVmlCanvas2D.prototype.createElement=function(t){return document.createElement(t)},mxVmlCanvas2D.prototype.createVmlElement=function(t){return this.createElement(mxClient.VML_PREFIX+":"+t)},mxVmlCanvas2D.prototype.addNode=function(t,e){var i=this.node,n=this.state;if(null!=i){if("shape"==i.nodeName){if(!(null!=this.path&&this.path.length>0))return;i.path=this.path.join(" ")+" e",i.style.width=this.root.style.width,i.style.height=this.root.style.height,i.coordsize=parseInt(i.style.width)+" "+parseInt(i.style.height)}i.strokeweight=this.format(Math.max(1,n.strokeWidth*n.scale/this.vmlScale))+"px",n.shadow&&this.root.appendChild(this.createShadow(i,t&&null!=n.fillColor,e&&null!=n.strokeColor)),e&&null!=n.strokeColor?(i.stroked="true",i.strokecolor=n.strokeColor):i.stroked="false",i.appendChild(this.createStroke()),t&&null!=n.fillColor?i.appendChild(this.createFill()):!this.pointerEvents||"shape"==i.nodeName&&this.path[this.path.length-1]!=this.closeOp?i.filled="false":i.appendChild(this.createTransparentFill()),this.root.appendChild(i)}},mxVmlCanvas2D.prototype.createTransparentFill=function(){var t=this.createVmlElement("fill");return t.src=mxClient.imageBasePath+"/transparent.gif",t.type="tile",t},mxVmlCanvas2D.prototype.createFill=function(){var t=this.state,e=this.createVmlElement("fill");if(e.color=t.fillColor,null!=t.gradientColor){e.type="gradient",e.method="none",e.color2=t.gradientColor;var i=180-t.rotation;t.gradientDirection==mxConstants.DIRECTION_WEST?i-=90+("x"==this.root.style.flip?180:0):t.gradientDirection==mxConstants.DIRECTION_EAST?i+=90+("x"==this.root.style.flip?180:0):t.gradientDirection==mxConstants.DIRECTION_NORTH?i-=180+("y"==this.root.style.flip?-180:0):i+="y"==this.root.style.flip?-180:0,"x"!=this.root.style.flip&&"y"!=this.root.style.flip||(i*=-1),e.angle=mxUtils.mod(i,360),e.opacity=t.alpha*t.gradientFillAlpha*100+"%",e.setAttribute(mxClient.OFFICE_PREFIX+":opacity2",t.alpha*t.gradientAlpha*100+"%")}else(t.alpha<1||t.fillAlpha<1)&&(e.opacity=t.alpha*t.fillAlpha*100+"%");return e},mxVmlCanvas2D.prototype.createStroke=function(){var t=this.state,e=this.createVmlElement("stroke");return e.endcap=t.lineCap||"flat",e.joinstyle=t.lineJoin||"miter",e.miterlimit=t.miterLimit||"10",(t.alpha<1||t.strokeAlpha<1)&&(e.opacity=t.alpha*t.strokeAlpha*100+"%"),t.dashed&&(e.dashstyle=this.getVmlDashStyle()),e},mxVmlCanvas2D.prototype.getVmlDashStyle=function(){var t="dash";if("string"==typeof this.state.dashPattern){var e=this.state.dashPattern.split(" ");e.length>0&&1==e[0]&&(t="0 2")}return t},mxVmlCanvas2D.prototype.createShadow=function(t,e,i){var n=this.state,l=-n.rotation*(Math.PI/180),o=Math.cos(l),r=Math.sin(l),s=n.shadowDx*n.scale,a=n.shadowDy*n.scale;"x"==this.root.style.flip?s*=-1:"y"==this.root.style.flip&&(a*=-1);var g=t.cloneNode(!0);return g.style.marginLeft=Math.round(s*o-a*r)+"px",g.style.marginTop=Math.round(s*r+a*o)+"px",8==document.documentMode&&(g.strokeweight=t.strokeweight,"shape"==t.nodeName&&(g.path=this.path.join(" ")+" e",g.style.width=this.root.style.width,g.style.height=this.root.style.height,g.coordsize=parseInt(t.style.width)+" "+parseInt(t.style.height))),i?(g.strokecolor=n.shadowColor,g.appendChild(this.createShadowStroke())):g.stroked="false",e?g.appendChild(this.createShadowFill()):g.filled="false",g},mxVmlCanvas2D.prototype.createShadowFill=function(){var t=this.createVmlElement("fill");return t.color=this.state.shadowColor,t.opacity=this.state.alpha*this.state.shadowAlpha*100+"%",t},mxVmlCanvas2D.prototype.createShadowStroke=function(){var t=this.createStroke();return t.opacity=this.state.alpha*this.state.shadowAlpha*100+"%",t},mxVmlCanvas2D.prototype.rotate=function(t,e,i,n,l){e&&i?t+=180:e?this.root.style.flip="x":i&&(this.root.style.flip="y"),(e?!i:i)&&(t*=-1),this.root.style.rotation=t,this.state.rotation=this.state.rotation+t,this.state.rotationCx=n,this.state.rotationCy=l},mxVmlCanvas2D.prototype.begin=function(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments),this.node=this.createVmlElement("shape"),this.node.style.position="absolute"},mxVmlCanvas2D.prototype.quadTo=function(t,e,i,n){var l=this.state,o=(this.lastX+l.dx)*l.scale,r=(this.lastY+l.dy)*l.scale,s=(t+l.dx)*l.scale,a=(e+l.dy)*l.scale,g=(i+l.dx)*l.scale,C=(n+l.dy)*l.scale,h=o+2/3*(s-o),A=r+2/3*(a-r),I=g+2/3*(s-g),c=C+2/3*(a-C);this.path.push("c "+this.format(h)+" "+this.format(A)+" "+this.format(I)+" "+this.format(c)+" "+this.format(g)+" "+this.format(C)),this.lastX=g/l.scale-l.dx,this.lastY=C/l.scale-l.dy},mxVmlCanvas2D.prototype.createRect=function(t,e,i,n,l){var o=this.state,r=this.createVmlElement(t);return r.style.position="absolute",r.style.left=this.format((e+o.dx)*o.scale)+"px",r.style.top=this.format((i+o.dy)*o.scale)+"px",r.style.width=this.format(n*o.scale)+"px",r.style.height=this.format(l*o.scale)+"px",r},mxVmlCanvas2D.prototype.rect=function(t,e,i,n){this.node=this.createRect("rect",t,e,i,n)},mxVmlCanvas2D.prototype.roundrect=function(t,e,i,n,l,o){this.node=this.createRect("roundrect",t,e,i,n),this.node.setAttribute("arcsize",Math.max(100*l/i,100*o/n)+"%")},mxVmlCanvas2D.prototype.ellipse=function(t,e,i,n){this.node=this.createRect("oval",t,e,i,n)},mxVmlCanvas2D.prototype.image=function(t,e,i,n,l,o,r,s){var a=null;if(o){(a=this.createRect("rect",t,e,i,n)).stroked="false";var g=this.createVmlElement("fill");g.aspect=o?"atmost":"ignore",g.rotate="true",g.type="frame",g.src=l,a.appendChild(g)}else(a=this.createRect("image",t,e,i,n)).src=l;r&&s?a.style.rotation="180":r?a.style.flip="x":s&&(a.style.flip="y"),(this.state.alpha<1||this.state.fillAlpha<1)&&(a.style.filter+="alpha(opacity="+this.state.alpha*this.state.fillAlpha*100+")"),this.root.appendChild(a)},mxVmlCanvas2D.prototype.createDiv=function(t,e,i,n){var l=this.createElement("div"),o=this.state,r="";if(null!=o.fontBackgroundColor&&(r+="background-color:"+o.fontBackgroundColor+";"),null!=o.fontBorderColor&&(r+="border:1px solid "+o.fontBorderColor+";"),mxUtils.isNode(t))l.appendChild(t);else if("fill"!=n&&"width"!=n){var s=this.createElement("div");s.style.cssText=r,s.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",s.style.zoom="1",s.style.textDecoration="inherit",s.innerHTML=t,l.appendChild(s)}else l.style.cssText=r,l.innerHTML=t;var a=l.style;return a.fontSize=o.fontSize/this.vmlScale+"px",a.fontFamily=o.fontFamily,a.color=o.fontColor,a.verticalAlign="top",a.textAlign=e||"left",a.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?o.fontSize*mxConstants.LINE_HEIGHT/this.vmlScale+"px":mxConstants.LINE_HEIGHT,(o.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(a.fontWeight="bold"),(o.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(a.fontStyle="italic"),(o.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(a.textDecoration="underline"),l},mxVmlCanvas2D.prototype.text=function(t,e,i,n,l,o,r,s,a,g,C,h,A){if(this.textEnabled&&null!=l){var I=this.state;if("html"==a){if(null!=I.rotation){var c=this.rotatePoint(t,e,I.rotation,I.rotationCx,I.rotationCy);t=c.x,e=c.y}8!=document.documentMode||mxClient.IS_EM?(t*=I.scale,e*=I.scale):(t+=I.dx,e+=I.dy,"fill"!=g&&r==mxConstants.ALIGN_TOP&&(e-=1));var d=8!=document.documentMode||mxClient.IS_EM?this.createElement("div"):this.createVmlElement("group");d.style.position="absolute",d.style.display="inline",d.style.left=this.format(t)+"px",d.style.top=this.format(e)+"px",d.style.zoom=I.scale;var u=this.createElement("div");u.style.position="relative",u.style.display="inline";var p=mxUtils.getAlignmentAsPoint(o,r),m=p.x,x=p.y,v=this.createDiv(l,o,r,g),y=this.createElement("div");null!=A&&v.setAttribute("dir",A),s&&i>0?(C||(v.style.width=Math.round(i)+"px"),v.style.wordWrap=mxConstants.WORD_WRAP,v.style.whiteSpace="normal","break-word"==v.style.wordWrap&&null!=(L=v).firstChild&&"DIV"==L.firstChild.nodeName&&(L.firstChild.style.width="100%")):v.style.whiteSpace="nowrap";var f=I.rotation+(h||0);if(this.rotateHtml&&0!=f?(y.style.display="inline",y.style.zoom="1",y.appendChild(v),8!=document.documentMode||mxClient.IS_EM||"DIV"==this.root.nodeName?d.appendChild(y):(u.appendChild(y),d.appendChild(u))):8!=document.documentMode||mxClient.IS_EM?(v.style.display="inline",d.appendChild(v)):(u.appendChild(v),d.appendChild(u)),"DIV"!=this.root.nodeName){var b=this.createVmlElement("rect");b.stroked="false",b.filled="false",b.appendChild(d),this.root.appendChild(b)}else this.root.appendChild(d);if(C?(v.style.overflow="hidden",v.style.width=Math.round(i)+"px",mxClient.IS_QUIRKS||(v.style.maxHeight=Math.round(n)+"px")):"fill"==g?(v.style.overflow="hidden",v.style.width=Math.max(0,i)+1+"px",v.style.height=Math.max(0,n)+1+"px"):"width"==g&&(v.style.overflow="hidden",v.style.width=Math.max(0,i)+1+"px",v.style.maxHeight=Math.max(0,n)+1+"px"),this.rotateHtml&&0!=f){var w=f*(Math.PI/180),E=parseFloat(parseFloat(Math.cos(w)).toFixed(8)),S=parseFloat(parseFloat(Math.sin(-w)).toFixed(8));(w%=2*Math.PI)<0&&(w+=2*Math.PI),(w%=Math.PI)>Math.PI/2&&(w=Math.PI-w);var T=Math.cos(w),G=Math.sin(w);8!=document.documentMode||mxClient.IS_EM||(v.style.display="inline-block",y.style.display="inline-block",u.style.display="inline-block"),v.style.visibility="hidden",v.style.position="absolute",this.vgdContainer.appendChild(v);var R=v;null!=R.firstChild&&"DIV"==R.firstChild.nodeName&&(R=R.firstChild);var L=R.offsetWidth+3,P=R.offsetHeight;C?(i=Math.min(i,L),P=Math.min(P,n)):i=L,s&&(v.style.width=i+"px"),mxClient.IS_QUIRKS&&(C||"width"==g)&&P>n&&(P=n,v.style.height=P+"px");var M=((n=P)-n*T+i*-G)/2-S*i*(m+.5)+E*n*(x+.5),N=(i-i*T+n*-G)/2+E*i*(m+.5)+S*n*(x+.5);if("group"==d.nodeName&&"DIV"==this.root.nodeName){var D=this.createElement("div");D.style.display="inline-block",D.style.position="absolute",D.style.left=this.format(t+(N-i/2)*I.scale)+"px",D.style.top=this.format(e+(M-n/2)*I.scale)+"px",d.parentNode.appendChild(D),D.appendChild(d)}else{var O=8!=document.documentMode||mxClient.IS_EM?I.scale:1;d.style.left=this.format(t+(N-i/2)*O)+"px",d.style.top=this.format(e+(M-n/2)*O)+"px"}y.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+E+", M12="+S+", M21="+-S+", M22="+E+", sizingMethod='auto expand')",y.style.backgroundColor=this.rotatedHtmlBackground,this.state.alpha<1&&(y.style.filter+="alpha(opacity="+100*this.state.alpha+")"),y.appendChild(v),v.style.position="",v.style.visibility=""}else if(8!=document.documentMode||mxClient.IS_EM){v.style.verticalAlign="top",this.state.alpha<1&&(d.style.filter="alpha(opacity="+100*this.state.alpha+")");var U=v.parentNode;v.style.visibility="hidden",this.vgdContainer.appendChild(v),i=v.offsetWidth;P=v.offsetHeight;mxClient.IS_QUIRKS&&C&&P>n&&(P=n,v.style.height=P+"px"),n=P,v.style.visibility="",U.appendChild(v),d.style.left=this.format(t+i*m*this.state.scale)+"px",d.style.top=this.format(e+n*x*this.state.scale)+"px"}else this.state.alpha<1&&(v.style.filter="alpha(opacity="+100*this.state.alpha+")"),u.style.left=100*m+"%",u.style.top=100*x+"%"}else this.plainText(t,e,i,n,mxUtils.htmlEntities(l,!1),o,r,s,a,g,C,h,A)}},mxVmlCanvas2D.prototype.plainText=function(t,e,i,n,l,o,r,s,a,g,C,h,A){var I=this.state;t=(t+I.dx)*I.scale,e=(e+I.dy)*I.scale;var c=this.createVmlElement("shape");c.style.width="1px",c.style.height="1px",c.stroked="false";var d=this.createVmlElement("fill");d.color=I.fontColor,d.opacity=100*I.alpha+"%",c.appendChild(d);var u=this.createVmlElement("path");u.textpathok="true",u.v="m "+this.format(0)+" "+this.format(0)+" l "+this.format(1)+" "+this.format(0),c.appendChild(u);var p=this.createVmlElement("textpath");p.style.cssText="v-text-align:"+o,p.style.align=o,p.style.fontFamily=I.fontFamily,p.string=l,p.on="true";var m=I.fontSize*I.scale/this.vmlScale;p.style.fontSize=m+"px",(I.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(p.style.fontWeight="bold"),(I.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(p.style.fontStyle="italic"),(I.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(p.style.textDecoration="underline");var x=m+(l.split("\n").length-1)*m*mxConstants.LINE_HEIGHT,v=0,y=0;if(r==mxConstants.ALIGN_BOTTOM?y=-x/2:r!=mxConstants.ALIGN_MIDDLE&&(y=x/2),null!=h){c.style.rotation=h;var f=h*(Math.PI/180);v=Math.sin(f)*y,y=Math.cos(f)*y}c.appendChild(p),c.style.left=this.format(t-v)+"px",c.style.top=this.format(e+y)+"px",this.root.appendChild(c)},mxVmlCanvas2D.prototype.stroke=function(){this.addNode(!1,!0)},mxVmlCanvas2D.prototype.fill=function(){this.addNode(!0,!1)},mxVmlCanvas2D.prototype.fillAndStroke=function(){this.addNode(!0,!0)},mxGuide.prototype.graph=null,mxGuide.prototype.states=null,mxGuide.prototype.horizontal=!0,mxGuide.prototype.vertical=!0,mxGuide.prototype.guideX=null,mxGuide.prototype.guideY=null,mxGuide.prototype.setStates=function(t){this.states=t},mxGuide.prototype.isEnabledForEvent=function(t){return!0},mxGuide.prototype.getGuideTolerance=function(){return this.graph.gridSize/2},mxGuide.prototype.createGuideShape=function(t){var e=new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH);return e.isDashed=!0,e},mxGuide.prototype.move=function(t,e,i){function n(e,i){e+=this.graph.panDx;var n=!1;Math.abs(e-y)<u?(s=e-t.getCenterX(),u=Math.abs(e-y),n=!0):Math.abs(e-x)<u?(s=e-t.x,u=Math.abs(e-x),n=!0):Math.abs(e-v)<u&&(s=e-t.x-t.width,u=Math.abs(e-v),n=!0),n&&(C=i,h=Math.round(e-this.graph.panDx),null==this.guideX&&(this.guideX=this.createGuideShape(!0),this.guideX.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.guideX.pointerEvents=!1,this.guideX.init(this.graph.getView().getOverlayPane()))),g=g||n}function l(e){e+=this.graph.panDy;var i=!1;Math.abs(e-w)<p?(a=e-t.getCenterY(),p=Math.abs(e-w),i=!0):Math.abs(e-f)<p?(a=e-t.y,p=Math.abs(e-f),i=!0):Math.abs(e-b)<p&&(a=e-t.y-t.height,p=Math.abs(e-b),i=!0),i&&(I=S,c=Math.round(e-this.graph.panDy),null==this.guideY&&(this.guideY=this.createGuideShape(!1),this.guideY.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.guideY.pointerEvents=!1,this.guideY.init(this.graph.getView().getOverlayPane()))),A=A||i}if(null!=this.states&&(this.horizontal||this.vertical)&&null!=t&&null!=e){var o=this.graph.getView().translate,r=this.graph.getView().scale,s=e.x,a=e.y,g=!1,C=null,h=null,A=!1,I=null,c=null,d=this.getGuideTolerance(),u=d,p=d,m=t.clone();m.x+=e.x,m.y+=e.y;for(var x=m.x,v=m.x+m.width,y=m.getCenterX(),f=m.y,b=m.y+m.height,w=m.getCenterY(),E=0;E<this.states.length;E++){var S=this.states[E];null!=S&&(this.horizontal&&(n.call(this,S.getCenterX(),S),n.call(this,S.x,S),n.call(this,S.x+S.width,S)),this.vertical&&(l.call(this,S.getCenterY(),S),l.call(this,S.y,S),l.call(this,S.y+S.height,S)))}if(i){if(!g){var T=t.x-(this.graph.snap(t.x/r-o.x)+o.x)*r;s=this.graph.snap(s/r)*r-T}if(!A){var G=t.y-(this.graph.snap(t.y/r-o.y)+o.y)*r;a=this.graph.snap(a/r)*r-G}}var R=this.graph.container;g||null==this.guideX?null!=this.guideX&&(null!=C&&null!=t&&(minY=Math.min(t.y+a-this.graph.panDy,C.y),maxY=Math.max(t.y+t.height+a-this.graph.panDy,C.y+C.height)),null!=minY&&null!=maxY?this.guideX.points=[new mxPoint(h,minY),new mxPoint(h,maxY)]:this.guideX.points=[new mxPoint(h,-this.graph.panDy),new mxPoint(h,R.scrollHeight-3-this.graph.panDy)],this.guideX.stroke=this.getGuideColor(C,!0),this.guideX.node.style.visibility="visible",this.guideX.redraw()):this.guideX.node.style.visibility="hidden",A||null==this.guideY?null!=this.guideY&&(null!=I&&null!=t&&(minX=Math.min(t.x+s-this.graph.panDx,I.x),maxX=Math.max(t.x+t.width+s-this.graph.panDx,I.x+I.width)),null!=minX&&null!=maxX?this.guideY.points=[new mxPoint(minX,c),new mxPoint(maxX,c)]:this.guideY.points=[new mxPoint(-this.graph.panDx,c),new mxPoint(R.scrollWidth-3-this.graph.panDx,c)],this.guideY.stroke=this.getGuideColor(I,!1),this.guideY.node.style.visibility="visible",this.guideY.redraw()):this.guideY.node.style.visibility="hidden",e=new mxPoint(s,a)}return e},mxGuide.prototype.getGuideColor=function(t,e){return mxConstants.GUIDE_COLOR},mxGuide.prototype.hide=function(){this.setVisible(!1)},mxGuide.prototype.setVisible=function(t){null!=this.guideX&&(this.guideX.node.style.visibility=t?"visible":"hidden"),null!=this.guideY&&(this.guideY.node.style.visibility=t?"visible":"hidden")},mxGuide.prototype.destroy=function(){null!=this.guideX&&(this.guideX.destroy(),this.guideX=null),null!=this.guideY&&(this.guideY.destroy(),this.guideY=null)},mxStencil.defaultLocalized=!1,mxStencil.allowEval=!1,mxStencil.prototype.desc=null,mxStencil.prototype.constraints=null,mxStencil.prototype.aspect=null,mxStencil.prototype.w0=null,mxStencil.prototype.h0=null,mxStencil.prototype.bgNode=null,mxStencil.prototype.fgNode=null,mxStencil.prototype.strokewidth=null,mxStencil.prototype.parseDescription=function(){this.fgNode=this.desc.getElementsByTagName("foreground")[0],this.bgNode=this.desc.getElementsByTagName("background")[0],this.w0=Number(this.desc.getAttribute("w")||100),this.h0=Number(this.desc.getAttribute("h")||100);var t=this.desc.getAttribute("aspect");this.aspect=null!=t?t:"variable";var e=this.desc.getAttribute("strokewidth");this.strokewidth=null!=e?e:"1"},mxStencil.prototype.parseConstraints=function(){var t=this.desc.getElementsByTagName("connections")[0];if(null!=t){var e=mxUtils.getChildNodes(t);if(null!=e&&e.length>0){this.constraints=[];for(var i=0;i<e.length;i++)this.constraints.push(this.parseConstraint(e[i]))}}},mxStencil.prototype.parseConstraint=function(t){var e=Number(t.getAttribute("x")),i=Number(t.getAttribute("y")),n="1"==t.getAttribute("perimeter");return new mxConnectionConstraint(new mxPoint(e,i),n)},mxStencil.prototype.evaluateTextAttribute=function(t,e,i){var n=this.evaluateAttribute(t,e,i),l=t.getAttribute("localized");return(mxStencil.defaultLocalized&&null==l||"1"==l)&&(n=mxResources.get(n)),n},mxStencil.prototype.evaluateAttribute=function(t,e,i){var n=t.getAttribute(e);if(null==n){var l=mxUtils.getTextContent(t);if(null!=l&&mxStencil.allowEval){var o=mxUtils.eval(l);"function"==typeof o&&(n=o(i))}}return n},mxStencil.prototype.drawShape=function(t,e,i,n,l,o){var r=mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,null),s=this.computeAspect(e.style,i,n,l,o,r),a=Math.min(s.width,s.height),g="inherit"==this.strokewidth?Number(mxUtils.getNumber(e.style,mxConstants.STYLE_STROKEWIDTH,1)):Number(this.strokewidth)*a;t.setStrokeWidth(g),this.drawChildren(t,e,i,n,l,o,this.bgNode,s,!1),this.drawChildren(t,e,i,n,l,o,this.fgNode,s,!0)},mxStencil.prototype.drawChildren=function(t,e,i,n,l,o,r,s,a){if(null!=r&&l>0&&o>0)for(var g=r.firstChild;null!=g;)g.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode(t,e,g,s,a),g=g.nextSibling},mxStencil.prototype.computeAspect=function(t,e,i,n,l,o){var r=e,s=i,a=n/this.w0,g=l/this.h0,C=o==mxConstants.DIRECTION_NORTH||o==mxConstants.DIRECTION_SOUTH;if(C){g=n/this.h0,a=l/this.w0;var h=(n-l)/2;r+=h,s-=h}return"fixed"==this.aspect&&(a=g=Math.min(a,g),C?(r+=(l-this.w0*a)/2,s+=(n-this.h0*g)/2):(r+=(n-this.w0*a)/2,s+=(l-this.h0*g)/2)),new mxRectangle(r,s,a,g)},mxStencil.prototype.drawNode=function(t,e,i,n,l){var o=i.nodeName,r=n.x,s=n.y,a=n.width,g=n.height,C=Math.min(a,g);if("save"==o)t.save();else if("restore"==o)t.restore();else if("path"==o){t.begin();for(var h=i.firstChild;null!=h;)h.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode(t,e,h,n,l),h=h.nextSibling}else if("close"==o)t.close();else if("move"==o)t.moveTo(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g);else if("line"==o)t.lineTo(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g);else if("quad"==o)t.quadTo(r+Number(i.getAttribute("x1"))*a,s+Number(i.getAttribute("y1"))*g,r+Number(i.getAttribute("x2"))*a,s+Number(i.getAttribute("y2"))*g);else if("curve"==o)t.curveTo(r+Number(i.getAttribute("x1"))*a,s+Number(i.getAttribute("y1"))*g,r+Number(i.getAttribute("x2"))*a,s+Number(i.getAttribute("y2"))*g,r+Number(i.getAttribute("x3"))*a,s+Number(i.getAttribute("y3"))*g);else if("arc"==o)t.arcTo(Number(i.getAttribute("rx"))*a,Number(i.getAttribute("ry"))*g,Number(i.getAttribute("x-axis-rotation")),Number(i.getAttribute("large-arc-flag")),Number(i.getAttribute("sweep-flag")),r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g);else if("rect"==o)t.rect(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g,Number(i.getAttribute("w"))*a,Number(i.getAttribute("h"))*g);else if("roundrect"==o){var A=Number(i.getAttribute("arcsize"));0==A&&(A=100*mxConstants.RECTANGLE_ROUNDING_FACTOR);var I=Number(i.getAttribute("w"))*a,c=Number(i.getAttribute("h"))*g,d=Number(A)/100,u=Math.min(I*d,c*d);t.roundrect(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g,I,c,u,u)}else if("ellipse"==o)t.ellipse(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g,Number(i.getAttribute("w"))*a,Number(i.getAttribute("h"))*g);else if("image"==o){if(!e.outline){var p=this.evaluateAttribute(i,"src",e);t.image(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g,Number(i.getAttribute("w"))*a,Number(i.getAttribute("h"))*g,p,!1,"1"==i.getAttribute("flipH"),"1"==i.getAttribute("flipV"))}}else if("text"==o){if(!e.outline){var m=this.evaluateTextAttribute(i,"str",e),x="1"==i.getAttribute("vertical")?-90:0;if("0"==i.getAttribute("align-shape")){var v=e.rotation,y=1==mxUtils.getValue(e.style,mxConstants.STYLE_FLIPH,0),f=1==mxUtils.getValue(e.style,mxConstants.STYLE_FLIPV,0);y&&f?x-=v:y||f?x+=v:x-=v}x-=i.getAttribute("rotation"),t.text(r+Number(i.getAttribute("x"))*a,s+Number(i.getAttribute("y"))*g,0,0,m,i.getAttribute("align")||"left",i.getAttribute("valign")||"top",!1,"",null,!1,x)}}else if("include-shape"==o){var b=mxStencilRegistry.getStencil(i.getAttribute("name"));if(null!=b){var w=r+Number(i.getAttribute("x"))*a,E=s+Number(i.getAttribute("y"))*g,I=Number(i.getAttribute("w"))*a,c=Number(i.getAttribute("h"))*g;b.drawShape(t,e,w,E,I,c)}}else if("fillstroke"==o)t.fillAndStroke();else if("fill"==o)t.fill();else if("stroke"==o)t.stroke();else if("strokewidth"==o){var S="1"==i.getAttribute("fixed")?1:C;t.setStrokeWidth(Number(i.getAttribute("width"))*S)}else if("dashed"==o)t.setDashed("1"==i.getAttribute("dashed"));else if("dashpattern"==o){var T=i.getAttribute("pattern");if(null!=T){for(var G=T.split(" "),R=[],L=0;L<G.length;L++)G[L].length>0&&R.push(Number(G[L])*C);T=R.join(" "),t.setDashPattern(T)}}else"strokecolor"==o?t.setStrokeColor(i.getAttribute("color")):"linecap"==o?t.setLineCap(i.getAttribute("cap")):"linejoin"==o?t.setLineJoin(i.getAttribute("join")):"miterlimit"==o?t.setMiterLimit(Number(i.getAttribute("limit"))):"fillcolor"==o?t.setFillColor(i.getAttribute("color")):"alpha"==o?t.setAlpha(i.getAttribute("alpha")):"fontcolor"==o?t.setFontColor(i.getAttribute("color")):"fontstyle"==o?t.setFontStyle(i.getAttribute("style")):"fontfamily"==o?t.setFontFamily(i.getAttribute("family")):"fontsize"==o&&t.setFontSize(Number(i.getAttribute("size"))*C);!l||"fillstroke"!=o&&"fill"!=o&&"stroke"!=o||(l=!1,t.setShadow(!1))},mxShape.prototype.dialect=null,mxShape.prototype.scale=1,mxShape.prototype.antiAlias=!0,mxShape.prototype.bounds=null,mxShape.prototype.points=null,mxShape.prototype.node=null,mxShape.prototype.state=null,mxShape.prototype.style=null,mxShape.prototype.boundingBox=null,mxShape.prototype.stencil=null,mxShape.prototype.svgStrokeTolerance=8,mxShape.prototype.pointerEvents=!0,mxShape.prototype.svgPointerEvents="all",mxShape.prototype.shapePointerEvents=!1,mxShape.prototype.stencilPointerEvents=!1,mxShape.prototype.vmlScale=1,mxShape.prototype.outline=!1,mxShape.prototype.visible=!0,mxShape.prototype.useSvgBoundingBox=!1,mxShape.prototype.init=function(t){null==this.node&&(this.node=this.create(t),null!=t&&t.appendChild(this.node))},mxShape.prototype.initStyles=function(t){this.strokewidth=1,this.rotation=0,this.opacity=100,this.fillOpacity=100,this.strokeOpacity=100,this.flipH=!1,this.flipV=!1},mxShape.prototype.isParseVml=function(){return!0},mxShape.prototype.isHtmlAllowed=function(){return!1},mxShape.prototype.getSvgScreenOffset=function(){var t=this.stencil&&"inherit"!=this.stencil.strokewidth?Number(this.stencil.strokewidth):this.strokewidth;return 1==mxUtils.mod(Math.max(1,Math.round(t*this.scale)),2)?.5:0},mxShape.prototype.create=function(t){return null!=t&&null!=t.ownerSVGElement?this.createSvg(t):8==document.documentMode||!mxClient.IS_VML||this.dialect!=mxConstants.DIALECT_VML&&this.isHtmlAllowed()?this.createHtml(t):this.createVml(t)},mxShape.prototype.createSvg=function(){return document.createElementNS(mxConstants.NS_SVG,"g")},mxShape.prototype.createVml=function(){var t=document.createElement(mxClient.VML_PREFIX+":group");return t.style.position="absolute",t},mxShape.prototype.createHtml=function(){var t=document.createElement("div");return t.style.position="absolute",t},mxShape.prototype.reconfigure=function(){this.redraw()},mxShape.prototype.redraw=function(){this.updateBoundsFromPoints(),this.visible&&this.checkBounds()?(this.node.style.visibility="visible",this.clear(),"DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&mxClient.IS_VML?this.redrawShape():this.redrawHtmlShape(),this.updateBoundingBox()):(this.node.style.visibility="hidden",this.boundingBox=null)},mxShape.prototype.clear=function(){if(null!=this.node.ownerSVGElement)for(;null!=this.node.lastChild;)this.node.removeChild(this.node.lastChild);else this.node.style.cssText="position:absolute;"+(null!=this.cursor?"cursor:"+this.cursor+";":""),this.node.innerHTML=""},mxShape.prototype.updateBoundsFromPoints=function(){var t=this.points;if(null!=t&&t.length>0&&null!=t[0]){this.bounds=new mxRectangle(Number(t[0].x),Number(t[0].y),1,1);for(var e=1;e<this.points.length;e++)null!=t[e]&&this.bounds.add(new mxRectangle(Number(t[e].x),Number(t[e].y),1,1))}},mxShape.prototype.getLabelBounds=function(t){return t},mxShape.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)&&this.bounds.width>0&&this.bounds.height>0},mxShape.prototype.createVmlGroup=function(){var t=document.createElement(mxClient.VML_PREFIX+":group");return t.style.position="absolute",t.style.width=this.node.style.width,t.style.height=this.node.style.height,t},mxShape.prototype.redrawShape=function(){var t=this.createCanvas();null!=t&&(t.pointerEvents=this.pointerEvents,this.paint(t),this.node!=t.root&&this.node.insertAdjacentHTML("beforeend",t.root.outerHTML),"DIV"==this.node.nodeName&&8==document.documentMode&&(this.node.style.filter="",mxUtils.addTransparentBackgroundFilter(this.node)),this.destroyCanvas(t))},mxShape.prototype.createCanvas=function(){var t=null;return null!=this.node.ownerSVGElement?t=this.createSvgCanvas():mxClient.IS_VML&&(this.updateVmlContainer(),t=this.createVmlCanvas()),this.outline&&(t.setStrokeWidth(this.strokewidth),t.setStrokeColor(this.stroke),null!=this.isDashed&&t.setDashed(this.isDashed),t.setStrokeWidth=function(){},t.setStrokeColor=function(){},t.setFillColor=function(){},t.setGradient=function(){},t.setDashed=function(){}),t},mxShape.prototype.createSvgCanvas=function(){var t=new mxSvgCanvas2D(this.node,!1);t.strokeTolerance=this.pointerEvents?this.svgStrokeTolerance:0,t.pointerEventsValue=this.svgPointerEvents,t.blockImagePointerEvents=mxClient.IS_FF;var e=this.getSvgScreenOffset();return 0!=e?this.node.setAttribute("transform","translate("+e+","+e+")"):this.node.removeAttribute("transform"),this.antiAlias||(t.format=function(t){return Math.round(parseFloat(t))}),t},mxShape.prototype.createVmlCanvas=function(){var t=8==document.documentMode&&this.isParseVml()?this.createVmlGroup():this.node,e=new mxVmlCanvas2D(t,!1);if(""!=t.tagUrn){var i=Math.max(1,Math.round(this.bounds.width)),n=Math.max(1,Math.round(this.bounds.height));t.coordsize=i*this.vmlScale+","+n*this.vmlScale,e.scale(this.vmlScale),e.vmlScale=this.vmlScale}var l=this.scale;return e.translate(-Math.round(this.bounds.x/l),-Math.round(this.bounds.y/l)),e},mxShape.prototype.updateVmlContainer=function(){this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px";var t=Math.max(1,Math.round(this.bounds.width)),e=Math.max(1,Math.round(this.bounds.height));this.node.style.width=t+"px",this.node.style.height=e+"px",this.node.style.overflow="visible"},mxShape.prototype.redrawHtmlShape=function(){this.updateHtmlBounds(this.node),this.updateHtmlFilters(this.node),this.updateHtmlColors(this.node)},mxShape.prototype.updateHtmlFilters=function(t){var e="";if(this.opacity<100&&(e+="alpha(opacity="+this.opacity+")"),this.isShadow&&(e+="progid:DXImageTransform.Microsoft.dropShadow (OffX='"+Math.round(mxConstants.SHADOW_OFFSET_X*this.scale)+"', OffY='"+Math.round(mxConstants.SHADOW_OFFSET_Y*this.scale)+"', Color='"+mxConstants.VML_SHADOWCOLOR+"')"),null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE){var i=this.fill,n=this.gradient,l="0",o={east:0,south:1,west:2,north:3},r=null!=this.direction?o[this.direction]:0;if(null!=this.gradientDirection&&(r=mxUtils.mod(r+o[this.gradientDirection]-1,4)),1==r){l="1";s=i;i=n,n=s}else if(2==r){var s=i;i=n,n=s}else 3==r&&(l="1");e+="progid:DXImageTransform.Microsoft.gradient(startColorStr='"+i+"', endColorStr='"+n+"', gradientType='"+l+"')"}t.style.filter=e},mxShape.prototype.updateHtmlColors=function(t){var e=this.stroke;null!=e&&e!=mxConstants.NONE?(t.style.borderColor=e,this.isDashed?t.style.borderStyle="dashed":this.strokewidth>0&&(t.style.borderStyle="solid"),t.style.borderWidth=Math.max(1,Math.ceil(this.strokewidth*this.scale))+"px"):t.style.borderWidth="0px",null!=(e=this.outline?null:this.fill)&&e!=mxConstants.NONE?(t.style.backgroundColor=e,t.style.backgroundImage="none"):this.pointerEvents?t.style.backgroundColor="transparent":8==document.documentMode?mxUtils.addTransparentBackgroundFilter(t):this.setTransparentBackgroundImage(t)},mxShape.prototype.updateHtmlBounds=function(t){var e=document.documentMode>=9?0:Math.ceil(this.strokewidth*this.scale);t.style.borderWidth=Math.max(1,e)+"px",t.style.overflow="hidden",t.style.left=Math.round(this.bounds.x-e/2)+"px",t.style.top=Math.round(this.bounds.y-e/2)+"px","CSS1Compat"==document.compatMode&&(e=-e),t.style.width=Math.round(Math.max(0,this.bounds.width+e))+"px",t.style.height=Math.round(Math.max(0,this.bounds.height+e))+"px"},mxShape.prototype.destroyCanvas=function(t){if(t instanceof mxSvgCanvas2D){for(var e in t.gradients){var i=t.gradients[e];null!=i&&(i.mxRefCount=(i.mxRefCount||0)+1)}this.releaseSvgGradients(this.oldGradients),this.oldGradients=t.gradients}},mxShape.prototype.paint=function(t){var e=this.scale,i=this.bounds.x/e,n=this.bounds.y/e,l=this.bounds.width/e,o=this.bounds.height/e;if(this.isPaintBoundsInverted()){var r=(l-o)/2;i+=r,n-=r;var s=l;l=o,o=s}this.updateTransform(t,i,n,l,o),this.configureCanvas(t,i,n,l,o);var a=null;if(null==this.stencil&&null==this.points&&this.shapePointerEvents||null!=this.stencil&&this.stencilPointerEvents){var g=this.createBoundingBox();if(this.dialect==mxConstants.DIALECT_SVG)a=this.createTransparentSvgRectangle(g.x,g.y,g.width,g.height),this.node.appendChild(a);else{var C=t.createRect("rect",g.x/e,g.y/e,g.width/e,g.height/e);C.appendChild(t.createTransparentFill()),C.stroked="false",t.root.appendChild(C)}}if(null!=this.stencil)this.stencil.drawShape(t,this,i,n,l,o);else if(t.setStrokeWidth(this.strokewidth),null!=this.points){for(var h=[],A=0;A<this.points.length;A++)null!=this.points[A]&&h.push(new mxPoint(this.points[A].x/e,this.points[A].y/e));this.paintEdgeShape(t,h)}else this.paintVertexShape(t,i,n,l,o);null!=a&&null!=t.state&&null!=t.state.transform&&a.setAttribute("transform",t.state.transform)},mxShape.prototype.configureCanvas=function(t,e,i,n,l){var o=null;if(null!=this.style&&(o=this.style.dashPattern),t.setAlpha(this.opacity/100),t.setFillAlpha(this.fillOpacity/100),t.setStrokeAlpha(this.strokeOpacity/100),null!=this.isShadow&&t.setShadow(this.isShadow),null!=this.isDashed&&t.setDashed(this.isDashed),null!=o&&t.setDashPattern(o),null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE){var r=this.getGradientBounds(t,e,i,n,l);t.setGradient(this.fill,this.gradient,r.x,r.y,r.width,r.height,this.gradientDirection)}else t.setFillColor(this.fill);t.setStrokeColor(this.stroke)},mxShape.prototype.getGradientBounds=function(t,e,i,n,l){return new mxRectangle(e,i,n,l)},mxShape.prototype.updateTransform=function(t,e,i,n,l){t.scale(this.scale),t.rotate(this.getShapeRotation(),this.flipH,this.flipV,e+n/2,i+l/2)},mxShape.prototype.paintVertexShape=function(t,e,i,n,l){this.paintBackground(t,e,i,n,l),t.setShadow(!1),this.paintForeground(t,e,i,n,l)},mxShape.prototype.paintBackground=function(t,e,i,n,l){},mxShape.prototype.paintForeground=function(t,e,i,n,l){},mxShape.prototype.paintEdgeShape=function(t,e){},mxShape.prototype.getArcSize=function(t,e){var i=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;return Math.min(t*i,e*i)},mxShape.prototype.paintGlassEffect=function(t,e,i,n,l,o){var r=Math.ceil(this.strokewidth/2);t.setGradient("#ffffff","#ffffff",e,i,n,.6*l,"south",.9,.1),t.begin(),o+=2*r,this.isRounded?(t.moveTo(e-r+o,i-r),t.quadTo(e-r,i-r,e-r,i-r+o),t.lineTo(e-r,i+.4*l),t.quadTo(e+.5*n,i+.7*l,e+n+r,i+.4*l),t.lineTo(e+n+r,i-r+o),t.quadTo(e+n+r,i-r,e+n+r-o,i-r)):(t.moveTo(e-r,i-r),t.lineTo(e-r,i+.4*l),t.quadTo(e+.5*n,i+.7*l,e+n+r,i+.4*l),t.lineTo(e+n+r,i-r)),t.close(),t.fill()},mxShape.prototype.addPoints=function(t,e,i,n,l){var o=e[e.length-1];if(l&&i){var r=(e=e.slice())[0],s=new mxPoint(o.x+(r.x-o.x)/2,o.y+(r.y-o.y)/2);e.splice(0,0,s)}var a=e[0],g=1;for(t.moveTo(a.x,a.y);g<(l?e.length:e.length-1);){var C=e[mxUtils.mod(g,e.length)],h=a.x-C.x,A=a.y-C.y;if(!i||0==h&&0==A)t.lineTo(C.x,C.y);else{var I=Math.sqrt(h*h+A*A),c=h*Math.min(n,I/2)/I,d=A*Math.min(n,I/2)/I,u=C.x+c,p=C.y+d;t.lineTo(u,p);for(var m=e[mxUtils.mod(g+1,e.length)];g<e.length-2&&0==Math.round(m.x-C.x)&&0==Math.round(m.y-C.y);)m=e[mxUtils.mod(g+2,e.length)],g++;h=m.x-C.x,A=m.y-C.y,I=Math.max(1,Math.sqrt(h*h+A*A));var x=h*Math.min(n,I/2)/I,v=A*Math.min(n,I/2)/I,y=C.x+x,f=C.y+v;t.quadTo(C.x,C.y,y,f),C=new mxPoint(y,f)}a=C,g++}l?t.close():t.lineTo(o.x,o.y)},mxShape.prototype.resetStyles=function(){this.initStyles(),this.spacing=0,delete this.fill,delete this.gradient,delete this.gradientDirection,delete this.stroke,delete this.startSize,delete this.endSize,delete this.startArrow,delete this.endArrow,delete this.direction,delete this.isShadow,delete this.isDashed,delete this.isRounded,delete this.glass},mxShape.prototype.apply=function(t){if(this.state=t,this.style=t.style,null!=this.style){if(this.fill=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,this.fill),this.gradient=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENTCOLOR,this.gradient),this.gradientDirection=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENT_DIRECTION,this.gradientDirection),this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_OPACITY,this.opacity),this.fillOpacity=mxUtils.getValue(this.style,mxConstants.STYLE_FILL_OPACITY,this.fillOpacity),this.strokeOpacity=mxUtils.getValue(this.style,mxConstants.STYLE_STROKE_OPACITY,this.strokeOpacity),this.stroke=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,this.stroke),this.strokewidth=mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth),this.arrowStrokewidth=mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth),this.spacing=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing),this.startSize=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,this.startSize),this.endSize=mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,this.endSize),this.startArrow=mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,this.startArrow),this.endArrow=mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,this.endArrow),this.rotation=mxUtils.getValue(this.style,mxConstants.STYLE_ROTATION,this.rotation),this.direction=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,this.direction),this.flipH=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0),this.flipV=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0),null!=this.stencil&&(this.flipH=1==mxUtils.getValue(this.style,"stencilFlipH",0)||this.flipH,this.flipV=1==mxUtils.getValue(this.style,"stencilFlipV",0)||this.flipV),this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH){var e=this.flipH;this.flipH=this.flipV,this.flipV=e}this.isShadow=1==mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW,this.isShadow),this.isDashed=1==mxUtils.getValue(this.style,mxConstants.STYLE_DASHED,this.isDashed),this.isRounded=1==mxUtils.getValue(this.style,mxConstants.STYLE_ROUNDED,this.isRounded),this.glass=1==mxUtils.getValue(this.style,mxConstants.STYLE_GLASS,this.glass),this.fill==mxConstants.NONE&&(this.fill=null),this.gradient==mxConstants.NONE&&(this.gradient=null),this.stroke==mxConstants.NONE&&(this.stroke=null)}},mxShape.prototype.setCursor=function(t){null==t&&(t=""),this.cursor=t,null!=this.node&&(this.node.style.cursor=t)},mxShape.prototype.getCursor=function(){return this.cursor},mxShape.prototype.updateBoundingBox=function(){if(this.useSvgBoundingBox&&null!=this.node&&null!=this.node.ownerSVGElement)try{var t=this.node.getBBox();if(t.width>0&&t.height>0)return this.boundingBox=new mxRectangle(t.x,t.y,t.width,t.height),void this.boundingBox.grow(this.strokewidth*this.scale/2)}catch(t){}if(null!=this.bounds){var e=this.createBoundingBox();if(null!=e){this.augmentBoundingBox(e);var i=this.getShapeRotation();0!=i&&(e=mxUtils.getBoundingBox(e,i))}this.boundingBox=e}},mxShape.prototype.createBoundingBox=function(){var t=this.bounds.clone();return(null!=this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)||this.isPaintBoundsInverted())&&t.rotate90(),t},mxShape.prototype.augmentBoundingBox=function(t){this.isShadow&&(t.width+=Math.ceil(mxConstants.SHADOW_OFFSET_X*this.scale),t.height+=Math.ceil(mxConstants.SHADOW_OFFSET_Y*this.scale)),t.grow(this.strokewidth*this.scale/2)},mxShape.prototype.isPaintBoundsInverted=function(){return null==this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)},mxShape.prototype.getRotation=function(){return null!=this.rotation?this.rotation:0},mxShape.prototype.getTextRotation=function(){var t=this.getRotation();return 1!=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)&&(t+=mxText.prototype.verticalTextRotation),t},mxShape.prototype.getShapeRotation=function(){var t=this.getRotation();return null!=this.direction&&(this.direction==mxConstants.DIRECTION_NORTH?t+=270:this.direction==mxConstants.DIRECTION_WEST?t+=180:this.direction==mxConstants.DIRECTION_SOUTH&&(t+=90)),t},mxShape.prototype.createTransparentSvgRectangle=function(t,e,i,n){var l=document.createElementNS(mxConstants.NS_SVG,"rect");return l.setAttribute("x",t),l.setAttribute("y",e),l.setAttribute("width",i),l.setAttribute("height",n),l.setAttribute("fill","none"),l.setAttribute("stroke","none"),l.setAttribute("pointer-events","all"),l},mxShape.prototype.setTransparentBackgroundImage=function(t){t.style.backgroundImage="url('"+mxClient.imageBasePath+"/transparent.gif')"},mxShape.prototype.releaseSvgGradients=function(t){if(null!=t)for(var e in t){var i=t[e];null!=i&&(i.mxRefCount=(i.mxRefCount||0)-1,0==i.mxRefCount&&null!=i.parentNode&&i.parentNode.removeChild(i))}},mxShape.prototype.destroy=function(){null!=this.node&&(mxEvent.release(this.node),null!=this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node=null),this.releaseSvgGradients(this.oldGradients),this.oldGradients=null};var mxStencilRegistry={stencils:{},addStencil:function(t,e){mxStencilRegistry.stencils[t]=e},getStencil:function(t){return mxStencilRegistry.stencils[t]}},mxMarker={markers:[],addMarker:function(t,e){mxMarker.markers[t]=e},createMarker:function(t,e,i,n,l,o,r,s,a,g){var C=mxMarker.markers[i];return null!=C?C(t,e,i,n,l,o,r,s,a,g):null}};!function(){function t(t){return t=null!=t?t:2,function(e,i,n,l,o,r,s,a,g,C){var h=o*g*1.118,A=r*g*1.118;o*=s+g,r*=s+g;var I=l.clone();I.x-=h,I.y-=A;var c=n!=mxConstants.ARROW_CLASSIC&&n!=mxConstants.ARROW_CLASSIC_THIN?1:.75;return l.x+=-o*c-h,l.y+=-r*c-A,function(){e.begin(),e.moveTo(I.x,I.y),e.lineTo(I.x-o-r/t,I.y-r+o/t),n!=mxConstants.ARROW_CLASSIC&&n!=mxConstants.ARROW_CLASSIC_THIN||e.lineTo(I.x-3*o/4,I.y-3*r/4),e.lineTo(I.x+r/t-o,I.y-r-o/t),e.close(),C?e.fillAndStroke():e.stroke()}}}function e(t){return t=null!=t?t:2,function(e,i,n,l,o,r,s,a,g,C){var h=o*g*1.118,A=r*g*1.118;o*=s+g,r*=s+g;var I=l.clone();return I.x-=h,I.y-=A,l.x+=2*-h,l.y+=2*-A,function(){e.begin(),e.moveTo(I.x-o-r/t,I.y-r+o/t),e.lineTo(I.x,I.y),e.lineTo(I.x+r/t-o,I.y-r-o/t),e.stroke()}}}function i(t,e,i,n,l,o,r,s,a,g){var C=i==mxConstants.ARROW_DIAMOND?.7071:.9862,h=l*a*C,A=o*a*C;l*=r+a,o*=r+a;var I=n.clone();I.x-=h,I.y-=A,n.x+=-l-h,n.y+=-o-A;var c=i==mxConstants.ARROW_DIAMOND?2:3.4;return function(){t.begin(),t.moveTo(I.x,I.y),t.lineTo(I.x-l/2-o/c,I.y+l/c-o/2),t.lineTo(I.x-l,I.y-o),t.lineTo(I.x-l/2+o/c,I.y-o/2-l/c),t.close(),g?t.fillAndStroke():t.stroke()}}mxMarker.addMarker("classic",t(2)),mxMarker.addMarker("classicThin",t(3)),mxMarker.addMarker("block",t(2)),mxMarker.addMarker("blockThin",t(3)),mxMarker.addMarker("open",e(2)),mxMarker.addMarker("openThin",e(3)),mxMarker.addMarker("oval",function(t,e,i,n,l,o,r,s,a,g){var C=r/2,h=n.clone();return n.x-=l*C,n.y-=o*C,function(){t.ellipse(h.x-C,h.y-C,r,r),g?t.fillAndStroke():t.stroke()}}),mxMarker.addMarker("diamond",i),mxMarker.addMarker("diamondThin",i)}(),mxUtils.extend(mxActor,mxShape),mxActor.prototype.paintVertexShape=function(t,e,i,n,l){t.translate(e,i),t.begin(),this.redrawPath(t,e,i,n,l),t.fillAndStroke()},mxActor.prototype.redrawPath=function(t,e,i,n,l){var o=n/3;t.moveTo(0,l),t.curveTo(0,3*l/5,0,2*l/5,n/2,2*l/5),t.curveTo(n/2-o,2*l/5,n/2-o,0,n/2,0),t.curveTo(n/2+o,0,n/2+o,2*l/5,n/2,2*l/5),t.curveTo(n,2*l/5,n,3*l/5,n,l),t.close()},mxUtils.extend(mxCloud,mxActor),mxCloud.prototype.redrawPath=function(t,e,i,n,l){t.moveTo(.25*n,.25*l),t.curveTo(.05*n,.25*l,0,.5*l,.16*n,.55*l),t.curveTo(0,.66*l,.18*n,.9*l,.31*n,.8*l),t.curveTo(.4*n,l,.7*n,l,.8*n,.8*l),t.curveTo(n,.8*l,n,.6*l,.875*n,.5*l),t.curveTo(n,.3*l,.8*n,.1*l,.625*n,.2*l),t.curveTo(.5*n,.05*l,.3*n,.05*l,.25*n,.25*l),t.close()},mxUtils.extend(mxRectangleShape,mxShape),mxRectangleShape.prototype.isHtmlAllowed=function(){var t=!0;return null!=this.style&&(t="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),!this.isRounded&&!this.glass&&0==this.rotation&&(t||null!=this.fill&&this.fill!=mxConstants.NONE)},mxRectangleShape.prototype.paintBackground=function(t,e,i,n,l){var o=!0;if(null!=this.style&&(o="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),o||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE){if(o||null!=this.fill&&this.fill!=mxConstants.NONE||(t.pointerEvents=!1),this.isRounded){var r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,s=Math.min(n*r,l*r);t.roundrect(e,i,n,l,s,s)}else t.rect(e,i,n,l);t.fillAndStroke()}},mxRectangleShape.prototype.paintForeground=function(t,e,i,n,l){this.glass&&!this.outline&&null!=this.fill&&this.fill!=mxConstants.NONE&&this.paintGlassEffect(t,e,i,n,l,this.getArcSize(n+this.strokewidth,l+this.strokewidth))},mxUtils.extend(mxEllipse,mxShape),mxEllipse.prototype.paintVertexShape=function(t,e,i,n,l){t.ellipse(e,i,n,l),t.fillAndStroke()},mxUtils.extend(mxDoubleEllipse,mxShape),mxDoubleEllipse.prototype.vmlScale=10,mxDoubleEllipse.prototype.paintBackground=function(t,e,i,n,l){t.ellipse(e,i,n,l),t.fillAndStroke()},mxDoubleEllipse.prototype.paintForeground=function(t,e,i,n,l){if(!this.outline){var o=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min(n/5,l/5)));e+=o,i+=o,l-=2*o,(n-=2*o)>0&&l>0&&t.ellipse(e,i,n,l),t.stroke()}},mxDoubleEllipse.prototype.getLabelBounds=function(t){var e=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min(t.width/5/this.scale,t.height/5/this.scale)))*this.scale;return new mxRectangle(t.x+e,t.y+e,t.width-2*e,t.height-2*e)},mxUtils.extend(mxRhombus,mxShape),mxRhombus.prototype.paintVertexShape=function(t,e,i,n,l){var o=n/2,r=l/2,s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,[new mxPoint(e+o,i),new mxPoint(e+n,i+r),new mxPoint(e+o,i+l),new mxPoint(e,i+r)],this.isRounded,s,!0),t.fillAndStroke()},mxUtils.extend(mxPolyline,mxShape),mxPolyline.prototype.getRotation=function(){return 0},mxPolyline.prototype.getShapeRotation=function(){return 0},mxPolyline.prototype.isPaintBoundsInverted=function(){return!1},mxPolyline.prototype.paintEdgeShape=function(t,e){null==this.style||1!=this.style[mxConstants.STYLE_CURVED]?this.paintLine(t,e,this.isRounded):this.paintCurvedLine(t,e)},mxPolyline.prototype.paintLine=function(t,e,i){var n=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,e,i,n,!1),t.stroke()},mxPolyline.prototype.paintCurvedLine=function(t,e){t.begin();var i=e[0],n=e.length;t.moveTo(i.x,i.y);for(var l=1;l<n-2;l++){var o=e[l],r=e[l+1],s=(o.x+r.x)/2,a=(o.y+r.y)/2;t.quadTo(o.x,o.y,s,a)}var o=e[n-2],r=e[n-1];t.quadTo(o.x,o.y,r.x,r.y),t.stroke()},mxUtils.extend(mxArrow,mxShape),mxArrow.prototype.augmentBoundingBox=function(t){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var e=Math.max(this.arrowWidth,this.endSize);t.grow((e/2+this.strokewidth)*this.scale)},mxArrow.prototype.paintEdgeShape=function(t,e){var i=mxConstants.ARROW_SPACING,n=mxConstants.ARROW_WIDTH,l=mxConstants.ARROW_SIZE,o=e[0],r=e[e.length-1],s=r.x-o.x,a=r.y-o.y,g=Math.sqrt(s*s+a*a),C=g-2*i-l,h=s/g,A=a/g,I=C*h,c=C*A,d=n*A/3,u=-n*h/3,p=o.x-d/2+i*h,m=o.y-u/2+i*A,x=p+d,v=m+u,y=x+I,f=v+c,b=y+d,w=f+u,E=b-3*d,S=w-3*u;t.begin(),t.moveTo(p,m),t.lineTo(x,v),t.lineTo(y,f),t.lineTo(b,w),t.lineTo(r.x-i*h,r.y-i*A),t.lineTo(E,S),t.lineTo(E+d,S+u),t.close(),t.fillAndStroke()},mxUtils.extend(mxArrowConnector,mxShape),mxArrowConnector.prototype.useSvgBoundingBox=!0,mxArrowConnector.prototype.resetStyles=function(){mxShape.prototype.resetStyles.apply(this,arguments),this.arrowSpacing=mxConstants.ARROW_SPACING},mxArrowConnector.prototype.apply=function(t){mxShape.prototype.apply.apply(this,arguments),null!=this.style&&(this.startSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5),this.endSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5))},mxArrowConnector.prototype.augmentBoundingBox=function(t){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var e=this.getEdgeWidth();this.isMarkerStart()&&(e=Math.max(e,this.getStartArrowWidth())),this.isMarkerEnd()&&(e=Math.max(e,this.getEndArrowWidth())),t.grow((e/2+this.strokewidth)*this.scale)},mxArrowConnector.prototype.paintEdgeShape=function(t,e){var i=this.strokewidth;this.outline&&(i=Math.max(1,mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth)));for(var n=this.getStartArrowWidth()+i,l=this.getEndArrowWidth()+i,o=this.outline?this.getEdgeWidth()+i:this.getEdgeWidth(),r=this.isOpenEnded(),s=this.isMarkerStart(),a=this.isMarkerEnd(),g=r?0:this.arrowSpacing+i/2,C=this.startSize+i,h=this.endSize+i,A=this.isArrowRounded(),I=e[e.length-1],c=1;c<e.length-1&&e[c].x==e[0].x&&e[c].y==e[0].y;)c++;var d=e[c].x-e[0].x,u=e[c].y-e[0].y,p=Math.sqrt(d*d+u*u);if(0!=p){var m,x,v=d/p,y=v,f=u/p,b=f,w=o*f,E=-o*v,S=[];A?t.setLineJoin("round"):e.length>2&&t.setMiterLimit(1.42),t.begin();var T=v,G=f;if(s&&!r)this.paintMarker(t,e[0].x,e[0].y,v,f,C,n,o,g,!0);else{var R=e[0].x+w/2+g*v,L=e[0].y+E/2+g*f,P=e[0].x-w/2+g*v,M=e[0].y-E/2+g*f;r?(t.moveTo(R,L),S.push(function(){t.lineTo(P,M)})):(t.moveTo(P,M),t.lineTo(R,L))}for(var N=0,D=0,O=0,U=0;U<e.length-2;U++){var k=mxUtils.relativeCcw(e[U].x,e[U].y,e[U+1].x,e[U+1].y,e[U+2].x,e[U+2].y);if(N=e[U+2].x-e[U+1].x,D=e[U+2].y-e[U+1].y,0!=(O=Math.sqrt(N*N+D*D))){var H=v*(y=N/O)+f*(b=D/O);tmp=Math.max(Math.sqrt((H+1)/2),.04),m=v+y,x=f+b;var V=Math.sqrt(m*m+x*x);if(0!=V){m/=V,x/=V;var Z=Math.max(tmp,Math.min(this.strokewidth/200+.04,.35)),Y=0!=k&&A?Math.max(.1,Z):Math.max(tmp,.06),F=e[U+1].x+x*o/2/Y,X=e[U+1].y-m*o/2/Y,B=e[U+1].x-x*o/2/Y,W=e[U+1].y+m*o/2/Y;if(0!=k&&A)if(-1==k){var z=B+f*o,_=W-v*o,J=B+b*o,j=W-y*o;t.lineTo(z,_),t.quadTo(F,X,J,j),function(e,i){S.push(function(){t.lineTo(e,i)})}(B,W)}else t.lineTo(F,X),function(e,i){var n=F-f*o,l=X+v*o,r=F-b*o,s=X+y*o;S.push(function(){t.quadTo(e,i,n,l)}),S.push(function(){t.lineTo(r,s)})}(B,W);else t.lineTo(F,X),function(e,i){S.push(function(){t.lineTo(e,i)})}(B,W);v=y,f=b}}}if(w=o*b,E=-o*y,a&&!r)this.paintMarker(t,I.x,I.y,-v,-f,h,l,o,g,!1);else{t.lineTo(I.x-g*y+w/2,I.y-g*b+E/2);var K=I.x-g*y-w/2,Q=I.y-g*b-E/2;r?(t.moveTo(K,Q),S.splice(0,0,function(){t.moveTo(K,Q)})):t.lineTo(K,Q)}for(U=S.length-1;U>=0;U--)S[U]();r?(t.end(),t.stroke()):(t.close(),t.fillAndStroke()),t.setShadow(!1),t.setMiterLimit(4),A&&t.setLineJoin("flat"),e.length>2&&(t.setMiterLimit(4),s&&!r&&(t.begin(),this.paintMarker(t,e[0].x,e[0].y,T,G,C,n,o,g,!0),t.stroke(),t.end()),a&&!r&&(t.begin(),this.paintMarker(t,I.x,I.y,-v,-f,h,l,o,g,!0),t.stroke(),t.end()))}},mxArrowConnector.prototype.paintMarker=function(t,e,i,n,l,o,r,s,a,g){var C=s/r,h=s*l/2,A=-s*n/2,I=(a+o)*n,c=(a+o)*l;g?t.moveTo(e-h+I,i-A+c):t.lineTo(e-h+I,i-A+c),t.lineTo(e-h/C+I,i-A/C+c),t.lineTo(e+a*n,i+a*l),t.lineTo(e+h/C+I,i+A/C+c),t.lineTo(e+h+I,i+A+c)},mxArrowConnector.prototype.isArrowRounded=function(){return this.isRounded},mxArrowConnector.prototype.getStartArrowWidth=function(){return mxConstants.ARROW_WIDTH},mxArrowConnector.prototype.getEndArrowWidth=function(){return mxConstants.ARROW_WIDTH},mxArrowConnector.prototype.getEdgeWidth=function(){return mxConstants.ARROW_WIDTH/3},mxArrowConnector.prototype.isOpenEnded=function(){return!1},mxArrowConnector.prototype.isMarkerStart=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE},mxArrowConnector.prototype.isMarkerEnd=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE},mxUtils.extend(mxText,mxShape),mxText.prototype.baseSpacingTop=0,mxText.prototype.baseSpacingBottom=0,mxText.prototype.baseSpacingLeft=0,mxText.prototype.baseSpacingRight=0,mxText.prototype.replaceLinefeeds=!0,mxText.prototype.verticalTextRotation=-90,mxText.prototype.ignoreClippedStringSize=!0,mxText.prototype.ignoreStringSize=!1,mxText.prototype.textWidthPadding=8!=document.documentMode||mxClient.IS_EM?3:4,mxText.prototype.lastValue=null,mxText.prototype.cacheEnabled=!0,mxText.prototype.isParseVml=function(){return!1},mxText.prototype.isHtmlAllowed=function(){return 8!=document.documentMode||mxClient.IS_EM},mxText.prototype.getSvgScreenOffset=function(){return 0},mxText.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)},mxText.prototype.paint=function(t,e){var i=this.scale,n=this.bounds.x/i,l=this.bounds.y/i,o=this.bounds.width/i,r=this.bounds.height/i;if(this.updateTransform(t,n,l,o,r),this.configureCanvas(t,n,l,o,r),e){var s=null!=this.state?this.state.unscaledWidth:null;null!=this.node.firstChild&&this.lastUnscaledWidth!=s&&t.invalidateCachedOffsetSize(this.node),t.updateText(n,l,o,r,this.align,this.valign,this.wrap,this.overflow,this.clipped,this.getTextRotation(),this.node)}else{var a=mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML,g=a||t instanceof mxVmlCanvas2D?"html":"",C=this.value;a||"html"!=g||(C=mxUtils.htmlEntities(C,!1)),"html"!=g||mxUtils.isNode(this.value)||(C=mxUtils.replaceTrailingNewlines(C,"<div><br></div>")),C=!mxUtils.isNode(this.value)&&this.replaceLinefeeds&&"html"==g?C.replace(/\n/g,"<br/>"):C;var h=this.textDirection;h!=mxConstants.TEXT_DIRECTION_AUTO||a||(h=this.getAutoDirection()),h!=mxConstants.TEXT_DIRECTION_LTR&&h!=mxConstants.TEXT_DIRECTION_RTL&&(h=null),t.text(n,l,o,r,C,this.align,this.valign,this.wrap,g,this.overflow,this.clipped,this.getTextRotation(),h)}this.lastUnscaledWidth=null!=this.state?this.state.unscaledWidth:null},mxText.prototype.redraw=function(){if(this.visible&&this.checkBounds()&&this.cacheEnabled&&this.lastValue==this.value&&(mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML))if("DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&mxClient.IS_VML){var t=this.createCanvas();null!=t&&null!=t.updateText&&null!=t.invalidateCachedOffsetSize?(this.paint(t,!0),this.destroyCanvas(t),this.updateBoundingBox()):mxShape.prototype.redraw.apply(this,arguments)}else this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),mxClient.IS_IE&&(null==document.documentMode||document.documentMode<=8)?this.updateHtmlFilter():this.updateHtmlTransform(),this.updateBoundingBox();else mxShape.prototype.redraw.apply(this,arguments),mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML?this.lastValue=this.value:this.lastValue=null},mxText.prototype.resetStyles=function(){mxShape.prototype.resetStyles.apply(this,arguments),this.color="black",this.align="",this.valign="",this.family=mxConstants.DEFAULT_FONTFAMILY,this.size=mxConstants.DEFAULT_FONTSIZE,this.fontStyle=mxConstants.DEFAULT_FONTSTYLE,this.spacing=2,this.spacingTop=0,this.spacingRight=0,this.spacingBottom=0,this.spacingLeft=0,this.horizontal=!0,delete this.background,delete this.border,this.textDirection=mxConstants.DEFAULT_TEXT_DIRECTION,delete this.margin},mxText.prototype.apply=function(t){mxShape.prototype.apply.apply(this,arguments),null!=this.style&&(this.fontStyle=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSTYLE,this.fontStyle),this.family=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,this.family),this.size=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,this.size),this.color=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,this.color),this.align=mxUtils.getValue(this.style,mxConstants.STYLE_ALIGN,this.align),this.valign=mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_ALIGN,this.valign),this.spacing=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing),this.spacingTop=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_TOP,this.spacingTop)+this.spacing,this.spacingRight=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_RIGHT,this.spacingRight)+this.spacing,this.spacingBottom=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_BOTTOM,this.spacingBottom)+this.spacing,this.spacingLeft=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_LEFT,this.spacingLeft)+this.spacing,this.horizontal=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,this.horizontal),this.background=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,this.background),this.border=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BORDERCOLOR,this.border),this.textDirection=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION),this.updateMargin()),this.flipV=null,this.flipH=null},mxText.prototype.getAutoDirection=function(){var t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(this.value);return null!=t&&t.length>0&&t[0]>"z"?mxConstants.TEXT_DIRECTION_RTL:mxConstants.TEXT_DIRECTION_LTR},mxText.prototype.updateBoundingBox=function(){var t=this.node;this.boundingBox=this.bounds.clone();var e=this.getTextRotation(),i=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER):null,n=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE):null;if(this.ignoreStringSize||null==t||"fill"==this.overflow||this.clipped&&this.ignoreClippedStringSize&&i==mxConstants.ALIGN_CENTER&&n==mxConstants.ALIGN_MIDDLE)this.boundingBox.x+=this.margin.x*this.boundingBox.width,this.boundingBox.y+=this.margin.y*this.boundingBox.height;else{var l=null,o=null;if(null!=t.ownerSVGElement)if(null!=t.firstChild&&null!=t.firstChild.firstChild&&"foreignObject"==t.firstChild.firstChild.nodeName)t=t.firstChild.firstChild,l=parseInt(t.getAttribute("width"))*this.scale,o=parseInt(t.getAttribute("height"))*this.scale;else try{var r=t.getBBox();if("string"==typeof this.value&&0==mxUtils.trim(this.value))return void(this.boundingBox=null);if(0==r.width&&0==r.height)return void(this.boundingBox=null);this.boundingBox=new mxRectangle(r.x,r.y,r.width,r.height),e=0}catch(t){}else{var s=null!=this.state?this.state.view.textDiv:null;if(null!=this.offsetWidth&&null!=this.offsetHeight)l=this.offsetWidth*this.scale,o=this.offsetHeight*this.scale;else{null!=s&&(this.updateFont(s),this.updateSize(s,!1),this.updateInnerHtml(s),t=s);var a=t;if(8!=document.documentMode||mxClient.IS_EM)null!=a.firstChild&&"DIV"==a.firstChild.nodeName&&(a=a.firstChild);else{var g=Math.round(this.bounds.width/this.scale);if(this.wrap&&g>0){if(t.style.wordWrap=mxConstants.WORD_WRAP,t.style.whiteSpace="normal","break-word"!=t.style.wordWrap){var C=a.getElementsByTagName("div");C.length>0&&(a=C[C.length-1]),l=a.offsetWidth+2,C=this.node.getElementsByTagName("div"),this.clipped&&(l=Math.min(g,l)),C.length>1&&(C[C.length-2].style.width=l+"px")}}else t.style.whiteSpace="nowrap"}this.offsetWidth=a.offsetWidth+this.textWidthPadding,this.offsetHeight=a.offsetHeight,l=this.offsetWidth*this.scale,o=this.offsetHeight*this.scale}}if(null!=l&&null!=o){var h=this.bounds.x+this.margin.x*l,A=this.bounds.y+this.margin.y*o;this.boundingBox=new mxRectangle(h,A,l,o)}}if(null!=this.boundingBox)if(0!=e){this.unrotatedBoundingBox=mxRectangle.fromRectangle(this.boundingBox);var I=mxUtils.getBoundingBox(this.boundingBox,e);this.boundingBox.x=I.x,this.boundingBox.y=I.y,mxClient.IS_QUIRKS||(this.boundingBox.width=I.width,this.boundingBox.height=I.height)}else this.unrotatedBoundingBox=null},mxText.prototype.getShapeRotation=function(){return 0},mxText.prototype.getTextRotation=function(){return null!=this.state&&null!=this.state.shape?this.state.shape.getTextRotation():0},mxText.prototype.isPaintBoundsInverted=function(){return!this.horizontal&&null!=this.state&&this.state.view.graph.model.isVertex(this.state.cell)},mxText.prototype.configureCanvas=function(t,e,i,n,l){mxShape.prototype.configureCanvas.apply(this,arguments),t.setFontColor(this.color),t.setFontBackgroundColor(this.background),t.setFontBorderColor(this.border),t.setFontFamily(this.family),t.setFontSize(this.size),t.setFontStyle(this.fontStyle)},mxText.prototype.updateVmlContainer=function(){this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px",this.node.style.width="1px",this.node.style.height="1px",this.node.style.overflow="visible"},mxText.prototype.redrawHtmlShape=function(){var t=this.node.style;t.whiteSpace="normal",t.overflow="",t.width="",t.height="",this.updateValue(),this.updateFont(this.node),this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),this.offsetWidth=null,this.offsetHeight=null,mxClient.IS_IE&&(null==document.documentMode||document.documentMode<=8)?this.updateHtmlFilter():this.updateHtmlTransform()},mxText.prototype.updateHtmlTransform=function(){var t=this.getTextRotation(),e=this.node.style,i=this.margin.x,n=this.margin.y;0!=t?(mxUtils.setPrefixedStyle(e,"transformOrigin",100*-i+"% "+100*-n+"%"),mxUtils.setPrefixedStyle(e,"transform","translate("+100*i+"%,"+100*n+"%)scale("+this.scale+") rotate("+t+"deg)")):(mxUtils.setPrefixedStyle(e,"transformOrigin","0% 0%"),mxUtils.setPrefixedStyle(e,"transform","scale("+this.scale+")translate("+100*i+"%,"+100*n+"%)")),e.left=Math.round(this.bounds.x-Math.ceil(i*("fill"!=this.overflow&&"width"!=this.overflow?3:1)))+"px",e.top=Math.round(this.bounds.y-n*("fill"!=this.overflow?3:1))+"px",this.opacity<100?e.opacity=this.opacity/100:e.opacity=""},mxText.prototype.updateInnerHtml=function(t){if(mxUtils.isNode(this.value))t.innerHTML=this.value.outerHTML;else{var e=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&(e=mxUtils.htmlEntities(e,!1)),e=mxUtils.replaceTrailingNewlines(e,"<div>&nbsp;</div>"),e='<div style="display:inline-block;_display:inline;">'+(e=this.replaceLinefeeds?e.replace(/\n/g,"<br/>"):e)+"</div>",t.innerHTML=e}},mxText.prototype.updateHtmlFilter=function(){var t=this.node.style,e=this.margin.x,i=this.margin.y,n=this.scale;mxUtils.setOpacity(this.node,this.opacity);var l=0,o=0,r=null!=this.state?this.state.view.textDiv:null,s=this.node;if(null!=r){r.style.overflow="",r.style.height="",r.style.width="",this.updateFont(r),this.updateSize(r,!1),this.updateInnerHtml(r);a=Math.round(this.bounds.width/this.scale);this.wrap&&a>0?(r.style.whiteSpace="normal",r.style.wordWrap=mxConstants.WORD_WRAP,l=a,this.clipped&&(l=Math.min(l,this.bounds.width)),r.style.width=l+"px"):r.style.whiteSpace="nowrap",null!=(s=r).firstChild&&"DIV"==s.firstChild.nodeName&&(s=s.firstChild,this.wrap&&"break-word"==r.style.wordWrap&&(s.style.width="100%")),!this.clipped&&this.wrap&&a>0&&(l=s.offsetWidth+this.textWidthPadding,r.style.width=l+"px"),o=s.offsetHeight+2,mxClient.IS_QUIRKS&&null!=this.border&&this.border!=mxConstants.NONE&&(o+=3)}else null!=s.firstChild&&"DIV"==s.firstChild.nodeName&&(o=(s=s.firstChild).offsetHeight);l=s.offsetWidth+this.textWidthPadding,this.clipped&&(o=Math.min(o,this.bounds.height));var a=this.bounds.width/n,g=this.bounds.height/n;"fill"==this.overflow?(o=g,l=a):"width"==this.overflow&&(o=s.scrollHeight,l=a),this.offsetWidth=l,this.offsetHeight=o,mxClient.IS_QUIRKS&&(this.clipped||"width"==this.overflow&&g>0)?(g=Math.min(g,o),t.height=Math.round(g)+"px"):g=o,"fill"!=this.overflow&&"width"!=this.overflow&&(this.clipped&&(l=Math.min(a,l)),a=l,(mxClient.IS_QUIRKS&&this.clipped||this.wrap)&&(t.width=Math.round(a)+"px")),g*=n,a*=n;var C=this.getTextRotation()*(Math.PI/180),h=parseFloat(parseFloat(Math.cos(C)).toFixed(8)),A=parseFloat(parseFloat(Math.sin(-C)).toFixed(8));(C%=2*Math.PI)<0&&(C+=2*Math.PI),(C%=Math.PI)>Math.PI/2&&(C=Math.PI-C);var I=Math.cos(C),c=Math.sin(-C),d=a*-(e+.5),u=g*-(i+.5),p=(g-g*I+a*c)/2+A*d-h*u,m=(a-a*I+g*c)/2-h*d-A*u;if(0!=C){var x="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+A+", M21="+-A+", M22="+h+", sizingMethod='auto expand')";null!=t.filter&&t.filter.length>0?t.filter+=" "+x:t.filter=x}i=0;"fill"!=this.overflow&&mxClient.IS_QUIRKS&&(this.valign==mxConstants.ALIGN_TOP?i-=1:this.valign==mxConstants.ALIGN_BOTTOM?i+=2:i+=1),t.zoom=n,t.left=Math.round(this.bounds.x+m-a/2)+"px",t.top=Math.round(this.bounds.y+p-g/2+i)+"px"},mxText.prototype.updateValue=function(){if(mxUtils.isNode(this.value))this.node.innerHTML="",this.node.appendChild(this.value);else{var t=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&(t=mxUtils.htmlEntities(t,!1)),t=mxUtils.replaceTrailingNewlines(t,"<div><br></div>"),t=this.replaceLinefeeds?t.replace(/\n/g,"<br/>"):t;var e=null!=this.background&&this.background!=mxConstants.NONE?this.background:null,i=null!=this.border&&this.border!=mxConstants.NONE?this.border:null;if("fill"==this.overflow||"width"==this.overflow)null!=e&&(this.node.style.backgroundColor=e),null!=i&&(this.node.style.border="1px solid "+i);else{var n="";null!=e&&(n+="background-color:"+e+";"),null!=i&&(n+="border:1px solid "+i+";"),t='<div style="zoom:1;'+n+"display:inline-block;_display:inline;text-decoration:inherit;padding-bottom:1px;padding-right:1px;line-height:"+(mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT)+'">'+t+"</div>"}this.node.innerHTML=t;var l=this.node.getElementsByTagName("div");if(l.length>0){var o=this.textDirection;o==mxConstants.TEXT_DIRECTION_AUTO&&this.dialect!=mxConstants.DIALECT_STRICTHTML&&(o=this.getAutoDirection()),o==mxConstants.TEXT_DIRECTION_LTR||o==mxConstants.TEXT_DIRECTION_RTL?l[l.length-1].setAttribute("dir",o):l[l.length-1].removeAttribute("dir")}}},mxText.prototype.updateFont=function(t){var e=t.style;e.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT,e.fontSize=this.size+"px",e.fontFamily=this.family,e.verticalAlign="top",e.color=this.color,(this.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD?e.fontWeight="bold":e.fontWeight="",(this.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC?e.fontStyle="italic":e.fontStyle="",(this.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE?e.textDecoration="underline":e.textDecoration="",this.align==mxConstants.ALIGN_CENTER?e.textAlign="center":this.align==mxConstants.ALIGN_RIGHT?e.textAlign="right":e.textAlign="left"},mxText.prototype.updateSize=function(t,e){var i=Math.max(0,Math.round(this.bounds.width/this.scale)),n=Math.max(0,Math.round(this.bounds.height/this.scale)),l=t.style;if(this.clipped?(l.overflow="hidden",mxClient.IS_QUIRKS?l.width=i+"px":(l.maxHeight=n+"px",l.maxWidth=i+"px")):"fill"==this.overflow?(l.width=i+1+"px",l.height=n+1+"px",l.overflow="hidden"):"width"==this.overflow&&(l.width=i+1+"px",l.maxHeight=n+1+"px",l.overflow="hidden"),this.wrap&&i>0){if(l.wordWrap=mxConstants.WORD_WRAP,l.whiteSpace="normal",l.width=i+"px",e&&"fill"!=this.overflow&&"width"!=this.overflow){var o=t;null!=o.firstChild&&"DIV"==o.firstChild.nodeName&&(o=o.firstChild,"break-word"==t.style.wordWrap&&(o.style.width="100%"));var r=o.offsetWidth;if(0==r){var s=t.parentNode;t.style.visibility="hidden",document.body.appendChild(t),r=o.offsetWidth,t.style.visibility="",s.appendChild(t)}r+=3,this.clipped&&(r=Math.min(r,i)),l.width=r+"px"}}else l.whiteSpace="nowrap"},mxText.prototype.updateMargin=function(){this.margin=mxUtils.getAlignmentAsPoint(this.align,this.valign)},mxText.prototype.getSpacing=function(){var t=0,e=0;return t=this.align==mxConstants.ALIGN_CENTER?(this.spacingLeft-this.spacingRight)/2:this.align==mxConstants.ALIGN_RIGHT?-this.spacingRight-this.baseSpacingRight:this.spacingLeft+this.baseSpacingLeft,e=this.valign==mxConstants.ALIGN_MIDDLE?(this.spacingTop-this.spacingBottom)/2:this.valign==mxConstants.ALIGN_BOTTOM?-this.spacingBottom-this.baseSpacingBottom:this.spacingTop+this.baseSpacingTop,new mxPoint(t,e)},mxUtils.extend(mxTriangle,mxActor),mxTriangle.prototype.redrawPath=function(t,e,i,n,l){var o=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,0),new mxPoint(n,.5*l),new mxPoint(0,l)],this.isRounded,o,!0)},mxUtils.extend(mxHexagon,mxActor),mxHexagon.prototype.redrawPath=function(t,e,i,n,l){var o=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(.25*n,0),new mxPoint(.75*n,0),new mxPoint(n,.5*l),new mxPoint(.75*n,l),new mxPoint(.25*n,l),new mxPoint(0,.5*l)],this.isRounded,o,!0)},mxUtils.extend(mxLine,mxShape),mxLine.prototype.paintVertexShape=function(t,e,i,n,l){var o=i+l/2;t.begin(),t.moveTo(e,o),t.lineTo(e+n,o),t.stroke()},mxUtils.extend(mxImageShape,mxRectangleShape),mxImageShape.prototype.preserveImageAspect=!0,mxImageShape.prototype.getSvgScreenOffset=function(){return 0},mxImageShape.prototype.apply=function(t){mxShape.prototype.apply.apply(this,arguments),this.fill=null,this.stroke=null,this.gradient=null,null!=this.style&&(this.preserveImageAspect=1==mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_ASPECT,1),this.flipH=this.flipH||1==mxUtils.getValue(this.style,"imageFlipH",0),this.flipV=this.flipV||1==mxUtils.getValue(this.style,"imageFlipV",0))},mxImageShape.prototype.isHtmlAllowed=function(){return!this.preserveImageAspect},mxImageShape.prototype.createHtml=function(){var t=document.createElement("div");return t.style.position="absolute",t},mxImageShape.prototype.paintVertexShape=function(t,e,i,n,l){if(null!=this.image){var o=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,null),r=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,null);null!=o&&(t.setFillColor(o),t.setStrokeColor(r),t.rect(e,i,n,l),t.fillAndStroke()),t.image(e,i,n,l,this.image,this.preserveImageAspect,!1,!1),null!=(r=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,null))&&(t.setShadow(!1),t.setStrokeColor(r),t.rect(e,i,n,l),t.stroke())}else mxRectangleShape.prototype.paintBackground.apply(this,arguments)},mxImageShape.prototype.redrawHtmlShape=function(){if(this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px",this.node.style.width=Math.max(0,Math.round(this.bounds.width))+"px",this.node.style.height=Math.max(0,Math.round(this.bounds.height))+"px",this.node.innerHTML="",null!=this.image){var t=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,""),e=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,"");this.node.style.backgroundColor=t,this.node.style.borderColor=e;var i=mxClient.IS_IE6||(null==document.documentMode||document.documentMode<=8)&&0!=this.rotation,n=document.createElement(i?mxClient.VML_PREFIX+":image":"img");n.setAttribute("border","0"),n.style.position="absolute",n.src=this.image;var l=this.opacity<100?"alpha(opacity="+this.opacity+")":"";this.node.style.filter=l,this.flipH&&this.flipV?l+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2)":this.flipH?l+="progid:DXImageTransform.Microsoft.BasicImage(mirror=1)":this.flipV&&(l+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"),n.style.filter!=l&&(n.style.filter=l),"image"==n.nodeName?n.style.rotation=this.rotation:0!=this.rotation?mxUtils.setPrefixedStyle(n.style,"transform","rotate("+this.rotation+"deg)"):mxUtils.setPrefixedStyle(n.style,"transform",""),n.style.width=this.node.style.width,n.style.height=this.node.style.height,this.node.style.backgroundImage="",this.node.appendChild(n)}else this.setTransparentBackgroundImage(this.node)},mxUtils.extend(mxLabel,mxRectangleShape),mxLabel.prototype.imageSize=mxConstants.DEFAULT_IMAGESIZE,mxLabel.prototype.spacing=2,mxLabel.prototype.indicatorSize=10,mxLabel.prototype.indicatorSpacing=2,mxLabel.prototype.init=function(t){mxShape.prototype.init.apply(this,arguments),null!=this.indicatorShape&&(this.indicator=new this.indicatorShape,this.indicator.dialect=this.dialect,this.indicator.init(this.node))},mxLabel.prototype.redraw=function(){null!=this.indicator&&(this.indicator.fill=this.indicatorColor,this.indicator.stroke=this.indicatorStrokeColor,this.indicator.gradient=this.indicatorGradientColor,this.indicator.direction=this.indicatorDirection),mxShape.prototype.redraw.apply(this,arguments)},mxLabel.prototype.isHtmlAllowed=function(){return mxRectangleShape.prototype.isHtmlAllowed.apply(this,arguments)&&null==this.indicatorColor&&null==this.indicatorShape},mxLabel.prototype.paintForeground=function(t,e,i,n,l){this.paintImage(t,e,i,n,l),this.paintIndicator(t,e,i,n,l),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxLabel.prototype.paintImage=function(t,e,i,n,l){if(null!=this.image){var o=this.getImageBounds(e,i,n,l);t.image(o.x,o.y,o.width,o.height,this.image,!1,!1,!1)}},mxLabel.prototype.getImageBounds=function(t,e,i,n){var l=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),o=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),r=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_WIDTH,mxConstants.DEFAULT_IMAGESIZE),s=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_HEIGHT,mxConstants.DEFAULT_IMAGESIZE),a=mxUtils.getNumber(this.style,mxConstants.STYLE_SPACING,this.spacing)+5;return l==mxConstants.ALIGN_CENTER?t+=(i-r)/2:l==mxConstants.ALIGN_RIGHT?t+=i-r-a:t+=a,o==mxConstants.ALIGN_TOP?e+=a:o==mxConstants.ALIGN_BOTTOM?e+=n-s-a:e+=(n-s)/2,new mxRectangle(t,e,r,s)},mxLabel.prototype.paintIndicator=function(t,e,i,n,l){if(null!=this.indicator)this.indicator.bounds=this.getIndicatorBounds(e,i,n,l),this.indicator.paint(t);else if(null!=this.indicatorImage){var o=this.getIndicatorBounds(e,i,n,l);t.image(o.x,o.y,o.width,o.height,this.indicatorImage,!1,!1,!1)}},mxLabel.prototype.getIndicatorBounds=function(t,e,i,n){var l=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),o=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),r=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_WIDTH,this.indicatorSize),s=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_HEIGHT,this.indicatorSize),a=this.spacing+5;return l==mxConstants.ALIGN_RIGHT?t+=i-r-a:l==mxConstants.ALIGN_CENTER?t+=(i-r)/2:t+=a,o==mxConstants.ALIGN_BOTTOM?e+=n-s-a:o==mxConstants.ALIGN_TOP?e+=a:e+=(n-s)/2,new mxRectangle(t,e,r,s)},mxLabel.prototype.redrawHtmlShape=function(){for(mxRectangleShape.prototype.redrawHtmlShape.apply(this,arguments);this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);if(null!=this.image){var t=document.createElement("img");t.style.position="relative",t.setAttribute("border","0");var e=this.getImageBounds(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);e.x-=this.bounds.x,e.y-=this.bounds.y,t.style.left=Math.round(e.x)+"px",t.style.top=Math.round(e.y)+"px",t.style.width=Math.round(e.width)+"px",t.style.height=Math.round(e.height)+"px",t.src=this.image,this.node.appendChild(t)}},mxUtils.extend(mxCylinder,mxShape),mxCylinder.prototype.maxHeight=40,mxCylinder.prototype.svgStrokeTolerance=0,mxCylinder.prototype.paintVertexShape=function(t,e,i,n,l){t.translate(e,i),t.begin(),this.redrawPath(t,e,i,n,l,!1),t.fillAndStroke(),t.setShadow(!1),t.begin(),this.redrawPath(t,e,i,n,l,!0),t.stroke()},mxCylinder.prototype.redrawPath=function(t,e,i,n,l,o){var r=Math.min(this.maxHeight,Math.round(l/5));(o&&null!=this.fill||!o&&null==this.fill)&&(t.moveTo(0,r),t.curveTo(0,2*r,n,2*r,n,r),o||(t.stroke(),t.begin())),o||(t.moveTo(0,r),t.curveTo(0,-r/3,n,-r/3,n,r),t.lineTo(n,l-r),t.curveTo(n,l+r/3,0,l+r/3,0,l-r),t.close())},mxUtils.extend(mxConnector,mxPolyline),mxConnector.prototype.updateBoundingBox=function(){this.useSvgBoundingBox=null!=this.style&&1==this.style[mxConstants.STYLE_CURVED],mxShape.prototype.updateBoundingBox.apply(this,arguments)},mxConnector.prototype.paintEdgeShape=function(t,e){var i=this.createMarker(t,e,!0),n=this.createMarker(t,e,!1);mxPolyline.prototype.paintEdgeShape.apply(this,arguments),t.setFillColor(this.stroke),t.setShadow(!1),t.setDashed(!1),null!=i&&i(),null!=n&&n()},mxConnector.prototype.createMarker=function(t,e,i){var n=null,l=e.length,o=mxUtils.getValue(this.style,i?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW),r=i?e[1]:e[l-2],s=i?e[0]:e[l-1];if(null!=o&&null!=r&&null!=s){for(var a=1;a<l-1&&0==Math.round(r.x-s.x)&&0==Math.round(r.y-s.y);)r=i?e[1+a]:e[l-2-a],a++;var g=s.x-r.x,C=s.y-r.y,h=Math.max(1,Math.sqrt(g*g+C*C)),A=g/h,I=C/h,c=mxUtils.getNumber(this.style,i?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE),d=0!=this.style[i?mxConstants.STYLE_STARTFILL:mxConstants.STYLE_ENDFILL];n=mxMarker.createMarker(t,this,o,s,A,I,c,i,this.arrowStrokewidth,d)}return n},mxConnector.prototype.augmentBoundingBox=function(t){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var e=0;mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&(e=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_MARKERSIZE)+1),mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&(e=Math.max(e,mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE))+1),t.grow(e*this.scale)},mxUtils.extend(mxSwimlane,mxShape),mxSwimlane.prototype.imageSize=16,mxSwimlane.prototype.getTitleSize=function(){return Math.max(0,mxUtils.getValue(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE))},mxSwimlane.prototype.getLabelBounds=function(t){var e=this.getTitleSize(),i=new mxRectangle(t.x,t.y,t.width,t.height),n=this.isHorizontal(),l=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0),o=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0),r=this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH,s=n==!r,a=!s&&l!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST),g=s&&o!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);if(r){C=Math.min(i.width,e*this.scale);(a||g)&&(i.x+=i.width-C),i.width=C}else{var C=Math.min(i.height,e*this.scale);(a||g)&&(i.y+=i.height-C),i.height=C}return i},mxSwimlane.prototype.getGradientBounds=function(t,e,i,n,l){var o=this.getTitleSize();return this.isHorizontal()?(o=Math.min(o,l),new mxRectangle(e,i,n,o)):(o=Math.min(o,n),new mxRectangle(e,i,o,l))},mxSwimlane.prototype.getArcSize=function(t,e,i){return i*(mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100)*3},mxSwimlane.prototype.isHorizontal=function(){return 1==mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)},mxSwimlane.prototype.paintVertexShape=function(t,e,i,n,l){var o=this.getTitleSize(),r=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE),s=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_LINE,1),a=0;o=this.isHorizontal()?Math.min(o,l):Math.min(o,n),t.translate(e,i),this.isRounded?(a=this.getArcSize(n,l,o),this.paintRoundedSwimlane(t,e,i,n,l,o,a,r,s)):this.paintSwimlane(t,e,i,n,l,o,r,s);var g=mxUtils.getValue(this.style,mxConstants.STYLE_SEPARATORCOLOR,mxConstants.NONE);if(this.paintSeparator(t,e,i,n,l,o,g),null!=this.image){var C=this.getImageBounds(e,i,n,l);t.image(C.x-e,C.y-i,C.width,C.height,this.image,!1,!1,!1)}this.glass&&(t.setShadow(!1),this.paintGlassEffect(t,0,0,n,o,a))},mxSwimlane.prototype.paintSwimlane=function(t,e,i,n,l,o,r,s){r!=mxConstants.NONE&&(t.save(),t.setFillColor(r),t.rect(0,0,n,l),t.fillAndStroke(),t.restore(),t.setShadow(!1)),t.begin(),this.isHorizontal()?(t.moveTo(0,o),t.lineTo(0,0),t.lineTo(n,0),t.lineTo(n,o),(s||o>=l)&&t.close(),t.fillAndStroke(),o<l&&r==mxConstants.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(0,o),t.lineTo(0,l),t.lineTo(n,l),t.lineTo(n,o),t.stroke())):(t.moveTo(o,0),t.lineTo(0,0),t.lineTo(0,l),t.lineTo(o,l),(s||o>=n)&&t.close(),t.fillAndStroke(),o<n&&r==mxConstants.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(o,0),t.lineTo(n,0),t.lineTo(n,l),t.lineTo(o,l),t.stroke()))},mxSwimlane.prototype.paintRoundedSwimlane=function(t,e,i,n,l,o,r,s,a){s!=mxConstants.NONE&&(t.save(),t.setFillColor(s),t.roundrect(0,0,n,l,r,r),t.fillAndStroke(),t.restore(),t.setShadow(!1)),t.begin(),this.isHorizontal()?(t.moveTo(n,o),t.lineTo(n,r),t.quadTo(n,0,n-Math.min(n/2,r),0),t.lineTo(Math.min(n/2,r),0),t.quadTo(0,0,0,r),t.lineTo(0,o),(a||o>=l)&&t.close(),t.fillAndStroke(),o<l&&s==mxConstants.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(0,o),t.lineTo(0,l-r),t.quadTo(0,l,Math.min(n/2,r),l),t.lineTo(n-Math.min(n/2,r),l),t.quadTo(n,l,n,l-r),t.lineTo(n,o),t.stroke())):(t.moveTo(o,0),t.lineTo(r,0),t.quadTo(0,0,0,Math.min(l/2,r)),t.lineTo(0,l-Math.min(l/2,r)),t.quadTo(0,l,r,l),t.lineTo(o,l),(a||o>=n)&&t.close(),t.fillAndStroke(),o<n&&s==mxConstants.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(o,l),t.lineTo(n-r,l),t.quadTo(n,l,n,l-Math.min(l/2,r)),t.lineTo(n,Math.min(l/2,r)),t.quadTo(n,0,n-r,0),t.lineTo(o,0),t.stroke()))},mxSwimlane.prototype.paintSeparator=function(t,e,i,n,l,o,r){r!=mxConstants.NONE&&(t.setStrokeColor(r),t.setDashed(!0),t.begin(),this.isHorizontal()?(t.moveTo(n,o),t.lineTo(n,l)):(t.moveTo(o,0),t.lineTo(n,0)),t.stroke(),t.setDashed(!1))},mxSwimlane.prototype.getImageBounds=function(t,e,i,n){return this.isHorizontal()?new mxRectangle(t+i-this.imageSize,e,this.imageSize,this.imageSize):new mxRectangle(t,e,this.imageSize,this.imageSize)},mxGraphLayout.prototype.graph=null,mxGraphLayout.prototype.useBoundingBox=!0,mxGraphLayout.prototype.parent=null,mxGraphLayout.prototype.moveCell=function(t,e,i){},mxGraphLayout.prototype.execute=function(t){},mxGraphLayout.prototype.getGraph=function(){return this.graph},mxGraphLayout.prototype.getConstraint=function(t,e,i,n){var l=this.graph.view.getState(e),o=null!=l?l.style:this.graph.getCellStyle(e);return null!=o?o[t]:null},mxGraphLayout.traverse=function(t,e,i,n,l){if(null!=i&&null!=t&&(e=null==e||e,!(l=l||new mxDictionary).get(t))){l.put(t,!0);var o=i(t,n);if(null==o||o){var r=this.graph.model.getEdgeCount(t);if(r>0)for(var s=0;s<r;s++){var a=this.graph.model.getEdgeAt(t,s),g=this.graph.model.getTerminal(a,!0)==t;if(!e||g){var C=this.graph.view.getVisibleTerminal(a,!g);this.traverse(C,e,i,a,l)}}}}},mxGraphLayout.prototype.isVertexMovable=function(t){return this.graph.isCellMovable(t)},mxGraphLayout.prototype.isVertexIgnored=function(t){return!this.graph.getModel().isVertex(t)||!this.graph.isCellVisible(t)},mxGraphLayout.prototype.isEdgeIgnored=function(t){var e=this.graph.getModel();return!e.isEdge(t)||!this.graph.isCellVisible(t)||null==e.getTerminal(t,!0)||null==e.getTerminal(t,!1)},mxGraphLayout.prototype.setEdgeStyleEnabled=function(t,e){this.graph.setCellStyles(mxConstants.STYLE_NOEDGESTYLE,e?"0":"1",[t])},mxGraphLayout.prototype.setOrthogonalEdge=function(t,e){this.graph.setCellStyles(mxConstants.STYLE_ORTHOGONAL,e?"1":"0",[t])},mxGraphLayout.prototype.getParentOffset=function(t){var e=new mxPoint;if(null!=t&&t!=this.parent){var i=this.graph.getModel();if(i.isAncestor(this.parent,t))for(var n=i.getGeometry(t);t!=this.parent;)e.x=e.x+n.x,e.y=e.y+n.y,t=i.getParent(t),n=i.getGeometry(t)}return e},mxGraphLayout.prototype.setEdgePoints=function(t,e){if(null!=t){var i=this.graph.model,n=i.getGeometry(t);if(null==n?(n=new mxGeometry).setRelative(!0):n=n.clone(),null!=this.parent&&null!=e)for(var l=i.getParent(t),o=this.getParentOffset(l),r=0;r<e.length;r++)e[r].x=e[r].x-o.x,e[r].y=e[r].y-o.y;n.points=e,i.setGeometry(t,n)}},mxGraphLayout.prototype.setVertexLocation=function(t,e,i){var n=this.graph.getModel(),l=n.getGeometry(t),o=null;if(null!=l){if(o=new mxRectangle(e,i,l.width,l.height),this.useBoundingBox){var r=this.graph.getView().getState(t);if(null!=r&&null!=r.text&&null!=r.text.boundingBox){var s=this.graph.getView().scale,a=r.text.boundingBox;r.text.boundingBox.x<r.x&&(e+=(r.x-a.x)/s,o.width=a.width),r.text.boundingBox.y<r.y&&(i+=(r.y-a.y)/s,o.height=a.height)}}if(null!=this.parent){var g=n.getParent(t);if(null!=g&&g!=this.parent){var C=this.getParentOffset(g);e-=C.x,i-=C.y}}l.x==e&&l.y==i||((l=l.clone()).x=e,l.y=i,n.setGeometry(t,l))}return o},mxGraphLayout.prototype.getVertexBounds=function(t){var e=this.graph.getModel().getGeometry(t);if(this.useBoundingBox){var i=this.graph.getView().getState(t);if(null!=i&&null!=i.text&&null!=i.text.boundingBox){var n=this.graph.getView().scale,l=i.text.boundingBox,o=Math.max(i.x-l.x,0)/n,r=Math.max(i.y-l.y,0)/n,s=Math.max(l.x+l.width-(i.x+i.width),0)/n,a=Math.max(l.y+l.height-(i.y+i.height),0)/n;e=new mxRectangle(e.x-o,e.y-r,e.width+o+s,e.height+r+a)}}if(null!=this.parent){var g=this.graph.getModel().getParent(t);if(e=e.clone(),null!=g&&g!=this.parent){var C=this.getParentOffset(g);e.x=e.x+C.x,e.y=e.y+C.y}}return new mxRectangle(e.x,e.y,e.width,e.height)},mxGraphLayout.prototype.arrangeGroups=function(t,e,i,n,l,o){return this.graph.updateGroupBounds(t,e,!0,i,n,l,o)},mxStackLayout.prototype=new mxGraphLayout,mxStackLayout.prototype.constructor=mxStackLayout,mxStackLayout.prototype.horizontal=null,mxStackLayout.prototype.spacing=null,mxStackLayout.prototype.x0=null,mxStackLayout.prototype.y0=null,mxStackLayout.prototype.border=0,mxStackLayout.prototype.marginTop=0,mxStackLayout.prototype.marginLeft=0,mxStackLayout.prototype.marginRight=0,mxStackLayout.prototype.marginBottom=0,mxStackLayout.prototype.keepFirstLocation=!1,mxStackLayout.prototype.fill=!1,mxStackLayout.prototype.resizeParent=!1,mxStackLayout.prototype.resizeParentMax=!1,mxStackLayout.prototype.resizeLast=!1,mxStackLayout.prototype.wrap=null,mxStackLayout.prototype.borderCollapse=!0,mxStackLayout.prototype.isHorizontal=function(){return this.horizontal},mxStackLayout.prototype.moveCell=function(t,e,i){var n=this.graph.getModel(),l=n.getParent(t),o=this.isHorizontal();if(null!=t&&null!=l){var r=0,s=0,a=n.getChildCount(l),g=o?e:i,C=this.graph.getView().getState(l);for(null!=C&&(g-=o?C.x:C.y),g/=this.graph.view.scale,r=0;r<a;r++){var h=n.getChildAt(l,r);if(h!=t){var A=n.getGeometry(h);if(null!=A){var I=o?A.x+A.width/2:A.y+A.height/2;if(s<=g&&I>g)break;s=I}}}var c=l.getIndex(t);c=Math.max(0,r-(r>c?1:0)),n.add(l,t,c)}},mxStackLayout.prototype.getParentSize=function(t){var e=this.graph.getModel(),i=e.getGeometry(t);return null!=this.graph.container&&(null==i&&e.isLayer(t)||t==this.graph.getView().currentRoot)&&(i=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1)),i},mxStackLayout.prototype.execute=function(t){if(null!=t){var e=this.getParentSize(t),i=this.isHorizontal(),n=this.graph.getModel(),l=null;null!=e&&(l=i?e.height-this.marginTop-this.marginBottom:e.width-this.marginLeft-this.marginRight),l-=2*this.spacing+2*this.border;var o=this.x0+this.border+this.marginLeft,r=this.y0+this.border+this.marginTop;if(this.graph.isSwimlane(t)){var s=this.graph.getCellStyle(t),a=mxUtils.getNumber(s,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE),g=1==mxUtils.getValue(s,mxConstants.STYLE_HORIZONTAL,!0);null!=e&&(a=g?Math.min(a,e.height):Math.min(a,e.width)),i==g&&(l-=a),g?r+=a:o+=a}n.beginUpdate();try{for(var C=0,h=null,A=0,I=null,c=n.getChildCount(t),d=0;d<c;d++){var u=n.getChildAt(t,d);if(!this.isVertexIgnored(u)&&this.isVertexMovable(u)){var p=n.getGeometry(u);if(null!=p){p=p.clone(),null!=this.wrap&&null!=h&&(i&&h.x+h.width+p.width+2*this.spacing>this.wrap||!i&&h.y+h.height+p.height+2*this.spacing>this.wrap)&&(h=null,i?r+=C+this.spacing:o+=C+this.spacing,C=0),C=Math.max(C,i?p.height:p.width);var m=0;if(!this.borderCollapse){var x=this.graph.getCellStyle(u);m=mxUtils.getNumber(x,mxConstants.STYLE_STROKEWIDTH,1)}null!=h?i?p.x=A+this.spacing+Math.floor(m/2):p.y=A+this.spacing+Math.floor(m/2):this.keepFirstLocation||(i?p.x=o:p.y=r),i?p.y=r:p.x=o,this.fill&&null!=l&&(i?p.height=l:p.width=l),this.setChildGeometry(u,p),I=u,h=p,A=i?h.x+h.width+Math.floor(m/2):h.y+h.height+Math.floor(m/2)}}}this.resizeParent&&null!=e&&null!=h&&!this.graph.isCellCollapsed(t)?this.updateParentGeometry(t,e,h):this.resizeLast&&null!=e&&null!=h&&null!=I&&(i?h.width=e.width-h.x-this.spacing-this.marginRight-this.marginLeft:h.height=e.height-h.y-this.spacing-this.marginBottom,this.setChildGeometry(I,h))}finally{n.endUpdate()}}},mxStackLayout.prototype.setChildGeometry=function(t,e){var i=this.graph.getCellGeometry(t);null!=i&&e.x==i.x&&e.y==i.y&&e.width==i.width&&e.height==i.height||this.graph.getModel().setGeometry(t,e)},mxStackLayout.prototype.updateParentGeometry=function(t,e,i){var n=this.isHorizontal(),l=this.graph.getModel(),o=e.clone();if(n){r=i.x+i.width+this.spacing+this.marginRight;this.resizeParentMax?o.width=Math.max(o.width,r):o.width=r}else{var r=i.y+i.height+this.spacing+this.marginBottom;this.resizeParentMax?o.height=Math.max(o.height,r):o.height=r}e.x==o.x&&e.y==o.y&&e.width==o.width&&e.height==o.height||l.setGeometry(t,o)},mxPartitionLayout.prototype=new mxGraphLayout,mxPartitionLayout.prototype.constructor=mxPartitionLayout,mxPartitionLayout.prototype.horizontal=null,mxPartitionLayout.prototype.spacing=null,mxPartitionLayout.prototype.border=null,mxPartitionLayout.prototype.resizeVertices=!0,mxPartitionLayout.prototype.isHorizontal=function(){return this.horizontal},mxPartitionLayout.prototype.moveCell=function(t,e,i){var n=this.graph.getModel(),l=n.getParent(t);if(null!=t&&null!=l){var o=0,r=0,s=n.getChildCount(l);for(o=0;o<s;o++){var a=n.getChildAt(l,o),g=this.getVertexBounds(a);if(null!=g){var C=g.x+g.width/2;if(r<e&&C>e)break;r=C}}var h=l.getIndex(t);h=Math.max(0,o-(o>h?1:0)),n.add(l,t,h)}},mxPartitionLayout.prototype.execute=function(t){var e=this.isHorizontal(),i=this.graph.getModel(),n=i.getGeometry(t);if(null!=this.graph.container&&(null==n&&i.isLayer(t)||t==this.graph.getView().currentRoot)&&(n=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1)),null!=n){for(var l=[],o=i.getChildCount(t),r=0;r<o;r++){c=i.getChildAt(t,r);!this.isVertexIgnored(c)&&this.isVertexMovable(c)&&l.push(c)}var s=l.length;if(s>0){var a=this.border,g=this.border,C=e?n.height:n.width;C-=2*this.border;var h=this.graph.isSwimlane(t)?this.graph.getStartSize(t):new mxRectangle;C-=e?h.height:h.width,a+=h.width,g+=h.height;var A=this.border+(s-1)*this.spacing,I=e?(n.width-a-A)/s:(n.height-g-A)/s;if(I>0){i.beginUpdate();try{for(r=0;r<s;r++){var c=l[r],d=i.getGeometry(c);null!=d&&((d=d.clone()).x=a,d.y=g,e?(this.resizeVertices&&(d.width=I,d.height=C),a+=I+this.spacing):(this.resizeVertices&&(d.height=I,d.width=C),g+=I+this.spacing),i.setGeometry(c,d))}}finally{i.endUpdate()}}}}},mxCompactTreeLayout.prototype=new mxGraphLayout,mxCompactTreeLayout.prototype.constructor=mxCompactTreeLayout,mxCompactTreeLayout.prototype.horizontal=null,mxCompactTreeLayout.prototype.invert=null,mxCompactTreeLayout.prototype.resizeParent=!0,mxCompactTreeLayout.prototype.maintainParentLocation=!1,mxCompactTreeLayout.prototype.groupPadding=10,mxCompactTreeLayout.prototype.groupPaddingTop=0,mxCompactTreeLayout.prototype.groupPaddingRight=0,mxCompactTreeLayout.prototype.groupPaddingBottom=0,mxCompactTreeLayout.prototype.groupPaddingLeft=0,mxCompactTreeLayout.prototype.parentsChanged=null,mxCompactTreeLayout.prototype.moveTree=!1,mxCompactTreeLayout.prototype.visited=null,mxCompactTreeLayout.prototype.levelDistance=10,mxCompactTreeLayout.prototype.nodeDistance=20,mxCompactTreeLayout.prototype.resetEdges=!0,mxCompactTreeLayout.prototype.prefHozEdgeSep=5,mxCompactTreeLayout.prototype.prefVertEdgeOff=4,mxCompactTreeLayout.prototype.minEdgeJetty=8,mxCompactTreeLayout.prototype.channelBuffer=4,mxCompactTreeLayout.prototype.edgeRouting=!0,mxCompactTreeLayout.prototype.sortEdges=!1,mxCompactTreeLayout.prototype.alignRanks=!1,mxCompactTreeLayout.prototype.maxRankHeight=null,mxCompactTreeLayout.prototype.root=null,mxCompactTreeLayout.prototype.node=null,mxCompactTreeLayout.prototype.filterChildFlag=!1,mxCompactTreeLayout.prototype.isVertexIgnored=function(t){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||!this.filterChildFlag&&0==this.graph.getConnections(t).length||this.filterChildFlag&&0==this.getEdges(t)},mxCompactTreeLayout.prototype.findRoots=function(t,e){var i=[];if(null!=t&&null!=e){var n=this.graph.model,l=null,o=-1e5;for(var r in e){var s=e[r],a=n.getChildCount(s);if(n.isVertex(s)&&this.graph.isCellVisible(s)){for(var g=this.getEdges(s),C=0,h=0,A=0;A<g.length;A++){var I=this.getVisibleTerminal(g[A],!0);I==s||this.filterChildFlag&&a>0&&mxUtils.indexOfNestedArray(s.children,I,"children")>=0?C++:h++}0==h&&C>0&&i.push(s);var c=C-h;c>o&&(o=c,l=s)}}0==i.length&&null!=l&&i.push(l)}return i},mxCompactTreeLayout.prototype.getEdges=function(t){for(var e=this.getAllEdges(t),i=[],n=0;n<e.length;n++){var l=this.getVisibleTerminal(e[n],!0),o=this.getVisibleTerminal(e[n],!1);(l==o||l!=o&&((o==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,o,"children")>=0)&&(null==this.parent||this.graph.isValidAncestor(l,this.parent,!0))||(l==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,l,"children")>=0)&&(null==this.parent||this.graph.isValidAncestor(o,this.parent,!0))))&&i.push(e[n])}return i},mxCompactTreeLayout.prototype.getAllEdges=function(t){for(var e=[],i=this.graph.model,n=i.getChildCount(t),l=0;l<n;l++){var o=i.getChildAt(t,l);e=e.concat(this.getAllEdges(o))}return e=e.concat(i.getEdges(t,!0,!0))},mxCompactTreeLayout.prototype.getVisibleTerminal=function(t,e){var i=this.graph.view.getState(t),n=null!=i?i.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e);return null==n&&(n=null!=i?i.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e)),null!=n&&this.isPort(n)&&(n=this.graph.model.getParent(n)),n},mxCompactTreeLayout.prototype.filterDescendants=function(t,e){var i=this.graph.model;if(i.isVertex(t)&&t!=this.parent&&this.graph.isCellVisible(t)&&(e[mxObjectIdentity.get(t)]=t),this.graph.isCellVisible(t))for(var n=i.getChildCount(t),l=0;l<n;l++){var o=i.getChildAt(t,l);this.isPort(o)||(this.filterChildFlag?i.isVertex(o)&&o!=this.parent&&this.graph.isCellVisible(o)&&(e[mxObjectIdentity.get(o)]=o):this.filterDescendants(o,e))}},mxCompactTreeLayout.prototype.isPort=function(t){return!!t.geometry.relative},mxCompactTreeLayout.prototype.isHorizontal=function(){return this.horizontal},mxCompactTreeLayout.prototype.execute=function(t,e){this.parent=t;var i=this.graph,n=i.getModel();if(null==e){var l=i.getSelectionCell(),o=Object(),r=null;this.filterDescendants(t,o),r=null==l?this.findRoots(t,o):[l];var s=[];for(var a in o)null!=o[a]&&s.push(o[a]);null!=r&&r.length>0&&(this.root=r[0])}else this.root=e;if(null!=this.root){this.resizeParent?this.parentsChanged=new Object:this.parentsChanged=null,this.parentX=null,this.parentY=null,t!=this.root&&null!=n.isVertex(t)&&this.maintainParentLocation&&null!=(d=this.graph.getCellGeometry(t))&&(this.parentX=d.x,this.parentY=d.y),n.beginUpdate();try{if(this.visited=new Object,this.node=this.dfs(this.root,t,s),this.alignRanks&&(this.maxRankHeight=[],this.findRankHeights(this.node,0),this.setCellHeights(this.node,0)),null!=this.node){this.layout(this.node);var g=this.graph.gridSize,C=g;if(!this.moveTree){var h=this.getVertexBounds(this.root);null!=h&&(g=h.x,C=h.y)}var A=null;if(null!=(A=this.isHorizontal()?this.horizontalLayout(this.node,g,C):this.verticalLayout(this.node,null,g,C))){var I=0,c=0;A.x<0&&(I=Math.abs(g-A.x)),A.y<0&&(c=Math.abs(C-A.y)),0==I&&0==c||this.moveNode(this.node,I,c),this.resizeParent&&this.adjustParents(),this.edgeRouting&&this.localEdgeProcessing(this.node)}if(null!=this.parentX&&null!=this.parentY){var d=this.graph.getCellGeometry(t);null!=d&&((d=d.clone()).x=this.parentX,d.y=this.parentY,n.setGeometry(t,d))}}}finally{n.endUpdate()}}},mxCompactTreeLayout.prototype.moveNode=function(t,e,i){t.x+=e,t.y+=i,this.apply(t);for(var n=t.child;null!=n;)this.moveNode(n,e,i),n=n.next},mxCompactTreeLayout.prototype.sortOutgoingEdges=function(t,e){var i=new mxDictionary;e.sort(function(e,n){var l=e.getTerminal(e.getTerminal(!1)==t),o=i.get(l);null==o&&(o=mxCellPath.create(l).split(mxCellPath.PATH_SEPARATOR),i.put(l,o));var r=n.getTerminal(n.getTerminal(!1)==t),s=i.get(r);return null==s&&(s=mxCellPath.create(r).split(mxCellPath.PATH_SEPARATOR),i.put(r,s)),mxCellPath.compare(o,s)})},mxCompactTreeLayout.prototype.findRankHeights=function(t,e){(null==this.maxRankHeight[e]||this.maxRankHeight[e]<t.height)&&(this.maxRankHeight[e]=t.height);for(var i=t.child;null!=i;)this.findRankHeights(i,e+1),i=i.next},mxCompactTreeLayout.prototype.setCellHeights=function(t,e){null!=this.maxRankHeight[e]&&this.maxRankHeight[e]>t.height&&(t.height=this.maxRankHeight[e]);for(var i=t.child;null!=i;)this.setCellHeights(i,e+1),i=i.next},mxCompactTreeLayout.prototype.dfs=function(t,e,i){var n=mxCellPath.create(t),l=null;if(null!=t&&null==this.visited[n]&&!this.isVertexIgnored(t)){this.visited[n]=t,l=this.createNode(t);var o=this.graph.getModel(),r=null,s=this.getEdges(t),a=this.graph.getView();this.sortEdges&&this.sortOutgoingEdges(t,s);for(var g=0;g<s.length;g++){var C=s[g];if(!this.isEdgeIgnored(C)){this.resetEdges&&this.setEdgePoints(C,null),this.edgeRouting&&(this.setEdgeStyleEnabled(C,!1),this.setEdgePoints(C,null));var h=a.getState(C),A=null!=h?h.getVisibleTerminal(this.invert):a.getVisibleTerminal(C,this.invert);if(this.filterChildFlag&&null!=i){var I=mxUtils.indexOfNestedArray(i,A,"children");I>=0&&(A=i[I])}var c=this.dfs(A,e,i);null!=c&&null!=o.getGeometry(A)&&(null==r?l.child=c:r.next=c,r=c)}}}return l},mxCompactTreeLayout.prototype.layout=function(t){if(null!=t){for(var e=t.child;null!=e;)this.layout(e),e=e.next;null!=t.child?this.attachParent(t,this.join(t)):this.layoutLeaf(t)}},mxCompactTreeLayout.prototype.horizontalLayout=function(t,e,i,n){t.x+=e+t.offsetX,t.y+=i+t.offsetY,
n=this.apply(t,n);var l=t.child;if(null!=l){n=this.horizontalLayout(l,t.x,t.y,n);for(var o=t.y+l.offsetY,r=l.next;null!=r;)n=this.horizontalLayout(r,t.x+l.offsetX,o,n),o+=r.offsetY,r=r.next}return n},mxCompactTreeLayout.prototype.verticalLayout=function(t,e,i,n,l){t.x+=i+t.offsetY,t.y+=n+t.offsetX,l=this.apply(t,l);var o=t.child;if(null!=o){l=this.verticalLayout(o,t,t.x,t.y,l);for(var r=t.x+o.offsetY,s=o.next;null!=s;)l=this.verticalLayout(s,t,r,t.y+o.offsetX,l),r+=s.offsetY,s=s.next}return l},mxCompactTreeLayout.prototype.attachParent=function(t,e){var i=this.nodeDistance+this.levelDistance,n=(e-t.width)/2-this.nodeDistance,l=n+t.width+2*this.nodeDistance-e;t.child.offsetX=i+t.height,t.child.offsetY=l,t.contour.upperHead=this.createLine(t.height,0,this.createLine(i,l,t.contour.upperHead)),t.contour.lowerHead=this.createLine(t.height,0,this.createLine(i,n,t.contour.lowerHead))},mxCompactTreeLayout.prototype.layoutLeaf=function(t){var e=2*this.nodeDistance;t.contour.upperTail=this.createLine(t.height+e,0),t.contour.upperHead=t.contour.upperTail,t.contour.lowerTail=this.createLine(0,-t.width-e),t.contour.lowerHead=this.createLine(t.height+e,0,t.contour.lowerTail)},mxCompactTreeLayout.prototype.join=function(t){var e=2*this.nodeDistance,i=t.child;t.contour=i.contour;var n=i.width+e,l=n;for(i=i.next;null!=i;){var o=this.merge(t.contour,i.contour);i.offsetY=o+n,i.offsetX=0,l+=o+(n=i.width+e),i=i.next}return l},mxCompactTreeLayout.prototype.merge=function(t,e){for(var i=0,n=0,l=0,o=t.lowerHead,r=e.upperHead;null!=r&&null!=o;){var s=this.offset(i,n,r.dx,r.dy,o.dx,o.dy);n+=s,l+=s,i+r.dx<=o.dx?(i+=r.dx,n+=r.dy,r=r.next):(i-=o.dx,n-=o.dy,o=o.next)}if(null!=r){var a=this.bridge(t.upperTail,0,0,r,i,n);t.upperTail=null!=a.next?e.upperTail:a,t.lowerTail=e.lowerTail}else null==(a=this.bridge(e.lowerTail,i,n,o,0,0)).next&&(t.lowerTail=a);return t.lowerHead=e.lowerHead,l},mxCompactTreeLayout.prototype.offset=function(t,e,i,n,l,o){var r=0;if(l<=t||t+i<=0)return 0;if(l*n-i*o>0)r=t<0?(s=t*n)/i-e:t>0?(s=t*o)/l-e:-e;else if(l<t+i)r=o-(e+(s=(l-t)*n)/i);else if(l>t+i){var s=(i+t)*o;r=s/l-(e+n)}else r=o-(e+n);return r>0?r:0},mxCompactTreeLayout.prototype.bridge=function(t,e,i,n,l,o){var r=l+n.dx-e,s=0;s=0==n.dx?n.dy:r*n.dy/n.dx;var a=this.createLine(r,s,n.next);return t.next=this.createLine(0,o+n.dy-s-i,a),a},mxCompactTreeLayout.prototype.createNode=function(t){var e=new Object;e.cell=t,e.x=0,e.y=0,e.width=0,e.height=0;var i=this.getVertexBounds(t);return null!=i&&(this.isHorizontal()?(e.width=i.height,e.height=i.width):(e.width=i.width,e.height=i.height)),e.offsetX=0,e.offsetY=0,e.contour=new Object,e},mxCompactTreeLayout.prototype.apply=function(t,e){var i=this.graph.getModel(),n=t.cell,l=i.getGeometry(n);if(null!=n&&null!=l){if(this.isVertexMovable(n)&&(l=this.setVertexLocation(n,t.x,t.y),this.resizeParent)){var o=i.getParent(n),r=mxCellPath.create(o);null==this.parentsChanged[r]&&(this.parentsChanged[r]=o)}e=null==e?new mxRectangle(l.x,l.y,l.width,l.height):new mxRectangle(Math.min(e.x,l.x),Math.min(e.y,l.y),Math.max(e.x+e.width,l.x+l.width),Math.max(e.y+e.height,l.y+l.height))}return e},mxCompactTreeLayout.prototype.createLine=function(t,e,i){var n=new Object;return n.dx=t,n.dy=e,n.next=i,n},mxCompactTreeLayout.prototype.adjustParents=function(){var t=[];for(var e in this.parentsChanged)t.push(this.parentsChanged[e]);this.arrangeGroups(mxUtils.sortCells(t,!0),this.groupPadding,this.groupPaddingTop,this.groupPaddingRight,this.groupPaddingBottom,this.groupPaddingLeft)},mxCompactTreeLayout.prototype.localEdgeProcessing=function(t){this.processNodeOutgoing(t);for(var e=t.child;null!=e;)this.localEdgeProcessing(e),e=e.next},mxCompactTreeLayout.prototype.processNodeOutgoing=function(t){for(var e=t.child,i=t.cell,n=0,l=[];null!=e;){n++;var o=e.x;this.horizontal&&(o=e.y),l.push(new WeightedCellSorter(e,o)),e=e.next}l.sort(WeightedCellSorter.prototype.compare);var r=t.width,s=(n+1)*this.prefHozEdgeSep;r>s+2*this.prefHozEdgeSep&&(r-=2*this.prefHozEdgeSep);var a=r/n,g=a/2;r>s+2*this.prefHozEdgeSep&&(g+=this.prefHozEdgeSep);var C=this.minEdgeJetty-this.prefVertEdgeOff,h=0,A=this.getVertexBounds(i);e=t.child;for(var I=0;I<l.length;I++){for(var c=l[I].cell.cell,d=this.getVertexBounds(c),u=this.graph.getEdgesBetween(i,c,!1),p=[],m=0,x=0,v=0;v<u.length;v++)this.horizontal?(m=A.x+A.width,x=A.y+g,p.push(new mxPoint(m,x)),m=A.x+A.width+C,p.push(new mxPoint(m,x)),x=d.y+d.height/2,p.push(new mxPoint(m,x)),this.setEdgePoints(u[v],p)):(m=A.x+g,x=A.y+A.height,p.push(new mxPoint(m,x)),x=A.y+A.height+C,p.push(new mxPoint(m,x)),m=d.x+d.width/2,p.push(new mxPoint(m,x)),this.setEdgePoints(u[v],p));I<n/2?C+=this.prefVertEdgeOff:I>n/2&&(C-=this.prefVertEdgeOff),g+=a,h=Math.max(h,C)}},WeightedCellSorter.prototype.weightedValue=0,WeightedCellSorter.prototype.nudge=!1,WeightedCellSorter.prototype.visited=!1,WeightedCellSorter.prototype.rankIndex=null,WeightedCellSorter.prototype.cell=null,WeightedCellSorter.prototype.compare=function(t,e){return null!=t&&null!=e?e.weightedValue>t.weightedValue?1:e.weightedValue<t.weightedValue?-1:e.nudge?1:-1:0},mxUtils.extend(mxRadialTreeLayout,mxCompactTreeLayout),mxRadialTreeLayout.prototype.angleOffset=.5,mxRadialTreeLayout.prototype.rootx=0,mxRadialTreeLayout.prototype.rooty=0,mxRadialTreeLayout.prototype.levelDistance=120,mxRadialTreeLayout.prototype.nodeDistance=10,mxRadialTreeLayout.prototype.autoRadius=!1,mxRadialTreeLayout.prototype.sortEdges=!1,mxRadialTreeLayout.prototype.rowMinX=[],mxRadialTreeLayout.prototype.rowMaxX=[],mxRadialTreeLayout.prototype.rowMinCenX=[],mxRadialTreeLayout.prototype.rowMaxCenX=[],mxRadialTreeLayout.prototype.rowRadi=[],mxRadialTreeLayout.prototype.row=[],mxRadialTreeLayout.prototype.filterChildFlag=!1,mxRadialTreeLayout.prototype.execute=function(t,e){this.parent=t,this.useBoundingBox=!1,this.edgeRouting=!1,mxCompactTreeLayout.prototype.execute.apply(this,arguments);var i=null,n=this.getVertexBounds(this.root);this.centerX=n.x+n.width/2,this.centerY=n.y+n.height/2;for(var l in this.visited){b=this.getVertexBounds(this.visited[l]);(i=null!=i?i:b.clone()).add(b)}this.calcRowDims([this.node],0);for(var o=0,r=0,s=0;s<this.row.length;s++){var a=(this.centerX-this.rowMinX[s]-this.nodeDistance)/this.rowRadi[s],g=(this.rowMaxX[s]-this.centerX-this.nodeDistance)/this.rowRadi[s];o=Math.max(o,a),r=Math.max(r,g)}for(s=0;s<this.row.length;s++)for(var C=this.centerX-this.nodeDistance-o*this.rowRadi[s],h=this.centerX+this.nodeDistance+r*this.rowRadi[s]-C,A=0;A<this.row[s].length;A++){var I=(u=this.row[s])[A],c=((b=this.getVertexBounds(I.cell)).x+b.width/2-C)/h,d=2*Math.PI*c;I.theta=d}for(s=this.row.length-2;s>=0;s--)for(var u=this.row[s],A=0;A<u.length;A++){for(var p=(I=u[A]).child,m=0,x=0;null!=p;)x+=p.theta,m++,p=p.next;if(m>0){var v=x/m;if(v>I.theta&&A<u.length-1){var y=u[A+1].theta;I.theta=Math.min(v,y-Math.PI/10)}else if(v<I.theta&&A>0){var f=u[A-1].theta;I.theta=Math.max(v,f+Math.PI/10)}}}for(s=0;s<this.row.length;s++)for(A=0;A<this.row[s].length;A++){var I=(u=this.row[s])[A],b=this.getVertexBounds(I.cell);this.setVertexLocation(I.cell,this.centerX-b.width/2+this.rowRadi[s]*Math.cos(I.theta),this.centerY-b.height/2+this.rowRadi[s]*Math.sin(I.theta))}},mxRadialTreeLayout.prototype.calcRowDims=function(t,e){if(null!=t&&0!=t.length){this.rowMinX[e]=this.centerX,this.rowMaxX[e]=this.centerX,this.rowMinCenX[e]=this.centerX,this.rowMaxCenX[e]=this.centerX,this.row[e]=[];for(var i=!1,n=0;n<t.length;n++)for(var l=t[n].child;null!=l;){var o=l.cell,r=this.getVertexBounds(o);this.rowMinX[e]=Math.min(r.x,this.rowMinX[e]),this.rowMaxX[e]=Math.max(r.x+r.width,this.rowMaxX[e]),this.rowMinCenX[e]=Math.min(r.x+r.width/2,this.rowMinCenX[e]),this.rowMaxCenX[e]=Math.max(r.x+r.width/2,this.rowMaxCenX[e]),this.rowRadi[e]=r.y-this.getVertexBounds(this.root).y,null!=l.child&&(i=!0),this.row[e].push(l),l=l.next}i&&this.calcRowDims(this.row[e],e+1)}},mxFastOrganicLayout.prototype=new mxGraphLayout,mxFastOrganicLayout.prototype.constructor=mxFastOrganicLayout,mxFastOrganicLayout.prototype.useInputOrigin=!0,mxFastOrganicLayout.prototype.resetEdges=!0,mxFastOrganicLayout.prototype.disableEdgeStyle=!0,mxFastOrganicLayout.prototype.forceConstant=50,mxFastOrganicLayout.prototype.forceConstantSquared=0,mxFastOrganicLayout.prototype.minDistanceLimit=2,mxFastOrganicLayout.prototype.maxDistanceLimit=500,mxFastOrganicLayout.prototype.minDistanceLimitSquared=4,mxFastOrganicLayout.prototype.initialTemp=200,mxFastOrganicLayout.prototype.temperature=0,mxFastOrganicLayout.prototype.maxIterations=0,mxFastOrganicLayout.prototype.iteration=0,mxFastOrganicLayout.prototype.vertexArray,mxFastOrganicLayout.prototype.dispX,mxFastOrganicLayout.prototype.dispY,mxFastOrganicLayout.prototype.cellLocation,mxFastOrganicLayout.prototype.radius,mxFastOrganicLayout.prototype.radiusSquared,mxFastOrganicLayout.prototype.isMoveable,mxFastOrganicLayout.prototype.neighbours,mxFastOrganicLayout.prototype.indices,mxFastOrganicLayout.prototype.allowedToRun=!0,mxFastOrganicLayout.prototype.filterChildFlag=!1,mxFastOrganicLayout.prototype.isVertexIgnored=function(t){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||!this.filterChildFlag&&0==this.graph.getConnections(t).length||this.filterChildFlag&&0==this.getEdges(t)},mxFastOrganicLayout.prototype.getEdges=function(t){for(var e=this.getAllEdges(t),i=[],n=0;n<e.length;n++){var l=this.getVisibleTerminal(e[n],!0),o=this.getVisibleTerminal(e[n],!1);(l==o||l!=o&&((o==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,o,"children")>=0)&&(null==this.parent||this.graph.isValidAncestor(l,this.parent,!0))||(l==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,l,"children")>=0)&&(null==this.parent||this.graph.isValidAncestor(o,this.parent,!0))))&&i.push(e[n])}return i},mxFastOrganicLayout.prototype.getAllEdges=function(t){for(var e=[],i=this.graph.model,n=i.getChildCount(t),l=0;l<n;l++){var o=i.getChildAt(t,l);e=e.concat(this.getAllEdges(o))}return e=e.concat(i.getEdges(t,!0,!0))},mxFastOrganicLayout.prototype.getVisibleTerminal=function(t,e){var i=this.graph.view.getState(t),n=null!=i?i.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e);return null==n&&(n=null!=i?i.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e)),null!=n&&this.isPort(n)&&(n=this.graph.model.getParent(n)),n},mxFastOrganicLayout.prototype.isPort=function(t){return!!t.geometry.relative},mxFastOrganicLayout.prototype.execute=function(t){var e=this.graph.getModel();this.vertexArray=[];var i=null,n=this.graph.getSelectionCells();i=n.length>0?this.graph.getCellsForGroup(n):this.graph.getChildVertices(t);for(v=0;v<i.length;v++)this.isVertexIgnored(i[v])||this.vertexArray.push(i[v]);var l=this.useInputOrigin?this.graph.getBoundingBoxFromGeometry(this.vertexArray):null,o=this.vertexArray.length;this.indices=[],this.dispX=[],this.dispY=[],this.cellLocation=[],this.isMoveable=[],this.neighbours=[],this.radius=[],this.radiusSquared=[],this.forceConstant<.001&&(this.forceConstant=.001),this.forceConstantSquared=this.forceConstant*this.forceConstant;for(v=0;v<this.vertexArray.length;v++){y=this.vertexArray[v];this.cellLocation[v]=[];u=mxObjectIdentity.get(y);this.indices[u]=v;var r=(f=this.getVertexBounds(y)).width,s=f.height,a=f.x,g=f.y;this.cellLocation[v][0]=a+r/2,this.cellLocation[v][1]=g+s/2,this.radius[v]=Math.min(r,s),this.radiusSquared[v]=this.radius[v]*this.radius[v]}e.beginUpdate();try{for(v=0;v<o;v++){this.dispX[v]=0,this.dispY[v]=0,this.isMoveable[v]=this.isVertexMovable(this.vertexArray[v]);var C=this.getEdges(this.vertexArray[v]),i=[];for(var h in C){var A=this.getVisibleTerminal(C[h],!0),I=mxUtils.indexOfNestedArray(this.vertexArray,A,"children");I>=0&&this.vertexArray[I]!=this.vertexArray[v]&&i.push(this.vertexArray[I]);var c=this.getVisibleTerminal(C[h],!1);(I=mxUtils.indexOfNestedArray(this.vertexArray,c,"children"))>=0&&this.vertexArray[I]!=this.vertexArray[v]&&i.push(this.vertexArray[I])}this.neighbours[v]=[];for(var d=0;d<i.length;d++){this.resetEdges&&this.graph.resetEdge(C[d]),this.disableEdgeStyle&&this.setEdgeStyleEnabled(C[d],!1);var u=mxObjectIdentity.get(i[d]),p=this.indices[u];this.neighbours[v][d]=null!=p?p:v}}for(this.temperature=this.initialTemp,0==this.maxIterations&&(this.maxIterations=20*Math.sqrt(o)),this.iteration=0;this.iteration<this.maxIterations;this.iteration++){if(!this.allowedToRun)return;this.calcRepulsion(),this.calcAttraction(),this.calcPositions(),this.reduceTemperature()}for(var m=null,x=null,v=0;v<this.vertexArray.length;v++){var y=this.vertexArray[v];if(this.isVertexMovable(y)){var f=this.getVertexBounds(y);if(null!=f){this.cellLocation[v][0]-=f.width/2,this.cellLocation[v][1]-=f.height/2;var a=this.graph.snap(this.cellLocation[v][0]),g=this.graph.snap(this.cellLocation[v][1]);this.setVertexLocation(y,a,g),m=null==m?a:Math.min(m,a),x=null==x?g:Math.min(x,g)}}}var b=1-(m||0),w=1-(x||0);null!=l&&(b+=l.x,w+=l.y),this.graph.moveCells(this.vertexArray,b,w)}finally{e.endUpdate()}},mxFastOrganicLayout.prototype.calcPositions=function(){for(var t=0;t<this.vertexArray.length;t++)if(this.isMoveable[t]){var e=Math.sqrt(this.dispX[t]*this.dispX[t]+this.dispY[t]*this.dispY[t]);e<.001&&(e=.001);var i=this.dispX[t]/e*Math.min(e,this.temperature),n=this.dispY[t]/e*Math.min(e,this.temperature);this.dispX[t]=0,this.dispY[t]=0,this.cellLocation[t][0]+=i,this.cellLocation[t][1]+=n}},mxFastOrganicLayout.prototype.calcAttraction=function(){for(var t=0;t<this.vertexArray.length;t++)for(var e=0;e<this.neighbours[t].length;e++){var i=this.neighbours[t][e];if(t!=i&&this.isMoveable[t]&&this.isMoveable[i]){var n=this.cellLocation[t][0]-this.cellLocation[i][0],l=this.cellLocation[t][1]-this.cellLocation[i][1],o=n*n+l*l-this.radiusSquared[t]-this.radiusSquared[i];o<this.minDistanceLimitSquared&&(o=this.minDistanceLimitSquared);var r=Math.sqrt(o),s=o/this.forceConstant,a=n/r*s,g=l/r*s;this.dispX[t]-=a,this.dispY[t]-=g,this.dispX[i]+=a,this.dispY[i]+=g}}},mxFastOrganicLayout.prototype.calcRepulsion=function(){for(var t=this.vertexArray.length,e=0;e<t;e++)for(var i=e;i<t;i++){if(!this.allowedToRun)return;if(i!=e&&this.isMoveable[e]&&this.isMoveable[i]){var n=this.cellLocation[e][0]-this.cellLocation[i][0],l=this.cellLocation[e][1]-this.cellLocation[i][1];0==n&&(n=.01+Math.random()),0==l&&(l=.01+Math.random());var o=Math.sqrt(n*n+l*l),r=o-this.radius[e]-this.radius[i];if(r>this.maxDistanceLimit)continue;r<this.minDistanceLimit&&(r=this.minDistanceLimit);var s=this.forceConstantSquared/r,a=n/o*s,g=l/o*s;this.dispX[e]+=a,this.dispY[e]+=g,this.dispX[i]-=a,this.dispY[i]-=g}}},mxFastOrganicLayout.prototype.reduceTemperature=function(){this.temperature=this.initialTemp*(1-this.iteration/this.maxIterations)},mxCircleLayout.prototype=new mxGraphLayout,mxCircleLayout.prototype.constructor=mxCircleLayout,mxCircleLayout.prototype.radius=null,mxCircleLayout.prototype.moveCircle=!1,mxCircleLayout.prototype.x0=0,mxCircleLayout.prototype.y0=0,mxCircleLayout.prototype.resetEdges=!0,mxCircleLayout.prototype.disableEdgeStyle=!0,mxCircleLayout.prototype.execute=function(t){var e=this.graph.getModel(),i=[],n=this.graph.getSelectionCells();i=n.length>0?this.graph.getCellsForGroup(n):this.graph.getChildVertices(t),e.beginUpdate();try{for(var l=0,o=null,r=null,s=[],a=0;a<i.length;a++){var g=i[a];if(this.isVertexIgnored(g))this.isEdgeIgnored(g)||(this.resetEdges&&this.graph.resetEdge(g),this.disableEdgeStyle&&this.setEdgeStyleEnabled(g,!1));else{s.push(g);var C=this.getVertexBounds(g);o=null==o?C.y:Math.min(o,C.y),r=null==r?C.x:Math.min(r,C.x),l=Math.max(l,Math.max(C.width,C.height))}}var h=this.getRadius(s.length,l);this.moveCircle&&(r=this.x0,o=this.y0),this.circle(s,h,r,o)}finally{e.endUpdate()}},mxCircleLayout.prototype.getRadius=function(t,e){return Math.max(t*e/Math.PI,this.radius)},mxCircleLayout.prototype.circle=function(t,e,i,n){for(var l=t.length,o=2*Math.PI/l,r=0;r<l;r++)this.isVertexMovable(t[r])&&this.setVertexLocation(t[r],i+e+e*Math.sin(r*o),n+e+e*Math.cos(r*o))},mxParallelEdgeLayout.prototype=new mxGraphLayout,mxParallelEdgeLayout.prototype.constructor=mxParallelEdgeLayout,mxParallelEdgeLayout.prototype.spacing=20,mxParallelEdgeLayout.prototype.execute=function(t){var e=this.findParallels(t);this.graph.model.beginUpdate();try{for(var i in e){var n=e[i];n.length>1&&this.layout(n)}}finally{this.graph.model.endUpdate()}},mxParallelEdgeLayout.prototype.findParallels=function(t){for(var e=this.graph.getModel(),i=[],n=e.getChildCount(t),l=0;l<n;l++){var o=e.getChildAt(t,l);if(!this.isEdgeIgnored(o)){var r=this.getEdgeId(o);null!=r&&(null==i[r]&&(i[r]=[]),i[r].push(o))}}return i},mxParallelEdgeLayout.prototype.getEdgeId=function(t){var e=this.graph.getView(),i=e.getVisibleTerminal(t,!0),n=e.getVisibleTerminal(t,!1);return null!=i&&null!=n?(i=mxObjectIdentity.get(i),n=mxObjectIdentity.get(n),i>n?n+"-"+i:i+"-"+n):null},mxParallelEdgeLayout.prototype.layout=function(t){var e=t[0],i=this.graph.getView(),n=this.graph.getModel(),l=n.getGeometry(i.getVisibleTerminal(e,!0)),o=n.getGeometry(i.getVisibleTerminal(e,!1));if(l==o)for(var r=l.x+l.width+this.spacing,s=l.y+l.height/2,a=0;a<t.length;a++)this.route(t[a],r,s),r+=this.spacing;else if(null!=l&&null!=o){var g=l.x+l.width/2,C=l.y+l.height/2,h=o.x+o.width/2-g,A=o.y+o.height/2-C,I=Math.sqrt(h*h+A*A);if(I>0){var r=g+h/2,s=C+A/2,c=A*this.spacing/I,d=h*this.spacing/I;r+=c*(t.length-1)/2,s-=d*(t.length-1)/2;for(a=0;a<t.length;a++)this.route(t[a],r,s),r-=c,s+=d}}},mxParallelEdgeLayout.prototype.route=function(t,e,i){this.graph.isCellMovable(t)&&this.setEdgePoints(t,[new mxPoint(e,i)])},mxCompositeLayout.prototype=new mxGraphLayout,mxCompositeLayout.prototype.constructor=mxCompositeLayout,mxCompositeLayout.prototype.layouts=null,mxCompositeLayout.prototype.master=null,mxCompositeLayout.prototype.moveCell=function(t,e,i){null!=this.master?this.master.move.apply(this.master,arguments):this.layouts[0].move.apply(this.layouts[0],arguments)},mxCompositeLayout.prototype.execute=function(t){var e=this.graph.getModel();e.beginUpdate();try{for(var i=0;i<this.layouts.length;i++)this.layouts[i].execute.apply(this.layouts[i],arguments)}finally{e.endUpdate()}},mxEdgeLabelLayout.prototype=new mxGraphLayout,mxEdgeLabelLayout.prototype.constructor=mxEdgeLabelLayout,mxEdgeLabelLayout.prototype.execute=function(t){for(var e=this.graph.view,i=this.graph.getModel(),n=[],l=[],o=i.getChildCount(t),r=0;r<o;r++){var s=i.getChildAt(t,r),a=e.getState(s);null!=a&&(this.isVertexIgnored(s)?this.isEdgeIgnored(s)||n.push(a):l.push(a))}this.placeLabels(l,n)},mxEdgeLabelLayout.prototype.placeLabels=function(t,e){var i=this.graph.getModel();i.beginUpdate();try{for(var n=0;n<e.length;n++){var l=e[n];if(null!=l&&null!=l.text&&null!=l.text.boundingBox)for(var o=0;o<t.length;o++){var r=t[o];null!=r&&this.avoid(l,r)}}}finally{i.endUpdate()}},mxEdgeLabelLayout.prototype.avoid=function(t,e){var i=this.graph.getModel(),n=t.text.boundingBox;if(mxUtils.intersects(n,e)){var l=-n.y-n.height+e.y,o=-n.y+e.y+e.height,r=Math.abs(l)<Math.abs(o)?l:o,s=-n.x-n.width+e.x,a=-n.x+e.x+e.width,g=Math.abs(s)<Math.abs(a)?s:a;Math.abs(g)<Math.abs(r)?r=0:g=0;var C=i.getGeometry(t.cell);null!=C&&(null!=(C=C.clone()).offset?(C.offset.x+=g,C.offset.y+=r):C.offset=new mxPoint(g,r),i.setGeometry(t.cell,C))}},mxGraphAbstractHierarchyCell.prototype.maxRank=-1,mxGraphAbstractHierarchyCell.prototype.minRank=-1,mxGraphAbstractHierarchyCell.prototype.x=null,mxGraphAbstractHierarchyCell.prototype.y=null,mxGraphAbstractHierarchyCell.prototype.width=0,mxGraphAbstractHierarchyCell.prototype.height=0,mxGraphAbstractHierarchyCell.prototype.nextLayerConnectedCells=null,mxGraphAbstractHierarchyCell.prototype.previousLayerConnectedCells=null,mxGraphAbstractHierarchyCell.prototype.temp=null,mxGraphAbstractHierarchyCell.prototype.getNextLayerConnectedCells=function(t){return null},mxGraphAbstractHierarchyCell.prototype.getPreviousLayerConnectedCells=function(t){return null},mxGraphAbstractHierarchyCell.prototype.isEdge=function(){return!1},mxGraphAbstractHierarchyCell.prototype.isVertex=function(){return!1},mxGraphAbstractHierarchyCell.prototype.getGeneralPurposeVariable=function(t){return null},mxGraphAbstractHierarchyCell.prototype.setGeneralPurposeVariable=function(t,e){return null},mxGraphAbstractHierarchyCell.prototype.setX=function(t,e){this.isVertex()?this.x[0]=e:this.isEdge()&&(this.x[t-this.minRank-1]=e)},mxGraphAbstractHierarchyCell.prototype.getX=function(t){return this.isVertex()?this.x[0]:this.isEdge()?this.x[t-this.minRank-1]:0},mxGraphAbstractHierarchyCell.prototype.setY=function(t,e){this.isVertex()?this.y[0]=e:this.isEdge()&&(this.y[t-this.minRank-1]=e)},mxGraphHierarchyNode.prototype=new mxGraphAbstractHierarchyCell,mxGraphHierarchyNode.prototype.constructor=mxGraphHierarchyNode,mxGraphHierarchyNode.prototype.cell=null,mxGraphHierarchyNode.prototype.id=null,mxGraphHierarchyNode.prototype.connectsAsTarget=null,mxGraphHierarchyNode.prototype.connectsAsSource=null,mxGraphHierarchyNode.prototype.hashCode=!1,mxGraphHierarchyNode.prototype.getRankValue=function(t){return this.maxRank},mxGraphHierarchyNode.prototype.getNextLayerConnectedCells=function(t){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[],this.nextLayerConnectedCells[0]=[];for(var e=0;e<this.connectsAsTarget.length;e++){var i=this.connectsAsTarget[e];-1==i.maxRank||i.maxRank==t+1?this.nextLayerConnectedCells[0].push(i.source):this.nextLayerConnectedCells[0].push(i)}}return this.nextLayerConnectedCells[0]},mxGraphHierarchyNode.prototype.getPreviousLayerConnectedCells=function(t){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[],this.previousLayerConnectedCells[0]=[];for(var e=0;e<this.connectsAsSource.length;e++){var i=this.connectsAsSource[e];-1==i.minRank||i.minRank==t-1?this.previousLayerConnectedCells[0].push(i.target):this.previousLayerConnectedCells[0].push(i)}}return this.previousLayerConnectedCells[0]},mxGraphHierarchyNode.prototype.isVertex=function(){return!0},mxGraphHierarchyNode.prototype.getGeneralPurposeVariable=function(t){return this.temp[0]},mxGraphHierarchyNode.prototype.setGeneralPurposeVariable=function(t,e){this.temp[0]=e},mxGraphHierarchyNode.prototype.isAncestor=function(t){if(null!=t&&null!=this.hashCode&&null!=t.hashCode&&this.hashCode.length<t.hashCode.length){if(this.hashCode==t.hashCode)return!0;if(null==this.hashCode||null==this.hashCode)return!1;for(var e=0;e<this.hashCode.length;e++)if(this.hashCode[e]!=t.hashCode[e])return!1;return!0}return!1},mxGraphHierarchyNode.prototype.getCoreCell=function(){return this.cell},mxGraphHierarchyEdge.prototype=new mxGraphAbstractHierarchyCell,mxGraphHierarchyEdge.prototype.constructor=mxGraphHierarchyEdge,mxGraphHierarchyEdge.prototype.edges=null,mxGraphHierarchyEdge.prototype.ids=null,mxGraphHierarchyEdge.prototype.source=null,mxGraphHierarchyEdge.prototype.target=null,mxGraphHierarchyEdge.prototype.isReversed=!1,mxGraphHierarchyEdge.prototype.invert=function(t){var e=this.source;this.source=this.target,this.target=e,this.isReversed=!this.isReversed},mxGraphHierarchyEdge.prototype.getNextLayerConnectedCells=function(t){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[];for(var e=0;e<this.temp.length;e++)this.nextLayerConnectedCells[e]=[],e==this.temp.length-1?this.nextLayerConnectedCells[e].push(this.source):this.nextLayerConnectedCells[e].push(this)}return this.nextLayerConnectedCells[t-this.minRank-1]},mxGraphHierarchyEdge.prototype.getPreviousLayerConnectedCells=function(t){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[];for(var e=0;e<this.temp.length;e++)this.previousLayerConnectedCells[e]=[],0==e?this.previousLayerConnectedCells[e].push(this.target):this.previousLayerConnectedCells[e].push(this)}return this.previousLayerConnectedCells[t-this.minRank-1]},mxGraphHierarchyEdge.prototype.isEdge=function(){return!0},mxGraphHierarchyEdge.prototype.getGeneralPurposeVariable=function(t){return this.temp[t-this.minRank-1]},mxGraphHierarchyEdge.prototype.setGeneralPurposeVariable=function(t,e){this.temp[t-this.minRank-1]=e},mxGraphHierarchyEdge.prototype.getCoreCell=function(){return null!=this.edges&&this.edges.length>0?this.edges[0]:null},mxGraphHierarchyModel.prototype.maxRank=null,mxGraphHierarchyModel.prototype.vertexMapper=null,mxGraphHierarchyModel.prototype.edgeMapper=null,mxGraphHierarchyModel.prototype.ranks=null,mxGraphHierarchyModel.prototype.roots=null,mxGraphHierarchyModel.prototype.parent=null,mxGraphHierarchyModel.prototype.dfsCount=0,mxGraphHierarchyModel.prototype.SOURCESCANSTARTRANK=1e8,mxGraphHierarchyModel.prototype.tightenToSource=!1,mxGraphHierarchyModel.prototype.createInternalCells=function(t,e,i){for(var n=t.getGraph(),l=0;l<e.length;l++){i[l]=new mxGraphHierarchyNode(e[l]),this.vertexMapper.put(e[l],i[l]);var o=t.getEdges(e[l]);i[l].connectsAsSource=[];for(var r=0;r<o.length;r++){var s=t.getVisibleTerminal(o[r],!1);if(s!=e[l]&&t.graph.model.isVertex(s)&&!t.isVertexIgnored(s)){var a=t.getEdgesBetween(e[l],s,!1),g=t.getEdgesBetween(e[l],s,!0);if(null!=a&&a.length>0&&null==this.edgeMapper.get(a[0])&&2*g.length>=a.length){for(var C=new mxGraphHierarchyEdge(a),h=0;h<a.length;h++){var A=a[h];this.edgeMapper.put(A,C),n.resetEdge(A),t.disableEdgeStyle&&(t.setEdgeStyleEnabled(A,!1),t.setOrthogonalEdge(A,!0))}C.source=i[l],mxUtils.indexOf(i[l].connectsAsSource,C)<0&&i[l].connectsAsSource.push(C)}}}i[l].temp[0]=0}},mxGraphHierarchyModel.prototype.initialRank=function(){var t=[];if(null!=this.roots)for(i=0;i<this.roots.length;i++)null!=(a=this.vertexMapper.get(this.roots[i]))&&t.push(a);for(var e=this.vertexMapper.getValues(),i=0;i<e.length;i++)e[i].temp[0]=-1;for(var n=t.slice();t.length>0;){var l;C=(a=t[0]).connectsAsTarget,l=a.connectsAsSource;for(var o=!0,r=this.SOURCESCANSTARTRANK,i=0;i<C.length;i++){if(5270620!=(A=C[i]).temp[0]){o=!1;break}I=A.source;r=Math.min(r,I.temp[0]-1)}if(o){if(a.temp[0]=r,this.maxRank=Math.min(this.maxRank,r),null!=l)for(i=0;i<l.length;i++)(A=l[i]).temp[0]=5270620,-1==(I=A.target).temp[0]&&(t.push(I),I.temp[0]=-2);t.shift()}else{var s=t.shift();if(t.push(a),s==a&&1==t.length)break}}for(i=0;i<e.length;i++)e[i].temp[0]-=this.maxRank;for(i=0;i<n.length;i++)for(var a=n[i],g=0,C=a.connectsAsSource,h=0;h<C.length;h++){var A=C[h],I=A.target;a.temp[0]=Math.max(g,I.temp[0]+1),g=a.temp[0]}this.maxRank=this.SOURCESCANSTARTRANK-this.maxRank},mxGraphHierarchyModel.prototype.fixRanks=function(){var t=[];this.ranks=[];for(n=0;n<this.maxRank+1;n++)t[n]=[],this.ranks[n]=t[n];var e=null;if(null!=this.roots){var i=this.roots;e=[];for(var n=0;n<i.length;n++){var l=i[n],o=this.vertexMapper.get(l);e[n]=o}}this.visit(function(e,i,n,l,o){if(0==o&&i.maxRank<0&&i.minRank<0&&(t[i.temp[0]].push(i),i.maxRank=i.temp[0],i.minRank=i.temp[0],i.temp[0]=t[i.maxRank].length-1),null!=e&&null!=n&&e.maxRank-i.maxRank>1){n.maxRank=e.maxRank,n.minRank=i.maxRank,n.temp=[],n.x=[],n.y=[];for(var r=n.minRank+1;r<n.maxRank;r++)t[r].push(n),n.setGeneralPurposeVariable(r,t[r].length-1)}},e,!1,null)},mxGraphHierarchyModel.prototype.visit=function(t,e,i,n){if(null!=e){for(var l=0;l<e.length;l++){var o=e[l];null!=o&&(null==n&&(n=new Object),i?(o.hashCode=[],o.hashCode[0]=this.dfsCount,o.hashCode[1]=l,this.extendedDfs(null,o,null,t,n,o.hashCode,l,0)):this.dfs(null,o,null,t,n,0))}this.dfsCount++}},mxGraphHierarchyModel.prototype.dfs=function(t,e,i,n,l,o){if(null!=e){var r=e.id;if(null==l[r]){l[r]=e,n(t,e,i,o,0);for(var s=e.connectsAsSource.slice(),a=0;a<s.length;a++){var g=s[a],C=g.target;this.dfs(e,C,g,n,l,o+1)}}else n(t,e,i,o,1)}},mxGraphHierarchyModel.prototype.extendedDfs=function(t,e,i,n,l,o,r,s){if(null!=e){if(null!=t&&(null==e.hashCode||e.hashCode[0]!=t.hashCode[0])){var a=t.hashCode.length+1;e.hashCode=t.hashCode.slice(),e.hashCode[a-1]=r}var g=e.id;if(null==l[g]){l[g]=e,n(t,e,i,s,0);for(var C=e.connectsAsSource.slice(),h=0;h<C.length;h++){var A=C[h],I=A.target;this.extendedDfs(e,I,A,n,l,e.hashCode,h,s+1)}}else n(t,e,i,s,1)}},mxSwimlaneModel.prototype.maxRank=null,mxSwimlaneModel.prototype.vertexMapper=null,mxSwimlaneModel.prototype.edgeMapper=null,mxSwimlaneModel.prototype.ranks=null,mxSwimlaneModel.prototype.roots=null,mxSwimlaneModel.prototype.parent=null,mxSwimlaneModel.prototype.dfsCount=0,mxSwimlaneModel.prototype.SOURCESCANSTARTRANK=1e8,mxGraphHierarchyModel.prototype.tightenToSource=!1,mxSwimlaneModel.prototype.ranksPerGroup=null,mxSwimlaneModel.prototype.createInternalCells=function(t,e,i){for(var n=t.getGraph(),l=t.swimlanes,o=0;o<e.length;o++){i[o]=new mxGraphHierarchyNode(e[o]),this.vertexMapper.put(e[o],i[o]),i[o].swimlaneIndex=-1;for(var r=0;r<l.length;r++)if(n.model.getParent(e[o])==l[r]){i[o].swimlaneIndex=r;break}var s=t.getEdges(e[o]);i[o].connectsAsSource=[];for(var a=0;a<s.length;a++){var g=t.getVisibleTerminal(s[a],!1);if(g!=e[o]&&t.graph.model.isVertex(g)&&!t.isVertexIgnored(g)){var C=t.getEdgesBetween(e[o],g,!1),h=t.getEdgesBetween(e[o],g,!0);if(null!=C&&C.length>0&&null==this.edgeMapper.get(C[0])&&2*h.length>=C.length){for(var A=new mxGraphHierarchyEdge(C),I=0;I<C.length;I++){var c=C[I];this.edgeMapper.put(c,A),n.resetEdge(c),t.disableEdgeStyle&&(t.setEdgeStyleEnabled(c,!1),t.setOrthogonalEdge(c,!0))}A.source=i[o],mxUtils.indexOf(i[o].connectsAsSource,A)<0&&i[o].connectsAsSource.push(A)}}}i[o].temp[0]=0}},mxSwimlaneModel.prototype.initialRank=function(){this.ranksPerGroup=[];var t=[],e=new Object;if(null!=this.roots)for(o=0;o<this.roots.length;o++){var i=this.vertexMapper.get(this.roots[o]);this.maxChainDfs(null,i,null,e,0),null!=i&&t.push(i)}for(var n=[],l=[],o=this.ranksPerGroup.length-1;o>=0;o--)o==this.ranksPerGroup.length-1?n[o]=0:n[o]=l[o+1]+1,l[o]=n[o]+this.ranksPerGroup[o];this.maxRank=l[0];for(var r=this.vertexMapper.getValues(),o=0;o<r.length;o++)r[o].temp[0]=-1;for(t.slice();t.length>0;){var s,a;s=(i=t[0]).connectsAsTarget,a=i.connectsAsSource;for(var g=!0,C=l[0],o=0;o<s.length;o++){if(5270620!=(A=s[o]).temp[0]){g=!1;break}var h=A.source;C=Math.min(C,h.temp[0]-1)}if(g){if(C>l[i.swimlaneIndex]&&(C=l[i.swimlaneIndex]),i.temp[0]=C,null!=a)for(o=0;o<a.length;o++){var A=a[o];A.temp[0]=5270620,-1==(h=A.target).temp[0]&&(t.push(h),h.temp[0]=-2)}t.shift()}else{var I=t.shift();if(t.push(i),I==i&&1==t.length)break}}},mxSwimlaneModel.prototype.maxChainDfs=function(t,e,i,n,l){if(null!=e){var o=mxCellPath.create(e.cell);if(null==n[o]){n[o]=e;var r=e.swimlaneIndex;(null==this.ranksPerGroup[r]||this.ranksPerGroup[r]<l)&&(this.ranksPerGroup[r]=l);for(var s=e.connectsAsSource.slice(),a=0;a<s.length;a++){var g=s[a],C=g.target;e.swimlaneIndex<C.swimlaneIndex?this.maxChainDfs(e,C,g,mxUtils.clone(n,null,!0),0):e.swimlaneIndex==C.swimlaneIndex&&this.maxChainDfs(e,C,g,mxUtils.clone(n,null,!0),l+1)}}}},mxSwimlaneModel.prototype.fixRanks=function(){var t=[];this.ranks=[];for(n=0;n<this.maxRank+1;n++)t[n]=[],this.ranks[n]=t[n];var e=null;if(null!=this.roots){var i=this.roots;e=[];for(var n=0;n<i.length;n++){var l=i[n],o=this.vertexMapper.get(l);e[n]=o}}this.visit(function(e,i,n,l,o){if(0==o&&i.maxRank<0&&i.minRank<0&&(t[i.temp[0]].push(i),i.maxRank=i.temp[0],i.minRank=i.temp[0],i.temp[0]=t[i.maxRank].length-1),null!=e&&null!=n&&e.maxRank-i.maxRank>1){n.maxRank=e.maxRank,n.minRank=i.maxRank,n.temp=[],n.x=[],n.y=[];for(var r=n.minRank+1;r<n.maxRank;r++)t[r].push(n),n.setGeneralPurposeVariable(r,t[r].length-1)}},e,!1,null)},mxSwimlaneModel.prototype.visit=function(t,e,i,n){if(null!=e){for(var l=0;l<e.length;l++){var o=e[l];null!=o&&(null==n&&(n=new Object),i?(o.hashCode=[],o.hashCode[0]=this.dfsCount,o.hashCode[1]=l,this.extendedDfs(null,o,null,t,n,o.hashCode,l,0)):this.dfs(null,o,null,t,n,0))}this.dfsCount++}},mxSwimlaneModel.prototype.dfs=function(t,e,i,n,l,o){if(null!=e){var r=e.id;if(null==l[r]){l[r]=e,n(t,e,i,o,0);for(var s=e.connectsAsSource.slice(),a=0;a<s.length;a++){var g=s[a],C=g.target;this.dfs(e,C,g,n,l,o+1)}}else n(t,e,i,o,1)}},mxSwimlaneModel.prototype.extendedDfs=function(t,e,i,n,l,o,r,s){if(null!=e){if(null!=t&&(null==e.hashCode||e.hashCode[0]!=t.hashCode[0])){var a=t.hashCode.length+1;e.hashCode=t.hashCode.slice(),e.hashCode[a-1]=r}var g=e.id;if(null==l[g]){l[g]=e,n(t,e,i,s,0);for(var C=e.connectsAsSource.slice(),h=e.connectsAsTarget.slice(),A=0;A<C.length;A++){c=(I=C[A]).target;e.swimlaneIndex<=c.swimlaneIndex&&this.extendedDfs(e,c,I,n,l,e.hashCode,A,s+1)}for(A=0;A<h.length;A++){var I=h[A],c=I.source;e.swimlaneIndex<c.swimlaneIndex&&this.extendedDfs(e,c,I,n,l,e.hashCode,A,s+1)}}else n(t,e,i,s,1)}},mxHierarchicalLayoutStage.prototype.execute=function(t){},mxMedianHybridCrossingReduction.prototype=new mxHierarchicalLayoutStage,mxMedianHybridCrossingReduction.prototype.constructor=mxMedianHybridCrossingReduction,mxMedianHybridCrossingReduction.prototype.layout=null,mxMedianHybridCrossingReduction.prototype.maxIterations=24,mxMedianHybridCrossingReduction.prototype.nestedBestRanks=null,mxMedianHybridCrossingReduction.prototype.currentBestCrossings=0,mxMedianHybridCrossingReduction.prototype.iterationsWithoutImprovement=0,mxMedianHybridCrossingReduction.prototype.maxNoImprovementIterations=2,mxMedianHybridCrossingReduction.prototype.execute=function(t){var e=this.layout.getModel();this.nestedBestRanks=[];for(l=0;l<e.ranks.length;l++)this.nestedBestRanks[l]=e.ranks[l].slice();for(var i=0,n=this.calculateCrossings(e),l=0;l<this.maxIterations&&i<this.maxNoImprovementIterations;l++){this.weightedMedian(l,e),this.transpose(l,e);var o=this.calculateCrossings(e);if(o<n){n=o,i=0;for(h=0;h<this.nestedBestRanks.length;h++)for(var r=e.ranks[h],s=0;s<r.length;s++){var a=r[s];this.nestedBestRanks[h][a.getGeneralPurposeVariable(h)]=a}}else{i++;for(h=0;h<this.nestedBestRanks.length;h++)for(var r=e.ranks[h],s=0;s<r.length;s++)(a=r[s]).setGeneralPurposeVariable(h,s)}if(0==n)break}for(var g=[],C=[],l=0;l<e.maxRank+1;l++)C[l]=[],g[l]=C[l];for(l=0;l<this.nestedBestRanks.length;l++)for(var h=0;h<this.nestedBestRanks[l].length;h++)C[l].push(this.nestedBestRanks[l][h]);e.ranks=g},mxMedianHybridCrossingReduction.prototype.calculateCrossings=function(t){for(var e=t.ranks.length,i=0,n=1;n<e;n++)i+=this.calculateRankCrossing(n,t);return i},mxMedianHybridCrossingReduction.prototype.calculateRankCrossing=function(t,e){for(var i=0,n=e.ranks[t],l=e.ranks[t-1],o=[],r=0;r<n.length;r++){for(var s=n[r],a=s.getGeneralPurposeVariable(t),g=s.getPreviousLayerConnectedCells(t),C=[],h=0;h<g.length;h++){var A=g[h].getGeneralPurposeVariable(t-1);C.push(A)}C.sort(function(t,e){return t-e}),o[a]=C}for(var I=[],r=0;r<o.length;r++)I=I.concat(o[r]);for(var c=1;c<l.length;)c<<=1;var d=2*c-1;c-=1;for(var u=[],r=0;r<d;++r)u[r]=0;for(r=0;r<I.length;r++){var p=I[r]+c;for(++u[p];p>0;)p%2&&(i+=u[p+1]),++u[p=p-1>>1]}return i},mxMedianHybridCrossingReduction.prototype.transpose=function(t,e){for(var i=!0,n=0;i&&n++<10;){var l=t%2==1&&n%2==1;i=!1;for(var o=0;o<e.ranks.length;o++){for(var r=e.ranks[o],s=[],a=0;a<r.length;a++){var g=r[a],C=g.getGeneralPurposeVariable(o);C<0&&(C=a),s[C]=g}for(var h=null,A=null,I=null,c=null,d=null,u=null,p=null,m=null,x=null,v=null,a=0;a<r.length-1;a++){if(0==a){h=(x=s[a]).getNextLayerConnectedCells(o),A=x.getPreviousLayerConnectedCells(o),d=[],u=[];for(b=0;b<h.length;b++)d[b]=h[b].getGeneralPurposeVariable(o+1);for(b=0;b<A.length;b++)u[b]=A[b].getGeneralPurposeVariable(o-1)}else h=I,A=c,d=p,u=m,x=v;I=(v=s[a+1]).getNextLayerConnectedCells(o),c=v.getPreviousLayerConnectedCells(o),p=[],m=[];for(b=0;b<I.length;b++)p[b]=I[b].getGeneralPurposeVariable(o+1);for(b=0;b<c.length;b++)m[b]=c[b].getGeneralPurposeVariable(o-1);for(var y=0,f=0,b=0;b<d.length;b++)for(w=0;w<p.length;w++)d[b]>p[w]&&y++,d[b]<p[w]&&f++;for(b=0;b<u.length;b++)for(var w=0;w<m.length;w++)u[b]>m[w]&&y++,u[b]<m[w]&&f++;if(f<y||f==y&&l){var E=x.getGeneralPurposeVariable(o);x.setGeneralPurposeVariable(o,v.getGeneralPurposeVariable(o)),v.setGeneralPurposeVariable(o,E),I=h,c=A,p=d,m=u,v=x,l||(i=!0)}}}}},mxMedianHybridCrossingReduction.prototype.weightedMedian=function(t,e){var i=t%2==0;if(i)for(n=e.maxRank-1;n>=0;n--)this.medianRank(n,i);else for(var n=1;n<e.maxRank;n++)this.medianRank(n,i)},mxMedianHybridCrossingReduction.prototype.medianRank=function(t,e){for(var i=this.nestedBestRanks[t].length,n=[],l=[],o=0;o<i;o++){var r=this.nestedBestRanks[t][o],s=new MedianCellSorter;s.cell=r;var a;a=e?r.getNextLayerConnectedCells(t):r.getPreviousLayerConnectedCells(t);var g;g=e?t+1:t-1,null!=a&&0!=a.length?(s.medianValue=this.medianValue(a,g),n.push(s)):l[r.getGeneralPurposeVariable(t)]=!0}n.sort(MedianCellSorter.prototype.compare);for(o=0;o<i;o++)null==l[o]&&(r=n.shift().cell).setGeneralPurposeVariable(t,o)},mxMedianHybridCrossingReduction.prototype.medianValue=function(t,e){for(var i=[],n=0,l=0;l<t.length;l++){var o=t[l];i[n++]=o.getGeneralPurposeVariable(e)}if(i.sort(function(t,e){return t-e}),n%2==1)return i[Math.floor(n/2)];if(2==n)return(i[0]+i[1])/2;var r=n/2,s=i[r-1]-i[0],a=i[n-1]-i[r];return(i[r-1]*a+i[r]*s)/(s+a)},MedianCellSorter.prototype.medianValue=0,MedianCellSorter.prototype.cell=!1,MedianCellSorter.prototype.compare=function(t,e){return null!=t&&null!=e?e.medianValue>t.medianValue?-1:e.medianValue<t.medianValue?1:0:0},mxMinimumCycleRemover.prototype=new mxHierarchicalLayoutStage,mxMinimumCycleRemover.prototype.constructor=mxMinimumCycleRemover,mxMinimumCycleRemover.prototype.layout=null,mxMinimumCycleRemover.prototype.execute=function(t){for(var e=this.layout.getModel(),i=new Object,n=e.vertexMapper.getValues(),l=new Object,o=0;o<n.length;o++)l[n[o].id]=n[o];var r=null;if(null!=e.roots){var s=e.roots;r=[];for(o=0;o<s.length;o++)r[o]=e.vertexMapper.get(s[o])}e.visit(function(t,e,n,o,r){e.isAncestor(t)&&(n.invert(),mxUtils.remove(n,t.connectsAsSource),t.connectsAsTarget.push(n),mxUtils.remove(n,e.connectsAsTarget),e.connectsAsSource.push(n)),i[e.id]=e,delete l[e.id]},r,!0,null);var a=mxUtils.clone(i,null,!0);e.visit(function(t,e,n,o,r){e.isAncestor(t)&&(n.invert(),mxUtils.remove(n,t.connectsAsSource),e.connectsAsSource.push(n),t.connectsAsTarget.push(n),mxUtils.remove(n,e.connectsAsTarget)),i[e.id]=e,delete l[e.id]},l,!0,a)},mxCoordinateAssignment.prototype=new mxHierarchicalLayoutStage,mxCoordinateAssignment.prototype.constructor=mxCoordinateAssignment,mxCoordinateAssignment.prototype.layout=null,mxCoordinateAssignment.prototype.intraCellSpacing=30,mxCoordinateAssignment.prototype.interRankCellSpacing=100,mxCoordinateAssignment.prototype.parallelEdgeSpacing=10,mxCoordinateAssignment.prototype.maxIterations=8,mxCoordinateAssignment.prototype.prefHozEdgeSep=5,mxCoordinateAssignment.prototype.prefVertEdgeOff=2,mxCoordinateAssignment.prototype.minEdgeJetty=12,mxCoordinateAssignment.prototype.channelBuffer=4,mxCoordinateAssignment.prototype.jettyPositions=null,mxCoordinateAssignment.prototype.orientation=mxConstants.DIRECTION_NORTH,mxCoordinateAssignment.prototype.initialX=null,mxCoordinateAssignment.prototype.limitX=null,mxCoordinateAssignment.prototype.currentXDelta=null,mxCoordinateAssignment.prototype.widestRank=null,mxCoordinateAssignment.prototype.rankTopY=null,mxCoordinateAssignment.prototype.rankBottomY=null,mxCoordinateAssignment.prototype.widestRankValue=null,mxCoordinateAssignment.prototype.rankWidths=null,mxCoordinateAssignment.prototype.rankY=null,mxCoordinateAssignment.prototype.fineTuning=!0,mxCoordinateAssignment.prototype.nextLayerConnectedCache=null,mxCoordinateAssignment.prototype.previousLayerConnectedCache=null,mxCoordinateAssignment.prototype.groupPadding=10,mxCoordinateAssignment.prototype.printStatus=function(){var t=this.layout.getModel();mxLog.show(),mxLog.writeln("======Coord assignment debug=======");for(var e=0;e<t.ranks.length;e++){mxLog.write("Rank ",e," : ");for(var i=t.ranks[e],n=0;n<i.length;n++){var l=i[n];mxLog.write(l.getGeneralPurposeVariable(e),"  ")}mxLog.writeln()}mxLog.writeln("====================================")},mxCoordinateAssignment.prototype.execute=function(t){this.jettyPositions=Object();var e=this.layout.getModel();this.currentXDelta=0,this.initialCoords(this.layout.getGraph(),e),this.fineTuning&&this.minNode(e);var i=1e8;if(this.fineTuning)for(var n=0;n<this.maxIterations;n++){if(0!=n&&(this.medianPos(n,e),this.minNode(e)),this.currentXDelta<i){for(r=0;r<e.ranks.length;r++)for(var l=e.ranks[r],o=0;o<l.length;o++)(s=l[o]).setX(r,s.getGeneralPurposeVariable(r));i=this.currentXDelta}else for(var r=0;r<e.ranks.length;r++)for(var l=e.ranks[r],o=0;o<l.length;o++){var s=l[o];s.setGeneralPurposeVariable(r,s.getX(r))}this.minPath(this.layout.getGraph(),e),this.currentXDelta=0}this.setCellLocations(this.layout.getGraph(),e)},mxCoordinateAssignment.prototype.minNode=function(t){for(var e=[],i=new mxDictionary,n=[],l=0;l<=t.maxRank;l++){n[l]=t.ranks[l];for(var o=0;o<n[l].length;o++){var r=n[l][o],s=new WeightedCellSorter(r,l);s.rankIndex=o,s.visited=!0,e.push(s),i.put(r,s)}}for(var a=10*e.length,g=0;e.length>0&&g<=a;){var C=e.shift(),h=C.cell,A=C.weightedValue,I=parseInt(C.rankIndex),c=h.getNextLayerConnectedCells(A),d=h.getPreviousLayerConnectedCells(A),u=c.length,p=d.length,m=this.medianXValue(c,A+1),x=this.medianXValue(d,A-1),v=u+p,y=h.getGeneralPurposeVariable(A),f=y;v>0&&(f=(m*u+x*p)/v);var b=!1;if(f<y-1)if(0==I)h.setGeneralPurposeVariable(A,f),b=!0;else{var w=n[A][I-1],E=w.getGeneralPurposeVariable(A);(E=E+w.width/2+this.intraCellSpacing+h.width/2)<f?(h.setGeneralPurposeVariable(A,f),b=!0):E<h.getGeneralPurposeVariable(A)-1&&(h.setGeneralPurposeVariable(A,E),b=!0)}else if(f>y+1)if(I==n[A].length-1)h.setGeneralPurposeVariable(A,f),b=!0;else{var S=n[A][I+1],T=S.getGeneralPurposeVariable(A);(T=T-S.width/2-this.intraCellSpacing-h.width/2)>f?(h.setGeneralPurposeVariable(A,f),b=!0):T>h.getGeneralPurposeVariable(A)+1&&(h.setGeneralPurposeVariable(A,T),b=!0)}if(b){for(l=0;l<c.length;l++){G=c[l];null!=(R=i.get(G))&&0==R.visited&&(R.visited=!0,e.push(R))}for(l=0;l<d.length;l++){var G=d[l],R=i.get(G);null!=R&&0==R.visited&&(R.visited=!0,e.push(R))}}C.visited=!1,g++}},mxCoordinateAssignment.prototype.medianPos=function(t,e){if(t%2==0)for(i=e.maxRank;i>0;i--)this.rankMedianPosition(i-1,e,i);else for(var i=0;i<e.maxRank-1;i++)this.rankMedianPosition(i+1,e,i)},mxCoordinateAssignment.prototype.rankMedianPosition=function(t,e,i){for(var n=e.ranks[t],l=[],o=new Object,r=0;r<n.length;r++){var s=n[r];l[r]=new WeightedCellSorter,l[r].cell=s,l[r].rankIndex=r,o[s.id]=l[r];g=null;g=i<t?s.getPreviousLayerConnectedCells(t):s.getNextLayerConnectedCells(t),l[r].weightedValue=this.calculatedWeightedValue(s,g)}l.sort(WeightedCellSorter.prototype.compare);for(r=0;r<l.length;r++){var a=l[r].cell,g=null,C=0;null!=(g=i<t?a.getPreviousLayerConnectedCells(t).slice():a.getNextLayerConnectedCells(t).slice())&&(C=g.length>0?this.medianXValue(g,i):a.getGeneralPurposeVariable(t));for(var h=0,A=-1e8,I=l[r].rankIndex-1;I>=0;)if(null!=(p=o[n[I].id])){var c=p.cell;p.visited?(A=c.getGeneralPurposeVariable(t)+c.width/2+this.intraCellSpacing+h+a.width/2,I=-1):(h+=c.width+this.intraCellSpacing,I--)}for(var d=0,u=1e8,I=l[r].rankIndex+1;I<l.length;){var p=o[n[I].id];if(null!=p){var m=p.cell;p.visited?(u=m.getGeneralPurposeVariable(t)-m.width/2-this.intraCellSpacing-d-a.width/2,I=l.length):(d+=m.width+this.intraCellSpacing,I++)}}C>=A&&C<=u?a.setGeneralPurposeVariable(t,C):C<A?(a.setGeneralPurposeVariable(t,A),this.currentXDelta+=A-C):C>u&&(a.setGeneralPurposeVariable(t,u),this.currentXDelta+=C-u),l[r].visited=!0}},mxCoordinateAssignment.prototype.calculatedWeightedValue=function(t,e){for(var i=0,n=0;n<e.length;n++){var l=e[n];t.isVertex()&&l.isVertex()?i++:t.isEdge()&&l.isEdge()?i+=8:i+=2}return i},mxCoordinateAssignment.prototype.medianXValue=function(t,e){if(0==t.length)return 0;for(var i=[],n=0;n<t.length;n++)i[n]=t[n].getGeneralPurposeVariable(e);if(i.sort(function(t,e){return t-e}),t.length%2==1)return i[Math.floor(t.length/2)];var l=t.length/2;return(i[l-1]+i[l])/2},mxCoordinateAssignment.prototype.initialCoords=function(t,e){this.calculateWidestRank(t,e);for(i=this.widestRank;i>=0;i--)i<e.maxRank&&this.rankCoordinates(i,t,e);for(var i=this.widestRank+1;i<=e.maxRank;i++)i>0&&this.rankCoordinates(i,t,e)},mxCoordinateAssignment.prototype.rankCoordinates=function(t,e,i){for(var n=i.ranks[t],l=0,o=this.initialX+(this.widestRankValue-this.rankWidths[t])/2,r=!1,s=0;s<n.length;s++){var a=n[s];if(a.isVertex()){var g=this.layout.getVertexBounds(a.cell);null!=g?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(a.width=g.width,a.height=g.height):(a.width=g.height,a.height=g.width):r=!0,l=Math.max(l,a.height)}else if(a.isEdge()){var C=1;null!=a.edges?C=a.edges.length:mxLog.warn("edge.edges is null"),a.width=(C-1)*this.parallelEdgeSpacing}o+=a.width/2,a.setX(t,o),a.setGeneralPurposeVariable(t,o),o+=a.width/2,o+=this.intraCellSpacing}1==r&&mxLog.warn("At least one cell has no bounds")},mxCoordinateAssignment.prototype.calculateWidestRank=function(t,e){var i=-this.interRankCellSpacing,n=0;this.rankWidths=[],this.rankY=[];for(var l=e.maxRank;l>=0;l--){for(var o=0,r=e.ranks[l],s=this.initialX,a=!1,g=0;g<r.length;g++){var C=r[g];if(C.isVertex()){var h=this.layout.getVertexBounds(C.cell);null!=h?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(C.width=h.width,C.height=h.height):(C.width=h.height,C.height=h.width):a=!0,o=Math.max(o,C.height)}else if(C.isEdge()){var A=1;null!=C.edges?A=C.edges.length:mxLog.warn("edge.edges is null"),C.width=(A-1)*this.parallelEdgeSpacing}s+=C.width/2,C.setX(l,s),C.setGeneralPurposeVariable(l,s),s+=C.width/2,(s+=this.intraCellSpacing)>this.widestRankValue&&(this.widestRankValue=s,this.widestRank=l),this.rankWidths[l]=s}1==a&&mxLog.warn("At least one cell has no bounds"),this.rankY[l]=i;var I=o/2+n/2+this.interRankCellSpacing;n=o,this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_WEST?i+=I:i-=I;for(g=0;g<r.length;g++)r[g].setY(l,i)}},mxCoordinateAssignment.prototype.minPath=function(t,e){for(var i=e.edgeMapper.getValues(),n=0;n<i.length;n++){var l=i[n];if(!(l.maxRank-l.minRank-1<1)){for(var o=l.getGeneralPurposeVariable(l.minRank+1),r=!0,s=0,a=l.minRank+2;a<l.maxRank;a++){var g=l.getGeneralPurposeVariable(a);o!=g?(r=!1,o=g):s++}if(!r){for(var C=0,h=0,A=[],I=[],c=l.getGeneralPurposeVariable(l.minRank+1),a=l.minRank+1;a<l.maxRank-1;a++)c==(d=l.getX(a+1))?(A[a-l.minRank-1]=c,C++):this.repositionValid(e,l,a+1,c)?(A[a-l.minRank-1]=c,C++):(A[a-l.minRank-1]=d,c=d);c=l.getX(a);for(a=l.maxRank-1;a>l.minRank+1;a--){var d=l.getX(a-1);c==d?(I[a-l.minRank-2]=c,h++):this.repositionValid(e,l,a-1,c)?(I[a-l.minRank-2]=c,h++):(I[a-l.minRank-2]=l.getX(a-1),c=d)}if(h>s||C>s)if(h>=C)for(a=l.maxRank-2;a>l.minRank;a--)l.setX(a,I[a-l.minRank-1]);else if(C>h)for(a=l.minRank+2;a<l.maxRank;a++)l.setX(a,A[a-l.minRank-2])}}}},mxCoordinateAssignment.prototype.repositionValid=function(t,e,i,n){for(var l=t.ranks[i],o=-1,r=0;r<l.length;r++)if(e==l[r]){o=r;break}if(o<0)return!1;var s=e.getGeneralPurposeVariable(i);if(n<s){if(0==o)return!0;var a=l[o-1],g=a.getGeneralPurposeVariable(i);return(g=g+a.width/2+this.intraCellSpacing+e.width/2)<=n}if(n>s){if(o==l.length-1)return!0;var C=l[o+1],h=C.getGeneralPurposeVariable(i);return(h=h-C.width/2-this.intraCellSpacing-e.width/2)>=n}return!0},mxCoordinateAssignment.prototype.setCellLocations=function(t,e){this.rankTopY=[],this.rankBottomY=[];for(n=0;n<e.ranks.length;n++)this.rankTopY[n]=Number.MAX_VALUE,this.rankBottomY[n]=-Number.MAX_VALUE;for(var i=e.vertexMapper.getValues(),n=0;n<i.length;n++)this.setVertexLocation(i[n]);this.layout.edgeStyle!=mxHierarchicalEdgeStyle.ORTHOGONAL&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.POLYLINE&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.CURVE||this.localEdgeProcessing(e);for(var l=e.edgeMapper.getValues(),n=0;n<l.length;n++)this.setEdgePosition(l[n])},mxCoordinateAssignment.prototype.localEdgeProcessing=function(t){for(var e=0;e<t.ranks.length;e++)for(var i=t.ranks[e],n=0;n<i.length;n++){var l=i[n];if(l.isVertex())for(var o=l.getPreviousLayerConnectedCells(e),r=e-1,s=0;s<2;s++){if(r>-1&&r<t.ranks.length&&null!=o&&o.length>0){for(var a=[],g=0;g<o.length;g++){var C=new WeightedCellSorter(o[g],o[g].getX(r));a.push(C)}a.sort(WeightedCellSorter.prototype.compare);for(var h=l.x[0]-l.width/2,A=h+l.width,I=0,c=0,d=[],g=0;g<a.length;g++){var u,p=a[g].cell;if(p.isVertex()){u=0==s?l.connectsAsSource:l.connectsAsTarget;for(var m=0;m<u.length;m++)u[m].source!=p&&u[m].target!=p||(I+=u[m].edges.length,c++,d.push(u[m]))}else I+=p.edges.length,c++,d.push(p)}var x=(I+1)*this.prefHozEdgeSep;l.width>x+2*this.prefHozEdgeSep&&(h+=this.prefHozEdgeSep,A-=this.prefHozEdgeSep);for(var v=(A-h)/I,y=h+v/2,f=this.minEdgeJetty-this.prefVertEdgeOff,b=0,g=0;g<d.length;g++){var w=d[g].edges.length,E=this.jettyPositions[d[g].ids[0]];null==E&&(E=[],this.jettyPositions[d[g].ids[0]]=E),g<I/2?f+=this.prefVertEdgeOff:g>I/2&&(f-=this.prefVertEdgeOff);for(var S=0;S<w;S++)E[4*S+2*s]=y,y+=v,E[4*S+2*s+1]=f;b=Math.max(b,f)}}o=l.getNextLayerConnectedCells(e),r=e+1}}},mxCoordinateAssignment.prototype.setEdgePosition=function(t){var e=0;if(101207!=t.temp[0]){var i=t.maxRank,n=t.minRank;i==n&&(i=t.source.maxRank,n=t.target.minRank);for(var l=0,o=this.jettyPositions[t.ids[0]],r=t.isReversed?t.target.cell:t.source.cell,s=this.layout.graph,a=this.orientation==mxConstants.DIRECTION_EAST||this.orientation==mxConstants.DIRECTION_SOUTH,g=0;g<t.edges.length;g++){var C=t.edges[g],h=this.layout.getVisibleTerminal(C,!0),A=[],I=t.isReversed;if(h!=r&&(I=!I),null!=o){var c=I?2:0,d=I?a?this.rankBottomY[n]:this.rankTopY[n]:a?this.rankTopY[i]:this.rankBottomY[i],u=o[4*l+1+c];I!=a&&(u=-u),d+=u;var p=o[4*l+c],m=s.model.getTerminal(C,!0);this.layout.isPort(m)&&s.model.getParent(m)==h&&(p=null!=(P=s.view.getState(m))?P.x:h.geometry.x+t.source.width*m.geometry.x),this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(A.push(new mxPoint(p,d)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&A.push(new mxPoint(p,d+u))):(A.push(new mxPoint(d,p)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&A.push(new mxPoint(d+u,p)))}var x=t.x.length-1,v=-1,y=-1,f=t.maxRank-1;I&&(x=0,v=t.x.length,y=1,f=t.minRank+1);for(var b=x;t.maxRank!=t.minRank&&b!=v;b+=y){var w=t.x[b]+e,E=(this.rankTopY[f]+this.rankBottomY[f+1])/2,S=(this.rankTopY[f-1]+this.rankBottomY[f])/2;if(I){var T=E;E=S,S=T}this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(A.push(new mxPoint(w,E)),A.push(new mxPoint(w,S))):(A.push(new mxPoint(E,w)),A.push(new mxPoint(S,w))),this.limitX=Math.max(this.limitX,w),f+=y}if(null!=o){var c=I?2:0,G=I?a?this.rankTopY[i]:this.rankBottomY[i]:a?this.rankBottomY[n]:this.rankTopY[n],u=o[4*l+3-c];I!=a&&(u=-u);var d=G-u,p=o[4*l+2-c],R=s.model.getTerminal(C,!1),L=this.layout.getVisibleTerminal(C,!1);if(this.layout.isPort(R)&&s.model.getParent(R)==L){var P=s.view.getState(R);p=null!=P?P.x:L.geometry.x+t.target.width*R.geometry.x}this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&A.push(new mxPoint(p,d-u)),A.push(new mxPoint(p,d))):(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&A.push(new mxPoint(d-u,p)),A.push(new mxPoint(d,p)))}t.isReversed&&this.processReversedEdge(t,C),this.layout.setEdgePoints(C,A),e=0==e?this.parallelEdgeSpacing:e>0?-e:-e+this.parallelEdgeSpacing,l++}t.temp[0]=101207}},mxCoordinateAssignment.prototype.setVertexLocation=function(t){var e=t.cell,i=t.x[0]-t.width/2,n=t.y[0]-t.height/2;this.rankTopY[t.minRank]=Math.min(this.rankTopY[t.minRank],n),this.rankBottomY[t.minRank]=Math.max(this.rankBottomY[t.minRank],n+t.height),this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?this.layout.setVertexLocation(e,i,n):this.layout.setVertexLocation(e,n,i),this.limitX=Math.max(this.limitX,i+t.width)},mxCoordinateAssignment.prototype.processReversedEdge=function(t,e){},WeightedCellSorter.prototype.weightedValue=0,WeightedCellSorter.prototype.nudge=!1,WeightedCellSorter.prototype.visited=!1,WeightedCellSorter.prototype.rankIndex=null,WeightedCellSorter.prototype.cell=null,WeightedCellSorter.prototype.compare=function(t,e){return null!=t&&null!=e?e.weightedValue>t.weightedValue?-1:e.weightedValue<t.weightedValue?1:e.nudge?-1:1:0},mxSwimlaneOrdering.prototype=new mxHierarchicalLayoutStage,mxSwimlaneOrdering.prototype.constructor=mxSwimlaneOrdering,mxSwimlaneOrdering.prototype.layout=null,mxSwimlaneOrdering.prototype.execute=function(t){var e=this.layout.getModel(),i=new Object,n=mxUtils.clone(e.vertexMapper,null,!0),l=null;if(null!=e.roots){var o=e.roots;l=[];for(var r=0;r<o.length;r++){mxCellPath.create(o[r]);l[r]=e.vertexMapper.get(o[r])}}e.visit(function(t,e,l,o,r){var s=null!=t&&t.swimlaneIndex==e.swimlaneIndex&&e.isAncestor(t),a=null!=t&&null!=l&&t.swimlaneIndex<e.swimlaneIndex&&l.source==e;s?(l.invert(),mxUtils.remove(l,t.connectsAsSource),e.connectsAsSource.push(l),t.connectsAsTarget.push(l),mxUtils.remove(l,e.connectsAsTarget)):a&&(l.invert(),mxUtils.remove(l,t.connectsAsTarget),e.connectsAsTarget.push(l),t.connectsAsSource.push(l),mxUtils.remove(l,e.connectsAsSource));var g=mxCellPath.create(e.cell);i[g]=e,delete n[g]},l,!0,null)};var mxHierarchicalEdgeStyle={ORTHOGONAL:1,POLYLINE:2,STRAIGHT:3,CURVE:4};mxHierarchicalLayout.prototype=new mxGraphLayout,mxHierarchicalLayout.prototype.constructor=mxHierarchicalLayout,mxHierarchicalLayout.prototype.roots=null,mxHierarchicalLayout.prototype.resizeParent=!1,mxHierarchicalLayout.prototype.maintainParentLocation=!1,mxHierarchicalLayout.prototype.moveParent=!1,mxHierarchicalLayout.prototype.parentBorder=0,mxHierarchicalLayout.prototype.intraCellSpacing=30,mxHierarchicalLayout.prototype.interRankCellSpacing=100,mxHierarchicalLayout.prototype.interHierarchySpacing=60,mxHierarchicalLayout.prototype.parallelEdgeSpacing=10,mxHierarchicalLayout.prototype.orientation=mxConstants.DIRECTION_NORTH,mxHierarchicalLayout.prototype.fineTuning=!0,mxHierarchicalLayout.prototype.tightenToSource=!0,mxHierarchicalLayout.prototype.disableEdgeStyle=!0,mxHierarchicalLayout.prototype.traverseAncestors=!0,mxHierarchicalLayout.prototype.model=null,mxHierarchicalLayout.prototype.edgesCache=null,mxHierarchicalLayout.prototype.edgeSourceTermCache=null,mxHierarchicalLayout.prototype.edgesTargetTermCache=null,mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE,mxHierarchicalLayout.prototype.filterChildFlag=!1,mxHierarchicalLayout.prototype.getModel=function(){return this.model},mxHierarchicalLayout.prototype.execute=function(t,e){this.parent=t;var i=this.graph.model;if(this.edgesCache=new mxDictionary,this.edgeSourceTermCache=new mxDictionary,this.edgesTargetTermCache=new mxDictionary,null==e||e instanceof Array||(e=[e]),null!=e||null!=t){if(this.parentX=null,this.parentY=null,t!=this.root&&null!=i.isVertex(t)&&this.maintainParentLocation&&null!=(o=this.graph.getCellGeometry(t))&&(this.parentX=o.x,this.parentY=o.y),null!=e){for(var n=[],l=0;l<e.length;l++)(null==t||i.isAncestor(t,e[l]))&&i.isVertex(e[l])&&n.push(e[l]);this.roots=n}i.beginUpdate();try{if(this.run(t),this.resizeParent&&!this.graph.isCellCollapsed(t)&&this.graph.updateGroupBounds([t],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY){var o=this.graph.getCellGeometry(t);null!=o&&((o=o.clone()).x=this.parentX,o.y=this.parentY,i.setGeometry(t,o))}}finally{i.endUpdate()}}},mxHierarchicalLayout.prototype.findRoots=function(t,e){var i=[];if(null!=t&&null!=e){var n=this.graph.model,l=null,o=-1e5;for(var r in e){var s=e[r],a=n.getChildCount(s);if(n.isVertex(s)&&this.graph.isCellVisible(s)){for(var g=this.getEdges(s),C=0,h=0,A=0;A<g.length;A++){var I=this.getVisibleTerminal(g[A],!0);I==s||this.filterChildFlag&&a>0&&mxUtils.indexOfNestedArray(s.children,I,"children")>=0?C++:h++}0==h&&C>0&&i.push(s);var c=C-h;c>o&&(o=c,l=s)}}0==i.length&&null!=l&&i.push(l)}return i},mxHierarchicalLayout.prototype.getEdges=function(t){for(var e=this.getAllEdges(t),i=[],n=0;n<e.length;n++){var l=this.getVisibleTerminal(e[n],!0),o=this.getVisibleTerminal(e[n],!1);(l==o||l!=o&&((o==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,o,"children")>=0)&&(null==this.parent||this.graph.isValidAncestor(l,this.parent,this.traverseAncestors))||(l==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,l,"children")>=0)&&(null==this.parent||this.graph.isValidAncestor(o,this.parent,this.traverseAncestors))))&&i.push(e[n])}return this.edgesCache.put(t,i),i},mxHierarchicalLayout.prototype.getAllEdges=function(t){for(var e=[],i=this.graph.model,n=i.getChildCount(t),l=0;l<n;l++){var o=i.getChildAt(t,l);e=e.concat(this.getAllEdges(o))}return e=e.concat(i.getEdges(t,!0,!0))},mxHierarchicalLayout.prototype.getVisibleTerminal=function(t,e){var i=this.edgesTargetTermCache;e&&(i=this.edgeSourceTermCache);var n=i.get(t);if(null!=n)return n;var l=this.graph.view.getState(t),o=null!=l?l.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e);return null==o&&(o=null!=l?l.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e)),null!=o&&(this.isPort(o)&&(o=this.graph.model.getParent(o)),i.put(t,o)),o},mxHierarchicalLayout.prototype.run=function(t){var e=[],i=[],n=Object();this.filterDescendants(t,n);var l=!0,o=[];for(var r in n)null!=n[r]&&(l=!1,o.push(n[r]));if(null==this.roots&&null!=t)for(this.roots=[];!l;){for(var s=this.findRoots(t,n),a=0;a<s.length;a++){C=Object();e.push(C),this.traverse(s[a],!0,null,i,C,e,n,o)}for(a=0;a<s.length;a++)this.roots.push(s[a]);l=!0;for(var r in n)if(null!=n[r]){l=!1;break}}else for(a=0;a<this.roots.length;a++){C=Object();e.push(C),this.traverse(this.roots[a],!0,null,i,C,e,null,o)}for(var g=0,a=0;a<e.length;a++){var C=e[a],h=[];for(var r in C)h.push(C[r]);this.model=new mxGraphHierarchyModel(this,h,this.roots,t,this.tightenToSource),this.cycleStage(t),this.layeringStage(),this.crossingStage(t),g=this.placementStage(g,t)}},mxHierarchicalLayout.prototype.filterDescendants=function(t,e){var i=this.graph.model;if(i.isVertex(t)&&t!=this.parent&&this.graph.isCellVisible(t)&&(e[mxObjectIdentity.get(t)]=t),this.traverseAncestors||t==this.parent&&this.graph.isCellVisible(t))for(var n=i.getChildCount(t),l=0;l<n;l++){var o=i.getChildAt(t,l);this.isPort(o)||(this.filterChildFlag?i.isVertex(o)&&o!=this.parent&&this.graph.isCellVisible(o)&&(e[mxObjectIdentity.get(o)]=o):this.filterDescendants(o,e))}},mxHierarchicalLayout.prototype.isPort=function(t){return!!t.geometry.relative},mxHierarchicalLayout.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),l=[],o=0;o<n.length;o++){var r=this.getVisibleTerminal(n[o],!0),s=this.getVisibleTerminal(n[o],!1);((r==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,r,"children")>=0)&&(s==e||this.filterChildFlag&&e.children&&mxUtils.indexOfNestedArray(e.children,s,"children")>=0)||!i&&(r==e||this.filterChildFlag&&e.children&&mxUtils.indexOfNestedArray(e.children,r,"children")>=0)&&(s==t||this.filterChildFlag&&t.children&&mxUtils.indexOfNestedArray(t.children,s,"children")>=0))&&l.push(n[o])}return l},mxHierarchicalLayout.prototype.traverse=function(t,e,i,n,l,o,r,s){if(null!=t&&null!=n){var a=mxObjectIdentity.get(t);if(null!=n[a]||null!=r&&null==r[a]){if(null==l[a])for(c=0;c<o.length;c++){var g=o[c];if(null!=g[a]){for(var C in g)l[C]=g[C];return o.splice(c,1),l}}}else{null==l[a]&&(l[a]=t),null==n[a]&&(n[a]=t),null!==r&&delete r[a];for(var h=this.getEdges(t),A=[],I=this.graph.model.getChildCount(t),c=0;c<h.length;c++){var d=this.getVisibleTerminal(h[c],!0);A[c]=d==t||this.filterChildFlag&&I>0&&mxUtils.indexOfNestedArray(t.children,d,"children")>=0}for(c=0;c<h.length;c++)if(!e||A[c]){var u=this.getVisibleTerminal(h[c],!A[c]);if(this.filterChildFlag&null!=s){var p=mxUtils.indexOfNestedArray(s,u,"children");p>=0&&(u=s[p])}for(var m=1,x=0;x<h.length;x++)if(x!=c){var v=A[x];this.getVisibleTerminal(h[x],!v)==u&&(v?m++:m--)}m>=0&&(l=this.traverse(u,e,h[c],n,l,o,r,s))}}}return l},mxHierarchicalLayout.prototype.cycleStage=function(t){new mxMinimumCycleRemover(this).execute(t)},mxHierarchicalLayout.prototype.layeringStage=function(){this.model.initialRank(),this.model.fixRanks()},mxHierarchicalLayout.prototype.crossingStage=function(t){new mxMedianHybridCrossingReduction(this).execute(t)},mxHierarchicalLayout.prototype.placementStage=function(t,e){var i=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,t,this.parallelEdgeSpacing);return i.fineTuning=this.fineTuning,i.execute(e),i.limitX+this.interHierarchySpacing},mxSwimlaneLayout.prototype=new mxGraphLayout,mxSwimlaneLayout.prototype.constructor=mxSwimlaneLayout,mxSwimlaneLayout.prototype.roots=null,mxSwimlaneLayout.prototype.swimlanes=null,mxSwimlaneLayout.prototype.dummyVertices=null,mxSwimlaneLayout.prototype.dummyVertexWidth=50,mxSwimlaneLayout.prototype.resizeParent=!1,mxSwimlaneLayout.prototype.maintainParentLocation=!1,mxSwimlaneLayout.prototype.moveParent=!1,mxSwimlaneLayout.prototype.parentBorder=30,mxSwimlaneLayout.prototype.intraCellSpacing=30,mxSwimlaneLayout.prototype.interRankCellSpacing=100,mxSwimlaneLayout.prototype.interHierarchySpacing=60,mxSwimlaneLayout.prototype.parallelEdgeSpacing=10,mxSwimlaneLayout.prototype.orientation=mxConstants.DIRECTION_NORTH,mxSwimlaneLayout.prototype.fineTuning=!0,mxSwimlaneLayout.prototype.tightenToSource=!0,mxSwimlaneLayout.prototype.disableEdgeStyle=!0,mxSwimlaneLayout.prototype.traverseAncestors=!0,mxSwimlaneLayout.prototype.model=null,mxSwimlaneLayout.prototype.edgesCache=null,mxHierarchicalLayout.prototype.edgeSourceTermCache=null,mxHierarchicalLayout.prototype.edgesTargetTermCache=null,mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE,mxSwimlaneLayout.prototype.getModel=function(){return this.model},mxSwimlaneLayout.prototype.execute=function(t,e){this.parent=t;var i=this.graph.model;if(this.edgesCache=new mxDictionary,this.edgeSourceTermCache=new mxDictionary,this.edgesTargetTermCache=new mxDictionary,!(null==e||e.length<1)){null==t&&(t=i.getParent(e[0])),this.parentX=null,this.parentY=null,t!=this.root&&null!=i.isVertex(t)&&this.maintainParentLocation&&null!=(r=this.graph.getCellGeometry(t))&&(this.parentX=r.x,this.parentY=r.y),this.swimlanes=e,this.dummyVertices=[];for(var n=0;n<e.length;n++){var l=this.graph.getChildCells(e[n]);if(null==l||0==l.length){var o=this.graph.insertVertex(e[n],null,null,0,0,this.dummyVertexWidth,0);this.dummyVertices.push(o)}}i.beginUpdate();try{if(this.run(t),this.resizeParent&&!this.graph.isCellCollapsed(t)&&this.graph.updateGroupBounds([t],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY){var r=this.graph.getCellGeometry(t);null!=r&&((r=r.clone()).x=this.parentX,r.y=this.parentY,i.setGeometry(t,r))}this.graph.removeCells(this.dummyVertices)}finally{i.endUpdate()}}},mxSwimlaneLayout.prototype.updateGroupBounds=function(){var t=[],e=this.model;for(var i in e.edgeMapper)for(var n=e.edgeMapper[i],l=0;l<n.edges.length;l++)t.push(n.edges[l]);for(var o=this.graph.getBoundingBoxFromGeometry(t,!0),r=[],l=0;l<this.swimlanes.length;l++){I=this.swimlanes[l];if(null!=(c=this.graph.getCellGeometry(I))){var s=this.graph.getChildCells(I),a=this.graph.isSwimlane(I)?this.graph.getStartSize(I):new mxRectangle,g=this.graph.getBoundingBoxFromGeometry(s);r[l]=g;var C=g.y+c.y-a.height-this.parentBorder,h=g.y+c.y+g.height;if(null==o)o=new mxRectangle(0,C,0,h-C);else{o.y=Math.min(o.y,C);var A=Math.max(o.y+o.height,h);o.height=A-o.y}}}for(l=0;l<this.swimlanes.length;l++){var I=this.swimlanes[l],c=this.graph.getCellGeometry(I);if(null!=c){var s=this.graph.getChildCells(I),a=this.graph.isSwimlane(I)?this.graph.getStartSize(I):new mxRectangle,d=c.clone(),u=0==l?this.parentBorder:this.interRankCellSpacing/2;d.x+=r[l].x-a.width-u,d.y=d.y+o.y-c.y-this.parentBorder,d.width=r[l].width+a.width+this.interRankCellSpacing/2+u,d.height=o.height+a.height+2*this.parentBorder,this.graph.model.setGeometry(I,d),this.graph.moveCells(s,-r[l].x+a.width+u,c.y-o.y+this.parentBorder)}}},mxSwimlaneLayout.prototype.findRoots=function(t,e){var i=[];if(null!=t&&null!=e){var n=this.graph.model,l=null,o=-1e5;for(var r in e){var s=e[r];if(null!=s&&n.isVertex(s)&&this.graph.isCellVisible(s)&&n.isAncestor(t,s)){for(var a=this.getEdges(s),g=0,C=0,h=0;h<a.length;h++){var A=this.getVisibleTerminal(a[h],!0);if(A==s){var I=this.getVisibleTerminal(a[h],!1);n.isAncestor(t,I)&&g++}else n.isAncestor(t,A)&&C++}0==C&&g>0&&i.push(s);var c=g-C;c>o&&(o=c,l=s)}}0==i.length&&null!=l&&i.push(l)}return i},mxSwimlaneLayout.prototype.getEdges=function(t){var e=this.edgesCache.get(t);if(null!=e)return e;for(var i=this.graph.model,n=[],l=this.graph.isCellCollapsed(t),o=i.getChildCount(t),r=0;r<o;r++){var s=i.getChildAt(t,r);this.isPort(s)?n=n.concat(i.getEdges(s,!0,!0)):!l&&this.graph.isCellVisible(s)||(n=n.concat(i.getEdges(s,!0,!0)))}n=n.concat(i.getEdges(t,!0,!0));for(var a=[],r=0;r<n.length;r++){var g=this.getVisibleTerminal(n[r],!0),C=this.getVisibleTerminal(n[r],!1);(g==C||g!=C&&(C==t&&(null==this.parent||this.graph.isValidAncestor(g,this.parent,this.traverseAncestors))||g==t&&(null==this.parent||this.graph.isValidAncestor(C,this.parent,this.traverseAncestors))))&&a.push(n[r])}return this.edgesCache.put(t,a),a},mxSwimlaneLayout.prototype.getVisibleTerminal=function(t,e){var i=this.edgesTargetTermCache;e&&(i=this.edgeSourceTermCache);var n=i.get(t);if(null!=n)return n;var l=this.graph.view.getState(t),o=null!=l?l.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e);return null==o&&(o=null!=l?l.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e)),null!=o&&(this.isPort(o)&&(o=this.graph.model.getParent(o)),i.put(t,o)),o},mxSwimlaneLayout.prototype.run=function(t){var e=[],i=[];if(null!=this.swimlanes&&this.swimlanes.length>0&&null!=t){for(var n=Object(),l=0;l<this.swimlanes.length;l++)this.filterDescendants(this.swimlanes[l],n);this.roots=[];var o=!0;for(var r in n)if(null!=n[r]){o=!1;break}for(var s=0;!o&&s<this.swimlanes.length;){var a=this.findRoots(this.swimlanes[s],n);if(0!=a.length){for(l=0;l<a.length;l++){g=Object();e.push(g),this.traverse(a[l],!0,null,i,g,e,n,s)}for(l=0;l<a.length;l++)this.roots.push(a[l]);o=!0;for(var r in n)if(null!=n[r]){o=!1;break}}else s++}}else for(l=0;l<this.roots.length;l++){var g=Object();e.push(g),this.traverse(this.roots[l],!0,null,i,g,e,null)}var C=[];for(var r in i)C.push(i[r]);this.model=new mxSwimlaneModel(this,C,this.roots,t,this.tightenToSource),this.cycleStage(t),this.layeringStage(),this.crossingStage(t),initialX=this.placementStage(0,t)},mxSwimlaneLayout.prototype.filterDescendants=function(t,e){var i=this.graph.model;if(i.isVertex(t)&&t!=this.parent&&i.getParent(t)!=this.parent&&this.graph.isCellVisible(t)&&(e[mxObjectIdentity.get(t)]=t),this.traverseAncestors||t==this.parent&&this.graph.isCellVisible(t))for(var n=i.getChildCount(t),l=0;l<n;l++){var o=i.getChildAt(t,l);this.isPort(o)||this.filterDescendants(o,e)}},mxSwimlaneLayout.prototype.isPort=function(t){return!!t.geometry.relative},mxSwimlaneLayout.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),l=[],o=0;o<n.length;o++){var r=this.getVisibleTerminal(n[o],!0),s=this.getVisibleTerminal(n[o],!1);(r==t&&s==e||!i&&r==e&&s==t)&&l.push(n[o])}return l},mxSwimlaneLayout.prototype.traverse=function(t,e,i,n,l,o,r,s){if(null!=t&&null!=n){var a=mxObjectIdentity.get(t);if(null!=n[a]||null!=r&&null==r[a]){if(null==l[a])for(I=0;I<o.length;I++){var g=o[I];if(null!=g[a]){for(var C in g)l[C]=g[C];return o.splice(I,1),l}}}else{null==l[a]&&(l[a]=t),null==n[a]&&(n[a]=t),null!==r&&delete r[a];for(var h=this.getEdges(t),A=this.graph.model,I=0;I<h.length;I++){var c=this.getVisibleTerminal(h[I],!0),d=c==t;d&&(c=this.getVisibleTerminal(h[I],!1));var u=0;for(u=0;u<this.swimlanes.length&&!A.isAncestor(this.swimlanes[u],c);u++);u>=this.swimlanes.length||(u>s||(!e||d)&&u==s)&&(l=this.traverse(c,e,h[I],n,l,o,r,u))}}}return l},mxSwimlaneLayout.prototype.cycleStage=function(t){new mxSwimlaneOrdering(this).execute(t)},mxSwimlaneLayout.prototype.layeringStage=function(){this.model.initialRank(),this.model.fixRanks()},mxSwimlaneLayout.prototype.crossingStage=function(t){new mxMedianHybridCrossingReduction(this).execute(t)},mxSwimlaneLayout.prototype.placementStage=function(t,e){var i=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,t,this.parallelEdgeSpacing);return i.fineTuning=this.fineTuning,i.execute(e),i.limitX+this.interHierarchySpacing},mxGraphModel.prototype=new mxEventSource,mxGraphModel.prototype.constructor=mxGraphModel,mxGraphModel.prototype.root=null,mxGraphModel.prototype.cells=null,mxGraphModel.prototype.maintainEdgeParent=!0,mxGraphModel.prototype.ignoreRelativeEdgeParent=!0,mxGraphModel.prototype.createIds=!0,mxGraphModel.prototype.prefix="",mxGraphModel.prototype.postfix="",mxGraphModel.prototype.nextId=0,mxGraphModel.prototype.currentEdit=null,mxGraphModel.prototype.updateLevel=0,mxGraphModel.prototype.endingUpdate=!1,mxGraphModel.prototype.clear=function(){this.setRoot(this.createRoot())},mxGraphModel.prototype.isCreateIds=function(){return this.createIds},mxGraphModel.prototype.setCreateIds=function(t){this.createIds=t},mxGraphModel.prototype.createRoot=function(){var t=new mxCell;return t.insert(new mxCell),t},mxGraphModel.prototype.getCell=function(t){return null!=this.cells?this.cells[t]:null},mxGraphModel.prototype.filterCells=function(t,e){var i=null;if(null!=t){i=[];for(var n=0;n<t.length;n++)e(t[n])&&i.push(t[n])}return i},mxGraphModel.prototype.getDescendants=function(t){return this.filterDescendants(null,t)},mxGraphModel.prototype.filterDescendants=function(t,e){var i=[];e=e||this.getRoot(),(null==t||t(e))&&i.push(e);for(var n=this.getChildCount(e),l=0;l<n;l++){var o=this.getChildAt(e,l);i=i.concat(this.filterDescendants(t,o))}return i},mxGraphModel.prototype.getRoot=function(t){var e=t||this.root;if(null!=t)for(;null!=t;)e=t,t=this.getParent(t);return e},mxGraphModel.prototype.setRoot=function(t){return this.execute(new mxRootChange(this,t)),t},mxGraphModel.prototype.rootChanged=function(t){var e=this.root;return this.root=t,this.nextId=0,this.cells=null,this.cellAdded(t),e},mxGraphModel.prototype.isRoot=function(t){return null!=t&&this.root==t},mxGraphModel.prototype.isLayer=function(t){return this.isRoot(this.getParent(t))},mxGraphModel.prototype.isAncestor=function(t,e){for(;null!=e&&e!=t;)e=this.getParent(e);return e==t},mxGraphModel.prototype.contains=function(t){return this.isAncestor(this.root,t)},mxGraphModel.prototype.getParent=function(t){return null!=t?t.getParent():null},mxGraphModel.prototype.add=function(t,e,i){if(e!=t&&null!=t&&null!=e){null==i&&(i=this.getChildCount(t));var n=t!=this.getParent(e);this.execute(new mxChildChange(this,t,e,i)),this.maintainEdgeParent&&n&&this.updateEdgeParents(e)}return e},mxGraphModel.prototype.cellAdded=function(t){if(null!=t){if(null==t.getId()&&this.createIds&&t.setId(this.createId(t)),null!=t.getId()){var e=this.getCell(t.getId());if(e!=t){for(;null!=e;)t.setId(this.createId(t)),e=this.getCell(t.getId());null==this.cells&&(this.cells=new Object),this.cells[t.getId()]=t}}mxUtils.isNumeric(t.getId())&&(this.nextId=Math.max(this.nextId,t.getId()));for(var i=this.getChildCount(t),n=0;n<i;n++)this.cellAdded(this.getChildAt(t,n))}},mxGraphModel.prototype.createId=function(t){var e=this.nextId;return this.nextId++,this.prefix+e+this.postfix},mxGraphModel.prototype.updateEdgeParents=function(t,e){e=e||this.getRoot(t);for(var i=this.getChildCount(t),n=0;n<i;n++){var l=this.getChildAt(t,n);this.updateEdgeParents(l,e)}for(var o=this.getEdgeCount(t),r=[],n=0;n<o;n++)r.push(this.getEdgeAt(t,n));for(n=0;n<r.length;n++){var s=r[n];this.isAncestor(e,s)&&this.updateEdgeParent(s,e)}},mxGraphModel.prototype.updateEdgeParent=function(t,e){for(var i=this.getTerminal(t,!0),n=this.getTerminal(t,!1),l=null;null!=i&&!this.isEdge(i)&&null!=i.geometry&&i.geometry.relative;)i=this.getParent(i);for(;null!=n&&this.ignoreRelativeEdgeParent&&!this.isEdge(n)&&null!=n.geometry&&n.geometry.relative;)n=this.getParent(n);if(this.isAncestor(e,i)&&this.isAncestor(e,n)&&null!=(l=i==n?this.getParent(i):this.getNearestCommonAncestor(i,n))&&(this.getParent(l)!=this.root||this.isAncestor(l,t))&&this.getParent(t)!=l){var o=this.getGeometry(t);if(null!=o){var r=this.getOrigin(this.getParent(t)),s=this.getOrigin(l),a=s.x-r.x,g=s.y-r.y;(o=o.clone()).translate(-a,-g),this.setGeometry(t,o)}this.add(l,t,this.getChildCount(l))}},mxGraphModel.prototype.getOrigin=function(t){var e=null;if(null!=t){if(e=this.getOrigin(this.getParent(t)),!this.isEdge(t)){var i=this.getGeometry(t);null!=i&&(e.x+=i.x,e.y+=i.y)}}else e=new mxPoint;return e},mxGraphModel.prototype.getNearestCommonAncestor=function(t,e){if(null!=t&&null!=e){var i=mxCellPath.create(e);if(null!=i&&i.length>0){var n=t,l=mxCellPath.create(n);if(i.length<l.length){n=e;var o=l;l=i,i=o}for(;null!=n;){var r=this.getParent(n);if(0==i.indexOf(l+mxCellPath.PATH_SEPARATOR)&&null!=r)return n;l=mxCellPath.getParentPath(l),n=r}}}return null},mxGraphModel.prototype.remove=function(t){return t==this.root?this.setRoot(null):null!=this.getParent(t)&&this.execute(new mxChildChange(this,null,t)),t},mxGraphModel.prototype.cellRemoved=function(t){if(null!=t&&null!=this.cells){for(var e=this.getChildCount(t)-1;e>=0;e--)this.cellRemoved(this.getChildAt(t,e));null!=this.cells&&null!=t.getId()&&delete this.cells[t.getId()]}},mxGraphModel.prototype.parentForCellChanged=function(t,e,i){var n=this.getParent(t);if(null!=e)e==n&&n.getIndex(t)==i||e.insert(t,i);else if(null!=n){var l=n.getIndex(t);n.remove(l)}return this.contains(n)||null==e?null==e&&this.cellRemoved(t):this.cellAdded(t),n},mxGraphModel.prototype.getChildCount=function(t){return null!=t?t.getChildCount():0},mxGraphModel.prototype.getChildAt=function(t,e){return null!=t?t.getChildAt(e):null},mxGraphModel.prototype.getChildren=function(t){return null!=t?t.children:null},mxGraphModel.prototype.getChildVertices=function(t){return this.getChildCells(t,!0,!1)},mxGraphModel.prototype.getChildEdges=function(t){return this.getChildCells(t,!1,!0)},mxGraphModel.prototype.getChildCells=function(t,e,i){e=null!=e&&e,i=null!=i&&i;for(var n=this.getChildCount(t),l=[],o=0;o<n;o++){var r=this.getChildAt(t,o);(!i&&!e||i&&this.isEdge(r)||e&&this.isVertex(r))&&l.push(r)}return l},mxGraphModel.prototype.getTerminal=function(t,e){return null!=t?t.getTerminal(e):null},mxGraphModel.prototype.setTerminal=function(t,e,i){var n=e!=this.getTerminal(t,i);return this.execute(new mxTerminalChange(this,t,e,i)),this.maintainEdgeParent&&n&&this.updateEdgeParent(t,this.getRoot()),e},mxGraphModel.prototype.setTerminals=function(t,e,i){this.beginUpdate();try{this.setTerminal(t,e,!0),this.setTerminal(t,i,!1)}finally{this.endUpdate()}},mxGraphModel.prototype.terminalForCellChanged=function(t,e,i){var n=this.getTerminal(t,i);return null!=e?e.insertEdge(t,i):null!=n&&n.removeEdge(t,i),n},mxGraphModel.prototype.getEdgeCount=function(t){return null!=t?t.getEdgeCount():0},mxGraphModel.prototype.getEdgeAt=function(t,e){return null!=t?t.getEdgeAt(e):null},mxGraphModel.prototype.getDirectedEdgeCount=function(t,e,i){for(var n=0,l=this.getEdgeCount(t),o=0;o<l;o++){var r=this.getEdgeAt(t,o);r!=i&&this.getTerminal(r,e)==t&&n++}return n},mxGraphModel.prototype.getConnections=function(t){return this.getEdges(t,!0,!0,!1)},mxGraphModel.prototype.getIncomingEdges=function(t){return this.getEdges(t,!0,!1,!1)},mxGraphModel.prototype.getOutgoingEdges=function(t){return this.getEdges(t,!1,!0,!1)},mxGraphModel.prototype.getEdges=function(t,e,i,n){e=null==e||e,i=null==i||i,n=null==n||n;for(var l=this.getEdgeCount(t),o=[],r=0;r<l;r++){var s=this.getEdgeAt(t,r),a=this.getTerminal(s,!0),g=this.getTerminal(s,!1);(n&&a==g||a!=g&&(e&&g==t||i&&a==t))&&o.push(s)}return o},mxGraphModel.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;var n=this.getEdgeCount(t),l=this.getEdgeCount(e),o=t,r=n;l<n&&(r=l,o=e);for(var s=[],a=0;a<r;a++){var g=this.getEdgeAt(o,a),C=this.getTerminal(g,!0),h=this.getTerminal(g,!1),A=C==t&&h==e,I=h==t&&C==e;(A||!i&&I)&&s.push(g)}return s},mxGraphModel.prototype.getOpposites=function(t,e,i,n){i=null==i||i,n=null==n||n;var l=[];if(null!=t)for(var o=0;o<t.length;o++){var r=this.getTerminal(t[o],!0),s=this.getTerminal(t[o],!1);r==e&&null!=s&&s!=e&&n?l.push(s):s==e&&null!=r&&r!=e&&i&&l.push(r)}return l},mxGraphModel.prototype.getTopmostCells=function(t){for(var e=new mxDictionary,i=[],n=0;n<t.length;n++)e.put(t[n],!0);for(n=0;n<t.length;n++){for(var l=t[n],o=!0,r=this.getParent(l);null!=r;){if(e.get(r)){o=!1;break}r=this.getParent(r)}o&&i.push(l)}return i},mxGraphModel.prototype.isVertex=function(t){return null!=t&&t.isVertex()},mxGraphModel.prototype.isEdge=function(t){return null!=t&&t.isEdge()},mxGraphModel.prototype.isConnectable=function(t){return null!=t&&t.isConnectable()},mxGraphModel.prototype.getValue=function(t){return null!=t?t.getValue():null},mxGraphModel.prototype.setValue=function(t,e){return this.execute(new mxValueChange(this,t,e)),e},mxGraphModel.prototype.valueForCellChanged=function(t,e){return t.valueChanged(e)},mxGraphModel.prototype.getGeometry=function(t){return null!=t?t.getGeometry():null},mxGraphModel.prototype.setGeometry=function(t,e){return e!=this.getGeometry(t)&&this.execute(new mxGeometryChange(this,t,e)),e},mxGraphModel.prototype.geometryForCellChanged=function(t,e){var i=this.getGeometry(t);return t.setGeometry(e),i},mxGraphModel.prototype.getStyle=function(t){return null!=t?t.getStyle():null},mxGraphModel.prototype.setStyle=function(t,e){return e!=this.getStyle(t)&&this.execute(new mxStyleChange(this,t,e)),e},mxGraphModel.prototype.styleForCellChanged=function(t,e){var i=this.getStyle(t);return t.setStyle(e),i},mxGraphModel.prototype.isCollapsed=function(t){return null!=t&&t.isCollapsed()},mxGraphModel.prototype.setCollapsed=function(t,e){return e!=this.isCollapsed(t)&&this.execute(new mxCollapseChange(this,t,e)),e},mxGraphModel.prototype.collapsedStateForCellChanged=function(t,e){var i=this.isCollapsed(t);return t.setCollapsed(e),i},mxGraphModel.prototype.isVisible=function(t){return null!=t&&t.isVisible()},mxGraphModel.prototype.setVisible=function(t,e){return e!=this.isVisible(t)&&this.execute(new mxVisibleChange(this,t,e)),e},mxGraphModel.prototype.visibleStateForCellChanged=function(t,e){var i=this.isVisible(t);return t.setVisible(e),i},mxGraphModel.prototype.execute=function(t){t.execute(),this.beginUpdate(),this.currentEdit.add(t),this.fireEvent(new mxEventObject(mxEvent.EXECUTE,"change",t)),this.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",t)),this.endUpdate()},mxGraphModel.prototype.beginUpdate=function(){this.updateLevel++,this.fireEvent(new mxEventObject(mxEvent.BEGIN_UPDATE)),1==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.START_EDIT))},mxGraphModel.prototype.endUpdate=function(){if(0==--this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.END_EDIT)),!this.endingUpdate){this.endingUpdate=0==this.updateLevel,this.fireEvent(new mxEventObject(mxEvent.END_UPDATE,"edit",this.currentEdit));try{if(this.endingUpdate&&!this.currentEdit.isEmpty()){this.fireEvent(new mxEventObject(mxEvent.BEFORE_UNDO,"edit",this.currentEdit));var t=this.currentEdit;this.currentEdit=this.createUndoableEdit(),t.notify(),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",t))}}finally{this.endingUpdate=!1}}},mxGraphModel.prototype.createUndoableEdit=function(){var t=new mxUndoableEdit(this,!0);return t.notify=function(){t.source.fireEvent(new mxEventObject(mxEvent.CHANGE,"edit",t,"changes",t.changes)),t.source.fireEvent(new mxEventObject(mxEvent.NOTIFY,"edit",t,"changes",t.changes))},t},mxGraphModel.prototype.mergeChildren=function(t,e,i){i=null==i||i,this.beginUpdate();try{var n=new Object;this.mergeChildrenImpl(t,e,i,n);for(var l in n){var o=n[l],r=this.getTerminal(o,!0);null!=r&&(r=n[mxCellPath.create(r)],this.setTerminal(o,r,!0)),null!=(r=this.getTerminal(o,!1))&&(r=n[mxCellPath.create(r)],this.setTerminal(o,r,!1))}}finally{this.endUpdate()}},mxGraphModel.prototype.mergeChildrenImpl=function(t,e,i,n){this.beginUpdate();try{for(var l=t.getChildCount(),o=0;o<l;o++){var r=t.getChildAt(o);if("function"==typeof r.getId){var s=r.getId(),a=null==s||this.isEdge(r)&&i?null:this.getCell(s);if(null==a){var g=r.clone();g.setId(s),g.setTerminal(r.getTerminal(!0),!0),g.setTerminal(r.getTerminal(!1),!1),a=e.insert(g),this.cellAdded(a)}n[mxCellPath.create(r)]=a,this.mergeChildrenImpl(r,a,i,n)}}}finally{this.endUpdate()}},mxGraphModel.prototype.getParents=function(t){var e=[];if(null!=t)for(var i=new mxDictionary,n=0;n<t.length;n++){var l=this.getParent(t[n]);null==l||i.get(l)||(i.put(l,!0),e.push(l))}return e},mxGraphModel.prototype.cloneCell=function(t){return null!=t?this.cloneCells([t],!0)[0]:null},mxGraphModel.prototype.cloneCells=function(t,e,i){i=null!=i?i:new Object;for(var n=[],l=0;l<t.length;l++)null!=t[l]?n.push(this.cloneCellImpl(t[l],i,e)):n.push(null);for(l=0;l<n.length;l++)null!=n[l]&&this.restoreClone(n[l],t[l],i);return n},mxGraphModel.prototype.cloneCellImpl=function(t,e,i){var n=this.cellCloned(t);if(e[mxObjectIdentity.get(t)]=n,i)for(var l=this.getChildCount(t),o=0;o<l;o++){var r=this.cloneCellImpl(this.getChildAt(t,o),e,!0);n.insert(r)}return n},mxGraphModel.prototype.cellCloned=function(t){return t.clone()},mxGraphModel.prototype.restoreClone=function(t,e,i){var n=this.getTerminal(e,!0);null!=n&&null!=(o=i[mxObjectIdentity.get(n)])&&o.insertEdge(t,!0);var l=this.getTerminal(e,!1);if(null!=l){var o=i[mxObjectIdentity.get(l)];null!=o&&o.insertEdge(t,!1)}for(var r=this.getChildCount(t),s=0;s<r;s++)this.restoreClone(this.getChildAt(t,s),this.getChildAt(e,s),i)},mxRootChange.prototype.execute=function(){this.root=this.previous,this.previous=this.model.rootChanged(this.previous)},mxChildChange.prototype.execute=function(){var t=this.model.getParent(this.child),e=null!=t?t.getIndex(this.child):0;null==this.previous&&this.connect(this.child,!1),t=this.model.parentForCellChanged(this.child,this.previous,this.previousIndex),null!=this.previous&&this.connect(this.child,!0),this.parent=this.previous,this.previous=t,this.index=this.previousIndex,this.previousIndex=e},mxChildChange.prototype.connect=function(t,e){e=null==e||e;var i=t.getTerminal(!0),n=t.getTerminal(!1);null!=i&&(e?this.model.terminalForCellChanged(t,i,!0):this.model.terminalForCellChanged(t,null,!0)),null!=n&&(e?this.model.terminalForCellChanged(t,n,!1):this.model.terminalForCellChanged(t,null,!1)),t.setTerminal(i,!0),t.setTerminal(n,!1);for(var l=this.model.getChildCount(t),o=0;o<l;o++)this.connect(this.model.getChildAt(t,o),e)},mxTerminalChange.prototype.execute=function(){this.terminal=this.previous,this.previous=this.model.terminalForCellChanged(this.cell,this.previous,this.source)},mxValueChange.prototype.execute=function(){this.value=this.previous,this.previous=this.model.valueForCellChanged(this.cell,this.previous)},mxStyleChange.prototype.execute=function(){this.style=this.previous,this.previous=this.model.styleForCellChanged(this.cell,this.previous)},mxGeometryChange.prototype.execute=function(){this.geometry=this.previous,this.previous=this.model.geometryForCellChanged(this.cell,this.previous)},mxCollapseChange.prototype.execute=function(){this.collapsed=this.previous,this.previous=this.model.collapsedStateForCellChanged(this.cell,this.previous)},mxVisibleChange.prototype.execute=function(){this.visible=this.previous,this.previous=this.model.visibleStateForCellChanged(this.cell,this.previous)},mxCellAttributeChange.prototype.execute=function(){var t=this.cell.getAttribute(this.attribute);null==this.previous?this.cell.value.removeAttribute(this.attribute):this.cell.setAttribute(this.attribute,this.previous),this.previous=t},mxCell.prototype.id=null,mxCell.prototype.value=null,mxCell.prototype.geometry=null,mxCell.prototype.style=null,mxCell.prototype.category=null,mxCell.prototype.uuid=null,mxCell.prototype.author=null,mxCell.prototype.designLibraryId=null,mxCell.prototype.image=null,mxCell.prototype.vertex=!1,mxCell.prototype.edge=!1,mxCell.prototype.connectable=!0,mxCell.prototype.visible=!0,mxCell.prototype.collapsed=!1,mxCell.prototype.parent=null,mxCell.prototype.source=null,mxCell.prototype.target=null,mxCell.prototype.children=null,mxCell.prototype.edges=null,mxCell.prototype.mxTransient=["id","value","parent","source","target","children","edges"],mxCell.prototype.getId=function(){return this.id},mxCell.prototype.setId=function(t){this.id=t},mxCell.prototype.getValue=function(){return this.value},mxCell.prototype.setValue=function(t){this.value=t},mxCell.prototype.valueChanged=function(t){var e=this.getValue();return this.setValue(t),e},mxCell.prototype.getGeometry=function(){return this.geometry},mxCell.prototype.setGeometry=function(t){this.geometry=t},mxCell.prototype.getStyle=function(){return this.style},mxCell.prototype.setStyle=function(t){this.style=t},mxCell.prototype.getCategory=function(){return this.category},mxCell.prototype.setCategory=function(t){this.category=t},mxCell.prototype.getUuid=function(){return this.uuid||""},mxCell.prototype.setUuid=function(t){this.uuid=t},mxCell.prototype.getAuthor=function(){return this.author||""},mxCell.prototype.setAuthor=function(t){this.author=t},mxCell.prototype.getDesignLibraryId=function(){return this.designLibraryId||""},mxCell.prototype.setDesignLibraryId=function(t){this.designLibraryId=t},mxCell.prototype.isVertex=function(){return 0!=this.vertex},mxCell.prototype.setVertex=function(t){this.vertex=t},mxCell.prototype.isEdge=function(){return 0!=this.edge},mxCell.prototype.setEdge=function(t){this.edge=t},mxCell.prototype.isConnectable=function(){return 0!=this.connectable},mxCell.prototype.setConnectable=function(t){this.connectable=t},mxCell.prototype.isVisible=function(){return 0!=this.visible},mxCell.prototype.setVisible=function(t){this.visible=t},mxCell.prototype.isCollapsed=function(){return 0!=this.collapsed},mxCell.prototype.setCollapsed=function(t){this.collapsed=t},mxCell.prototype.getParent=function(){return this.parent},mxCell.prototype.setParent=function(t){this.parent=t},mxCell.prototype.getTerminal=function(t){return t?this.source:this.target},mxCell.prototype.setTerminal=function(t,e){return e?this.source=t:this.target=t,t},mxCell.prototype.getChildCount=function(){return null==this.children?0:this.children.length},mxCell.prototype.getIndex=function(t){return mxUtils.indexOf(this.children,t)},mxCell.prototype.getChildAt=function(t){return null==this.children?null:this.children[t]},mxCell.prototype.insert=function(t,e){return null!=t&&(null==e&&(e=this.getChildCount(),t.getParent()==this&&e--),t.removeFromParent(),t.setParent(this),null==this.children?(this.children=[],this.children.push(t)):this.children.splice(e,0,t)),t},mxCell.prototype.remove=function(t){var e=null;return null!=this.children&&t>=0&&null!=(e=this.getChildAt(t))&&(this.children.splice(t,1),e.setParent(null)),e},mxCell.prototype.removeFromParent=function(){if(null!=this.parent){var t=this.parent.getIndex(this);this.parent.remove(t)}},mxCell.prototype.getEdgeCount=function(){return null==this.edges?0:this.edges.length},mxCell.prototype.getEdgeIndex=function(t){return mxUtils.indexOf(this.edges,t)},mxCell.prototype.getEdgeAt=function(t){return null==this.edges?null:this.edges[t]},mxCell.prototype.insertEdge=function(t,e){return null!=t&&(t.removeFromTerminal(e),t.setTerminal(this,e),(null==this.edges||t.getTerminal(!e)!=this||mxUtils.indexOf(this.edges,t)<0)&&(null==this.edges&&(this.edges=[]),this.edges.push(t))),t},mxCell.prototype.removeEdge=function(t,e){if(null!=t){if(t.getTerminal(!e)!=this&&null!=this.edges){var i=this.getEdgeIndex(t);i>=0&&this.edges.splice(i,1)}t.setTerminal(null,e)}return t},mxCell.prototype.removeFromTerminal=function(t){var e=this.getTerminal(t);null!=e&&e.removeEdge(this,t)},mxCell.prototype.getAttribute=function(t,e){var i=this.getValue();return(null!=i&&i.nodeType==mxConstants.NODETYPE_ELEMENT?i.getAttribute(t):null)||e},mxCell.prototype.setAttribute=function(t,e){var i=this.getValue();null!=i&&i.nodeType==mxConstants.NODETYPE_ELEMENT&&i.setAttribute(t,e)},mxCell.prototype.clone=function(){var t=mxUtils.clone(this,this.mxTransient);return t.setValue(this.cloneValue()),t},mxCell.prototype.cloneValue=function(){var t=this.getValue();return null!=t&&("function"==typeof t.clone?t=t.clone():isNaN(t.nodeType)||(t=t.cloneNode(!0))),t},mxGeometry.prototype=new mxRectangle,mxGeometry.prototype.constructor=mxGeometry,mxGeometry.prototype.TRANSLATE_CONTROL_POINTS=!0,mxGeometry.prototype.alternateBounds=null,mxGeometry.prototype.sourcePoint=null,mxGeometry.prototype.targetPoint=null,mxGeometry.prototype.points=null,mxGeometry.prototype.offset=null,mxGeometry.prototype.relative=!1,mxGeometry.prototype.swap=function(){if(null!=this.alternateBounds){var t=new mxRectangle(this.x,this.y,this.width,this.height);this.x=this.alternateBounds.x,this.y=this.alternateBounds.y,this.width=this.alternateBounds.width,this.height=this.alternateBounds.height,this.alternateBounds=t}},mxGeometry.prototype.getTerminalPoint=function(t){return t?this.sourcePoint:this.targetPoint},mxGeometry.prototype.setTerminalPoint=function(t,e){return e?this.sourcePoint=t:this.targetPoint=t,t},mxGeometry.prototype.rotate=function(t,e){var i=mxUtils.toRadians(t),n=Math.cos(i),l=Math.sin(i);if(!this.relative){var o=new mxPoint(this.getCenterX(),this.getCenterY()),r=mxUtils.getRotatedPoint(o,n,l,e);this.x=Math.round(r.x-this.width/2),this.y=Math.round(r.y-this.height/2)}if(null!=this.sourcePoint){r=mxUtils.getRotatedPoint(this.sourcePoint,n,l,e);this.sourcePoint.x=Math.round(r.x),this.sourcePoint.y=Math.round(r.y)}if(null!=this.targetPoint){r=mxUtils.getRotatedPoint(this.targetPoint,n,l,e);this.targetPoint.x=Math.round(r.x),this.targetPoint.y=Math.round(r.y)}if(null!=this.points)for(var s=0;s<this.points.length;s++)if(null!=this.points[s]){r=mxUtils.getRotatedPoint(this.points[s],n,l,e);this.points[s].x=Math.round(r.x),this.points[s].y=Math.round(r.y)}},mxGeometry.prototype.translate=function(t,e){if(t=parseFloat(t),e=parseFloat(e),this.relative||(this.x=parseFloat(this.x)+t,this.y=parseFloat(this.y)+e),null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)+t,this.sourcePoint.y=parseFloat(this.sourcePoint.y)+e),null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)+t,this.targetPoint.y=parseFloat(this.targetPoint.y)+e),this.TRANSLATE_CONTROL_POINTS&&null!=this.points)for(var i=0;i<this.points.length;i++)null!=this.points[i]&&(this.points[i].x=parseFloat(this.points[i].x)+t,this.points[i].y=parseFloat(this.points[i].y)+e)},mxGeometry.prototype.scale=function(t,e,i){if(t=parseFloat(t),e=parseFloat(e),null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)*t,this.sourcePoint.y=parseFloat(this.sourcePoint.y)*e),null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)*t,this.targetPoint.y=parseFloat(this.targetPoint.y)*e),null!=this.points)for(var n=0;n<this.points.length;n++)null!=this.points[n]&&(this.points[n].x=parseFloat(this.points[n].x)*t,this.points[n].y=parseFloat(this.points[n].y)*e);this.relative||(this.x=parseFloat(this.x)*t,this.y=parseFloat(this.y)*e,i&&(e=t=Math.min(t,e)),this.width=parseFloat(this.width)*t,this.height=parseFloat(this.height)*e)},mxGeometry.prototype.equals=function(t){return mxRectangle.prototype.equals.apply(this,arguments)&&this.relative==t.relative&&(null==this.sourcePoint&&null==t.sourcePoint||null!=this.sourcePoint&&this.sourcePoint.equals(t.sourcePoint))&&(null==this.targetPoint&&null==t.targetPoint||null!=this.targetPoint&&this.targetPoint.equals(t.targetPoint))&&(null==this.points&&null==t.points||null!=this.points&&mxUtils.equalPoints(this.points,t.points))&&(null==this.alternateBounds&&null==t.alternateBounds||null!=this.alternateBounds&&this.alternateBounds.equals(t.alternateBounds))&&(null==this.offset&&null==t.offset||null!=this.offset&&this.offset.equals(t.offset))};var mxCellPath={PATH_SEPARATOR:".",create:function(t){var e="";if(null!=t)for(var i=t.getParent();null!=i;)e=i.getIndex(t)+mxCellPath.PATH_SEPARATOR+e,i=(t=i).getParent();var n=e.length;return n>1&&(e=e.substring(0,n-1)),e},getParentPath:function(t){if(null!=t){var e=t.lastIndexOf(mxCellPath.PATH_SEPARATOR);if(e>=0)return t.substring(0,e);if(t.length>0)return""}return null},resolve:function(t,e){var i=t;if(null!=e)for(var n=e.split(mxCellPath.PATH_SEPARATOR),l=0;l<n.length;l++)i=i.getChildAt(parseInt(n[l]));return i},compare:function(t,e){for(var i=Math.min(t.length,e.length),n=0,l=0;l<i;l++)if(t[l]!=e[l]){n=0==t[l].length||0==e[l].length?t[l]==e[l]?0:t[l]>e[l]?1:-1:(o=parseInt(t[l]))==(r=parseInt(e[l]))?0:o>r?1:-1;break}if(0==n){var o=t.length,r=e.length;o!=r&&(n=o>r?1:-1)}return n}},mxPerimeter={RectanglePerimeter:function(t,e,i,n){var l=t.getCenterX(),o=t.getCenterY(),r=i.x-l,s=i.y-o,a=Math.atan2(s,r),g=new mxPoint(0,0),C=Math.PI,h=Math.PI/2-a,A=Math.atan2(t.height,t.width);return a<-C+A||a>C-A?(g.x=t.x,g.y=o-t.width*Math.tan(a)/2):a<-A?(g.y=t.y,g.x=l-t.height*Math.tan(h)/2):a<A?(g.x=t.x+t.width,g.y=o+t.width*Math.tan(a)/2):(g.y=t.y+t.height,g.x=l+t.height*Math.tan(h)/2),n&&(i.x>=t.x&&i.x<=t.x+t.width?g.x=i.x:i.y>=t.y&&i.y<=t.y+t.height&&(g.y=i.y),i.x<t.x?g.x=t.x:i.x>t.x+t.width&&(g.x=t.x+t.width),i.y<t.y?g.y=t.y:i.y>t.y+t.height&&(g.y=t.y+t.height)),g},EllipsePerimeter:function(t,e,i,n){var l=t.x,o=t.y,r=t.width/2,s=t.height/2,a=l+r,g=o+s,C=i.x,h=i.y,A=parseInt(C-a),I=parseInt(h-g);if(0==A&&0!=I)return new mxPoint(a,g+s*I/Math.abs(I));if(0==A&&0==I)return new mxPoint(C,h);if(n){if(h>=o&&h<=o+t.height){var c=h-g,d=Math.sqrt(r*r*(1-c*c/(s*s)))||0;return C<=l&&(d=-d),new mxPoint(a+d,h)}if(C>=l&&C<=l+t.width){var d=C-a,c=Math.sqrt(s*s*(1-d*d/(r*r)))||0;return h<=o&&(c=-c),new mxPoint(C,g+c)}}var u=I/A,p=g-u*a,m=r*r*u*u+s*s,x=-2*a*m,v=r*r*u*u*a*a+s*s*a*a-r*r*s*s,y=Math.sqrt(x*x-4*m*v),f=(-x+y)/(2*m),b=(-x-y)/(2*m),w=u*f+p,E=u*b+p,S=0,T=0;return Math.sqrt(Math.pow(f-C,2)+Math.pow(w-h,2))<Math.sqrt(Math.pow(b-C,2)+Math.pow(E-h,2))?(S=f,T=w):(S=b,T=E),new mxPoint(S,T)},RhombusPerimeter:function(t,e,i,n){var l=t.x,o=t.y,r=t.width,s=t.height,a=l+r/2,g=o+s/2,C=i.x,h=i.y;if(a==C)return g>h?new mxPoint(a,o):new mxPoint(a,o+s);if(g==h)return a>C?new mxPoint(l,g):new mxPoint(l+r,g);var A=a,I=g;return n&&(C>=l&&C<=l+r?A=C:h>=o&&h<=o+s&&(I=h)),C<a?h<g?mxUtils.intersection(C,h,A,I,a,o,l,g):mxUtils.intersection(C,h,A,I,a,o+s,l,g):h<g?mxUtils.intersection(C,h,A,I,a,o,l+r,g):mxUtils.intersection(C,h,A,I,a,o+s,l+r,g)},TrianglePerimeter:function(t,e,i,n){var l=null!=e?e.style[mxConstants.STYLE_DIRECTION]:null,o=l==mxConstants.DIRECTION_NORTH||l==mxConstants.DIRECTION_SOUTH,r=t.x,s=t.y,a=t.width,g=t.height,C=r+a/2,h=s+g/2,A=new mxPoint(r,s),I=new mxPoint(r+a,h),c=new mxPoint(r,s+g);l==mxConstants.DIRECTION_NORTH?(A=c,I=new mxPoint(C,s),c=new mxPoint(r+a,s+g)):l==mxConstants.DIRECTION_SOUTH?(I=new mxPoint(C,s+g),c=new mxPoint(r+a,s)):l==mxConstants.DIRECTION_WEST&&(A=new mxPoint(r+a,s),I=new mxPoint(r,h),c=new mxPoint(r+a,s+g));var d=i.x-C,u=i.y-h,p=o?Math.atan2(d,u):Math.atan2(u,d),m=o?Math.atan2(a,g):Math.atan2(g,a),x=null;if(l==mxConstants.DIRECTION_NORTH||l==mxConstants.DIRECTION_WEST?p>-m&&p<m:p<-Math.PI+m||p>Math.PI-m)x=n&&(o&&i.x>=A.x&&i.x<=c.x||!o&&i.y>=A.y&&i.y<=c.y)?o?new mxPoint(i.x,A.y):new mxPoint(A.x,i.y):l==mxConstants.DIRECTION_NORTH?new mxPoint(r+a/2+g*Math.tan(p)/2,s+g):l==mxConstants.DIRECTION_SOUTH?new mxPoint(r+a/2-g*Math.tan(p)/2,s):l==mxConstants.DIRECTION_WEST?new mxPoint(r+a,s+g/2+a*Math.tan(p)/2):new mxPoint(r,s+g/2-a*Math.tan(p)/2);else{if(n){var v=new mxPoint(C,h);i.y>=s&&i.y<=s+g?(v.x=o?C:l==mxConstants.DIRECTION_WEST?r+a:r,v.y=i.y):i.x>=r&&i.x<=r+a&&(v.x=i.x,v.y=o?l==mxConstants.DIRECTION_NORTH?s+g:s:h),d=i.x-v.x,u=i.y-v.y,C=v.x,h=v.y}x=o&&i.x<=r+a/2||!o&&i.y<=s+g/2?mxUtils.intersection(i.x,i.y,C,h,A.x,A.y,I.x,I.y):mxUtils.intersection(i.x,i.y,C,h,I.x,I.y,c.x,c.y)}return null==x&&(x=new mxPoint(C,h)),x},HexagonPerimeter:function(t,e,i,n){var l=t.x,o=t.y,r=t.width,s=t.height,a=t.getCenterX(),g=t.getCenterY(),C=i.x,h=i.y,A=C-a,I=h-g,c=-Math.atan2(I,A),d=Math.PI,u=Math.PI/2,p=new mxPoint(a,g),m=null!=e?mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST,x=m==mxConstants.DIRECTION_NORTH||m==mxConstants.DIRECTION_SOUTH,v=new mxPoint,y=new mxPoint;if((C<l&&h<o||C<l&&h>o+s||C>l+r&&h<o||C>l+r&&h>o+s)&&(n=!1),n){if(x){if(C==a){if(h<=o)return new mxPoint(a,o);if(h>=o+s)return new mxPoint(a,o+s)}else if(C<l){if(h==o+s/4)return new mxPoint(l,o+s/4);if(h==o+3*s/4)return new mxPoint(l,o+3*s/4)}else if(C>l+r){if(h==o+s/4)return new mxPoint(l+r,o+s/4);if(h==o+3*s/4)return new mxPoint(l+r,o+3*s/4)}else if(C==l){if(h<g)return new mxPoint(l,o+s/4);if(h>g)return new mxPoint(l,o+3*s/4)}else if(C==l+r){if(h<g)return new mxPoint(l+r,o+s/4);if(h>g)return new mxPoint(l+r,o+3*s/4)}if(h==o)return new mxPoint(a,o);if(h==o+s)return new mxPoint(a,o+s);C<a?h>o+s/4&&h<o+3*s/4?(v=new mxPoint(l,o),y=new mxPoint(l,o+s)):h<o+s/4?(v=new mxPoint(l-Math.floor(.5*r),o+Math.floor(.5*s)),y=new mxPoint(l+r,o-Math.floor(.25*s))):h>o+3*s/4&&(v=new mxPoint(l-Math.floor(.5*r),o+Math.floor(.5*s)),y=new mxPoint(l+r,o+Math.floor(1.25*s))):C>a&&(h>o+s/4&&h<o+3*s/4?(v=new mxPoint(l+r,o),y=new mxPoint(l+r,o+s)):h<o+s/4?(v=new mxPoint(l,o-Math.floor(.25*s)),y=new mxPoint(l+Math.floor(1.5*r),o+Math.floor(.5*s))):h>o+3*s/4&&(v=new mxPoint(l+Math.floor(1.5*r),o+Math.floor(.5*s)),y=new mxPoint(l,o+Math.floor(1.25*s))))}else{if(h==g){if(C<=l)return new mxPoint(l,o+s/2);if(C>=l+r)return new mxPoint(l+r,o+s/2)}else if(h<o){if(C==l+r/4)return new mxPoint(l+r/4,o);if(C==l+3*r/4)return new mxPoint(l+3*r/4,o)}else if(h>o+s){if(C==l+r/4)return new mxPoint(l+r/4,o+s);if(C==l+3*r/4)return new mxPoint(l+3*r/4,o+s)}else if(h==o){if(C<a)return new mxPoint(l+r/4,o);if(C>a)return new mxPoint(l+3*r/4,o)}else if(h==o+s){if(C<a)return new mxPoint(l+r/4,o+s);if(h>g)return new mxPoint(l+3*r/4,o+s)}if(C==l)return new mxPoint(l,g);if(C==l+r)return new mxPoint(l+r,g);h<g?C>l+r/4&&C<l+3*r/4?(v=new mxPoint(l,o),y=new mxPoint(l+r,o)):C<l+r/4?(v=new mxPoint(l-Math.floor(.25*r),o+s),y=new mxPoint(l+Math.floor(.5*r),o-Math.floor(.5*s))):C>l+3*r/4&&(v=new mxPoint(l+Math.floor(.5*r),o-Math.floor(.5*s)),y=new mxPoint(l+Math.floor(1.25*r),o+s)):h>g&&(C>l+r/4&&C<l+3*r/4?(v=new mxPoint(l,o+s),y=new mxPoint(l+r,o+s)):C<l+r/4?(v=new mxPoint(l-Math.floor(.25*r),o),y=new mxPoint(l+Math.floor(.5*r),o+Math.floor(1.5*s))):C>l+3*r/4&&(v=new mxPoint(l+Math.floor(.5*r),o+Math.floor(1.5*s)),y=new mxPoint(l+Math.floor(1.25*r),o)))}var f=a,b=g;C>=l&&C<=l+r?(f=C,b=h<g?o+s:o):h>=o&&h<=o+s&&(b=h,f=C<a?l+r:l),p=mxUtils.intersection(f,b,i.x,i.y,v.x,v.y,y.x,y.y)}else{if(x){if(c==(w=Math.atan2(s/4,r/2)))return new mxPoint(l+r,o+Math.floor(.25*s));if(c==u)return new mxPoint(l+Math.floor(.5*r),o);if(c==d-w)return new mxPoint(l,o+Math.floor(.25*s));if(c==-w)return new mxPoint(l+r,o+Math.floor(.75*s));if(c==-u)return new mxPoint(l+Math.floor(.5*r),o+s);if(c==-d+w)return new mxPoint(l,o+Math.floor(.75*s));c<w&&c>-w?(v=new mxPoint(l+r,o),y=new mxPoint(l+r,o+s)):c>w&&c<u?(v=new mxPoint(l,o-Math.floor(.25*s)),y=new mxPoint(l+Math.floor(1.5*r),o+Math.floor(.5*s))):c>u&&c<d-w?(v=new mxPoint(l-Math.floor(.5*r),o+Math.floor(.5*s)),y=new mxPoint(l+r,o-Math.floor(.25*s))):c>d-w&&c<=d||c<-d+w&&c>=-d?(v=new mxPoint(l,o),y=new mxPoint(l,o+s)):c<-w&&c>-u?(v=new mxPoint(l+Math.floor(1.5*r),o+Math.floor(.5*s)),y=new mxPoint(l,o+Math.floor(1.25*s))):c<-u&&c>-d+w&&(v=new mxPoint(l-Math.floor(.5*r),o+Math.floor(.5*s)),y=new mxPoint(l+r,o+Math.floor(1.25*s)))}else{var w=Math.atan2(s/2,r/4);if(c==w)return new mxPoint(l+Math.floor(.75*r),o);if(c==d-w)return new mxPoint(l+Math.floor(.25*r),o);if(c==d||c==-d)return new mxPoint(l,o+Math.floor(.5*s));if(0==c)return new mxPoint(l+r,o+Math.floor(.5*s));if(c==-w)return new mxPoint(l+Math.floor(.75*r),o+s)
;if(c==-d+w)return new mxPoint(l+Math.floor(.25*r),o+s);c>0&&c<w?(v=new mxPoint(l+Math.floor(.5*r),o-Math.floor(.5*s)),y=new mxPoint(l+Math.floor(1.25*r),o+s)):c>w&&c<d-w?(v=new mxPoint(l,o),y=new mxPoint(l+r,o)):c>d-w&&c<d?(v=new mxPoint(l-Math.floor(.25*r),o+s),y=new mxPoint(l+Math.floor(.5*r),o-Math.floor(.5*s))):c<0&&c>-w?(v=new mxPoint(l+Math.floor(.5*r),o+Math.floor(1.5*s)),y=new mxPoint(l+Math.floor(1.25*r),o)):c<-w&&c>-d+w?(v=new mxPoint(l,o+s),y=new mxPoint(l+r,o+s)):c<-d+w&&c>-d&&(v=new mxPoint(l-Math.floor(.25*r),o),y=new mxPoint(l+Math.floor(.5*r),o+Math.floor(1.5*s)))}p=mxUtils.intersection(a,g,i.x,i.y,v.x,v.y,y.x,y.y)}return null==p?new mxPoint(a,g):p}};mxPrintPreview.prototype.graph=null,mxPrintPreview.prototype.pageFormat=null,mxPrintPreview.prototype.scale=null,mxPrintPreview.prototype.border=0,mxPrintPreview.prototype.marginTop=0,mxPrintPreview.prototype.marginBottom=0,mxPrintPreview.prototype.x0=0,mxPrintPreview.prototype.y0=0,mxPrintPreview.prototype.autoOrigin=!0,mxPrintPreview.prototype.printOverlays=!1,mxPrintPreview.prototype.printControls=!1,mxPrintPreview.prototype.printBackgroundImage=!1,mxPrintPreview.prototype.backgroundColor="#ffffff",mxPrintPreview.prototype.borderColor=null,mxPrintPreview.prototype.title=null,mxPrintPreview.prototype.pageSelector=null,mxPrintPreview.prototype.wnd=null,mxPrintPreview.prototype.targetWindow=null,mxPrintPreview.prototype.pageCount=0,mxPrintPreview.prototype.clipping=!0,mxPrintPreview.prototype.getWindow=function(){return this.wnd},mxPrintPreview.prototype.getDoctype=function(){var t="";return 5==document.documentMode?t='<meta http-equiv="X-UA-Compatible" content="IE=5">':8==document.documentMode?t='<meta http-equiv="X-UA-Compatible" content="IE=8">':document.documentMode>8&&(t='\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--\x3e'),t},mxPrintPreview.prototype.open=function(t,e){var i=this.graph.cellRenderer.initializeOverlay,n=null;try{if(this.printOverlays&&(this.graph.cellRenderer.initializeOverlay=function(t,e){e.init(t.view.getDrawPane())}),this.printControls&&(this.graph.cellRenderer.initControl=function(t,e,i,n){e.dialect=t.view.graph.dialect,e.init(t.view.getDrawPane())}),null==this.wnd){this.wnd=null!=e?e:window.open();var l=this.wnd.document;if(null==e){var o=this.getDoctype();null!=o&&o.length>0&&l.writeln(o),mxClient.IS_VML?l.writeln('<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">'):("CSS1Compat"===document.compatMode&&l.writeln("<!DOCTYPE html>"),l.writeln("<html>")),l.writeln("<head>"),this.writeHead(l,t),l.writeln("</head>"),l.writeln('<body class="mxPage">')}var r=this.graph.getGraphBounds().clone(),s=this.graph.getView().getScale(),a=s/this.scale,g=this.graph.getView().getTranslate();this.autoOrigin||(this.x0-=g.x*this.scale,this.y0-=g.y*this.scale,r.width+=r.x,r.height+=r.y,r.x=0,r.y=0,this.border=0);var C=this.pageFormat.width-2*this.border,h=this.pageFormat.height-2*this.border;this.pageFormat.height+=this.marginTop+this.marginBottom,r.width/=a,r.height/=a;var A=Math.max(1,Math.ceil((r.width+this.x0)/C)),I=Math.max(1,Math.ceil((r.height+this.y0)/h));this.pageCount=A*I;var c=mxUtils.bind(this,function(){if(this.pageSelector&&(I>1||A>1)){var t=this.createPageSelector(I,A);if(l.body.appendChild(t),mxClient.IS_IE&&null==l.documentMode||5==l.documentMode||8==l.documentMode||7==l.documentMode){t.style.position="absolute";var e=function(){t.style.top=(l.body.scrollTop||l.documentElement.scrollTop)+10+"px"};mxEvent.addListener(this.wnd,"scroll",function(t){e()}),mxEvent.addListener(this.wnd,"resize",function(t){e()})}}}),d=mxUtils.bind(this,function(t,i){if(null!=this.borderColor&&(t.style.borderColor=this.borderColor,t.style.borderStyle="solid",t.style.borderWidth="1px"),t.style.background=this.backgroundColor,i&&(t.style.pageBreakAfter="always"),mxClient.IS_IE||document.documentMode>=11||mxClient.IS_EDGE?(l.writeln(t.outerHTML),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),l.body.appendChild(t)),i&&null==e){var n=l.createElement("hr");n.className="mxPageBreak",l.body.appendChild(n)}}),u=this.getCoverPages(this.pageFormat.width,this.pageFormat.height);if(null!=u)for(m=0;m<u.length;m++)d(u[m],!0);for(var p=this.getAppendices(this.pageFormat.width,this.pageFormat.height),m=0;m<I;m++)for(var x=m*h/this.scale-this.y0/this.scale+(r.y-g.y*s)/s,v=0;v<A;v++){if(null==this.wnd)return null;var y=v*C/this.scale-this.x0/this.scale+(r.x-g.x*s)/s,f=m*A+v+1,b=new mxRectangle(y,x,C,h);(n=this.renderPage(this.pageFormat.width,this.pageFormat.height,0,0,mxUtils.bind(this,function(t){this.addGraphFragment(-y,-x,this.scale,f,t,b),this.printBackgroundImage&&this.insertBackgroundImage(t,-y,-x)}),f)).setAttribute("id","mxPage-"+f),d(n,null!=p||m<I-1||v<A-1)}if(null!=p)for(m=0;m<p.length;m++)d(p[m],m<p.length);null==e&&(this.writePostfix(l),l.writeln("</body>"),l.writeln("</html>"),l.close(),c(),mxEvent.release(l.body))}this.wnd.focus()}catch(t){null!=n&&null!=n.parentNode&&n.parentNode.removeChild(n),console.log("e",t)}finally{this.graph.cellRenderer.initializeOverlay=i}return this.wnd},mxPrintPreview.prototype.writeHead=function(t,e){null!=this.title&&t.writeln("<title>"+this.title+"</title>"),mxClient.IS_VML&&t.writeln('<style type="text/css">v\\:*{behavior:url(#default#VML)}o\\:*{behavior:url(#default#VML)}</style>'),mxClient.link("stylesheet",mxClient.basePath+"/css/common.css",t),t.writeln('<style type="text/css">'),t.writeln("@media print {"),t.writeln("  table.mxPageSelector { display: none; }"),t.writeln("  hr.mxPageBreak { display: none; }"),t.writeln("}"),t.writeln("@media screen {"),t.writeln("  table.mxPageSelector { position: fixed; right: 10px; top: 10px;font-family: Arial; font-size:10pt; border: solid 1px darkgray;background: white; border-collapse:collapse; }"),t.writeln("  table.mxPageSelector td { border: solid 1px gray; padding:4px; }"),t.writeln("  body.mxPage { background: gray; }"),t.writeln("}"),null!=e&&t.writeln(e),t.writeln("</style>")},mxPrintPreview.prototype.writePostfix=function(t){},mxPrintPreview.prototype.createPageSelector=function(t,e){var i=this.wnd.document,n=i.createElement("table");n.className="mxPageSelector",n.setAttribute("border","0");for(var l=i.createElement("tbody"),o=0;o<t;o++){for(var r=i.createElement("tr"),s=0;s<e;s++){var a=o*e+s+1,g=i.createElement("td"),C=i.createElement("a");if(C.setAttribute("href","#mxPage-"+a),mxClient.IS_NS&&!mxClient.IS_SF&&!mxClient.IS_GC){var h="var page = document.getElementById('mxPage-"+a+"');page.scrollIntoView(true);event.preventDefault();";C.setAttribute("onclick",h)}mxUtils.write(C,a,i),g.appendChild(C),r.appendChild(g)}l.appendChild(r)}return n.appendChild(l),n},mxPrintPreview.prototype.renderPage=function(t,e,i,n,l,o){var r=this.wnd.document,s=document.createElement("div"),a=null;try{if(0!=i||0!=n){s.style.position="relative",s.style.width=t+"px",s.style.height=e+"px",s.style.pageBreakInside="avoid",(C=document.createElement("div")).style.position="relative",C.style.top=this.border+"px",C.style.left=this.border+"px",C.style.width=t-2*this.border+"px",C.style.height=e-2*this.border+"px",C.style.overflow="hidden";var g=document.createElement("div");g.style.position="relative",g.style.marginLeft=i+"px",g.style.marginTop=n+"px",8==r.documentMode&&(C.style.position="absolute",g.style.position="absolute"),10==r.documentMode&&(g.style.width="100%",g.style.height="100%"),C.appendChild(g),s.appendChild(C),this.vgdContainer.appendChild(s),a=g}else{s.style.width=t+"px",s.style.height=e+"px",s.style.overflow="hidden",s.style.pageBreakInside="avoid",8==r.documentMode&&(s.style.position="relative");var C=document.createElement("div");C.style.width=t-2*this.border+"px",C.style.height=e-2*this.border+"px",C.style.overflow="hidden",!mxClient.IS_IE||null!=r.documentMode&&5!=r.documentMode&&8!=r.documentMode&&7!=r.documentMode?(C.style.top=this.border+"px",C.style.left=this.border+"px"):(C.style.marginTop=this.border+"px",C.style.marginLeft=this.border+"px"),this.graph.dialect==mxConstants.DIALECT_VML&&(C.style.position="absolute"),s.appendChild(C),this.vgdContainer.appendChild(s),a=C}}catch(t){throw s.parentNode.removeChild(s),s=null,t}return l(a),s},mxPrintPreview.prototype.getRoot=function(){var t=this.graph.view.currentRoot;return null==t&&(t=this.graph.getModel().getRoot()),t},mxPrintPreview.prototype.addGraphFragment=function(t,e,i,n,l,o){var r=this.graph.getView(),s=this.graph.container;this.graph.container=l;var a=r.getCanvas(),g=r.getBackgroundPane(),C=r.getDrawPane(),h=r.getOverlayPane();this.graph.dialect==mxConstants.DIALECT_SVG?r.createSvg():this.graph.dialect==mxConstants.DIALECT_VML?r.createVml():r.createHtml();var A=r.isEventsEnabled();r.setEventsEnabled(!1);var I=this.graph.isEnabled();this.graph.setEnabled(!1);var c=r.getTranslate();r.translate=new mxPoint(t,e);var d=this.graph.cellRenderer.redraw,u=r.states,p=r.scale;if(this.clipping){var m=new mxRectangle((o.x+c.x)*p,(o.y+c.y)*p,o.width*p/i,o.height*p/i);this.graph.cellRenderer.redraw=function(t,e,i){if(null!=t){var n=u.get(t.cell);if(null!=n){var l=r.getBoundingBox(n,!1);if(null!=l&&!mxUtils.intersects(m,l))return}}d.apply(this,arguments)}}var x=null;try{var v=[this.getRoot()];x=new mxTemporaryCellStates(r,i,v)}finally{if(mxClient.IS_IE)r.overlayPane.innerHTML="",r.canvas.style.overflow="hidden",r.canvas.style.position="relative",r.canvas.style.top=this.marginTop+"px",r.canvas.style.width=o.width+"px",r.canvas.style.height=o.height+"px";else for(var y=l.firstChild;null!=y;){var f=y.nextSibling,b=y.nodeName.toLowerCase();"svg"==b?(y.style.overflow="hidden",y.style.position="relative",y.style.top=this.marginTop+"px",y.setAttribute("width",o.width),y.setAttribute("height",o.height),y.style.width="",y.style.height=""):"default"!=y.style.cursor&&"div"!=b&&y.parentNode.removeChild(y),y=f}if(this.printBackgroundImage){var w=l.getElementsByTagName("svg");w.length>0&&(w[0].style.position="absolute")}r.overlayPane.parentNode.removeChild(r.overlayPane),this.graph.setEnabled(I),this.graph.container=s,this.graph.cellRenderer.redraw=d,r.canvas=a,r.backgroundPane=g,r.drawPane=C,r.overlayPane=h,r.translate=c,x.destroy(),r.setEventsEnabled(A)}},mxPrintPreview.prototype.insertBackgroundImage=function(t,e,i){var n=this.graph.backgroundImage;if(null!=n){var l=document.createElement("img");l.style.position="absolute",l.style.marginLeft=Math.round(e*this.scale)+"px",l.style.marginTop=Math.round(i*this.scale)+"px",l.setAttribute("width",Math.round(this.scale*n.width)),l.setAttribute("height",Math.round(this.scale*n.height)),l.src=n.src,t.insertBefore(l,t.firstChild)}},mxPrintPreview.prototype.getCoverPages=function(){return null},mxPrintPreview.prototype.getAppendices=function(){return null},mxPrintPreview.prototype.print=function(t){var e=this.open(t);null!=e&&e.print()},mxPrintPreview.prototype.close=function(){null!=this.wnd&&(this.wnd.close(),this.wnd=null)},mxStylesheet.prototype.styles,mxStylesheet.prototype.createDefaultVertexStyle=function(){var t=new Object;return t[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_RECTANGLE,t[mxConstants.STYLE_PERIMETER]=mxPerimeter.RectanglePerimeter,t[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE,t[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER,t[mxConstants.STYLE_FILLCOLOR]="#C3D9FF",t[mxConstants.STYLE_STROKECOLOR]="#6482B9",t[mxConstants.STYLE_FONTCOLOR]="#774400",t},mxStylesheet.prototype.createDefaultEdgeStyle=function(){var t=new Object;return t[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_CONNECTOR,t[mxConstants.STYLE_ENDARROW]=mxConstants.ARROW_CLASSIC,t[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE,t[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER,t[mxConstants.STYLE_STROKECOLOR]="#6482B9",t[mxConstants.STYLE_FONTCOLOR]="#446299",t},mxStylesheet.prototype.putDefaultVertexStyle=function(t){this.putCellStyle("defaultVertex",t)},mxStylesheet.prototype.putDefaultEdgeStyle=function(t){this.putCellStyle("defaultEdge",t)},mxStylesheet.prototype.getDefaultVertexStyle=function(){return this.styles.defaultVertex},mxStylesheet.prototype.getDefaultEdgeStyle=function(){return this.styles.defaultEdge},mxStylesheet.prototype.putCellStyle=function(t,e){this.styles[t]=e},mxStylesheet.prototype.getCellStyle=function(t,e){var i=e;if(null!=t&&t.length>0){var n=t.split(";");i=null!=i&&";"!=t.charAt(0)?mxUtils.clone(i):new Object;for(var l=0;l<n.length;l++){var o=n[l],r=o.indexOf("=");if(r>=0){var s=o.substring(0,r),a=o.substring(r+1);a==mxConstants.NONE?delete i[s]:mxUtils.isNumeric(a)?i[s]=parseFloat(a):i[s]=a}else{var g=this.styles[o];if(null!=g)for(var s in g)i[s]=g[s]}}}return i},mxCellState.prototype=new mxRectangle,mxCellState.prototype.constructor=mxCellState,mxCellState.prototype.view=null,mxCellState.prototype.cell=null,mxCellState.prototype.style=null,mxCellState.prototype.invalid=!0,mxCellState.prototype.origin=null,mxCellState.prototype.absolutePoints=null,mxCellState.prototype.absoluteOffset=null,mxCellState.prototype.visibleSourceState=null,mxCellState.prototype.visibleTargetState=null,mxCellState.prototype.terminalDistance=0,mxCellState.prototype.length=0,mxCellState.prototype.segments=null,mxCellState.prototype.shape=null,mxCellState.prototype.text=null,mxCellState.prototype.unscaledWidth=null,mxCellState.prototype.getPerimeterBounds=function(t,e){if(t=t||0,e=null!=e?e:new mxRectangle(this.x,this.y,this.width,this.height),null!=this.shape&&null!=this.shape.stencil&&"fixed"==this.shape.stencil.aspect){var i=this.shape.stencil.computeAspect(this.style,e.x,e.y,e.width,e.height);e.x=i.x,e.y=i.y,e.width=this.shape.stencil.w0*i.width,e.height=this.shape.stencil.h0*i.height}return 0!=t&&e.grow(t),e},mxCellState.prototype.setAbsoluteTerminalPoint=function(t,e){e?(null==this.absolutePoints&&(this.absolutePoints=[]),0==this.absolutePoints.length?this.absolutePoints.push(t):this.absolutePoints[0]=t):null==this.absolutePoints?(this.absolutePoints=[],this.absolutePoints.push(null),this.absolutePoints.push(t)):1==this.absolutePoints.length?this.absolutePoints.push(t):this.absolutePoints[this.absolutePoints.length-1]=t},mxCellState.prototype.setCursor=function(t){null!=this.shape&&this.shape.setCursor(t),null!=this.text&&this.text.setCursor(t)},mxCellState.prototype.getVisibleTerminal=function(t){var e=this.getVisibleTerminalState(t);return null!=e?e.cell:null},mxCellState.prototype.getVisibleTerminalState=function(t){return t?this.visibleSourceState:this.visibleTargetState},mxCellState.prototype.setVisibleTerminalState=function(t,e){e?this.visibleSourceState=t:this.visibleTargetState=t},mxCellState.prototype.getCellBounds=function(){return this.cellBounds},mxCellState.prototype.getPaintBounds=function(){return this.paintBounds},mxCellState.prototype.updateCachedBounds=function(){var t=this.view.translate,e=this.view.scale;this.cellBounds=new mxRectangle(this.x/e-t.x,this.y/e-t.y,this.width/e,this.height/e),this.paintBounds=mxRectangle.fromRectangle(this.cellBounds),null!=this.shape&&this.shape.isPaintBoundsInverted()&&this.paintBounds.rotate90()},mxCellState.prototype.setState=function(t){this.view=t.view,this.cell=t.cell,this.style=t.style,this.absolutePoints=t.absolutePoints,this.origin=t.origin,this.absoluteOffset=t.absoluteOffset,this.boundingBox=t.boundingBox,this.terminalDistance=t.terminalDistance,this.segments=t.segments,this.length=t.length,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.unscaledWidth=t.unscaledWidth},mxCellState.prototype.clone=function(){var t=new mxCellState(this.view,this.cell,this.style);if(null!=this.absolutePoints){t.absolutePoints=[];for(var e=0;e<this.absolutePoints.length;e++)t.absolutePoints[e]=this.absolutePoints[e].clone()}return null!=this.origin&&(t.origin=this.origin.clone()),null!=this.absoluteOffset&&(t.absoluteOffset=this.absoluteOffset.clone()),null!=this.boundingBox&&(t.boundingBox=this.boundingBox.clone()),t.terminalDistance=this.terminalDistance,t.segments=this.segments,t.length=this.length,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.unscaledWidth=this.unscaledWidth,t},mxCellState.prototype.destroy=function(){this.view.graph.cellRenderer.destroy(this)},mxGraphSelectionModel.prototype=new mxEventSource,mxGraphSelectionModel.prototype.constructor=mxGraphSelectionModel,mxGraphSelectionModel.prototype.doneResource="none"!=mxClient.language?"done":"",mxGraphSelectionModel.prototype.updatingSelectionResource="none"!=mxClient.language?"updatingSelection":"",mxGraphSelectionModel.prototype.graph=null,mxGraphSelectionModel.prototype.singleSelection=!1,mxGraphSelectionModel.prototype.isSingleSelection=function(){return this.singleSelection},mxGraphSelectionModel.prototype.setSingleSelection=function(t){this.singleSelection=t},mxGraphSelectionModel.prototype.isSelected=function(t){return null!=t&&mxUtils.indexOf(this.cells,t)>=0},mxGraphSelectionModel.prototype.isEmpty=function(){return 0==this.cells.length},mxGraphSelectionModel.prototype.clear=function(){this.changeSelection(null,this.cells)},mxGraphSelectionModel.prototype.setCell=function(t){null!=t&&this.setCells([t])},mxGraphSelectionModel.prototype.setCells=function(t){if(null!=t){this.singleSelection&&(t=[this.getFirstSelectableCell(t)]);for(var e=[],i=0;i<t.length;i++)this.graph.isCellSelectable(t[i])&&e.push(t[i]);this.changeSelection(e,this.cells)}},mxGraphSelectionModel.prototype.getFirstSelectableCell=function(t){if(null!=t)for(var e=0;e<t.length;e++)if(this.graph.isCellSelectable(t[e]))return t[e];return null},mxGraphSelectionModel.prototype.addCell=function(t){null!=t&&this.addCells([t])},mxGraphSelectionModel.prototype.addCells=function(t){if(null!=t){var e=null;this.singleSelection&&(e=this.cells,t=[this.getFirstSelectableCell(t)]);for(var i=[],n=0;n<t.length;n++)!this.isSelected(t[n])&&this.graph.isCellSelectable(t[n])&&i.push(t[n]);this.changeSelection(i,e)}},mxGraphSelectionModel.prototype.removeCell=function(t){null!=t&&this.removeCells([t])},mxGraphSelectionModel.prototype.removeCells=function(t){if(null!=t){for(var e=[],i=0;i<t.length;i++)this.isSelected(t[i])&&e.push(t[i]);this.changeSelection(null,e)}},mxGraphSelectionModel.prototype.changeSelection=function(t,e){if(null!=t&&t.length>0&&null!=t[0]||null!=e&&e.length>0&&null!=e[0]){var i=new mxSelectionChange(this,t,e);i.execute();var n=new mxUndoableEdit(this,!1);n.add(i),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",n))}},mxGraphSelectionModel.prototype.cellAdded=function(t){null==t||this.isSelected(t)||this.cells.push(t)},mxGraphSelectionModel.prototype.cellRemoved=function(t){if(null!=t){var e=mxUtils.indexOf(this.cells,t);e>=0&&this.cells.splice(e,1)}},mxSelectionChange.prototype.execute=function(){var t=mxLog.enter("mxSelectionChange.execute");if(window.status=mxResources.get(this.selectionModel.updatingSelectionResource)||this.selectionModel.updatingSelectionResource,null!=this.removed)for(e=0;e<this.removed.length;e++)this.selectionModel.cellRemoved(this.removed[e]);if(null!=this.added)for(var e=0;e<this.added.length;e++)this.selectionModel.cellAdded(this.added[e]);var i=this.added;this.added=this.removed,this.removed=i,window.status=mxResources.get(this.selectionModel.doneResource)||this.selectionModel.doneResource,mxLog.leave("mxSelectionChange.execute",t),this.selectionModel.fireEvent(new mxEventObject(mxEvent.CHANGE,"added",this.added,"removed",this.removed))},mxCellEditor.prototype.graph=null,mxCellEditor.prototype.textarea=null,mxCellEditor.prototype.editingCell=null,mxCellEditor.prototype.trigger=null,mxCellEditor.prototype.modified=!1,mxCellEditor.prototype.autoSize=!0,mxCellEditor.prototype.selectText=!0,mxCellEditor.prototype.emptyLabelText=mxClient.IS_FF?"<br>":"",mxCellEditor.prototype.escapeCancelsEditing=!0,mxCellEditor.prototype.textNode="",mxCellEditor.prototype.zIndex=5,mxCellEditor.prototype.minResize=new mxRectangle(0,20),mxCellEditor.prototype.wordWrapPadding=mxClient.IS_QUIRKS?2:mxClient.IS_IE11?0:1,mxCellEditor.prototype.blurEnabled=!1,mxCellEditor.prototype.initialValue=null,mxCellEditor.prototype.init=function(){this.textarea=document.createElement("div"),this.textarea.className="mxCellEditor mxPlainTextEditor",this.textarea.contentEditable=!0,this.installListeners(this.textarea)},mxCellEditor.prototype.applyValue=function(t,e){this.graph.labelChanged(t.cell,e,this.trigger)},mxCellEditor.prototype.getInitialValue=function(t,e){var i=mxUtils.htmlEntities(this.graph.getEditingValue(t.cell,e),!1);return mxClient.IS_QUIRKS||8==document.documentMode||9==document.documentMode||10==document.documentMode||(i=mxUtils.replaceTrailingNewlines(i,"<div><br></div>")),i.replace(/\n/g,"<br>")},mxCellEditor.prototype.getCurrentValue=function(t){var e=mxUtils.extractTextWithWhitespace(this.textarea.childNodes);return e.length>0&&"\n"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},mxCellEditor.prototype.installListeners=function(t){mxEvent.addListener(t,"blur",mxUtils.bind(this,function(t){this.blurEnabled&&this.focusLost(t)})),mxEvent.addListener(t,"keydown",mxUtils.bind(this,function(t){mxEvent.isConsumed(t)||(this.isStopEditingEvent(t)?(this.graph.stopEditing(!1),mxEvent.consume(t)):27==t.keyCode&&(this.graph.stopEditing(this.escapeCancelsEditing||mxEvent.isShiftDown(t)),mxEvent.consume(t)))})),this.changeHandler=mxUtils.bind(this,function(t){null!=this.editingCell&&null==this.graph.getView().getState(this.editingCell)&&this.stopEditing(!0)}),this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler);var e=mxUtils.bind(this,function(e){null!=this.editingCell&&this.clearOnChange&&t.innerHTML==this.getEmptyLabelText()&&(!mxClient.IS_FF||8!=e.keyCode&&46!=e.keyCode)&&(this.clearOnChange=!1,t.innerHTML="")});mxEvent.addListener(t,"keypress",e),mxEvent.addListener(t,"paste",e);var i=mxUtils.bind(this,function(t){null!=this.editingCell&&(0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=this.textarea.innerHTML.length>0):this.clearOnChange=!1)});mxEvent.addListener(t,mxClient.IS_IE11||mxClient.IS_IE?"keyup":"input",i),mxEvent.addListener(t,"cut",i),mxEvent.addListener(t,"paste",i);var n=mxClient.IS_IE11||mxClient.IS_IE?"keydown":"input",l=mxUtils.bind(this,function(t){null!=this.editingCell&&this.autoSize&&!mxEvent.isConsumed(t)&&(null!=this.resizeThread&&window.clearTimeout(this.resizeThread),this.resizeThread=window.setTimeout(mxUtils.bind(this,function(){this.resizeThread=null,this.resize()}),0))});mxEvent.addListener(t,n,l),document.documentMode>=9?(mxEvent.addListener(t,"DOMNodeRemoved",l),mxEvent.addListener(t,"DOMNodeInserted",l)):(mxEvent.addListener(t,"cut",l),mxEvent.addListener(t,"paste",l))},mxCellEditor.prototype.isStopEditingEvent=function(t){return 113==t.keyCode||this.graph.isEnterStopsCellEditing()&&13==t.keyCode&&!mxEvent.isControlDown(t)&&!mxEvent.isShiftDown(t)},mxCellEditor.prototype.isEventSource=function(t){return mxEvent.getSource(t)==this.textarea},mxCellEditor.prototype.resize=function(){var t=this.graph.getView().getState(this.editingCell);if(null==t)this.stopEditing(!0);else{var e=this.graph.getModel().isEdge(t.cell),i=this.graph.getView().scale,n=null;if(this.autoSize&&"fill"!=t.style[mxConstants.STYLE_OVERFLOW]){var l=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);if(null==(n=null!=t.text?t.text.margin:null)&&(n=mxUtils.getAlignmentAsPoint(mxUtils.getValue(t.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE))),e){if(this.bounds=new mxRectangle(t.absoluteOffset.x,t.absoluteOffset.y,0,0),null!=l){I=(parseFloat(l)+2)*i;this.bounds.width=I,this.bounds.x+=n.x*I}}else{var o=mxRectangle.fromRectangle(t),r=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),s=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);if(o=null!=t.shape&&r==mxConstants.ALIGN_CENTER&&s==mxConstants.ALIGN_MIDDLE?t.shape.getLabelBounds(o):o,null!=l&&(o.width=parseFloat(l)*i),!t.view.graph.cellRenderer.legacySpacing||"width"!=t.style[mxConstants.STYLE_OVERFLOW]){var a=parseInt(t.style[mxConstants.STYLE_SPACING]||2)*i,g=(parseInt(t.style[mxConstants.STYLE_SPACING_TOP]||0)+mxText.prototype.baseSpacingTop)*i+a,C=(parseInt(t.style[mxConstants.STYLE_SPACING_RIGHT]||0)+mxText.prototype.baseSpacingRight)*i+a,h=(parseInt(t.style[mxConstants.STYLE_SPACING_BOTTOM]||0)+mxText.prototype.baseSpacingBottom)*i+a,A=(parseInt(t.style[mxConstants.STYLE_SPACING_LEFT]||0)+mxText.prototype.baseSpacingLeft)*i+a,r=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),s=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);o=new mxRectangle(o.x+A,o.y+g,o.width-(r==mxConstants.ALIGN_CENTER&&null==l?A+C:0),o.height-(s==mxConstants.ALIGN_MIDDLE?g+h:0))}this.bounds=new mxRectangle(o.x+t.absoluteOffset.x,o.y+t.absoluteOffset.y,o.width,o.height)}if(this.graph.isWrapping(t.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!=this.getEmptyLabelText()){this.textarea.style.wordWrap=mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal";var I=Math.round(this.bounds.width/(document.documentMode,i))+this.wordWrapPadding;this.textarea.style.width=I+"px",this.textarea.scrollWidth>I&&(this.textarea.style.width=this.textarea.scrollWidth+"px")}else this.textarea.style.whiteSpace="nowrap",this.textarea.style.width="";8==document.documentMode&&(this.textarea.style.zoom="1",this.textarea.style.height="auto");var c=this.textarea.scrollWidth,d=this.textarea.scrollHeight;8==document.documentMode?(this.textarea.style.left=Math.max(0,Math.ceil((this.bounds.x-n.x*(this.bounds.width-(c+1)*i)+c*(i-1)*0+2*(n.x+.5))/i))+"px",this.textarea.style.top=Math.max(0,Math.ceil((this.bounds.y-n.y*(this.bounds.height-(d+.5)*i)+d*(i-1)*0+1*Math.abs(n.y+.5))/i))+"px",this.textarea.style.width=Math.round(c*i)+"px",this.textarea.style.height=Math.round(d*i)+"px"):mxClient.IS_QUIRKS?(this.textarea.style.left=Math.max(0,Math.ceil(this.bounds.x-n.x*(this.bounds.width-(c+1)*i)+c*(i-1)*0+2*(n.x+.5)))+"px",this.textarea.style.top=Math.max(0,Math.ceil(this.bounds.y-n.y*(this.bounds.height-(d+.5)*i)+d*(i-1)*0+1*Math.abs(n.y+.5)))+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x-n.x*(this.bounds.width-2))+1)+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y-n.y*(this.bounds.height-4)+(-1==n.y?3:0))+1)+"px")}else this.bounds=this.getEditorBounds(t),this.textarea.style.width=Math.round(this.bounds.width/i)+"px",this.textarea.style.height=Math.round(this.bounds.height/i)+"px",8==document.documentMode||mxClient.IS_QUIRKS?(this.textarea.style.left=Math.round(this.bounds.x)+"px",this.textarea.style.top=Math.round(this.bounds.y)+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x+1))+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y+1))+"px"),this.graph.isWrapping(t.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!=this.getEmptyLabelText()?(this.textarea.style.wordWrap=mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal","fill"!=t.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=Math.round(this.bounds.width/i)+this.wordWrapPadding+"px")):(this.textarea.style.whiteSpace="nowrap","fill"!=t.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=""));mxClient.IS_VML?this.textarea.style.zoom=i:(mxUtils.setPrefixedStyle(this.textarea.style,"transformOrigin","0px 0px"),mxUtils.setPrefixedStyle(this.textarea.style,"transform","scale("+i+","+i+")"+(null==n?"":" translate("+100*n.x+"%,"+100*n.y+"%)")))}},mxCellEditor.prototype.focusLost=function(){this.stopEditing(!this.graph.isInvokesStopCellEditing())},mxCellEditor.prototype.getBackgroundColor=function(t){return null},mxCellEditor.prototype.startEditing=function(t,e){null==this.textarea&&this.init(),null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.hideTooltip(),this.stopEditing(!0);var i=this.graph.getView().getState(t);if(null!=i){this.graph.getView().scale;var n=mxUtils.getValue(i.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE),l=mxUtils.getValue(i.style,mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY),o=mxUtils.getValue(i.style,mxConstants.STYLE_FONTCOLOR,"black"),r=mxUtils.getValue(i.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT),s=(mxUtils.getValue(i.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,a=(mxUtils.getValue(i.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC,g=(mxUtils.getValue(i.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round(n*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT,this.textarea.style.backgroundColor=this.getBackgroundColor(i),this.textarea.style.textDecoration=g?"underline":"",this.textarea.style.fontWeight=s?"bold":"normal",this.textarea.style.fontStyle=a?"italic":"",this.textarea.style.fontSize=Math.round(n)+"px",this.textarea.style.zIndex=this.zIndex,this.textarea.style.fontFamily=l,this.textarea.style.textAlign=r,this.textarea.style.outline="none",this.textarea.style.color=o;var C=this.textDirection=mxUtils.getValue(i.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION);if(C==mxConstants.TEXT_DIRECTION_AUTO&&(null==i||null==i.text||i.text.dialect==mxConstants.DIALECT_STRICTHTML||mxUtils.isNode(i.text.value)||(C=i.text.getAutoDirection())),C==mxConstants.TEXT_DIRECTION_LTR||C==mxConstants.TEXT_DIRECTION_RTL?this.textarea.setAttribute("dir",C):this.textarea.removeAttribute("dir"),this.textarea.innerHTML=this.getInitialValue(i,e)||"",this.initialValue=this.textarea.innerHTML,0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=!0):this.clearOnChange=this.textarea.innerHTML==this.getEmptyLabelText(),this.graph.container.appendChild(this.textarea),this.editingCell=t,this.trigger=e,this.textNode=null,null!=i.text&&this.isHideLabel(i)&&(this.textNode=i.text.node,this.textNode.style.visibility="hidden"),this.autoSize&&(this.graph.model.isEdge(i.cell)||"fill"!=i.style[mxConstants.STYLE_OVERFLOW])&&window.setTimeout(mxUtils.bind(this,function(){this.resize()}),0),this.resize(),null!=this.textarea)try{this.textarea.focus(),this.isSelectText()&&this.textarea.innerHTML.length>0&&(this.textarea.innerHTML!=this.getEmptyLabelText()||!this.clearOnChange)&&document.execCommand("selectAll",!1,null)}catch(t){}}},mxCellEditor.prototype.isSelectText=function(){return this.selectText},mxCellEditor.prototype.stopEditing=function(t){if(t=t||!1,null!=this.editingCell){null!=this.textNode&&(this.textNode.style.visibility="visible",this.textNode=null);var e=t?null:this.graph.view.getState(this.editingCell),i=this.initialValue;if(this.initialValue=null,this.editingCell=null,this.trigger=null,this.bounds=null,this.textarea.blur(),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.textarea.innerHTML="",this.clearOnChange=!1),null!=e&&this.textarea.innerHTML!=i){var n=this.getCurrentValue(e);null!=n&&this.applyValue(e,n)}}},mxCellEditor.prototype.isHideLabel=function(t){return!0},mxCellEditor.prototype.getMinimumSize=function(t){var e=this.graph.getView().scale;return new mxRectangle(0,0,null==t.text?30:t.text.size*e+20,"left"==this.textarea.style.textAlign?120:40)},mxCellEditor.prototype.getEditorBounds=function(t){var e=this.graph.getModel().isEdge(t.cell),i=this.graph.getView().scale,n=this.getMinimumSize(t),l=n.width,o=n.height,r=null;if(!e&&t.view.graph.cellRenderer.legacySpacing&&"fill"==t.style[mxConstants.STYLE_OVERFLOW])r=t.shape.getLabelBounds(mxRectangle.fromRectangle(t));else{var s=parseInt(t.style[mxConstants.STYLE_SPACING]||0)*i,a=(parseInt(t.style[mxConstants.STYLE_SPACING_TOP]||0)+mxText.prototype.baseSpacingTop)*i+s,g=(parseInt(t.style[mxConstants.STYLE_SPACING_RIGHT]||0)+mxText.prototype.baseSpacingRight)*i+s,C=(parseInt(t.style[mxConstants.STYLE_SPACING_BOTTOM]||0)+mxText.prototype.baseSpacingBottom)*i+s,h=(parseInt(t.style[mxConstants.STYLE_SPACING_LEFT]||0)+mxText.prototype.baseSpacingLeft)*i+s;r=new mxRectangle(t.x,t.y,Math.max(l,t.width-h-g),Math.max(o,t.height-a-C));var A=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),I=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);if(r=null!=t.shape&&A==mxConstants.ALIGN_CENTER&&I==mxConstants.ALIGN_MIDDLE?t.shape.getLabelBounds(r):r,e?(r.x=t.absoluteOffset.x,r.y=t.absoluteOffset.y,null!=t.text&&null!=t.text.boundingBox&&(t.text.boundingBox.x>0&&(r.x=t.text.boundingBox.x),t.text.boundingBox.y>0&&(r.y=t.text.boundingBox.y))):null!=t.text&&null!=t.text.boundingBox&&(r.x=Math.min(r.x,t.text.boundingBox.x),r.y=Math.min(r.y,t.text.boundingBox.y)),r.x+=h,r.y+=a,null!=t.text&&null!=t.text.boundingBox&&(e?(r.width=Math.max(l,t.text.boundingBox.width),r.height=Math.max(o,t.text.boundingBox.height)):(r.width=Math.max(r.width,t.text.boundingBox.width),r.height=Math.max(r.height,t.text.boundingBox.height))),this.graph.getModel().isVertex(t.cell)){var c=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);c==mxConstants.ALIGN_LEFT?r.x-=t.width:c==mxConstants.ALIGN_RIGHT&&(r.x+=t.width);var d=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);d==mxConstants.ALIGN_TOP?r.y-=t.height:d==mxConstants.ALIGN_BOTTOM&&(r.y+=t.height)}}return new mxRectangle(Math.round(r.x),Math.round(r.y),Math.round(r.width),Math.round(r.height))},mxCellEditor.prototype.getEmptyLabelText=function(t){return this.emptyLabelText},mxCellEditor.prototype.getEditingCell=function(){return this.editingCell},mxCellEditor.prototype.destroy=function(){null!=this.textarea&&(mxEvent.release(this.textarea),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.textarea=null,null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null),this.zoomHandler&&(this.graph.view.removeListener(this.zoomHandler),this.zoomHandler=null))},mxCellRenderer.prototype.defaultEdgeShape=mxConnector,mxCellRenderer.prototype.defaultVertexShape=mxRectangleShape,mxCellRenderer.prototype.defaultTextShape=mxText,mxCellRenderer.prototype.legacyControlPosition=!0,mxCellRenderer.prototype.legacySpacing=!0,mxCellRenderer.prototype.defaultShapes=new Object,mxCellRenderer.prototype.antiAlias=!0,mxCellRenderer.prototype.forceControlClickHandler=!1,mxCellRenderer.registerShape=function(t,e){mxCellRenderer.prototype.defaultShapes[t]=e},mxCellRenderer.registerShape(mxConstants.SHAPE_RECTANGLE,mxRectangleShape),mxCellRenderer.registerShape(mxConstants.SHAPE_ELLIPSE,mxEllipse),mxCellRenderer.registerShape(mxConstants.SHAPE_RHOMBUS,mxRhombus),mxCellRenderer.registerShape(mxConstants.SHAPE_CYLINDER,mxCylinder),mxCellRenderer.registerShape(mxConstants.SHAPE_CONNECTOR,mxConnector),mxCellRenderer.registerShape(mxConstants.SHAPE_ACTOR,mxActor),mxCellRenderer.registerShape(mxConstants.SHAPE_TRIANGLE,mxTriangle),mxCellRenderer.registerShape(mxConstants.SHAPE_HEXAGON,mxHexagon),mxCellRenderer.registerShape(mxConstants.SHAPE_CLOUD,mxCloud),mxCellRenderer.registerShape(mxConstants.SHAPE_LINE,mxLine),mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW,mxArrow),mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW_CONNECTOR,mxArrowConnector),mxCellRenderer.registerShape(mxConstants.SHAPE_DOUBLE_ELLIPSE,mxDoubleEllipse),mxCellRenderer.registerShape(mxConstants.SHAPE_SWIMLANE,mxSwimlane),mxCellRenderer.registerShape(mxConstants.SHAPE_IMAGE,mxImageShape),mxCellRenderer.registerShape(mxConstants.SHAPE_LABEL,mxLabel),mxCellRenderer.prototype.initializeShape=function(t){t.shape.dialect=t.view.graph.dialect,this.configureShape(t),t.shape.init(t.view.getDrawPane())},mxCellRenderer.prototype.createShape=function(t){var e=null;if(null!=t.style){var i=mxStencilRegistry.getStencil(t.style[mxConstants.STYLE_SHAPE]);e=null!=i?new mxShape(i):new(this.getShapeConstructor(t))}return e},mxCellRenderer.prototype.createIndicatorShape=function(t){t.shape.indicatorShape=this.getShape(t.view.graph.getIndicatorShape(t))},mxCellRenderer.prototype.getShape=function(t){return null!=t?mxCellRenderer.prototype.defaultShapes[t]:null},mxCellRenderer.prototype.getShapeConstructor=function(t){var e=this.getShape(t.style[mxConstants.STYLE_SHAPE]);return null==e&&(e=t.view.graph.getModel().isEdge(t.cell)?this.defaultEdgeShape:this.defaultVertexShape),e},mxCellRenderer.prototype.configureShape=function(t){t.shape.apply(t),t.shape.image=t.view.graph.getImage(t),t.shape.indicatorColor=t.view.graph.getIndicatorColor(t),t.shape.indicatorStrokeColor=t.style[mxConstants.STYLE_INDICATOR_STROKECOLOR],t.shape.indicatorGradientColor=t.view.graph.getIndicatorGradientColor(t),t.shape.indicatorDirection=t.style[mxConstants.STYLE_INDICATOR_DIRECTION],t.shape.indicatorImage=t.view.graph.getIndicatorImage(t),this.postConfigureShape(t)},mxCellRenderer.prototype.postConfigureShape=function(t){null!=t.shape&&(this.resolveColor(t,"indicatorColor",mxConstants.STYLE_FILLCOLOR),this.resolveColor(t,"indicatorGradientColor",mxConstants.STYLE_GRADIENTCOLOR),this.resolveColor(t,"fill",mxConstants.STYLE_FILLCOLOR),this.resolveColor(t,"stroke",mxConstants.STYLE_STROKECOLOR),this.resolveColor(t,"gradient",mxConstants.STYLE_GRADIENTCOLOR))},mxCellRenderer.prototype.resolveColor=function(t,e,i){var n=t.shape[e],l=t.view.graph,o=null;if("inherit"==n?o=l.model.getParent(t.cell):"swimlane"==n?(o=null!=l.model.getTerminal(t.cell,!1)?l.model.getTerminal(t.cell,!1):t.cell,o=l.getSwimlane(o),i=l.swimlaneIndicatorColorAttribute):"indicated"==n&&(t.shape[e]=t.shape.indicatorColor),null!=o){var r=l.getView().getState(o);t.shape[e]=null,null!=r&&(null!=r.shape&&"indicatorColor"!=e?t.shape[e]=r.shape[e]:t.shape[e]=r.style[i])}},mxCellRenderer.prototype.getLabelValue=function(t){return t.view.graph.getLabel(t.cell)},mxCellRenderer.prototype.createLabel=function(t,e){var i=t.view.graph;i.getModel().isEdge(t.cell);if(t.style[mxConstants.STYLE_FONTSIZE]>0||null==t.style[mxConstants.STYLE_FONTSIZE]){var n=i.isHtmlLabel(t.cell)||null!=e&&mxUtils.isNode(e);t.text=new this.defaultTextShape(e,new mxRectangle,t.style[mxConstants.STYLE_ALIGN]||mxConstants.ALIGN_CENTER,i.getVerticalAlign(t),t.style[mxConstants.STYLE_FONTCOLOR],t.style[mxConstants.STYLE_FONTFAMILY],t.style[mxConstants.STYLE_FONTSIZE],t.style[mxConstants.STYLE_FONTSTYLE],t.style[mxConstants.STYLE_SPACING],t.style[mxConstants.STYLE_SPACING_TOP],t.style[mxConstants.STYLE_SPACING_RIGHT],t.style[mxConstants.STYLE_SPACING_BOTTOM],t.style[mxConstants.STYLE_SPACING_LEFT],t.style[mxConstants.STYLE_HORIZONTAL],t.style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR],t.style[mxConstants.STYLE_LABEL_BORDERCOLOR],i.isWrapping(t.cell)&&i.isHtmlLabel(t.cell),i.isLabelClipped(t.cell),t.style[mxConstants.STYLE_OVERFLOW],t.style[mxConstants.STYLE_LABEL_PADDING],mxUtils.getValue(t.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION)),t.text.opacity=mxUtils.getValue(t.style,mxConstants.STYLE_TEXT_OPACITY,100),t.text.dialect=n?mxConstants.DIALECT_STRICTHTML:t.view.graph.dialect,t.text.style=t.style,t.text.state=t,this.initializeLabel(t,t.text);var l=!1,o=function(e){var n=t;if(mxClient.IS_TOUCH||l){var o=mxEvent.getClientX(e),r=mxEvent.getClientY(e),s=mxUtils.convertPoint(i.container,o,r);n=i.view.getState(i.getCellAt(s.x,s.y))}return n};mxEvent.addGestureListeners(t.text.node,mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&(i.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e,t)),l=i.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource(e).nodeName)}),mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&i.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,o(e)))}),mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&(i.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e,o(e))),l=!1)})),i.nativeDblClickEnabled&&mxEvent.addListener(t.text.node,"dblclick",mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&(i.dblClick(e,t.cell),mxEvent.consume(e))}))}},mxCellRenderer.prototype.initializeLabel=function(t,e){mxClient.IS_SVG&&mxClient.NO_FO&&e.dialect!=mxConstants.DIALECT_SVG?e.init(t.view.graph.container):e.init(t.view.getDrawPane())},mxCellRenderer.prototype.createCellOverlays=function(t){var e=t.view.graph.getCellOverlays(t.cell),i=null;if(null!=e){i=new mxDictionary;for(var n=0;n<e.length;n++){var l=null!=t.overlays?t.overlays.remove(e[n]):null;if(null==l){var o=new mxImageShape(new mxRectangle,e[n].image.src);o.dialect=t.view.graph.dialect,o.preserveImageAspect=!1,o.overlay=e[n],this.initializeOverlay(t,o),this.installCellOverlayListeners(t,e[n],o),null!=e[n].cursor&&(o.node.style.cursor=e[n].cursor),i.put(e[n],o)}else i.put(e[n],l)}}null!=t.overlays&&t.overlays.visit(function(t,e){e.destroy()}),t.overlays=i},mxCellRenderer.prototype.initializeOverlay=function(t,e){e.init(t.view.getOverlayPane())},mxCellRenderer.prototype.installCellOverlayListeners=function(t,e,i){var n=t.view.graph;mxEvent.addListener(i.node,"click",function(i){n.isEditing()&&n.stopEditing(!n.isInvokesStopCellEditing()),e.fireEvent(new mxEventObject(mxEvent.CLICK,"event",i,"cell",t.cell))}),mxEvent.addGestureListeners(i.node,function(t){mxEvent.consume(t)},function(e){n.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,t))}),mxClient.IS_TOUCH&&mxEvent.addListener(i.node,"touchend",function(i){e.fireEvent(new mxEventObject(mxEvent.CLICK,"event",i,"cell",t.cell))})},mxCellRenderer.prototype.createControl=function(t){var e=t.view.graph,i=e.getFoldingImage(t);if(e.foldingEnabled&&null!=i){if(null==t.control){var n=new mxRectangle(0,0,i.width,i.height);t.control=new mxImageShape(n,i.src),t.control.preserveImageAspect=!1,t.control.dialect=e.dialect,this.initControl(t,t.control,!0,this.createControlClickHandler(t))}}else null!=t.control&&(t.control.destroy(),t.control=null)},mxCellRenderer.prototype.createControlClickHandler=function(t){var e=t.view.graph;return mxUtils.bind(this,function(i){if(this.forceControlClickHandler||e.isEnabled()){var n=!e.isCellCollapsed(t.cell);e.foldCells(n,!1,[t.cell],null,i),mxEvent.consume(i)}})},mxCellRenderer.prototype.initControl=function(t,e,i,n){var l=t.view.graph;l.isHtmlLabel(t.cell)&&mxClient.NO_FO&&l.dialect==mxConstants.DIALECT_SVG?(e.dialect=mxConstants.DIALECT_PREFERHTML,e.init(l.container),e.node.style.zIndex=1):e.init(t.view.getOverlayPane());var o=e.innerNode||e.node;if(null==n||mxClient.IS_IOS||(l.isEnabled()&&(o.style.cursor="pointer"),mxEvent.addListener(o,"click",n)),i){var r=null;mxEvent.addGestureListeners(o,function(e){r=new mxPoint(mxEvent.getClientX(e),mxEvent.getClientY(e)),l.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e,t)),mxEvent.consume(e)},function(e){l.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,t))},function(e){l.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e,t)),mxEvent.consume(e)}),null!=n&&mxClient.IS_IOS&&o.addEventListener("touchend",function(t){if(null!=r){var e=l.tolerance;Math.abs(r.x-mxEvent.getClientX(t))<e&&Math.abs(r.y-mxEvent.getClientY(t))<e&&(n.call(n,t),mxEvent.consume(t))}},!0)}return o},mxCellRenderer.prototype.isShapeEvent=function(t,e){return!0},mxCellRenderer.prototype.isLabelEvent=function(t,e){return!0},mxCellRenderer.prototype.installListeners=function(t){var e=t.view.graph,i=function(i){var n=t;if(e.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource(i).nodeName||mxClient.IS_TOUCH){var l=mxEvent.getClientX(i),o=mxEvent.getClientY(i),r=mxUtils.convertPoint(e.container,l,o);n=e.view.getState(e.getCellAt(r.x,r.y))}return n};mxEvent.addGestureListeners(t.shape.node,mxUtils.bind(this,function(i){this.isShapeEvent(t,i)&&e.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(i,t))}),mxUtils.bind(this,function(n){this.isShapeEvent(t,n)&&e.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(n,i(n)))}),mxUtils.bind(this,function(n){this.isShapeEvent(t,n)&&e.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(n,i(n)))})),e.nativeDblClickEnabled&&mxEvent.addListener(t.shape.node,"dblclick",mxUtils.bind(this,function(i){this.isShapeEvent(t,i)&&(e.dblClick(i,t.cell),mxEvent.consume(i))}))},mxCellRenderer.prototype.redrawLabel=function(t,e){var i=this.getLabelValue(t);if(null==t.text&&null!=i&&(mxUtils.isNode(i)||i.length>0)?this.createLabel(t,i):null==t.text||null!=i&&0!=i.length||(t.text.destroy(),t.text=null),null!=t.text){var n=t.view.graph;e&&(null!=t.text.lastValue&&this.isTextShapeInvalid(t,t.text)&&(t.text.lastValue=null),t.text.resetStyles(),t.text.apply(t),t.text.opacity=mxUtils.getValue(t.style,mxConstants.STYLE_TEXT_OPACITY,100));var l=this.getLabelBounds(t),o=n.isWrapping(t.cell),r=n.isLabelClipped(t.cell),s=t.view.graph.isHtmlLabel(t.cell)||null!=i&&mxUtils.isNode(i)?mxConstants.DIALECT_STRICTHTML:t.view.graph.dialect,a=t.style[mxConstants.STYLE_OVERFLOW]||"visible";if(e||t.text.value!=i||t.text.isWrapping!=o||t.text.overflow!=a||t.text.isClipping!=r||t.text.scale!=this.getTextScale(t)||t.text.dialect!=s||!t.text.bounds.equals(l)){t.text.dialect=s,t.text.value=i,t.text.bounds=l,t.text.scale=this.getTextScale(t),t.text.wrap=o,t.text.clipped=r,t.text.overflow=a;var g=t.text.node.style.visibility;this.redrawLabelShape(t.text),t.text.node.style.visibility=g}}},mxCellRenderer.prototype.isTextShapeInvalid=function(t,e){function i(i,n,l){return e[i]!=(t.style[n]||l)}return i("fontStyle",mxConstants.STYLE_FONTSTYLE,mxConstants.DEFAULT_FONTSTYLE)||i("family",mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY)||i("size",mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE)||i("color",mxConstants.STYLE_FONTCOLOR,"black")||i("align",mxConstants.STYLE_ALIGN,"")||i("valign",mxConstants.STYLE_VERTICAL_ALIGN,"")||i("spacing",mxConstants.STYLE_SPACING,2)||i("spacingTop",mxConstants.STYLE_SPACING_TOP,2)||i("spacingRight",mxConstants.STYLE_SPACING_RIGHT,2)||i("spacingBottom",mxConstants.STYLE_SPACING_BOTTOM,2)||i("spacingLeft",mxConstants.STYLE_SPACING_LEFT,2)||i("horizontal",mxConstants.STYLE_HORIZONTAL,!0)||i("background",mxConstants.STYLE_LABEL_BACKGROUNDCOLOR)||i("border",mxConstants.STYLE_LABEL_BORDERCOLOR)||i("opacity",mxConstants.STYLE_TEXT_OPACITY,100)||i("textDirection",mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION)},mxCellRenderer.prototype.redrawLabelShape=function(t){t.redraw()},mxCellRenderer.prototype.getTextScale=function(t){return t.view.scale},mxCellRenderer.prototype.getLabelBounds=function(t){var e=t.view.graph,i=t.view.scale,n=e.getModel().isEdge(t.cell),l=new mxRectangle(t.absoluteOffset.x,t.absoluteOffset.y);if(n){var o=t.text.getSpacing();l.x+=o.x*i,l.y+=o.y*i;var r=e.getCellGeometry(t.cell);null!=r&&(l.width=Math.max(0,r.width*i),l.height=Math.max(0,r.height*i))}else{if(t.text.isPaintBoundsInverted()){A=l.x;l.x=l.y,l.y=A}l.x+=t.x,l.y+=t.y,l.width=Math.max(1,t.width),l.height=Math.max(1,t.height);var s=mxUtils.getValue(t.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE);if(s!=mxConstants.NONE&&""!=s){var a=parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_STROKEWIDTH,1))*i,g=1+Math.floor((a-1)/2),C=Math.floor(a+1);l.x+=g,l.y+=g,l.width-=C,l.height-=C}}if(t.text.isPaintBoundsInverted()){var h=(t.width-t.height)/2;l.x+=h,l.y-=h;var A=l.width;l.width=l.height,l.height=A}if(null!=t.shape){var I=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),c=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);I==mxConstants.ALIGN_CENTER&&c==mxConstants.ALIGN_MIDDLE&&(l=t.shape.getLabelBounds(l))}var d=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);return null!=d&&(l.width=parseFloat(d)*i),n||this.rotateLabelBounds(t,l),l},mxCellRenderer.prototype.rotateLabelBounds=function(t,e){if(e.y-=t.text.margin.y*e.height,e.x-=t.text.margin.x*e.width,!this.legacySpacing||"fill"!=t.style[mxConstants.STYLE_OVERFLOW]&&"width"!=t.style[mxConstants.STYLE_OVERFLOW]){var i=t.view.scale,n=t.text.getSpacing();e.x+=n.x*i,e.y+=n.y*i;var l=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),o=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),r=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);e.width=Math.max(0,e.width-(l==mxConstants.ALIGN_CENTER&&null==r?t.text.spacingLeft*i+t.text.spacingRight*i:0)),e.height=Math.max(0,e.height-(o==mxConstants.ALIGN_MIDDLE?t.text.spacingTop*i+t.text.spacingBottom*i:0))}var s=t.text.getTextRotation();if(0!=s&&null!=t&&t.view.graph.model.isVertex(t.cell)){var a=t.getCenterX(),g=t.getCenterY();if(e.x!=a||e.y!=g){var C=s*(Math.PI/180);pt=mxUtils.getRotatedPoint(new mxPoint(e.x,e.y),Math.cos(C),Math.sin(C),new mxPoint(a,g)),e.x=pt.x,e.y=pt.y}}},mxCellRenderer.prototype.redrawCellOverlays=function(t,e){if(this.createCellOverlays(t),null!=t.overlays){var i=mxUtils.mod(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0),90),n=mxUtils.toRadians(i),l=Math.cos(n),o=Math.sin(n);t.overlays.visit(function(n,r){var s=r.overlay.getBounds(t);if(!t.view.graph.getModel().isEdge(t.cell)&&null!=t.shape&&0!=i){var a=s.getCenterX(),g=s.getCenterY(),C=mxUtils.getRotatedPoint(new mxPoint(a,g),l,o,new mxPoint(t.getCenterX(),t.getCenterY()));a=C.x,g=C.y,s.x=Math.round(a-s.width/2),s.y=Math.round(g-s.height/2)}!e&&null!=r.bounds&&r.scale==t.view.scale&&r.bounds.equals(s)||(r.bounds=s,r.scale=t.view.scale,r.redraw())})}},mxCellRenderer.prototype.redrawControl=function(t,e){var i=t.view.graph.getFoldingImage(t);if(null!=t.control&&null!=i){var n=i.width,l=i.height,o=t.view.graph,r=t.cell;if(o.isCellCollapsed(r)){var s=r.getGeometry();o.isUploadImage?(s.width=n,s.height=l,r.setGeometry(s),o.isUploadImage=!1):(n=s.width,l=s.height)}var a=this.getControlBounds(t,n,l),g=this.legacyControlPosition?mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0):t.shape.getTextRotation(),C=t.view.scale;!e&&t.control.scale==C&&t.control.bounds.equals(a)&&t.control.rotation==g||(t.control.rotation=g,t.control.bounds=a,t.control.scale=C,t.control.redraw())}},mxCellRenderer.prototype.getControlBounds=function(t,e,i){if(null!=t.control){var n=t.view.scale,l=t.getCenterX(),o=t.getCenterY(),r=t.view.graph.isCellCollapsed(t.cell);if(!t.view.graph.getModel().isEdge(t.cell)&&(r?(l=t.x,o=t.y):(l=t.x+e*n,o=t.y+i*n),null!=t.shape)){var s=t.shape.getShapeRotation();if(this.legacyControlPosition)s=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0);else if(t.shape.isPaintBoundsInverted()){var a=(t.width-t.height)/2;l+=a,o-=a}if(0!=s){var g=mxUtils.toRadians(s),C=Math.cos(g),h=Math.sin(g),A=mxUtils.getRotatedPoint(new mxPoint(l,o),C,h,new mxPoint(t.getCenterX(),t.getCenterY()));l=A.x,o=A.y}}return r?(l=Math.round(l),o=Math.round(o),e=Math.round(e*n),i=Math.round(i*n)):(l=Math.round(l-e/2*n),o=Math.round(o-i/2*n),e=Math.round(e*n),i=Math.round(i*n)),t.view.graph.getModel().isEdge(t.cell),new mxRectangle(l,o,e,i)}return null},mxCellRenderer.prototype.insertStateAfter=function(t,e,i){for(var n=this.getShapesForState(t),l=0;l<n.length;l++)if(null!=n[l]&&null!=n[l].node){var o=n[l].node.parentNode!=t.view.getDrawPane()&&n[l].node.parentNode!=t.view.getOverlayPane(),r=o?i:e;if(null!=r&&r.nextSibling!=n[l].node)null==r.nextSibling?r.parentNode.appendChild(n[l].node):r.parentNode.insertBefore(n[l].node,r.nextSibling);else if(null==r)if(n[l].node.parentNode==t.view.graph.container){for(var s=t.view.canvas;null!=s&&s.parentNode!=t.view.graph.container;)s=s.parentNode;null!=s&&null!=s.nextSibling?s.nextSibling!=n[l].node&&n[l].node.parentNode.insertBefore(n[l].node,s.nextSibling):n[l].node.parentNode.appendChild(n[l].node)}else null!=n[l].node.parentNode.firstChild&&n[l].node.parentNode.firstChild!=n[l].node&&n[l].node.parentNode.insertBefore(n[l].node,n[l].node.parentNode.firstChild);o?i=n[l].node:e=n[l].node}return[e,i]},mxCellRenderer.prototype.getShapesForState=function(t){return[t.shape,t.text,t.control]},mxCellRenderer.prototype.redraw=function(t,e,i){var n=this.redrawShape(t,e,i);null==t.shape||null!=i&&!i||(this.redrawLabel(t,n),this.redrawCellOverlays(t,n),this.redrawControl(t,n))},mxCellRenderer.prototype.redrawShape=function(t,e,i){var n=t.view.graph.model,l=!1;return null!=t.shape&&null!=t.shape.style&&null!=t.style&&t.shape.style[mxConstants.STYLE_SHAPE]!=t.style[mxConstants.STYLE_SHAPE]&&(t.shape.destroy(),t.shape=null),null==t.shape&&null!=t.view.graph.container&&t.cell!=t.view.currentRoot&&(n.isVertex(t.cell)||n.isEdge(t.cell))?(t.shape=this.createShape(t),null!=t.shape&&(t.shape.antiAlias=this.antiAlias,this.createIndicatorShape(t),this.initializeShape(t),this.createCellOverlays(t),this.installListeners(t),t.view.graph.selectionCellsHandler.updateHandler(t))):null==t.shape||mxUtils.equalEntries(t.shape.style,t.style)||(t.shape.resetStyles(),this.configureShape(t),t.view.graph.selectionCellsHandler.updateHandler(t),e=!0),null!=t.shape&&(this.createControl(t),(e||null==t.shape.bounds||t.shape.scale!=t.view.scale||null==t.absolutePoints&&!t.shape.bounds.equals(t)||null!=t.absolutePoints&&!mxUtils.equalPoints(t.shape.points,t.absolutePoints))&&(null!=t.absolutePoints?(t.shape.points=t.absolutePoints.slice(),t.shape.bounds=null):(t.shape.points=null,t.shape.bounds=new mxRectangle(t.x,t.y,t.width,t.height)),t.shape.scale=t.view.scale,null==i||i?t.shape.redraw():t.shape.updateBoundingBox(),l=!0)),l},mxCellRenderer.prototype.destroy=function(t){null!=t.shape&&(null!=t.text&&(t.text.destroy(),t.text=null),null!=t.overlays&&(t.overlays.visit(function(t,e){e.destroy()}),t.overlays=null),null!=t.control&&(t.control.destroy(),t.control=null),t.shape.destroy(),t.shape=null)};var mxEdgeStyle={EntityRelation:function(t,e,i,n,l){var o=t.view,r=o.graph,s=mxUtils.getValue(t.style,mxConstants.STYLE_SEGMENT,mxConstants.ENTITY_SEGMENT)*o.scale,a=t.absolutePoints,g=a[0],C=a[a.length-1],h=!1;if(null!=g)(e=new mxCellState).x=g.x,e.y=g.y;else{if(null==e)return;if((c=mxUtils.getPortConstraints(e,t,!0,mxConstants.DIRECTION_MASK_NONE))!=mxConstants.DIRECTION_MASK_NONE&&c!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST)h=c==mxConstants.DIRECTION_MASK_WEST;else{var A=r.getCellGeometry(e.cell);A.relative?h=A.x<=.5:null!=i&&(h=i.x+i.width<e.x)}}var I=!0;if(null!=C)(i=new mxCellState).x=C.x,i.y=C.y;else if(null!=i){var c=mxUtils.getPortConstraints(i,t,!1,mxConstants.DIRECTION_MASK_NONE);if(c!=mxConstants.DIRECTION_MASK_NONE&&c!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST)I=c==mxConstants.DIRECTION_MASK_WEST;else{var d=r.getCellGeometry(i.cell);d.relative?I=d.x<=.5:null!=e&&(I=e.x+e.width<i.x)}}if(null!=e&&null!=i){var u=h?e.x:e.x+e.width,p=o.getRoutingCenterY(e),m=I?i.x:i.x+i.width,x=o.getRoutingCenterY(i),v=s,y=h?-v:v,f=new mxPoint(u+y,p),b=new mxPoint(m+(y=I?-v:v),x);if(h==I){var w=h?Math.min(u,m)-s:Math.max(u,m)+s;l.push(new mxPoint(w,p)),l.push(new mxPoint(w,x))}else if(f.x<b.x==h){var E=p+(x-p)/2;l.push(f),l.push(new mxPoint(f.x,E)),l.push(new mxPoint(b.x,E)),l.push(b)}else l.push(f),l.push(b)}},Loop:function(t,e,i,n,l){var o=t.absolutePoints,r=o[0],s=o[o.length-1];if(null==r||null==s){if(null!=e){var a=t.view,g=a.graph;null!=(p=null!=n&&n.length>0?n[0]:null)&&(p=a.transformControlPoint(t,p),mxUtils.contains(e,p.x,p.y)&&(p=null));var C=0,h=0,A=0,I=0,c=mxUtils.getValue(t.style,mxConstants.STYLE_SEGMENT,g.gridSize)*a.scale,d=mxUtils.getValue(t.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_WEST);d==mxConstants.DIRECTION_NORTH||d==mxConstants.DIRECTION_SOUTH?(C=a.getRoutingCenterX(e),h=c):(A=a.getRoutingCenterY(e),I=c),null==p||p.x<e.x||p.x>e.x+e.width?null!=p?(C=p.x,I=Math.max(Math.abs(A-p.y),I)):d==mxConstants.DIRECTION_NORTH?A=e.y-2*h:d==mxConstants.DIRECTION_SOUTH?A=e.y+e.height+2*h:C=d==mxConstants.DIRECTION_EAST?e.x-2*I:e.x+e.width+2*I:null!=p&&(C=a.getRoutingCenterX(e),h=Math.max(Math.abs(C-p.x),I),A=p.y,I=0),l.push(new mxPoint(C-h,A-I)),l.push(new mxPoint(C+h,A+I))}}else if(null!=n&&n.length>0)for(var u=0;u<n.length;u++){var p=n[u];p=t.view.transformControlPoint(t,p),l.push(new mxPoint(p.x,p.y))}},ElbowConnector:function(t,e,i,n,l){var o=null!=n&&n.length>0?n[0]:null,r=!1,s=!1;if(null!=e&&null!=i)if(null!=o){var a=Math.min(e.x,i.x),g=Math.max(e.x+e.width,i.x+i.width),C=Math.min(e.y,i.y),h=Math.max(e.y+e.height,i.y+i.height);r=(o=t.view.transformControlPoint(t,o)).y<C||o.y>h,s=o.x<a||o.x>g}else(r=(a=Math.max(e.x,i.x))==(g=Math.min(e.x+e.width,i.x+i.width)))||(s=(C=Math.max(e.y,i.y))==(h=Math.min(e.y+e.height,i.y+i.height)));s||!r&&t.style[mxConstants.STYLE_ELBOW]!=mxConstants.ELBOW_VERTICAL?mxEdgeStyle.SideToSide(t,e,i,n,l):mxEdgeStyle.TopToBottom(t,e,i,n,l)},SideToSide:function(t,e,i,n,l){var o=t.view,r=null!=n&&n.length>0?n[0]:null,s=t.absolutePoints,a=s[0],g=s[s.length-1];if(null!=r&&(r=o.transformControlPoint(t,r)),null!=a&&((e=new mxCellState).x=a.x,e.y=a.y),null!=g&&((i=new mxCellState).x=g.x,i.y=g.y),null!=e&&null!=i){var C=Math.max(e.x,i.x),h=Math.min(e.x+e.width,i.x+i.width),A=null!=r?r.x:Math.round(h+(C-h)/2),I=o.getRoutingCenterY(e),c=o.getRoutingCenterY(i);if(null!=r&&(r.y>=e.y&&r.y<=e.y+e.height&&(I=r.y),r.y>=i.y&&r.y<=i.y+i.height&&(c=r.y)),mxUtils.contains(i,A,I)||mxUtils.contains(e,A,I)||l.push(new mxPoint(A,I)),mxUtils.contains(i,A,c)||mxUtils.contains(e,A,c)||l.push(new mxPoint(A,c)),1==l.length)if(null!=r)mxUtils.contains(i,A,r.y)||mxUtils.contains(e,A,r.y)||l.push(new mxPoint(A,r.y));else{var d=Math.max(e.y,i.y),u=Math.min(e.y+e.height,i.y+i.height);l.push(new mxPoint(A,d+(u-d)/2))}}},TopToBottom:function(t,e,i,n,l){var o=t.view,r=null!=n&&n.length>0?n[0]:null,s=t.absolutePoints,a=s[0],g=s[s.length-1];if(null!=r&&(r=o.transformControlPoint(t,r)),null!=a&&((e=new mxCellState).x=a.x,e.y=a.y),null!=g&&((i=new mxCellState).x=g.x,i.y=g.y),null!=e&&null!=i){var C=Math.max(e.y,i.y),h=Math.min(e.y+e.height,i.y+i.height),A=o.getRoutingCenterX(e);null!=r&&r.x>=e.x&&r.x<=e.x+e.width&&(A=r.x);var I=null!=r?r.y:Math.round(h+(C-h)/2);if(mxUtils.contains(i,A,I)||mxUtils.contains(e,A,I)||l.push(new mxPoint(A,I)),A=null!=r&&r.x>=i.x&&r.x<=i.x+i.width?r.x:o.getRoutingCenterX(i),mxUtils.contains(i,A,I)||mxUtils.contains(e,A,I)||l.push(new mxPoint(A,I)),1==l.length)if(null!=r&&1==l.length)mxUtils.contains(i,r.x,I)||mxUtils.contains(e,r.x,I)||l.push(new mxPoint(r.x,I));else{var c=Math.max(e.x,i.x),d=Math.min(e.x+e.width,i.x+i.width);l.push(new mxPoint(c+(d-c)/2,I))}}},SegmentConnector:function(t,e,i,n,l){function o(t){return(null==a||Math.abs(a.x-t.x)>=s||Math.abs(a.y-t.y)>=s)&&(l.push(t),a=t),a}var r=t.absolutePoints,s=Math.max(1,t.view.scale),a=l.length>0?l[0]:null,g=!0,C=null,h=r[0];null==h&&null!=e?h=new mxPoint(t.view.getRoutingCenterX(e),t.view.getRoutingCenterY(e)):null!=h&&(h=h.clone()),h.x=Math.round(h.x),h.y=Math.round(h.y);var A=r.length-1;if(null!=n&&n.length>0){for(var I=[],c=0;c<n.length;c++){var d=t.view.transformControlPoint(t,n[c]);null!=d&&(d.x=Math.round(d.x),d.y=Math.round(d.y),I.push(d))}if(0==I.length)return;n=I,null!=h&&null!=n[0]&&(Math.abs(n[0].x-h.x)<s&&(n[0].x=h.x),Math.abs(n[0].y-h.y)<s&&(n[0].y=h.y));var u=r[A];null!=u&&null!=n[n.length-1]&&(Math.abs(n[n.length-1].x-u.x)<s&&(n[n.length-1].x=u.x),Math.abs(n[n.length-1].y-u.y)<s&&(n[n.length-1].y=u.y)),C=n[0];var p=e,m=r[0],x=!1,v=!1,y=C;null!=m&&(m.x=Math.round(m.x),m.y=Math.round(m.y),p=null);for(c=0;c<2;c++){var f=null!=m&&m.x==y.x,b=null!=m&&m.y==y.y,w=null!=p&&y.y>=p.y&&y.y<=p.y+p.height,E=null!=p&&y.x>=p.x&&y.x<=p.x+p.width;if(x=b||null==m&&w,v=f||null==m&&E,0==c&&(x&&v||f&&b));else{if(null!=m&&!b&&!f&&(w||E)){g=!w;break}if(v||x){g=x,1==c&&(g=n.length%2==0?x:v);break}}p=i,null!=(m=r[A])&&(m.x=Math.round(m.x),m.y=Math.round(m.y),p=null),y=n[n.length-1],f&&b&&(n=n.slice(1))}g&&(null!=r[0]&&r[0].y!=C.y||null==r[0]&&null!=e&&(C.y<e.y||C.y>e.y+e.height))?o(new mxPoint(h.x,C.y)):!g&&(null!=r[0]&&r[0].x!=C.x||null==r[0]&&null!=e&&(C.x<e.x||C.x>e.x+e.width))&&o(new mxPoint(C.x,h.y)),g?h.y=C.y:h.x=C.x;for(c=0;c<n.length;c++)g=!g,C=n[c],g?h.y=C.y:h.x=C.x,o(h.clone())}else C=h,g=!0;if(null==(h=r[A])&&null!=i&&(h=new mxPoint(t.view.getRoutingCenterX(i),t.view.getRoutingCenterY(i))),null!=h&&(h.x=Math.round(h.x),h.y=Math.round(h.y),null!=C&&(g&&(null!=r[A]&&r[A].y!=C.y||null==r[A]&&null!=i&&(C.y<i.y||C.y>i.y+i.height))?o(new mxPoint(h.x,C.y)):!g&&(null!=r[A]&&r[A].x!=C.x||null==r[A]&&null!=i&&(C.x<i.x||C.x>i.x+i.width))&&o(new mxPoint(C.x,h.y)))),null==r[0]&&null!=e)for(;l.length>1&&null!=l[1]&&mxUtils.contains(e,l[1].x,l[1].y);)l.splice(1,1);if(null==r[A]&&null!=i)for(;l.length>1&&null!=l[l.length-1]&&mxUtils.contains(i,l[l.length-1].x,l[l.length-1].y);)l.splice(l.length-1,1);null!=u&&null!=l[l.length-1]&&Math.abs(u.x-l[l.length-1].x)<s&&Math.abs(u.y-l[l.length-1].y)<s&&(l.splice(l.length-1,1),null!=l[l.length-1]&&(Math.abs(l[l.length-1].x-u.x)<s&&(l[l.length-1].x=u.x),Math.abs(l[l.length-1].y-u.y)<s&&(l[l.length-1].y=u.y)))},orthBuffer:10,orthPointsFallback:!0,dirVectors:[[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0]],wayPoints1:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],routePatterns:[[[513,2308,2081,2562],[513,1090,514,2184,2114,2561],[513,1090,514,2564,2184,2562],[513,2308,2561,1090,514,2568,2308]],[[514,1057,513,2308,2081,2562],[514,2184,2114,2561],[514,2184,2562,1057,513,2564,2184],[514,1057,513,2568,2308,2561]],[[1090,514,1057,513,2308,2081,2562],[2114,2561],[1090,2562,1057,513,2564,2184],[1090,514,1057,513,2308,2561,2568]],[[2081,2562],[1057,513,1090,514,2184,2114,2561],[1057,513,1090,514,2184,2562,2564],[1057,2561,1090,514,2568,2308]]],inlineRoutePatterns:[[null,[2114,2568],null,null],[null,[514,2081,2114,2568],null,null],[null,[2114,2561],null,null],[[2081,2562],[1057,2114,2568],[2184,2562],null]],vertexSeperations:[],limits:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],LEFT_MASK:32,TOP_MASK:64,RIGHT_MASK:128,BOTTOM_MASK:256,LEFT:1,TOP:2,RIGHT:4,BOTTOM:8,SIDE_MASK:480,CENTER_MASK:512,SOURCE_MASK:1024,TARGET_MASK:2048,VERTEX_MASK:3072,getJettySize:function(t,e,i,n,l){var o=mxUtils.getValue(t.style,l?mxConstants.STYLE_SOURCE_JETTY_SIZE:mxConstants.STYLE_TARGET_JETTY_SIZE,mxUtils.getValue(t.style,mxConstants.STYLE_JETTY_SIZE,mxEdgeStyle.orthBuffer));if("auto"==o)if(mxUtils.getValue(t.style,l?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE){var r=mxUtils.getNumber(t.style,l?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE);o=Math.max(2,Math.ceil((r+mxEdgeStyle.orthBuffer)/mxEdgeStyle.orthBuffer))*mxEdgeStyle.orthBuffer}else o=2*mxEdgeStyle.orthBuffer;return o},OrthConnector:function(t,e,i,n,l){var o=t.view.graph,r=null!=e&&o.getModel().isEdge(e.cell),s=null!=i&&o.getModel().isEdge(i.cell),a=t.absolutePoints,g=a[0],C=a[a.length-1],h=null!=e?e.x:g.x,A=null!=e?e.y:g.y,I=null!=e?e.width:0,c=null!=e?e.height:0,d=null!=i?i.x:C.x,u=null!=i?i.y:C.y,p=null!=i?i.width:0,m=null!=i?i.height:0,x=t.view.scale*mxEdgeStyle.getJettySize(t,e,i,n,!0),v=t.view.scale*mxEdgeStyle.getJettySize(t,e,i,n,!1);null!=e&&i==e&&(x=v=Math.max(x,v));var y=v+x,f=!1;if(null!=g&&null!=C&&(f=(M=C.x-g.x)*M+(N=C.y-g.y)*N<y*y),f||mxEdgeStyle.orthPointsFallback&&null!=n&&n.length>0||r||s)mxEdgeStyle.SegmentConnector(t,e,i,n,l);else{var b=[mxConstants.DIRECTION_MASK_ALL,mxConstants.DIRECTION_MASK_ALL],w=0;if(null!=e&&(b[0]=mxUtils.getPortConstraints(e,t,!0,mxConstants.DIRECTION_MASK_ALL),0!=(w=mxUtils.getValue(e.style,mxConstants.STYLE_ROTATION,0))&&(h=(E=mxUtils.getBoundingBox(new mxRectangle(h,A,I,c),w)).x,A=E.y,I=E.width,c=E.height)),null!=i&&(b[1]=mxUtils.getPortConstraints(i,t,!1,mxConstants.DIRECTION_MASK_ALL),0!=(w=mxUtils.getValue(i.style,mxConstants.STYLE_ROTATION,0)))){var E=mxUtils.getBoundingBox(new mxRectangle(d,u,p,m),w);d=E.x,u=E.y,p=E.width,m=E.height}for(var S=[0,0],T=[[h=Math.round(10*h)/10,A=Math.round(10*A)/10,I=Math.round(10*I)/10,c=Math.round(10*c)/10],[d=Math.round(10*d)/10,u=Math.round(10*u)/10,p=Math.round(10*p)/10,m=Math.round(10*m)/10]],G=[x,v],R=0;R<2;R++)mxEdgeStyle.limits[R][1]=T[R][0]-G[R],mxEdgeStyle.limits[R][2]=T[R][1]-G[R],mxEdgeStyle.limits[R][4]=T[R][0]+T[R][2]+G[R],mxEdgeStyle.limits[R][8]=T[R][1]+T[R][3]+G[R];var L=T[0][0]+T[0][2]/2,P=T[0][1]+T[0][3]/2,M=L-(T[1][0]+T[1][2]/2),N=P-(T[1][1]+T[1][3]/2),D=0;M<0?D=N<0?2:1:N<=0&&(D=3,0==M&&(D=2));var O=null;null!=e&&(O=g);for(var U=[[.5,.5],[.5,.5]],R=0;R<2;R++)null!=O&&(U[R][0]=(O.x-T[R][0])/T[R][2],Math.abs(O.x-T[R][0])<=1?S[R]=mxConstants.DIRECTION_MASK_WEST:Math.abs(O.x-T[R][0]-T[R][2])<=1&&(S[R]=mxConstants.DIRECTION_MASK_EAST),U[R][1]=(O.y-T[R][1])/T[R][3],Math.abs(O.y-T[R][1])<=1?S[R]=mxConstants.DIRECTION_MASK_NORTH:Math.abs(O.y-T[R][1]-T[R][3])<=1&&(S[R]=mxConstants.DIRECTION_MASK_SOUTH)),O=null,null!=i&&(O=C);var k=T[0][1]-(T[1][1]+T[1][3]),H=T[0][0]-(T[1][0]+T[1][2]),V=T[1][1]-(T[0][1]+T[0][3]),Z=T[1][0]-(T[0][0]+T[0][2]);mxEdgeStyle.vertexSeperations[1]=Math.max(H-y,0),mxEdgeStyle.vertexSeperations[2]=Math.max(k-y,0),mxEdgeStyle.vertexSeperations[4]=Math.max(V-y,0),mxEdgeStyle.vertexSeperations[3]=Math.max(Z-y,0);var Y=[],F=[],X=[];F[0]=H>=Z?mxConstants.DIRECTION_MASK_WEST:mxConstants.DIRECTION_MASK_EAST,X[0]=k>=V?mxConstants.DIRECTION_MASK_NORTH:mxConstants.DIRECTION_MASK_SOUTH,F[1]=mxUtils.reversePortConstraints(F[0]),X[1]=mxUtils.reversePortConstraints(X[0]);for(var B=H>=Z?H:Z,W=k>=V?k:V,z=[[0,0],[0,0]],_=!1,R=0;R<2;R++)0==S[R]&&(0==(F[R]&b[R])&&(F[R]=mxUtils.reversePortConstraints(F[R])),0==(X[R]&b[R])&&(X[R]=mxUtils.reversePortConstraints(X[R])),z[R][0]=X[R],z[R][1]=F[R]);W>0&&B>0&&((F[0]&b[0])>0&&(X[1]&b[1])>0?(z[0][0]=F[0],z[0][1]=X[0],z[1][0]=X[1],z[1][1]=F[1],_=!0):(X[0]&b[0])>0&&(F[1]&b[1])>0&&(z[0][0]=X[0],z[0][1]=F[0],z[1][0]=F[1],z[1][1]=X[1],_=!0)),W>0&&!_&&(z[0][0]=X[0],z[0][1]=F[0],z[1][0]=X[1],z[1][1]=F[1],_=!0),B>0&&!_&&(z[0][0]=F[0],z[0][1]=X[0],z[1][0]=F[1],z[1][1]=X[1],_=!0);for(R=0;R<2;R++)0==S[R]&&(0==(z[R][0]&b[R])&&(z[R][0]=z[R][1]),Y[R]=z[R][0]&b[R],Y[R]|=(z[R][1]&b[R])<<8,Y[R]|=(z[1-R][R]&b[R])<<16,Y[R]|=(z[1-R][1-R]&b[R])<<24,0==(15&Y[R])&&(Y[R]=Y[R]<<8),0==(3840&Y[R])&&(Y[R]=15&Y[R]|Y[R]>>8),0==(983040&Y[R])&&(Y[R]=65535&Y[R]|(251658240&Y[R])>>8),S[R]=15&Y[R],b[R]!=mxConstants.DIRECTION_MASK_WEST&&b[R]!=mxConstants.DIRECTION_MASK_NORTH&&b[R]!=mxConstants.DIRECTION_MASK_EAST&&b[R]!=mxConstants.DIRECTION_MASK_SOUTH||(S[R]=b[R]));var J=S[0]==mxConstants.DIRECTION_MASK_EAST?3:S[0],j=S[1]==mxConstants.DIRECTION_MASK_EAST?3:S[1];j-=D,(J-=D)<1&&(J+=4),j<1&&(j+=4);var K=mxEdgeStyle.routePatterns[J-1][j-1];switch(mxEdgeStyle.wayPoints1[0][0]=T[0][0],mxEdgeStyle.wayPoints1[0][1]=T[0][1],S[0]){case mxConstants.DIRECTION_MASK_WEST:mxEdgeStyle.wayPoints1[0][0]-=x,mxEdgeStyle.wayPoints1[0][1]+=U[0][1]*T[0][3];break;case mxConstants.DIRECTION_MASK_SOUTH:mxEdgeStyle.wayPoints1[0][0]+=U[0][0]*T[0][2],mxEdgeStyle.wayPoints1[0][1]+=T[0][3]+x;break;case mxConstants.DIRECTION_MASK_EAST:mxEdgeStyle.wayPoints1[0][0]+=T[0][2]+x,mxEdgeStyle.wayPoints1[0][1]+=U[0][1]*T[0][3];break;case mxConstants.DIRECTION_MASK_NORTH:mxEdgeStyle.wayPoints1[0][0]+=U[0][0]*T[0][2],mxEdgeStyle.wayPoints1[0][1]-=x}for(var Q=0,q=(S[0]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))>0?0:1,$=q,tt=0,R=0;R<K.length;R++){var et=15&K[R],it=et==mxConstants.DIRECTION_MASK_EAST?3:et;(it+=D)>4&&(it-=4);var nt=mxEdgeStyle.dirVectors[it-1];(tt=it%2>0?0:1)!=q&&(Q++,mxEdgeStyle.wayPoints1[Q][0]=mxEdgeStyle.wayPoints1[Q-1][0],mxEdgeStyle.wayPoints1[Q][1]=mxEdgeStyle.wayPoints1[Q-1][1]);var lt=(K[R]&mxEdgeStyle.TARGET_MASK)>0,ot=(K[R]&mxEdgeStyle.SOURCE_MASK)>0,rt=(K[R]&mxEdgeStyle.SIDE_MASK)>>5;(rt<<=D)>15&&(rt>>=4);var st=(K[R]&mxEdgeStyle.CENTER_MASK)>0;if((ot||lt)&&rt<9){var at=0,gt=ot?0:1;if(at=st&&0==tt?T[gt][0]+U[gt][0]*T[gt][2]:st?T[gt][1]+U[gt][1]*T[gt][3]:mxEdgeStyle.limits[gt][rt],0==tt){var Ct=(at-mxEdgeStyle.wayPoints1[Q][0])*nt[0];Ct>0&&(mxEdgeStyle.wayPoints1[Q][0]+=nt[0]*Ct)}else{var ht=(at-mxEdgeStyle.wayPoints1[Q][1])*nt[1];ht>0&&(mxEdgeStyle.wayPoints1[Q][1]+=nt[1]*ht)}}else st&&(mxEdgeStyle.wayPoints1[Q][0]+=nt[0]*Math.abs(mxEdgeStyle.vertexSeperations[it]/2),mxEdgeStyle.wayPoints1[Q][1]+=nt[1]*Math.abs(mxEdgeStyle.vertexSeperations[it]/2));Q>0&&mxEdgeStyle.wayPoints1[Q][tt]==mxEdgeStyle.wayPoints1[Q-1][tt]?Q--:q=tt}for(R=0;R<=Q&&(R!=Q||(((S[1]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))>0?0:1)==$?0:1)==(Q+1)%2);R++)l.push(new mxPoint(Math.round(mxEdgeStyle.wayPoints1[R][0]),Math.round(mxEdgeStyle.wayPoints1[R][1])));for(var At=1;At<l.length;)null==l[At-1]||null==l[At]||l[At-1].x!=l[At].x||l[At-1].y!=l[At].y?At++:l.splice(At,1)}},getRoutePattern:function(t,e,i,n){var l=t[0]==mxConstants.DIRECTION_MASK_EAST?3:t[0],o=t[1]==mxConstants.DIRECTION_MASK_EAST?3:t[1];o-=e,(l-=e)<1&&(l+=4),o<1&&(o+=4);var r=routePatterns[l-1][o-1];return 0!=i&&0!=n||null!=inlineRoutePatterns[l-1][o-1]&&(r=inlineRoutePatterns[l-1][o-1]),r}},mxStyleRegistry={values:[],putValue:function(t,e){mxStyleRegistry.values[t]=e},getValue:function(t){return mxStyleRegistry.values[t]},getName:function(t){for(var e in mxStyleRegistry.values)if(mxStyleRegistry.values[e]==t)return e;return null}};mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ELBOW,mxEdgeStyle.ElbowConnector),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ENTITY_RELATION,mxEdgeStyle.EntityRelation),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_LOOP,mxEdgeStyle.Loop),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SIDETOSIDE,mxEdgeStyle.SideToSide),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_TOPTOBOTTOM,mxEdgeStyle.TopToBottom),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ORTHOGONAL,mxEdgeStyle.OrthConnector),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SEGMENT,mxEdgeStyle.SegmentConnector),mxStyleRegistry.putValue(mxConstants.PERIMETER_ELLIPSE,mxPerimeter.EllipsePerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_RECTANGLE,mxPerimeter.RectanglePerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_RHOMBUS,mxPerimeter.RhombusPerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_TRIANGLE,mxPerimeter.TrianglePerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_HEXAGON,mxPerimeter.HexagonPerimeter),mxGraphView.prototype=new mxEventSource,mxGraphView.prototype.constructor=mxGraphView,mxGraphView.prototype.EMPTY_POINT=new mxPoint,mxGraphView.prototype.doneResource="none"!=mxClient.language?"done":"",mxGraphView.prototype.updatingDocumentResource="none"!=mxClient.language?"updatingDocument":"",mxGraphView.prototype.allowEval=!1,mxGraphView.prototype.captureDocumentGesture=!0,mxGraphView.prototype.optimizeVmlReflows=!0,mxGraphView.prototype.rendering=!0,mxGraphView.prototype.graph=null,mxGraphView.prototype.currentRoot=null,mxGraphView.prototype.graphBounds=null,mxGraphView.prototype.scale=1,mxGraphView.prototype.translate=null,mxGraphView.prototype.updateStyle=!1,mxGraphView.prototype.lastNode=null,mxGraphView.prototype.lastHtmlNode=null,mxGraphView.prototype.lastForegroundNode=null,mxGraphView.prototype.lastForegroundHtmlNode=null,mxGraphView.prototype.getGraphBounds=function(){return this.graphBounds},mxGraphView.prototype.setGraphBounds=function(t){this.graphBounds=t},mxGraphView.prototype.getBounds=function(t){var e=null;if(null!=t&&t.length>0)for(var i=this.graph.getModel(),n=0;n<t.length;n++)if(i.isVertex(t[n])||i.isEdge(t[n])){var l=this.getState(t[n]);null!=l&&(null==e?e=mxRectangle.fromRectangle(l):e.add(l))}return e},mxGraphView.prototype.setCurrentRoot=function(t){if(this.currentRoot!=t){var e=new mxCurrentRootChange(this,t);e.execute();var i=new mxUndoableEdit(this,!1);i.add(e),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",i)),this.graph.sizeDidChange()}return t},mxGraphView.prototype.scaleAndTranslate=function(t,e,i){var n=this.scale,l=new mxPoint(this.translate.x,this.translate.y);this.scale==t&&this.translate.x==e&&this.translate.y==i||(this.scale=t,this.translate.x=e,this.translate.y=i,this.isEventsEnabled()&&(this.revalidate(),this.graph.sizeDidChange())),this.fireEvent(new mxEventObject(mxEvent.SCALE_AND_TRANSLATE,"scale",t,"previousScale",n,"translate",this.translate,"previousTranslate",l))},mxGraphView.prototype.getScale=function(){return this.scale},mxGraphView.prototype.setScale=function(t){var e=this.scale;this.scale!=t&&(this.scale=t,this.isEventsEnabled()&&(this.revalidate(),this.graph.sizeDidChange())),this.fireEvent(new mxEventObject(mxEvent.SCALE,"scale",t,"previousScale",e))},mxGraphView.prototype.getTranslate=function(){return this.translate},mxGraphView.prototype.setTranslate=function(t,e){var i=new mxPoint(this.translate.x,this.translate.y);this.translate.x==t&&this.translate.y==e||(this.translate.x=t,this.translate.y=e,this.isEventsEnabled()&&(this.revalidate(),this.graph.sizeDidChange())),this.fireEvent(new mxEventObject(mxEvent.TRANSLATE,"translate",this.translate,"previousTranslate",i))},mxGraphView.prototype.refresh=function(){null!=this.currentRoot&&this.clear(),this.revalidate()},mxGraphView.prototype.revalidate=function(){this.invalidate(),this.validate()},mxGraphView.prototype.clear=function(t,e,i){var n=this.graph.getModel();if(t=t||n.getRoot(),e=null!=e&&e,i=null==i||i,this.removeState(t),i&&(e||t!=this.currentRoot))for(var l=n.getChildCount(t),o=0;o<l;o++)this.clear(n.getChildAt(t,o),e);else this.invalidate(t)},mxGraphView.prototype.invalidate=function(t,e,i){var n=this.graph.getModel();t=t||n.getRoot(),e=null==e||e,i=null==i||i;var l=this.getState(t);if(null!=l&&(l.invalid=!0),!t.invalidating){if(t.invalidating=!0,e)for(var o=n.getChildCount(t),r=0;r<o;r++){var s=n.getChildAt(t,r);this.invalidate(s,e,i)}if(i)for(var a=n.getEdgeCount(t),r=0;r<a;r++)this.invalidate(n.getEdgeAt(t,r),e,i);delete t.invalidating}},mxGraphView.prototype.validate=function(t){var e=mxLog.enter("mxGraphView.validate");window.status=mxResources.get(this.updatingDocumentResource)||this.updatingDocumentResource,this.resetValidationState();var i=null;this.optimizeVmlReflows&&null!=this.canvas&&null==this.textDiv&&(8==document.documentMode&&!mxClient.IS_EM||mxClient.IS_QUIRKS)&&(this.placeholder=document.createElement("div"),this.placeholder.style.position="absolute",this.placeholder.style.width=this.canvas.clientWidth+"px",this.placeholder.style.height=this.canvas.clientHeight+"px",this.canvas.parentNode.appendChild(this.placeholder),i=this.drawPane.style.display,this.canvas.style.display="none",this.textDiv=document.createElement("div"),this.textDiv.style.position="absolute",this.textDiv.style.whiteSpace="nowrap",this.textDiv.style.visibility="hidden",this.textDiv.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",this.textDiv.style.zoom="1",this.vgdContainer.appendChild(this.textDiv));var n=this.getBoundingBox(this.validateCellState(this.validateCell(t||(null!=this.currentRoot?this.currentRoot:this.graph.getModel().getRoot()))));this.setGraphBounds(null!=n?n:this.getEmptyBounds()),this.validateBackground(),null!=i&&(this.canvas.style.display=i,this.textDiv.parentNode.removeChild(this.textDiv),null!=this.placeholder&&this.placeholder.parentNode.removeChild(this.placeholder),this.textDiv=null),this.resetValidationState(),window.status=mxResources.get(this.doneResource)||this.doneResource,mxLog.leave("mxGraphView.validate",e)},mxGraphView.prototype.getEmptyBounds=function(){return new mxRectangle(this.translate.x*this.scale,this.translate.y*this.scale)},mxGraphView.prototype.getBoundingBox=function(t,e){e=null==e||e;var i=null;if(null!=t&&(null!=t.shape&&null!=t.shape.boundingBox&&(i=t.shape.boundingBox.clone()),null!=t.text&&null!=t.text.boundingBox&&(null!=i?i.add(t.text.boundingBox):i=t.text.boundingBox.clone()),e))for(var n=this.graph.getModel(),l=n.getChildCount(t.cell),o=0;o<l;o++){var r=this.getBoundingBox(this.getState(n.getChildAt(t.cell,o)));null!=r&&(null==i?i=r:i.add(r))}return i},mxGraphView.prototype.createBackgroundPageShape=function(t){return new mxRectangleShape(t,"white","black")},mxGraphView.prototype.validateBackground=function(){this.validateBackgroundImage(),this.validateBackgroundPage()},mxGraphView.prototype.validateBackgroundImage=function(){var t=this.graph.getBackgroundImage();if(null!=t){if(null==this.backgroundImage||this.backgroundImage.image!=t.src){null!=this.backgroundImage&&this.backgroundImage.destroy();var e=new mxRectangle(0,0,1,1);this.backgroundImage=new mxImageShape(e,t.src),this.backgroundImage.dialect=this.graph.dialect,this.backgroundImage.init(this.backgroundPane),this.backgroundImage.redraw(),8!=document.documentMode||mxClient.IS_EM||mxEvent.addGestureListeners(this.backgroundImage.node,mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t))}))}this.redrawBackgroundImage(this.backgroundImage,t)}else null!=this.backgroundImage&&(this.backgroundImage.destroy(),this.backgroundImage=null)},mxGraphView.prototype.validateBackgroundPage=function(){if(this.graph.pageVisible){var t=this.getBackgroundPageBounds();null==this.backgroundPageShape?(this.backgroundPageShape=this.createBackgroundPageShape(t),this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=this.graph.dialect,this.backgroundPageShape.init(this.backgroundPane),this.backgroundPageShape.redraw(),this.graph.nativeDblClickEnabled&&mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function(t){this.graph.dblClick(t)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.isHideOnHover()&&this.graph.tooltipHandler.hide(),this.graph.isMouseDown&&!mxEvent.isConsumed(t)&&this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t))}))):(this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.bounds=t,this.backgroundPageShape.redraw())}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null)},mxGraphView.prototype.getBackgroundPageBounds=function(){var t=this.graph.pageFormat,e=this.scale*this.graph.pageScale;return new mxRectangle(this.scale*this.translate.x,this.scale*this.translate.y,t.width*e,t.height*e)},mxGraphView.prototype.redrawBackgroundImage=function(t,e){t.scale=this.scale,t.bounds.x=this.scale*this.translate.x,t.bounds.y=this.scale*this.translate.y,t.bounds.width=this.scale*e.width,t.bounds.height=this.scale*e.height,t.redraw()},mxGraphView.prototype.validateCell=function(t,e){if(e=null==e||e,null!=t)if(e=e&&this.graph.isCellVisible(t),null==this.getState(t,e)||e)for(var i=this.graph.getModel(),n=i.getChildCount(t),l=0;l<n;l++)this.validateCell(i.getChildAt(t,l),e&&(!this.isCellCollapsed(t)||t==this.currentRoot));else this.removeState(t);return t},mxGraphView.prototype.validateCellState=function(t,e){e=null==e||e;var i=null;if(null!=t&&null!=(i=this.getState(t))){var n=this.graph.getModel();if(i.invalid&&(i.invalid=!1,null==i.style&&(i.style=this.graph.getCellStyle(i.cell)),t!=this.currentRoot&&this.validateCellState(n.getParent(t),!1),i.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(t,!0),!1),!0),i.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(t,!1),!1),!1),this.updateCellState(i),t==this.currentRoot||i.invalid||this.graph.cellRenderer.redraw(i,!1,this.isRendering())),e&&!i.invalid){null!=i.shape&&this.stateValidated(i);for(var l=n.getChildCount(t),o=0;o<l;o++)this.validateCellState(n.getChildAt(t,o))}}return i},mxGraphView.prototype.updateCellState=function(t){if(t.absoluteOffset.x=0,t.absoluteOffset.y=0,t.origin.x=0,t.origin.y=0,t.length=0,t.cell!=this.currentRoot){var e=this.graph.getModel(),i=this.getState(e.getParent(t.cell));null!=i&&i.cell!=this.currentRoot&&(t.origin.x+=i.origin.x,t.origin.y+=i.origin.y);var n=this.graph.getChildOffsetForCell(t.cell);null!=n&&(t.origin.x+=n.x,t.origin.y+=n.y);var l=this.graph.getCellGeometry(t.cell);if(null!=l){if(!e.isEdge(t.cell))if(n=l.offset||this.EMPTY_POINT,l.relative&&null!=i)if(e.isEdge(i.cell)){var o=this.getPoint(i,l);null!=o&&(t.origin.x+=o.x/this.scale-i.origin.x-this.translate.x,t.origin.y+=o.y/this.scale-i.origin.y-this.translate.y)}else t.origin.x+=l.x*i.width/this.scale+n.x,t.origin.y+=l.y*i.height/this.scale+n.y;else t.absoluteOffset.x=this.scale*n.x,t.absoluteOffset.y=this.scale*n.y,t.origin.x+=l.x,t.origin.y+=l.y;t.x=this.scale*(this.translate.x+t.origin.x),t.y=this.scale*(this.translate.y+t.origin.y),t.width=this.scale*l.width,t.unscaledWidth=l.width,t.height=this.scale*l.height,e.isVertex(t.cell)&&this.updateVertexState(t,l),e.isEdge(t.cell)&&this.updateEdgeState(t,l)}}t.updateCachedBounds()},mxGraphView.prototype.isCellCollapsed=function(t){return this.graph.isCellCollapsed(t)},mxGraphView.prototype.updateVertexState=function(t,e){var i=this.graph.getModel(),n=this.getState(i.getParent(t.cell));if(e.relative&&null!=n&&!i.isEdge(n.cell)){var l=mxUtils.toRadians(n.style[mxConstants.STYLE_ROTATION]||"0");if(0!=l){var o=Math.cos(l),r=Math.sin(l),s=new mxPoint(t.getCenterX(),t.getCenterY()),a=new mxPoint(n.getCenterX(),n.getCenterY()),g=mxUtils.getRotatedPoint(s,o,r,a);t.x=g.x-t.width/2,t.y=g.y-t.height/2}}this.updateVertexLabelOffset(t)},mxGraphView.prototype.updateEdgeState=function(t,e){var i=t.getVisibleTerminalState(!0),n=t.getVisibleTerminalState(!1);if(null!=this.graph.model.getTerminal(t.cell,!0)&&null==i||null==i&&null==e.getTerminalPoint(!0)||null!=this.graph.model.getTerminal(t.cell,!1)&&null==n||null==n&&null==e.getTerminalPoint(!1))this.clear(t.cell,!0);else{this.updateFixedTerminalPoints(t,i,n),this.updatePoints(t,e.points,i,n),this.updateFloatingTerminalPoints(t,i,n);var l=t.absolutePoints;t.cell!=this.currentRoot&&(null==l||l.length<2||null==l[0]||null==l[l.length-1])?this.clear(t.cell,!0):(this.updateEdgeBounds(t),this.updateEdgeLabelOffset(t))}},mxGraphView.prototype.updateVertexLabelOffset=function(t){var e=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);if(e==mxConstants.ALIGN_LEFT)null!=(i=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null))?i*=this.scale:i=t.width,t.absoluteOffset.x-=i;else if(e==mxConstants.ALIGN_RIGHT)t.absoluteOffset.x+=t.width;else if(e==mxConstants.ALIGN_CENTER){var i=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);if(null!=i){var n=mxUtils.getValue(t.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),l=0;n==mxConstants.ALIGN_CENTER?l=.5:n==mxConstants.ALIGN_RIGHT&&(l=1),0!=l&&(t.absoluteOffset.x-=(i*this.scale-t.width)*l)}}var o=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);o==mxConstants.ALIGN_TOP?t.absoluteOffset.y-=t.height:o==mxConstants.ALIGN_BOTTOM&&(t.absoluteOffset.y+=t.height)},mxGraphView.prototype.resetValidationState=function(){this.lastNode=null,this.lastHtmlNode=null,this.lastForegroundNode=null,this.lastForegroundHtmlNode=null},mxGraphView.prototype.stateValidated=function(t){var e=this.graph.getModel().isEdge(t.cell)&&this.graph.keepEdgesInForeground||this.graph.getModel().isVertex(t.cell)&&this.graph.keepEdgesInBackground,i=e?this.lastForegroundHtmlNode||this.lastHtmlNode:this.lastHtmlNode,n=e?this.lastForegroundNode||this.lastNode:this.lastNode,l=this.graph.cellRenderer.insertStateAfter(t,n,i);e?(this.lastForegroundHtmlNode=l[1],this.lastForegroundNode=l[0]):(this.lastHtmlNode=l[1],this.lastNode=l[0])},mxGraphView.prototype.updateFixedTerminalPoints=function(t,e,i){this.updateFixedTerminalPoint(t,e,!0,this.graph.getConnectionConstraint(t,e,!0)),this.updateFixedTerminalPoint(t,i,!1,this.graph.getConnectionConstraint(t,i,!1))},mxGraphView.prototype.updateFixedTerminalPoint=function(t,e,i,n){t.setAbsoluteTerminalPoint(this.getFixedTerminalPoint(t,e,i,n),i)},mxGraphView.prototype.getFixedTerminalPoint=function(t,e,i,n){var l=null;if(null!=n&&(l=this.graph.getConnectionPoint(e,n)),null==l&&null==e){var o=this.scale,r=this.translate,s=t.origin;null!=(l=this.graph.getCellGeometry(t.cell).getTerminalPoint(i))&&(l=new mxPoint(o*(r.x+l.x+s.x),o*(r.y+l.y+s.y)))}return l},mxGraphView.prototype.updateBoundsFromStencil=function(t){var e=null;if(null!=t&&null!=t.shape&&null!=t.shape.stencil&&"fixed"==t.shape.stencil.aspect){e=mxRectangle.fromRectangle(t);var i=t.shape.stencil.computeAspect(t.style,t.x,t.y,t.width,t.height);t.setRect(i.x,i.y,t.shape.stencil.w0*i.width,t.shape.stencil.h0*i.height)}return e},mxGraphView.prototype.updatePoints=function(t,e,i,n){if(null!=t){var l=[];l.push(t.absolutePoints[0]);var o=this.getEdgeStyle(t,e,i,n);if(null!=o){var r=this.getTerminalPort(t,i,!0),s=this.getTerminalPort(t,n,!1),a=this.updateBoundsFromStencil(r),g=this.updateBoundsFromStencil(s);o(t,r,s,e,l),null!=a&&r.setRect(a.x,a.y,a.width,a.height),null!=g&&s.setRect(g.x,g.y,g.width,g.height)}else if(null!=e)for(var C=0;C<e.length;C++)if(null!=e[C]){var h=mxUtils.clone(e[C]);l.push(this.transformControlPoint(t,h))}var A=t.absolutePoints;l.push(A[A.length-1]),t.absolutePoints=l}},mxGraphView.prototype.transformControlPoint=function(t,e){if(null!=t&&null!=e){var i=t.origin;return new mxPoint(this.scale*(e.x+this.translate.x+i.x),this.scale*(e.y+this.translate.y+i.y))}return null},mxGraphView.prototype.isLoopStyleEnabled=function(t,e,i,n){var l=this.graph.getConnectionConstraint(t,i,!0),o=this.graph.getConnectionConstraint(t,n,!1);return(!mxUtils.getValue(t.style,mxConstants.STYLE_ORTHOGONAL_LOOP,!1)||!(null!=l&&null!=l.point||null!=o&&null!=o.point))&&(null!=i&&i==n)},mxGraphView.prototype.getEdgeStyle=function(t,e,i,n){var l=this.isLoopStyleEnabled(t,e,i,n)?mxUtils.getValue(t.style,mxConstants.STYLE_LOOP,this.graph.defaultLoopStyle):mxUtils.getValue(t.style,mxConstants.STYLE_NOEDGESTYLE,!1)?null:t.style[mxConstants.STYLE_EDGE];if("string"==typeof l){var o=mxStyleRegistry.getValue(l);null==o&&this.isAllowEval()&&(o=mxUtils.eval(l)),l=o}return"function"==typeof l?l:null},mxGraphView.prototype.updateFloatingTerminalPoints=function(t,e,i){var n=t.absolutePoints,l=n[0];null==n[n.length-1]&&null!=i&&this.updateFloatingTerminalPoint(t,i,e,!1),null==l&&null!=e&&this.updateFloatingTerminalPoint(t,e,i,!0)},mxGraphView.prototype.updateFloatingTerminalPoint=function(t,e,i,n){t.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint(t,e,i,n),n)},mxGraphView.prototype.getFloatingTerminalPoint=function(t,e,i,n){e=this.getTerminalPort(t,e,n);var l=this.getNextPoint(t,i,n),o=this.graph.isOrthogonal(t),r=mxUtils.toRadians(Number(e.style[mxConstants.STYLE_ROTATION]||"0")),s=new mxPoint(e.getCenterX(),e.getCenterY());if(0!=r){var a=Math.cos(-r),g=Math.sin(-r);l=mxUtils.getRotatedPoint(l,a,g,s)}var C=parseFloat(t.style[mxConstants.STYLE_PERIMETER_SPACING]||0);C+=parseFloat(t.style[n?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);var h=this.getPerimeterPoint(e,l,0==r&&o,C);if(0!=r){var a=Math.cos(r),g=Math.sin(r);h=mxUtils.getRotatedPoint(h,a,g,s)}return h},mxGraphView.prototype.getTerminalPort=function(t,e,i){var n=i?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT,l=mxUtils.getValue(t.style,n);if(null!=l){var o=this.getState(this.graph.getModel().getCell(l));null!=o&&(e=o)}return e},mxGraphView.prototype.getPerimeterPoint=function(t,e,i,n){var l=null;if(null!=t){var o=this.getPerimeterFunction(t);if(null!=o&&null!=e){var r=this.getPerimeterBounds(t,n);(r.width>0||r.height>0)&&(l=o(r,t,e,i))}null==l&&(l=this.getPoint(t))}return l},mxGraphView.prototype.getRoutingCenterX=function(t){var e=null!=t.style?parseFloat(t.style[mxConstants.STYLE_ROUTING_CENTER_X])||0:0;return t.getCenterX()+e*t.width},mxGraphView.prototype.getRoutingCenterY=function(t){var e=null!=t.style?parseFloat(t.style[mxConstants.STYLE_ROUTING_CENTER_Y])||0:0;return t.getCenterY()+e*t.height},mxGraphView.prototype.getPerimeterBounds=function(t,e){return e=null!=e?e:0,null!=t&&(e+=parseFloat(t.style[mxConstants.STYLE_PERIMETER_SPACING]||0)),t.getPerimeterBounds(e*this.scale)},mxGraphView.prototype.getPerimeterFunction=function(t){var e=t.style[mxConstants.STYLE_PERIMETER];if("string"==typeof e){var i=mxStyleRegistry.getValue(e);null==i&&this.isAllowEval()&&(i=mxUtils.eval(e)),e=i}return"function"==typeof e?e:null},mxGraphView.prototype.getNextPoint=function(t,e,i){var n=t.absolutePoints,l=null;if(null!=n&&n.length>=2){var o=n.length;l=n[i?Math.min(1,o-1):Math.max(0,o-2)]}return null==l&&null!=e&&(l=new mxPoint(e.getCenterX(),e.getCenterY())),l},mxGraphView.prototype.getVisibleTerminal=function(t,e){for(var i=this.graph.getModel(),n=i.getTerminal(t,e),l=n;null!=n&&n!=this.currentRoot;)this.graph.isCellVisible(l)&&!this.isCellCollapsed(n)||(l=n),n=i.getParent(n);return i.getParent(l)==i.getRoot()&&(l=null),l},mxGraphView.prototype.updateEdgeBounds=function(t){var e=t.absolutePoints,i=e[0],n=e[e.length-1];if(i.x!=n.x||i.y!=n.y){var l=n.x-i.x,o=n.y-i.y;t.terminalDistance=Math.sqrt(l*l+o*o)}else t.terminalDistance=0;var r=0,s=[],a=i;if(null!=a){for(var g=a.x,C=a.y,h=g,A=C,I=1;I<e.length;I++){var c=e[I];if(null!=c){var l=a.x-c.x,o=a.y-c.y,d=Math.sqrt(l*l+o*o);s.push(d),r+=d,a=c,g=Math.min(a.x,g),C=Math.min(a.y,C),h=Math.max(a.x,h),A=Math.max(a.y,A)}}t.length=r,t.segments=s;t.x=g,t.y=C,t.width=Math.max(1,h-g),t.height=Math.max(1,A-C)}},mxGraphView.prototype.getPoint=function(t,e){var i=t.getCenterX(),n=t.getCenterY();if(null==t.segments||null!=e&&!e.relative){if(null!=e){var l=e.offset;null!=l&&(i+=l.x,n+=l.y)}}else{for(var o=null!=e?e.x/2:0,r=t.absolutePoints.length,s=Math.round((o+.5)*t.length),a=t.segments[0],g=0,C=1;s>=Math.round(g+a)&&C<r-1;)g+=a,a=t.segments[C++];var h=0==a?0:(s-g)/a,A=t.absolutePoints[C-1],I=t.absolutePoints[C];if(null!=A&&null!=I){var c=0,d=0,u=0;null!=e&&(c=e.y,null!=(l=e.offset)&&(d=l.x,u=l.y));var p=I.x-A.x,m=I.y-A.y,x=0==a?0:m/a,v=0==a?0:p/a;i=A.x+p*h+(x*c+d)*this.scale,n=A.y+m*h-(v*c-u)*this.scale}}return new mxPoint(i,n)},mxGraphView.prototype.getRelativePoint=function(t,e,i){var n=this.graph.getModel().getGeometry(t.cell);if(null!=n){var l=t.absolutePoints.length;if(n.relative&&l>1){for(var o=t.length,r=t.segments,s=t.absolutePoints[0],a=t.absolutePoints[1],g=mxUtils.ptSegDistSq(s.x,s.y,a.x,a.y,e,i),C=0,h=0,A=0,I=2;I<l;I++){h+=r[I-2],a=t.absolutePoints[I];var c=mxUtils.ptSegDistSq(s.x,s.y,a.x,a.y,e,i);c<=g&&(g=c,C=I-1,A=h),s=a}var d=r[C];s=t.absolutePoints[C],a=t.absolutePoints[C+1];var u=s.x,p=s.y,m=a.x,x=a.y,v=e,y=i,f=u-m,b=p-x,w=0,E=(v=f-(v-=m))*f+(y=b-(y-=x))*b;w=E<=0?0:E*E/(f*f+b*b);var S=Math.sqrt(w);S>d&&(S=d);var T=Math.sqrt(mxUtils.ptSegDistSq(s.x,s.y,a.x,a.y,e,i));return-1==mxUtils.relativeCcw(s.x,s.y,a.x,a.y,e,i)&&(T=-T),new mxPoint((o/2-A-S)/o*-2,T/this.scale)}}return new mxPoint},mxGraphView.prototype.updateEdgeLabelOffset=function(t){var e=t.absolutePoints;if(t.absoluteOffset.x=t.getCenterX(),t.absoluteOffset.y=t.getCenterY(),null!=e&&e.length>0&&null!=t.segments){var i=this.graph.getCellGeometry(t.cell);if(i.relative){var n=this.getPoint(t,i);null!=n&&(t.absoluteOffset=n)}else{var l=e[0],o=e[e.length-1];if(null!=l&&null!=o){var r=o.x-l.x,s=o.y-l.y,a=0,g=0,C=i.offset;null!=C&&(a=C.x,g=C.y);var h=l.x+r/2+a*this.scale,A=l.y+s/2+g*this.scale;t.absoluteOffset.x=h,t.absoluteOffset.y=A}}}},mxGraphView.prototype.getState=function(t,e){e=e||!1;var i=null;return null!=t&&(i=this.states.get(t),e&&(null==i||this.updateStyle)&&this.graph.isCellVisible(t)&&(null==i?(i=this.createState(t),this.states.put(t,i)):i.style=this.graph.getCellStyle(t))),i},mxGraphView.prototype.isRendering=function(){return this.rendering},mxGraphView.prototype.setRendering=function(t){this.rendering=t},mxGraphView.prototype.isAllowEval=function(){return this.allowEval},mxGraphView.prototype.setAllowEval=function(t){this.allowEval=t},mxGraphView.prototype.getStates=function(){return this.states},mxGraphView.prototype.setStates=function(t){this.states=t},mxGraphView.prototype.getCellStates=function(t){if(null==t)return this.states;for(var e=[],i=0;i<t.length;i++){var n=this.getState(t[i]);null!=n&&e.push(n)}return e},mxGraphView.prototype.removeState=function(t){var e=null;return null!=t&&null!=(e=this.states.remove(t))&&(this.graph.cellRenderer.destroy(e),e.invalid=!0,e.destroy()),e},mxGraphView.prototype.createState=function(t){return new mxCellState(this,t,this.graph.getCellStyle(t))},mxGraphView.prototype.getCanvas=function(){return this.canvas},mxGraphView.prototype.getBackgroundPane=function(){return this.backgroundPane},mxGraphView.prototype.getDrawPane=function(){return this.drawPane},mxGraphView.prototype.getOverlayPane=function(){return this.overlayPane},mxGraphView.prototype.getDecoratorPane=function(){return this.decoratorPane},mxGraphView.prototype.isContainerEvent=function(t){var e=mxEvent.getSource(t);return e==this.graph.container||e.parentNode==this.backgroundPane||null!=e.parentNode&&e.parentNode.parentNode==this.backgroundPane||e==this.canvas.parentNode||e==this.canvas||e==this.backgroundPane||e==this.drawPane||e==this.overlayPane||e==this.decoratorPane},mxGraphView.prototype.isScrollEvent=function(t){var e=mxUtils.getOffset(this.graph.container),i=new mxPoint(t.clientX-e.x,t.clientY-e.y),n=this.graph.container.offsetWidth,l=this.graph.container.clientWidth;if(n>l&&i.x>l+2&&i.x<=n)return!0;var o=this.graph.container.offsetHeight,r=this.graph.container.clientHeight;return o>r&&i.y>r+2&&i.y<=o},mxGraphView.prototype.init=function(){this.installListeners();var t=this.graph;t.dialect==mxConstants.DIALECT_SVG?this.createSvg():t.dialect==mxConstants.DIALECT_VML?this.createVml():this.createHtml()},mxGraphView.prototype.installListeners=function(){var t=this.graph,e=t.container;if(null!=e){mxClient.IS_TOUCH&&(mxEvent.addListener(e,"gesturestart",mxUtils.bind(this,function(e){t.fireGestureEvent(e),mxEvent.consume(e)})),mxEvent.addListener(e,"gesturechange",mxUtils.bind(this,function(e){t.fireGestureEvent(e),mxEvent.consume(e)})),mxEvent.addListener(e,"gestureend",mxUtils.bind(this,function(e){t.fireGestureEvent(e),mxEvent.consume(e)}))),mxEvent.addGestureListeners(e,mxUtils.bind(this,function(e){!this.isContainerEvent(e)||(mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_GC||mxClient.IS_OP||mxClient.IS_SF)&&this.isScrollEvent(e)||t.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){this.isContainerEvent(e)&&t.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){this.isContainerEvent(e)&&t.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e))})),mxEvent.addListener(e,"dblclick",mxUtils.bind(this,function(e){this.isContainerEvent(e)&&t.dblClick(e)}));var i=function(i){var n=null;if(mxClient.IS_TOUCH){var l=mxEvent.getClientX(i),o=mxEvent.getClientY(i),r=mxUtils.convertPoint(e,l,o);n=t.view.getState(t.getCellAt(r.x,r.y))}return n};t.addMouseListener({mouseDown:function(e,i){t.popupMenuHandler.hideMenu()},mouseMove:function(){},mouseUp:function(){}}),this.moveHandler=mxUtils.bind(this,function(e){null!=t.tooltipHandler&&t.tooltipHandler.isHideOnHover()&&t.tooltipHandler.hide(),this.captureDocumentGesture&&t.isMouseDown&&null!=t.container&&!this.isContainerEvent(e)&&"none"!=t.container.style.display&&"hidden"!=t.container.style.visibility&&!mxEvent.isConsumed(e)&&t.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,i(e)))}),this.endHandler=mxUtils.bind(this,function(e){this.captureDocumentGesture&&t.isMouseDown&&null!=t.container&&!this.isContainerEvent(e)&&"none"!=t.container.style.display&&"hidden"!=t.container.style.visibility&&t.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e))}),mxEvent.addGestureListeners(document,null,this.moveHandler,this.endHandler)}},mxGraphView.prototype.createHtml=function(){var t=this.graph.container;if(null!=t&&(this.canvas=this.createHtmlPane("100%","100%"),this.backgroundPane=this.createHtmlPane("1px","1px"),this.drawPane=this.createHtmlPane("1px","1px"),this.overlayPane=this.createHtmlPane("1px","1px"),this.decoratorPane=this.createHtmlPane("1px","1px"),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),t.appendChild(this.canvas),this.updateContainerStyle(t),mxClient.IS_QUIRKS)){var e=mxUtils.bind(this,function(t){var e=this.getGraphBounds(),i=e.x+e.width+this.graph.border,n=e.y+e.height+this.graph.border;this.updateHtmlCanvasSize(i,n)});mxEvent.addListener(window,"resize",e)}},mxGraphView.prototype.updateHtmlCanvasSize=function(t,e){if(null!=this.graph.container){var i=this.graph.container.offsetWidth,n=this.graph.container.offsetHeight;this.canvas.style.width=i<t?t+"px":"100%",this.canvas.style.height=n<e?e+"px":"100%"}},mxGraphView.prototype.createHtmlPane=function(t,e){var i=document.createElement("DIV");return null!=t&&null!=e?(i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t,i.style.height=e):i.style.position="relative",i},mxGraphView.prototype.createVml=function(){var t=this.graph.container;if(null!=t){var e=t.offsetWidth,i=t.offsetHeight;this.canvas=this.createVmlPane(e,i),this.backgroundPane=this.createVmlPane(e,i),this.drawPane=this.createVmlPane(e,i),this.overlayPane=this.createVmlPane(e,i),this.decoratorPane=this.createVmlPane(e,i),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),t.appendChild(this.canvas)}},mxGraphView.prototype.createVmlPane=function(t,e){var i=document.createElement(mxClient.VML_PREFIX+":group");return i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t+"px",i.style.height=e+"px",i.setAttribute("coordsize",t+","+e),i.setAttribute("coordorigin","0,0"),i},mxGraphView.prototype.createSvg=function(){var t=this.graph.container;this.canvas=document.createElementNS(mxConstants.NS_SVG,"g"),this.backgroundPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.backgroundPane),this.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.drawPane),this.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.overlayPane),this.decoratorPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.decoratorPane);var e=document.createElementNS(mxConstants.NS_SVG,"svg");e.style.width="100%",e.style.height="100%",e.style.display="block",e.appendChild(this.canvas),null!=t&&(t.appendChild(e),this.updateContainerStyle(t))},mxGraphView.prototype.updateContainerStyle=function(t){var e=mxUtils.getCurrentStyle(t);null!=e&&"static"==e.position&&(t.style.position="relative"),mxClient.IS_POINTER&&(t.style.touchAction="none")},mxGraphView.prototype.destroy=function(){var t=null!=this.canvas?this.canvas.ownerSVGElement:null;null==t&&(t=this.canvas),null!=t&&null!=t.parentNode&&(this.clear(this.currentRoot,!0),mxEvent.removeGestureListeners(document,null,this.moveHandler,this.endHandler),mxEvent.release(this.graph.container),t.parentNode.removeChild(t),this.moveHandler=null,this.endHandler=null,this.canvas=null,this.backgroundPane=null,this.drawPane=null,this.overlayPane=null,this.decoratorPane=null)},mxCurrentRootChange.prototype.execute=function(){var t=this.view.currentRoot;this.view.currentRoot=this.previous,this.previous=t;var e=this.view.graph.getTranslateForRoot(this.view.currentRoot);null!=e&&(this.view.translate=new mxPoint(-e.x,-e.y)),this.isUp?(this.view.clear(this.view.currentRoot,!0),this.view.validate()):this.view.refresh();var i=this.isUp?mxEvent.UP:mxEvent.DOWN;this.view.fireEvent(new mxEventObject(i,"root",this.view.currentRoot,"previous",this.previous)),this.isUp=!this.isUp},
mxLoadResources&&mxResources.add(mxClient.basePath+"/resources/graph"),mxGraph.prototype=new mxEventSource,mxGraph.prototype.constructor=mxGraph,mxGraph.prototype.EMPTY_ARRAY=[],mxGraph.prototype.mouseListeners=null,mxGraph.prototype.isMouseDown=!1,mxGraph.prototype.model=null,mxGraph.prototype.view=null,mxGraph.prototype.stylesheet=null,mxGraph.prototype.selectionModel=null,mxGraph.prototype.cellEditor=null,mxGraph.prototype.cellRenderer=null,mxGraph.prototype.multiplicities=null,mxGraph.prototype.renderHint=null,mxGraph.prototype.dialect=null,mxGraph.prototype.gridSize=10,mxGraph.prototype.gridEnabled=!0,mxGraph.prototype.portsEnabled=!0,mxGraph.prototype.nativeDblClickEnabled=!0,mxGraph.prototype.doubleTapEnabled=!0,mxGraph.prototype.doubleTapTimeout=500,mxGraph.prototype.doubleTapTolerance=25,mxGraph.prototype.lastTouchY=0,mxGraph.prototype.lastTouchY=0,mxGraph.prototype.lastTouchTime=0,mxGraph.prototype.tapAndHoldEnabled=!0,mxGraph.prototype.tapAndHoldDelay=500,mxGraph.prototype.tapAndHoldInProgress=!1,mxGraph.prototype.tapAndHoldValid=!1,mxGraph.prototype.initialTouchX=0,mxGraph.prototype.initialTouchY=0,mxGraph.prototype.tolerance=4,mxGraph.prototype.defaultOverlap=.5,mxGraph.prototype.defaultParent=null,mxGraph.prototype.alternateEdgeStyle=null,mxGraph.prototype.backgroundImage=null,mxGraph.prototype.pageVisible=!1,mxGraph.prototype.pageBreaksVisible=!1,mxGraph.prototype.pageBreakColor="gray",mxGraph.prototype.pageBreakDashed=!0,mxGraph.prototype.minPageBreakDist=20,mxGraph.prototype.preferPageSize=!1,mxGraph.prototype.pageFormat=mxConstants.PAGE_FORMAT_A4_PORTRAIT,mxGraph.prototype.pageScale=1.5,mxGraph.prototype.enabled=!0,mxGraph.prototype.escapeEnabled=!0,mxGraph.prototype.invokesStopCellEditing=!0,mxGraph.prototype.enterStopsCellEditing=!1,mxGraph.prototype.useScrollbarsForPanning=!0,mxGraph.prototype.exportEnabled=!0,mxGraph.prototype.importEnabled=!0,mxGraph.prototype.cellsLocked=!1,mxGraph.prototype.cellsCloneable=!0,mxGraph.prototype.foldingEnabled=!0,mxGraph.prototype.cellsEditable=!0,mxGraph.prototype.cellsDeletable=!0,mxGraph.prototype.cellsMovable=!0,mxGraph.prototype.edgeLabelsMovable=!0,mxGraph.prototype.vertexLabelsMovable=!1,mxGraph.prototype.dropEnabled=!1,mxGraph.prototype.splitEnabled=!0,mxGraph.prototype.cellsResizable=!0,mxGraph.prototype.cellsBendable=!0,mxGraph.prototype.cellsSelectable=!0,mxGraph.prototype.cellsDisconnectable=!0,mxGraph.prototype.autoSizeCells=!1,mxGraph.prototype.autoSizeCellsOnAdd=!1,mxGraph.prototype.autoScroll=!0,mxGraph.prototype.ignoreScrollbars=!1,mxGraph.prototype.translateToScrollPosition=!1,mxGraph.prototype.timerAutoScroll=!1,mxGraph.prototype.allowAutoPanning=!1,mxGraph.prototype.autoExtend=!0,mxGraph.prototype.maximumGraphBounds=null,mxGraph.prototype.minimumGraphSize=null,mxGraph.prototype.minimumContainerSize=null,mxGraph.prototype.maximumContainerSize=null,mxGraph.prototype.resizeContainer=!1,mxGraph.prototype.border=0,mxGraph.prototype.keepEdgesInForeground=!1,mxGraph.prototype.keepEdgesInBackground=!1,mxGraph.prototype.allowNegativeCoordinates=!0,mxGraph.prototype.constrainChildren=!0,mxGraph.prototype.constrainRelativeChildren=!1,mxGraph.prototype.extendParents=!0,mxGraph.prototype.extendParentsOnAdd=!0,mxGraph.prototype.extendParentsOnMove=!1,mxGraph.prototype.recursiveResize=!1,mxGraph.prototype.collapseToPreferredSize=!0,mxGraph.prototype.zoomFactor=1.2,mxGraph.prototype.keepSelectionVisibleOnZoom=!1,mxGraph.prototype.centerZoom=!0,mxGraph.prototype.resetViewOnRootChange=!0,mxGraph.prototype.resetEdgesOnResize=!1,mxGraph.prototype.resetEdgesOnMove=!1,mxGraph.prototype.resetEdgesOnConnect=!0,mxGraph.prototype.allowLoops=!1,mxGraph.prototype.defaultLoopStyle=mxEdgeStyle.Loop,mxGraph.prototype.multigraph=!0,mxGraph.prototype.connectableEdges=!1,mxGraph.prototype.allowDanglingEdges=!0,mxGraph.prototype.cloneInvalidEdges=!1,mxGraph.prototype.disconnectOnMove=!0,mxGraph.prototype.labelsVisible=!0,mxGraph.prototype.htmlLabels=!1,mxGraph.prototype.swimlaneSelectionEnabled=!0,mxGraph.prototype.swimlaneNesting=!0,mxGraph.prototype.swimlaneIndicatorColorAttribute=mxConstants.STYLE_FILLCOLOR,mxGraph.prototype.imageBundles=null,mxGraph.prototype.minFitScale=.1,mxGraph.prototype.maxFitScale=8,mxGraph.prototype.panDx=0,mxGraph.prototype.panDy=0,mxGraph.prototype.collapsedImage=new mxImage(mxClient.imageBasePath+"/collapsed.gif",9,9),mxGraph.prototype.expandedImage=new mxImage(mxClient.imageBasePath+"/expanded.gif",9,9),mxGraph.prototype.warningImage=new mxImage(mxClient.imageBasePath+"/warning"+(mxClient.IS_MAC?".png":".gif"),16,16),mxGraph.prototype.alreadyConnectedResource="none"!=mxClient.language?"alreadyConnected":"",mxGraph.prototype.containsValidationErrorsResource="none"!=mxClient.language?"containsValidationErrors":"",mxGraph.prototype.collapseExpandResource="none"!=mxClient.language?"collapse-expand":"",mxGraph.prototype.init=function(t){this.container=t,this.cellEditor=this.createCellEditor(),this.view.init(),this.sizeDidChange(),mxEvent.addListener(t,"mouseleave",mxUtils.bind(this,function(){null!=this.tooltipHandler&&this.tooltipHandler.hide()})),mxClient.IS_IE&&(mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})),mxEvent.addListener(t,"selectstart",mxUtils.bind(this,function(t){return this.isEditing()||!this.isMouseDown&&!mxEvent.isShiftDown(t)}))),8==document.documentMode&&t.insertAdjacentHTML("beforeend",'<v:group style="DISPLAY: none;"></v:group>')},mxGraph.prototype.createHandlers=function(){this.tooltipHandler=this.createTooltipHandler(),this.tooltipHandler.setEnabled(!1),this.selectionCellsHandler=this.createSelectionCellsHandler(),this.connectionHandler=this.createConnectionHandler(),this.connectionHandler.setEnabled(!1),this.graphHandler=this.createGraphHandler(),this.panningHandler=this.createPanningHandler(),this.panningHandler.panningEnabled=!1,this.popupMenuHandler=this.createPopupMenuHandler()},mxGraph.prototype.createTooltipHandler=function(){return new mxTooltipHandler(this)},mxGraph.prototype.createSelectionCellsHandler=function(){return new mxSelectionCellsHandler(this)},mxGraph.prototype.createConnectionHandler=function(){return new mxConnectionHandler(this)},mxGraph.prototype.createGraphHandler=function(){return new mxGraphHandler(this)},mxGraph.prototype.createPanningHandler=function(){return new mxPanningHandler(this)},mxGraph.prototype.createPopupMenuHandler=function(){return new mxPopupMenuHandler(this)},mxGraph.prototype.createSelectionModel=function(){return new mxGraphSelectionModel(this)},mxGraph.prototype.createStylesheet=function(){return new mxStylesheet},mxGraph.prototype.createGraphView=function(){return new mxGraphView(this)},mxGraph.prototype.createCellRenderer=function(){return new mxCellRenderer},mxGraph.prototype.createCellEditor=function(){return new mxCellEditor(this)},mxGraph.prototype.getModel=function(){return this.model},mxGraph.prototype.getView=function(){return this.view},mxGraph.prototype.getStylesheet=function(){return this.stylesheet},mxGraph.prototype.setStylesheet=function(t){this.stylesheet=t},mxGraph.prototype.getSelectionModel=function(){return this.selectionModel},mxGraph.prototype.setSelectionModel=function(t){this.selectionModel=t},mxGraph.prototype.getSelectionCellsForChanges=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n.constructor!=mxRootChange){var l=null;n instanceof mxChildChange&&null==n.previous?l=n.child:null!=n.cell&&n.cell instanceof mxCell&&(l=n.cell),null!=l&&mxUtils.indexOf(e,l)<0&&e.push(l)}}return this.getModel().getTopmostCells(e)},mxGraph.prototype.graphModelChanged=function(t){for(var e=0;e<t.length;e++)this.processChange(t[e]);this.removeSelectionCells(this.getRemovedCellsForChanges(t)),this.view.validate(),this.sizeDidChange()},mxGraph.prototype.getRemovedCellsForChanges=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n instanceof mxRootChange)break;n instanceof mxChildChange?null!=n.previous&&null==n.parent&&(e=e.concat(this.model.getDescendants(n.child))):n instanceof mxVisibleChange&&(e=e.concat(this.model.getDescendants(n.cell)))}return e},mxGraph.prototype.processChange=function(t){if(t instanceof mxRootChange)this.clearSelection(),this.removeStateForCell(t.previous),this.resetViewOnRootChange&&(this.view.scale=1,this.view.translate.x=0,this.view.translate.y=0),this.fireEvent(new mxEventObject(mxEvent.ROOT));else if(t instanceof mxChildChange){var e=this.model.getParent(t.child);this.view.invalidate(t.child,!0,!0),(null==e||this.isCellCollapsed(e))&&(this.view.invalidate(t.child,!0,!0),this.removeStateForCell(t.child),this.view.currentRoot==t.child&&this.home()),e!=t.previous&&(null!=e&&this.view.invalidate(e,!1,!1),null!=t.previous&&this.view.invalidate(t.previous,!1,!1))}else if(t instanceof mxTerminalChange||t instanceof mxGeometryChange)(t instanceof mxTerminalChange||null==t.previous&&null!=t.geometry||null!=t.previous&&!t.previous.equals(t.geometry))&&this.view.invalidate(t.cell);else if(t instanceof mxValueChange)this.view.invalidate(t.cell,!1,!1);else if(t instanceof mxStyleChange){this.view.invalidate(t.cell,!0,!0);var i=this.view.getState(t.cell);null!=i&&(i.style=null)}else null!=t.cell&&t.cell instanceof mxCell&&this.removeStateForCell(t.cell)},mxGraph.prototype.removeStateForCell=function(t){for(var e=this.model.getChildCount(t),i=0;i<e;i++)this.removeStateForCell(this.model.getChildAt(t,i));this.view.invalidate(t,!1,!0),this.view.removeState(t)},mxGraph.prototype.addCellOverlay=function(t,e){null==t.overlays&&(t.overlays=[]),t.overlays.push(e);var i=this.view.getState(t);return null!=i&&this.cellRenderer.redraw(i),this.fireEvent(new mxEventObject(mxEvent.ADD_OVERLAY,"cell",t,"overlay",e)),e},mxGraph.prototype.getCellOverlays=function(t){return t.overlays},mxGraph.prototype.removeCellOverlay=function(t,e){if(null==e)this.removeCellOverlays(t);else{var i=mxUtils.indexOf(t.overlays,e);if(i>=0){t.overlays.splice(i,1),0==t.overlays.length&&(t.overlays=null);var n=this.view.getState(t);null!=n&&this.cellRenderer.redraw(n),this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",t,"overlay",e))}else e=null}return e},mxGraph.prototype.removeCellOverlays=function(t){var e=t.overlays;if(null!=e){t.overlays=null;var i=this.view.getState(t);null!=i&&this.cellRenderer.redraw(i);for(var n=0;n<e.length;n++)this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",t,"overlay",e[n]))}return e},mxGraph.prototype.clearCellOverlays=function(t){t=null!=t?t:this.model.getRoot(),this.removeCellOverlays(t);for(var e=this.model.getChildCount(t),i=0;i<e;i++){var n=this.model.getChildAt(t,i);this.clearCellOverlays(n)}},mxGraph.prototype.setCellWarning=function(t,e,i,n){if(null!=e&&e.length>0){var l=new mxCellOverlay(i=null!=i?i:this.warningImage,"<font color=red>"+e+"</font>");return n&&l.addListener(mxEvent.CLICK,mxUtils.bind(this,function(e,i){this.isEnabled()&&this.setSelectionCell(t)})),this.addCellOverlay(t,l)}return this.removeCellOverlays(t),null},mxGraph.prototype.startEditing=function(t){this.startEditingAtCell(null,t)},mxGraph.prototype.startEditingAtCell=function(t,e){null!=e&&mxEvent.isMultiTouchEvent(e)||(null==t&&(null==(t=this.getSelectionCell())||this.isCellEditable(t)||(t=null)),null!=t&&(this.fireEvent(new mxEventObject(mxEvent.START_EDITING,"cell",t,"event",e)),this.cellEditor.startEditing(t,e),this.fireEvent(new mxEventObject(mxEvent.EDITING_STARTED,"cell",t,"event",e))))},mxGraph.prototype.getEditingValue=function(t,e){return this.convertValueToString(t)},mxGraph.prototype.stopEditing=function(t){this.cellEditor.stopEditing(t),this.fireEvent(new mxEventObject(mxEvent.EDITING_STOPPED,"cancel",t))},mxGraph.prototype.labelChanged=function(t,e,i){this.model.beginUpdate();try{var n=t.value;this.cellLabelChanged(t,e,this.isAutoSizeCell(t)),this.fireEvent(new mxEventObject(mxEvent.LABEL_CHANGED,"cell",t,"value",e,"old",n,"event",i))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellLabelChanged=function(t,e,i){this.model.beginUpdate();try{this.model.setValue(t,e),i&&this.cellSizeUpdated(t,!1)}finally{this.model.endUpdate()}},mxGraph.prototype.escape=function(t){this.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",t))},mxGraph.prototype.click=function(t){var e=t.getEvent(),i=t.getCell(),n=new mxEventObject(mxEvent.CLICK,"event",e,"cell",i);if(t.isConsumed()&&n.consume(),this.fireEvent(n),this.isEnabled()&&!mxEvent.isConsumed(e)&&!n.isConsumed())if(null!=i)this.selectCellForEvent(i,e);else{var l=null;this.isSwimlaneSelectionEnabled()&&(l=this.getSwimlaneAt(t.getGraphX(),t.getGraphY())),null!=l?this.selectCellForEvent(l,e):this.isToggleEvent(e)||this.clearSelection()}},mxGraph.prototype.dblClick=function(t,e){var i=new mxEventObject(mxEvent.DOUBLE_CLICK,"event",t,"cell",e);this.fireEvent(i),!this.isEnabled()||mxEvent.isConsumed(t)||i.isConsumed()||null==e||!this.isCellEditable(e)||this.isEditing(e)||(this.startEditingAtCell(e,t),mxEvent.consume(t))},mxGraph.prototype.tapAndHold=function(t){var e=t.getEvent(),i=new mxEventObject(mxEvent.TAP_AND_HOLD,"event",e,"cell",t.getCell());if(this.fireEvent(i),i.isConsumed()&&(this.panningHandler.panningTrigger=!1),this.isEnabled()&&!mxEvent.isConsumed(e)&&!i.isConsumed()&&this.connectionHandler.isEnabled()){var n=this.view.getState(this.connectionHandler.marker.getCell(t));null!=n&&(this.connectionHandler.marker.currentColor=this.connectionHandler.marker.validColor,this.connectionHandler.marker.markedState=n,this.connectionHandler.marker.mark(),this.connectionHandler.first=new mxPoint(t.getGraphX(),t.getGraphY()),this.connectionHandler.edgeState=this.connectionHandler.createEdgeState(t),this.connectionHandler.previous=n,this.connectionHandler.fireEvent(new mxEventObject(mxEvent.START,"state",this.connectionHandler.previous)))}},mxGraph.prototype.scrollPointToVisible=function(t,e,i,n){if(this.timerAutoScroll||!this.ignoreScrollbars&&!mxUtils.hasScrollbars(this.container))this.allowAutoPanning&&!this.panningHandler.isActive()&&(null==this.panningManager&&(this.panningManager=this.createPanningManager()),this.panningManager.panTo(t+this.panDx,e+this.panDy));else{var l=this.container;if(n=null!=n?n:20,t>=l.scrollLeft&&e>=l.scrollTop&&t<=l.scrollLeft+l.clientWidth&&e<=l.scrollTop+l.clientHeight){var o=l.scrollLeft+l.clientWidth-t;if(o<n){g=l.scrollLeft;if(l.scrollLeft+=n-o,i&&g==l.scrollLeft){if(this.dialect==mxConstants.DIALECT_SVG){var r=this.view.getDrawPane().ownerSVGElement,s=this.container.scrollWidth+n-o;r.style.width=s+"px"}else{s=Math.max(l.clientWidth,l.scrollWidth)+n-o;(h=this.view.getCanvas()).style.width=s+"px"}l.scrollLeft+=n-o}}else(o=t-l.scrollLeft)<n&&(l.scrollLeft-=n-o);var a=l.scrollTop+l.clientHeight-e;if(a<n){var g=l.scrollTop;if(l.scrollTop+=n-a,g==l.scrollTop&&i){if(this.dialect==mxConstants.DIALECT_SVG){var r=this.view.getDrawPane().ownerSVGElement,C=this.container.scrollHeight+n-a;r.style.height=C+"px"}else{var C=Math.max(l.clientHeight,l.scrollHeight)+n-a,h=this.view.getCanvas();h.style.height=C+"px"}l.scrollTop+=n-a}}else(a=e-l.scrollTop)<n&&(l.scrollTop-=n-a)}}},mxGraph.prototype.createPanningManager=function(){return new mxPanningManager(this)},mxGraph.prototype.getBorderSizes=function(){var t=mxUtils.getCurrentStyle(this.container);return new mxRectangle(mxUtils.parseCssNumber(t.paddingLeft)+("none"!=t.borderLeftStyle?mxUtils.parseCssNumber(t.borderLeftWidth):0),mxUtils.parseCssNumber(t.paddingTop)+("none"!=t.borderTopStyle?mxUtils.parseCssNumber(t.borderTopWidth):0),mxUtils.parseCssNumber(t.paddingRight)+("none"!=t.borderRightStyle?mxUtils.parseCssNumber(t.borderRightWidth):0),mxUtils.parseCssNumber(t.paddingBottom)+("none"!=t.borderBottomStyle?mxUtils.parseCssNumber(t.borderBottomWidth):0))},mxGraph.prototype.getPreferredPageSize=function(t,e,i){var n=this.view.scale,l=this.view.translate,o=this.pageFormat,r=n*this.pageScale,s=new mxRectangle(0,0,o.width*r,o.height*r),a=this.pageBreaksVisible?Math.ceil(e/s.width):1,g=this.pageBreaksVisible?Math.ceil(i/s.height):1;return new mxRectangle(0,0,a*s.width+2+l.x/n,g*s.height+2+l.y/n)},mxGraph.prototype.fit=function(t,e,i,n,l,o,r,s){if(null!=this.container){t=null!=t?t:this.getBorder(),e=null!=e&&e,i=null!=i?i:0,n=null==n||n,l=null!=l&&l,o=null!=o&&o,r=null!=r&&r,s=null==s||s;var a=this.getBorderSizes(),g=this.container.clientWidth-a.x-a.width-1,C=this.container.clientHeight-a.y-a.height-1,h=this.view.getGraphBounds();if(h.width>0&&h.height>0){e&&null!=h.x&&null!=h.y&&((h=h.clone()).width+=h.x,h.height+=h.y,h.x=0,h.y=0);var A=this.view.scale,I=h.width/A,c=h.height/A;null!=this.backgroundImage&&(I=Math.max(I,this.backgroundImage.width-h.x/A),c=Math.max(c,this.backgroundImage.height-h.y/A));var d=(e?t:2*t)+2*i;g-=d,C-=d;var u=l?C/c:o?g/I:Math.min(g/I,C/c);if(!s&&g>=I&&C>=c&&(u=A),null!=this.minFitScale&&(u=Math.max(u,this.minFitScale)),null!=this.maxFitScale&&(u=Math.min(u,this.maxFitScale)),!n)return u;if(e)this.view.scale!=u&&this.view.setScale(u);else if(mxUtils.hasScrollbars(this.container)){this.view.setScale(u);var p=this.getGraphBounds();null!=p.x&&(this.container.scrollLeft=p.x-i-(r?(g-p.width)/2:0)),null!=p.y&&(this.container.scrollTop=p.y-i-(r?(C-p.height)/2:0))}else{var m=null!=h.x?Math.floor(this.view.translate.x-h.x/A+t/u+i/2):t,x=null!=h.y?Math.floor(this.view.translate.y-h.y/A+t/u+i/2):t;this.view.scaleAndTranslate(u,m,x)}}}return this.view.scale},mxGraph.prototype.sizeDidChange=function(){var t=this.getGraphBounds();if(null!=this.container){var e=this.getBorder(),i=Math.max(0,t.x+t.width+e),n=Math.max(0,t.y+t.height+e);if(null!=this.minimumContainerSize&&(i=Math.max(i,this.minimumContainerSize.width),n=Math.max(n,this.minimumContainerSize.height)),this.resizeContainer&&this.doResizeContainer(i,n),this.preferPageSize||!mxClient.IS_IE&&this.pageVisible){var l=this.getPreferredPageSize(t,i,n);null!=l&&(i=l.width*this.view.scale,n=l.height*this.view.scale)}if(null!=this.minimumGraphSize&&(i=Math.max(i,this.minimumGraphSize.width*this.view.scale),n=Math.max(n,this.minimumGraphSize.height*this.view.scale)),i=Math.ceil(i),n=Math.ceil(n),this.dialect==mxConstants.DIALECT_SVG){var o=this.view.getDrawPane().ownerSVGElement;o.style.minWidth=Math.max(1,i)+"px",o.style.minHeight=Math.max(1,n)+"px",o.style.width="100%",o.style.height="100%"}else mxClient.IS_QUIRKS?this.view.updateHtmlCanvasSize(Math.max(1,i),Math.max(1,n)):(this.view.canvas.style.minWidth=Math.max(1,i)+"px",this.view.canvas.style.minHeight=Math.max(1,n)+"px");this.updatePageBreaks(this.pageBreaksVisible,i,n)}this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",t))},mxGraph.prototype.doResizeContainer=function(t,e){null!=this.maximumContainerSize&&(t=Math.min(this.maximumContainerSize.width,t),e=Math.min(this.maximumContainerSize.height,e)),this.container.style.width=Math.ceil(t)+"px",this.container.style.height=Math.ceil(e)+"px"},mxGraph.prototype.updatePageBreaks=function(t,e,i){var n=this.view.scale,l=this.view.translate,o=this.pageFormat,r=n*this.pageScale,s=new mxRectangle(0,0,o.width*r,o.height*r),a=mxRectangle.fromRectangle(this.getGraphBounds());s.x=Math.floor((a.x-l.x*n)/s.width)*s.width+l.x*n,s.y=Math.floor((a.y-l.y*n)/s.height)*s.height+l.y*n,a.width=Math.ceil((a.width+(a.x-s.x))/s.width)*s.width,a.height=Math.ceil((a.height+(a.y-s.y))/s.height)*s.height;var g=(t=t&&Math.min(s.width,s.height)>this.minPageBreakDist)?Math.ceil(a.width/s.width)+1:0,C=t?Math.ceil(a.height/s.height)+1:0,h=(g-1)*s.width,A=(C-1)*s.height;null==this.horizontalPageBreaks&&g>0&&(this.horizontalPageBreaks=[]),null==this.verticalPageBreaks&&C>0&&(this.verticalPageBreaks=[]);var I=mxUtils.bind(this,function(t){if(null!=t){for(var e=t==this.horizontalPageBreaks?g:C,i=0;i<=e;i++){var n=t==this.horizontalPageBreaks?[new mxPoint(s.x+i*s.width,s.y),new mxPoint(s.x+i*s.width,s.y+A)]:[new mxPoint(s.x,s.y+i*s.height),new mxPoint(s.x+h,s.y+i*s.height)];if(null!=t[i])t[i].points=n,t[i].redraw();else{var l=new mxPolyline(n,this.pageBreakColor);l.dialect=this.dialect,l.pointerEvents=!1,l.isDashed=this.pageBreakDashed,l.init(this.view.backgroundPane),l.redraw(),t[i]=l}}for(i=e;i<t.length;i++)t[i].destroy();t.splice(e,t.length-e)}});I(this.horizontalPageBreaks),I(this.verticalPageBreaks)},mxGraph.prototype.getCellStyle=function(t){var e=this.model.getStyle(t),i=null;return i=this.model.isEdge(t)?this.stylesheet.getDefaultEdgeStyle():this.stylesheet.getDefaultVertexStyle(),null!=e&&(i=this.postProcessCellStyle(this.stylesheet.getCellStyle(e,i))),null==i&&(i=mxGraph.prototype.EMPTY_ARRAY),i},mxGraph.prototype.postProcessCellStyle=function(t){if(null!=t){var e=t[mxConstants.STYLE_IMAGE],i=this.getImageFromBundles(e);if(null!=i?t[mxConstants.STYLE_IMAGE]=i:i=e,null!=i&&"data:image/"==i.substring(0,11)){if("data:image/svg+xml,<"==i.substring(0,20))i=i.substring(0,19)+encodeURIComponent(i.substring(19));else if("data:image/svg+xml,%3C"!=i.substring(0,22)){var n=i.indexOf(",");n>0&&";base64,"!=i.substring(n-7,n+1)&&(i=i.substring(0,n)+";base64,"+i.substring(n+1))}t[mxConstants.STYLE_IMAGE]=i}}return t},mxGraph.prototype.setCellStyle=function(t,e){if(null!=(e=e||this.getSelectionCells())){this.model.beginUpdate();try{for(var i=0;i<e.length;i++)this.model.setStyle(e[i],t)}finally{this.model.endUpdate()}}},mxGraph.prototype.toggleCellStyle=function(t,e,i){return i=i||this.getSelectionCell(),this.toggleCellStyles(t,e,[i])},mxGraph.prototype.toggleCellStyles=function(t,e,i){e=null!=e&&e;var n=null;if(null!=(i=i||this.getSelectionCells())&&i.length>0){var l=this.view.getState(i[0]),o=null!=l?l.style:this.getCellStyle(i[0]);null!=o&&(n=mxUtils.getValue(o,t,e)?0:1,this.setCellStyles(t,n,i))}return n},mxGraph.prototype.setCellStyles=function(t,e,i){i=i||this.getSelectionCells(),mxUtils.setCellStyles(this.model,i,t,e)},mxGraph.prototype.toggleCellStyleFlags=function(t,e,i){this.setCellStyleFlags(t,e,null,i)},mxGraph.prototype.setCellStyleFlags=function(t,e,i,n){if(null!=(n=n||this.getSelectionCells())&&n.length>0){if(null==i){var l=this.view.getState(n[0]),o=null!=l?l.style:this.getCellStyle(n[0]);null!=o&&(i=!((parseInt(o[t]||0)&e)==e))}mxUtils.setCellStyleFlags(this.model,n,t,e,i)}},mxGraph.prototype.alignCells=function(t,e,i){if(null==e&&(e=this.getSelectionCells()),null!=e&&e.length>1){if(null==i)for(l=0;l<e.length;l++)if(null!=(o=this.view.getState(e[l]))&&!this.model.isEdge(e[l]))if(null==i){if(t==mxConstants.ALIGN_CENTER){i=o.x+o.width/2;break}if(t==mxConstants.ALIGN_RIGHT)i=o.x+o.width;else if(t==mxConstants.ALIGN_TOP)i=o.y;else{if(t==mxConstants.ALIGN_MIDDLE){i=o.y+o.height/2;break}i=t==mxConstants.ALIGN_BOTTOM?o.y+o.height:o.x}}else i=t==mxConstants.ALIGN_RIGHT?Math.max(i,o.x+o.width):t==mxConstants.ALIGN_TOP?Math.min(i,o.y):t==mxConstants.ALIGN_BOTTOM?Math.max(i,o.y+o.height):Math.min(i,o.x);if(null!=i){var n=this.view.scale;this.model.beginUpdate();try{for(var l=0;l<e.length;l++){var o=this.view.getState(e[l]);if(null!=o){var r=this.getCellGeometry(e[l]);null==r||this.model.isEdge(e[l])||(r=r.clone(),t==mxConstants.ALIGN_CENTER?r.x+=(i-o.x-o.width/2)/n:t==mxConstants.ALIGN_RIGHT?r.x+=(i-o.x-o.width)/n:t==mxConstants.ALIGN_TOP?r.y+=(i-o.y)/n:t==mxConstants.ALIGN_MIDDLE?r.y+=(i-o.y-o.height/2)/n:t==mxConstants.ALIGN_BOTTOM?r.y+=(i-o.y-o.height)/n:r.x+=(i-o.x)/n,this.resizeCell(e[l],r))}}this.fireEvent(new mxEventObject(mxEvent.ALIGN_CELLS,"align",t,"cells",e))}finally{this.model.endUpdate()}}}return e},mxGraph.prototype.flipEdge=function(t){if(null!=t&&null!=this.alternateEdgeStyle){this.model.beginUpdate();try{var e=this.model.getStyle(t);null==e||0==e.length?this.model.setStyle(t,this.alternateEdgeStyle):this.model.setStyle(t,null),this.resetEdge(t),this.fireEvent(new mxEventObject(mxEvent.FLIP_EDGE,"edge",t))}finally{this.model.endUpdate()}}return t},mxGraph.prototype.addImageBundle=function(t){this.imageBundles.push(t)},mxGraph.prototype.removeImageBundle=function(t){for(var e=[],i=0;i<this.imageBundles.length;i++)this.imageBundles[i]!=t&&e.push(this.imageBundles[i]);this.imageBundles=e},mxGraph.prototype.getImageFromBundles=function(t){if(null!=t)for(var e=0;e<this.imageBundles.length;e++){var i=this.imageBundles[e].getImage(t);if(null!=i)return i}return null},mxGraph.prototype.orderCells=function(t,e){null==e&&(e=mxUtils.sortCells(this.getSelectionCells(),!0)),this.model.beginUpdate();try{this.cellsOrdered(e,t),this.fireEvent(new mxEventObject(mxEvent.ORDER_CELLS,"back",t,"cells",e))}finally{this.model.endUpdate()}return e},mxGraph.prototype.cellsOrdered=function(t,e){if(null!=t){this.model.beginUpdate();try{for(var i=0;i<t.length;i++){var n=this.model.getParent(t[i]);e?this.model.add(n,t[i],i):this.model.add(n,t[i],this.model.getChildCount(n)-1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ORDERED,"back",e,"cells",t))}finally{this.model.endUpdate()}}},mxGraph.prototype.groupCells=function(t,e,i){null==i&&(i=mxUtils.sortCells(this.getSelectionCells(),!0)),i=this.getCellsForGroup(i),null==t&&(t=this.createGroupCell(i));var n=this.getBoundsForGroup(t,i,e);if(i.length>0&&null!=n){var l=this.model.getParent(t);null==l&&(l=this.model.getParent(i[0])),this.model.beginUpdate();try{null==this.getCellGeometry(t)&&this.model.setGeometry(t,new mxGeometry);var o=this.model.getChildCount(l);this.cellsAdded([t],l,o,null,null,!1),o=this.model.getChildCount(t),this.cellsAdded(i,t,o,null,null,!1,!1),this.cellsMoved(i,-n.x,-n.y,!1,!0),this.cellsResized([t],[n],!1),this.fireEvent(new mxEventObject(mxEvent.GROUP_CELLS,"group",t,"border",e,"cells",i))}finally{this.model.endUpdate()}}return t},mxGraph.prototype.getCellsForGroup=function(t){var e=[];if(null!=t&&t.length>0){var i=this.model.getParent(t[0]);e.push(t[0]);for(var n=1;n<t.length;n++)this.model.getParent(t[n])==i&&e.push(t[n])}return e},mxGraph.prototype.getBoundsForGroup=function(t,e,i){var n=this.getBoundingBoxFromGeometry(e,!0);if(null!=n){if(this.isSwimlane(t)){var l=this.getStartSize(t);n.x-=l.width,n.y-=l.height,n.width+=l.width,n.height+=l.height}null!=i&&(n.x-=i,n.y-=i,n.width+=2*i,n.height+=2*i)}return n},mxGraph.prototype.createGroupCell=function(t){var e=new mxCell("");return e.setVertex(!0),e.setConnectable(!1),e},mxGraph.prototype.ungroupCells=function(t){var e=[];if(null==t){t=this.getSelectionCells();for(var i=[],n=0;n<t.length;n++)this.model.getChildCount(t[n])>0&&i.push(t[n]);t=i}if(null!=t&&t.length>0){this.model.beginUpdate();try{for(n=0;n<t.length;n++){var l=this.model.getChildren(t[n]);if(null!=l&&l.length>0){l=l.slice();var o=this.model.getParent(t[n]),r=this.model.getChildCount(o);this.cellsAdded(l,o,r,null,null,!0),e=e.concat(l)}}this.removeCellsAfterUngroup(t),this.fireEvent(new mxEventObject(mxEvent.UNGROUP_CELLS,"cells",t))}finally{this.model.endUpdate()}}return e},mxGraph.prototype.removeCellsAfterUngroup=function(t){this.cellsRemoved(this.addAllEdges(t))},mxGraph.prototype.removeCellsFromParent=function(t){null==t&&(t=this.getSelectionCells()),this.model.beginUpdate();try{var e=this.getDefaultParent(),i=this.model.getChildCount(e);this.cellsAdded(t,e,i,null,null,!0),this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS_FROM_PARENT,"cells",t))}finally{this.model.endUpdate()}return t},mxGraph.prototype.updateGroupBounds=function(t,e,i,n,l,o,r){null==t&&(t=this.getSelectionCells()),e=null!=e?e:0,i=null!=i&&i,n=null!=n?n:0,l=null!=l?l:0,o=null!=o?o:0,r=null!=r?r:0,this.model.beginUpdate();try{for(var s=t.length-1;s>=0;s--){var a=this.getCellGeometry(t[s]);if(null!=a){var g=this.getChildCells(t[s]);if(null!=g&&g.length>0){var C=this.getBoundingBoxFromGeometry(g,!0);if(null!=C&&C.width>0&&C.height>0){var h=0,A=0;if(this.isSwimlane(t[s])){var I=this.getStartSize(t[s]);h=I.width,A=I.height}a=a.clone(),i&&(a.x=Math.round(a.x+C.x-e-h-r),a.y=Math.round(a.y+C.y-e-A-n)),a.width=Math.round(C.width+2*e+h+r+l),a.height=Math.round(C.height+2*e+A+n+o),this.model.setGeometry(t[s],a),this.moveCells(g,e+h-C.x+r,e+A-C.y+n)}}}}}finally{this.model.endUpdate()}return t},mxGraph.prototype.getBoundingBox=function(t){var e=null;if(null!=t&&t.length>0)for(var i=0;i<t.length;i++)if(this.model.isVertex(t[i])||this.model.isEdge(t[i])){var n=this.view.getBoundingBox(this.view.getState(t[i]),!0);null!=n&&(null==e?e=mxRectangle.fromRectangle(n):e.add(n))}return e},mxGraph.prototype.cloneCells=function(t,e,i){e=null==e||e;var n=null;if(null!=t){for(var l=new mxDictionary,o=[],r=0;r<t.length;r++)l.put(t[r],!0),o.push(t[r]);if(o.length>0){var s=this.view.scale,a=this.view.translate;n=this.model.cloneCells(t,!0,i);for(r=0;r<t.length;r++)if(!e&&this.model.isEdge(n[r])&&null!=this.getEdgeValidationError(n[r],this.model.getTerminal(n[r],!0),this.model.getTerminal(n[r],!1)))n[r]=null;else{var g=this.model.getGeometry(n[r]);if(null!=g){var C=this.view.getState(t[r]),h=this.view.getState(this.model.getParent(t[r]));if(null!=C&&null!=h){var A=h.origin.x,I=h.origin.y;if(this.model.isEdge(n[r])){for(var c=C.absolutePoints,d=this.model.getTerminal(t[r],!0);null!=d&&!l.get(d);)d=this.model.getParent(d);null==d&&g.setTerminalPoint(new mxPoint(c[0].x/s-a.x,c[0].y/s-a.y),!0);for(var u=this.model.getTerminal(t[r],!1);null!=u&&!l.get(u);)u=this.model.getParent(u);if(null==u){var p=c.length-1;g.setTerminalPoint(new mxPoint(c[p].x/s-a.x,c[p].y/s-a.y),!1)}var m=g.points;if(null!=m)for(var x=0;x<m.length;x++)m[x].x+=A,m[x].y+=I}else g.translate(A,I)}}}}else n=[]}return n},mxGraph.prototype.insertVertex=function(t,e,i,n,l,o,r,s,a){var g=this.createVertex(t,e,i,n,l,o,r,s,a);return this.addCell(g,t)},mxGraph.prototype.createVertex=function(t,e,i,n,l,o,r,s,a){var g=new mxGeometry(n,l,o,r);g.relative=null!=a&&a;var C=new mxCell(i,g,s);return C.setId(e),C.setVertex(!0),C.setConnectable(!0),C},mxGraph.prototype.insertEdge=function(t,e,i,n,l,o){var r=this.createEdge(t,e,i,n,l,o);return this.addEdge(r,t,n,l)},mxGraph.prototype.createEdge=function(t,e,i,n,l,o){var r=new mxCell(i,new mxGeometry,o);return r.setId(e),r.setEdge(!0),r.geometry.relative=!0,r},mxGraph.prototype.addEdge=function(t,e,i,n,l){return this.addCell(t,e,l,i,n)},mxGraph.prototype.addCell=function(t,e,i,n,l){return this.addCells([t],e,i,n,l)[0]},mxGraph.prototype.addCells=function(t,e,i,n,l){null==e&&(e=this.getDefaultParent()),null==i&&(i=this.model.getChildCount(e)),this.model.beginUpdate();try{this.cellsAdded(t,e,i,n,l,!1,!0),this.fireEvent(new mxEventObject(mxEvent.ADD_CELLS,"cells",t,"parent",e,"index",i,"source",n,"target",l))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellsAdded=function(t,e,i,n,l,o,r){if(null!=t&&null!=e&&null!=i){this.model.beginUpdate();try{for(var s=o?this.view.getState(e):null,a=null!=s?s.origin:null,g=new mxPoint(0,0),C=0;C<t.length;C++)if(null==t[C])i--;else{var h=this.model.getParent(t[C]);if(null!=a&&t[C]!=e&&e!=h){var A=this.view.getState(h),I=null!=A?A.origin:g,c=this.model.getGeometry(t[C]);if(null!=c){var d=I.x-a.x,u=I.y-a.y;(c=c.clone()).translate(d,u),c.relative||!this.model.isVertex(t[C])||this.isAllowNegativeCoordinates()||(c.x=Math.max(0,c.x),c.y=Math.max(0,c.y)),this.model.setGeometry(t[C],c)}}e==h&&i+C>this.model.getChildCount(e)&&i--,this.model.add(e,t[C],i+C),this.autoSizeCellsOnAdd&&this.autoSizeCell(t[C],!0),this.isExtendParentsOnAdd(t[C])&&this.isExtendParent(t[C])&&this.extendParent(t[C]),(null==r||r)&&this.constrainChild(t[C]),null!=n&&this.cellConnected(t[C],n,!0),null!=l&&this.cellConnected(t[C],l,!1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ADDED,"cells",t,"parent",e,"index",i,"source",n,"target",l,"absolute",o))}finally{this.model.endUpdate()}}},mxGraph.prototype.autoSizeCell=function(t,e){if(e=null==e||e)for(var i=this.model.getChildCount(t),n=0;n<i;n++)this.autoSizeCell(this.model.getChildAt(t,n));this.getModel().isVertex(t)&&this.isAutoSizeCell(t)&&this.updateCellSize(t)},mxGraph.prototype.removeCells=function(t,e){e=null==e||e,null==t&&(t=this.getDeletableCells(this.getSelectionCells())),e&&(t=this.getDeletableCells(this.addAllEdges(t))),this.model.beginUpdate();try{this.cellsRemoved(t),this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS,"cells",t,"includeEdges",e))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellsRemoved=function(t){if(null!=t&&t.length>0){var e=this.view.scale,i=this.view.translate;this.model.beginUpdate();try{for(var n=new mxDictionary,l=0;l<t.length;l++)n.put(t[l],!0);for(l=0;l<t.length;l++){for(var o=this.getAllEdges([t[l]]),r=mxUtils.bind(this,function(n,r){var a=this.model.getGeometry(n);if(null!=a){var g=this.view.getState(n);if(null!=g){for(var C=g.getVisibleTerminal(r),h=!1;null!=C;){if(t[l]==C){h=!0;break}C=this.model.getParent(C)}if(h){var A=i.x,I=i.y,c=this.view.getState(this.model.getParent(n));null!=c&&this.model.isVertex(c.cell)&&(A=c.x/e,I=c.y/e),a=a.clone();var d=g.absolutePoints,u=r?0:d.length-1;a.setTerminalPoint(new mxPoint(d[u].x/e-A,d[u].y/e-I),r),this.model.setTerminal(o[s],null,r),this.model.setGeometry(o[s],a)}}}}),s=0;s<o.length;s++)n.get(o[s])||(r(o[s],!0),r(o[s],!1));this.model.remove(t[l])}this.fireEvent(new mxEventObject(mxEvent.CELLS_REMOVED,"cells",t))}finally{this.model.endUpdate()}}},mxGraph.prototype.splitEdge=function(t,e,i,n,l){n=n||0,l=l||0;var o=this.model.getParent(t),r=this.model.getTerminal(t,!0);this.model.beginUpdate();try{if(null==i){i=this.cloneCells([t])[0];var s=this.view.getState(t),a=this.getCellGeometry(i);if(null!=a&&null!=a.points&&null!=s){var g=this.view.translate,C=this.view.scale,h=mxUtils.findNearestSegment(s,(n+g.x)*C,(l+g.y)*C);a.points=a.points.slice(0,h),null!=(a=this.getCellGeometry(t))&&null!=a.points&&((a=a.clone()).points=a.points.slice(h),this.model.setGeometry(t,a))}}this.cellsMoved(e,n,l,!1,!1),this.cellsAdded(e,o,this.model.getChildCount(o),null,null,!0),this.cellsAdded([i],o,this.model.getChildCount(o),r,e[0],!1),this.cellConnected(t,e[0],!0),this.fireEvent(new mxEventObject(mxEvent.SPLIT_EDGE,"edge",t,"cells",e,"newEdge",i,"dx",n,"dy",l))}finally{this.model.endUpdate()}return i},mxGraph.prototype.toggleCells=function(t,e,i){null==e&&(e=this.getSelectionCells()),i&&(e=this.addAllEdges(e)),this.model.beginUpdate();try{this.cellsToggled(e,t),this.fireEvent(new mxEventObject(mxEvent.TOGGLE_CELLS,"show",t,"cells",e,"includeEdges",i))}finally{this.model.endUpdate()}return e},mxGraph.prototype.cellsToggled=function(t,e){if(null!=t&&t.length>0){this.model.beginUpdate();try{for(var i=0;i<t.length;i++)this.model.setVisible(t[i],e)}finally{this.model.endUpdate()}}},mxGraph.prototype.foldCells=function(t,e,i,n,l){t||(this.orderCells(!1),this.orderCells(!1,this.getAllEdges(this.getSelectionCells()))),e=null!=e&&e,null==i&&(i=this.getFoldableCells(this.getSelectionCells(),t)),this.stopEditing(!1),this.model.beginUpdate();try{this.cellsFolded(i,t,e,n),this.fireEvent(new mxEventObject(mxEvent.FOLD_CELLS,"collapse",t,"recurse",e,"cells",i))}finally{this.model.endUpdate()}return i},mxGraph.prototype.cellsFolded=function(t,e,i,n){if(null!=t&&t.length>0){this.model.beginUpdate();try{for(var l=0;l<t.length;l++)if((!n||this.isCellFoldable(t[l],e))&&e!=this.isCellCollapsed(t[l])){if(this.model.setCollapsed(t[l],e),this.swapBounds(t[l],e),this.isExtendParent(t[l])&&this.extendParent(t[l]),i){var o=this.model.getChildren(t[l]);this.foldCells(o,e,i)}this.constrainChild(t[l])}this.fireEvent(new mxEventObject(mxEvent.CELLS_FOLDED,"cells",t,"collapse",e,"recurse",i))}finally{this.model.endUpdate()}}},mxGraph.prototype.swapBounds=function(t,e){if(null!=t){var i=this.model.getGeometry(t);null!=i&&(i=i.clone(),this.updateAlternateBounds(t,i,e),i.swap(),this.model.setGeometry(t,i))}},mxGraph.prototype.updateAlternateBounds=function(t,e,i){if(null!=t&&null!=e){var n=this.view.getState(t),l=null!=n?n.style:this.getCellStyle(t),o=this.getFoldingImage(n);if(null==e.alternateBounds){var r=e;if(this.collapseToPreferredSize){var s=this.getPreferredSizeForCell(t);if(null!=s){r=s;var a=mxUtils.getValue(l,mxConstants.STYLE_STARTSIZE);a>0&&(r.height=Math.max(r.height,a))}}e.alternateBounds=new mxRectangle(0,0,o.width,o.height)}if(null!=e.alternateBounds){e.alternateBounds.x=e.x,e.alternateBounds.y=e.y;var g=mxUtils.toRadians(l[mxConstants.STYLE_ROTATION]||0);if(0!=g){var C=e.alternateBounds.getCenterX()-e.getCenterX(),h=e.alternateBounds.getCenterY()-e.getCenterY(),A=Math.cos(g),I=Math.sin(g),c=A*C-I*h,d=I*C+A*h;e.alternateBounds.x+=c-C,e.alternateBounds.y+=d-h}}}},mxGraph.prototype.addAllEdges=function(t){var e=t.slice();return mxUtils.removeDuplicates(e.concat(this.getAllEdges(t)))},mxGraph.prototype.getAllEdges=function(t){var e=[];if(null!=t)for(var i=0;i<t.length;i++){for(var n=this.model.getEdgeCount(t[i]),l=0;l<n;l++)e.push(this.model.getEdgeAt(t[i],l));var o=this.model.getChildren(t[i]);e=e.concat(this.getAllEdges(o))}return e},mxGraph.prototype.updateCellSize=function(t,e){e=null!=e&&e,this.model.beginUpdate();try{this.cellSizeUpdated(t,e),this.fireEvent(new mxEventObject(mxEvent.UPDATE_CELL_SIZE,"cell",t,"ignoreChildren",e))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellSizeUpdated=function(t,e){if(null!=t){this.model.beginUpdate();try{var i=this.getPreferredSizeForCell(t),n=this.model.getGeometry(t);if(null!=i&&null!=n){var l=this.isCellCollapsed(t);if(n=n.clone(),this.isSwimlane(t)){var o=this.view.getState(t),r=null!=o?o.style:this.getCellStyle(t),s=this.model.getStyle(t);null==s&&(s=""),mxUtils.getValue(r,mxConstants.STYLE_HORIZONTAL,!0)?(s=mxUtils.setStyle(s,mxConstants.STYLE_STARTSIZE,i.height+8),l&&(n.height=i.height+8),n.width=i.width):(s=mxUtils.setStyle(s,mxConstants.STYLE_STARTSIZE,i.width+8),l&&(n.width=i.width+8),n.height=i.height),this.model.setStyle(t,s)}else n.width=i.width,n.height=i.height;if(!e&&!l){var a=this.view.getBounds(this.model.getChildren(t));if(null!=a){var g=this.view.translate,C=this.view.scale,h=(a.x+a.width)/C-n.x-g.x,A=(a.y+a.height)/C-n.y-g.y;n.width=Math.max(n.width,h),n.height=Math.max(n.height,A)}}this.cellsResized([t],[n],!1)}}finally{this.model.endUpdate()}}},mxGraph.prototype.getPreferredSizeForCell=function(t){var e=null;if(null!=t){var i=this.view.getState(t)||this.view.createState(t),n=i.style;if(!this.model.isEdge(t)){var l=n[mxConstants.STYLE_FONTSIZE]||mxConstants.DEFAULT_FONTSIZE,o=0,r=0;null==this.getImage(i)&&null==n[mxConstants.STYLE_IMAGE]||n[mxConstants.STYLE_SHAPE]==mxConstants.SHAPE_LABEL&&(n[mxConstants.STYLE_VERTICAL_ALIGN]==mxConstants.ALIGN_MIDDLE&&(o+=parseFloat(n[mxConstants.STYLE_IMAGE_WIDTH])||mxLabel.prototype.imageSize),n[mxConstants.STYLE_ALIGN]!=mxConstants.ALIGN_CENTER&&(r+=parseFloat(n[mxConstants.STYLE_IMAGE_HEIGHT])||mxLabel.prototype.imageSize)),o+=2*(n[mxConstants.STYLE_SPACING]||0),o+=n[mxConstants.STYLE_SPACING_LEFT]||0,o+=n[mxConstants.STYLE_SPACING_RIGHT]||0,r+=2*(n[mxConstants.STYLE_SPACING]||0),r+=n[mxConstants.STYLE_SPACING_TOP]||0,r+=n[mxConstants.STYLE_SPACING_BOTTOM]||0;var s=this.getFoldingImage(i);null!=s&&(o+=s.width+8);var a=this.cellRenderer.getLabelValue(i);if(null!=a&&a.length>0){this.isHtmlLabel(i.cell)||(a=mxUtils.htmlEntities(a)),a=a.replace(/\n/g,"<br>");var g=mxUtils.getSizeForString(a,l,n[mxConstants.STYLE_FONTFAMILY]),C=g.width+o,h=g.height+r;if(!mxUtils.getValue(n,mxConstants.STYLE_HORIZONTAL,!0)){var A=h;h=C,C=A}this.gridEnabled&&(C=this.snap(C+this.gridSize/2),h=this.snap(h+this.gridSize/2)),e=new mxRectangle(0,0,C,h)}else{var I=4*this.gridSize;e=new mxRectangle(0,0,I,I)}}}return e},mxGraph.prototype.resizeCell=function(t,e,i){return this.resizeCells([t],[e],i)[0]},mxGraph.prototype.resizeCells=function(t,e,i){i=null!=i?i:this.isRecursiveResize(),this.model.beginUpdate();try{this.cellsResized(t,e,i),this.fireEvent(new mxEventObject(mxEvent.RESIZE_CELLS,"cells",t,"bounds",e))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellsResized=function(t,e,i){if(i=null!=i&&i,null!=t&&null!=e&&t.length==e.length){this.model.beginUpdate();try{for(var n=0;n<t.length;n++)this.cellResized(t[n],e[n],!1,i),this.isExtendParent(t[n])&&this.extendParent(t[n]),this.constrainChild(t[n]);this.resetEdgesOnResize&&this.resetEdges(t),this.fireEvent(new mxEventObject(mxEvent.CELLS_RESIZED,"cells",t,"bounds",e))}finally{this.model.endUpdate()}}},mxGraph.prototype.cellResized=function(t,e,i,n){var l=this.model.getGeometry(t);if(null!=l&&(l.x!=e.x||l.y!=e.y||l.width!=e.width||l.height!=e.height)){if(l=l.clone(),!i&&l.relative){var o=l.offset;null!=o&&(o.x+=e.x-l.x,o.y+=e.y-l.y)}else l.x=e.x,l.y=e.y;l.width=e.width,l.height=e.height,l.relative||!this.model.isVertex(t)||this.isAllowNegativeCoordinates()||(l.x=Math.max(0,l.x),l.y=Math.max(0,l.y)),this.model.beginUpdate();try{n&&this.resizeChildCells(t,l),this.model.setGeometry(t,l),this.constrainChildCells(t)}finally{this.model.endUpdate()}}},mxGraph.prototype.resizeChildCells=function(t,e){for(var i=this.model.getGeometry(t),n=e.width/i.width,l=e.height/i.height,o=this.model.getChildCount(t),r=0;r<o;r++)this.scaleCell(this.model.getChildAt(t,r),n,l,!0)},mxGraph.prototype.constrainChildCells=function(t){for(var e=this.model.getChildCount(t),i=0;i<e;i++)this.constrainChild(this.model.getChildAt(t,i))},mxGraph.prototype.scaleCell=function(t,e,i,n){var l=this.model.getGeometry(t);if(null!=l){var o=this.view.getState(t),r=null!=o?o.style:this.getCellStyle(t),s=(l=l.clone()).x,a=l.y,g=l.width,C=l.height;l.scale(e,i,"fixed"==r[mxConstants.STYLE_ASPECT]),"1"==r[mxConstants.STYLE_RESIZE_WIDTH]?l.width=g*e:"0"==r[mxConstants.STYLE_RESIZE_WIDTH]&&(l.width=g),"1"==r[mxConstants.STYLE_RESIZE_HEIGHT]?l.height=C*i:"0"==r[mxConstants.STYLE_RESIZE_HEIGHT]&&(l.height=C),this.isCellMovable(t)||(l.x=s,l.y=a),this.isCellResizable(t)||(l.width=g,l.height=C),this.model.isVertex(t)?this.cellResized(t,l,!0,n):this.model.setGeometry(t,l)}},mxGraph.prototype.extendParent=function(t){if(null!=t){var e=this.model.getParent(t),i=this.getCellGeometry(e);if(null!=e&&null!=i&&!this.isCellCollapsed(e)){var n=this.getCellGeometry(t);null!=n&&!n.relative&&(i.width<n.x+n.width||i.height<n.y+n.height)&&((i=i.clone()).width=Math.max(i.width,n.x+n.width),i.height=Math.max(i.height,n.y+n.height),this.cellsResized([e],[i],!1))}}},mxGraph.prototype.importCells=function(t,e,i,n,l,o){return this.moveCells(t,e,i,!0,n,l,o)},mxGraph.prototype.moveCells=function(t,e,i,n,l,o,r){if(e=null!=e?e:0,i=null!=i?i:0,n=null!=n&&n,null!=t&&(0!=e||0!=i||n||null!=l)){t=this.model.getTopmostCells(t),this.model.beginUpdate();try{for(var s=new mxDictionary,a=0;a<t.length;a++)s.put(t[a],!0);for(var g=mxUtils.bind(this,function(t){for(;null!=t;){if(s.get(t))return!0;t=this.model.getParent(t)}return!1}),C=[],a=0;a<t.length;a++){var h=this.getCellGeometry(t[a]),A=this.model.getParent(t[a]);null!=h&&h.relative&&this.model.isEdge(A)&&(g(this.model.getTerminal(A,!0))||g(this.model.getTerminal(A,!1)))||C.push(t[a])}t=C,n&&(t=this.cloneCells(t,this.isCloneInvalidEdges(),r),null==l&&(l=this.getDefaultParent()));var I=this.isAllowNegativeCoordinates();if(null!=l&&this.setAllowNegativeCoordinates(!0),this.cellsMoved(t,e,i,!n&&this.isDisconnectOnMove()&&this.isAllowDanglingEdges(),null==l,this.isExtendParentsOnMove()&&null==l),this.setAllowNegativeCoordinates(I),null!=l){var c=this.model.getChildCount(l);this.cellsAdded(t,l,c,null,null,!0)}this.fireEvent(new mxEventObject(mxEvent.MOVE_CELLS,"cells",t,"dx",e,"dy",i,"clone",n,"target",l,"event",o))}finally{this.model.endUpdate()}}return t},mxGraph.prototype.cellsMoved=function(t,e,i,n,l,o){if(null!=t&&(0!=e||0!=i)){o=null!=o&&o,this.model.beginUpdate();try{n&&this.disconnectGraph(t);for(var r=0;r<t.length;r++)this.translateCell(t[r],e,i),o&&this.isExtendParent(t[r])?this.extendParent(t[r]):l&&this.constrainChild(t[r]);this.resetEdgesOnMove&&this.resetEdges(t),this.fireEvent(new mxEventObject(mxEvent.CELLS_MOVED,"cells",t,"dx",e,"dy",i,"disconnect",n))}finally{this.model.endUpdate()}}},mxGraph.prototype.translateCell=function(t,e,i){var n=this.model.getGeometry(t);if(null!=n){if(e=parseFloat(e),i=parseFloat(i),(n=n.clone()).translate(e,i),n.relative||!this.model.isVertex(t)||this.isAllowNegativeCoordinates()||(n.x=Math.max(0,parseFloat(n.x)),n.y=Math.max(0,parseFloat(n.y))),n.relative&&!this.model.isEdge(t)){var l=this.model.getParent(t),o=0;if(this.model.isVertex(l)){var r=this.view.getState(l),s=null!=r?r.style:this.getCellStyle(l);o=mxUtils.getValue(s,mxConstants.STYLE_ROTATION,0)}if(0!=o){var a=mxUtils.toRadians(-o),g=Math.cos(a),C=Math.sin(a),h=mxUtils.getRotatedPoint(new mxPoint(e,i),g,C,new mxPoint(0,0));e=h.x,i=h.y}null==n.offset?n.offset=new mxPoint(e,i):(n.offset.x=parseFloat(n.offset.x)+e,n.offset.y=parseFloat(n.offset.y)+i)}this.model.setGeometry(t,n)}},mxGraph.prototype.getCellContainmentArea=function(t){if(null!=t&&!this.model.isEdge(t)){var e=this.model.getParent(t);if(null!=e&&e!=this.getDefaultParent()){var i=this.model.getGeometry(e);if(null!=i){var n=0,l=0,o=i.width,r=i.height;if(this.isSwimlane(e)){var s=this.getStartSize(e),a=this.view.getState(e),g=null!=a?a.style:this.getCellStyle(e),C=mxUtils.getValue(g,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST),h=1==mxUtils.getValue(g,mxConstants.STYLE_FLIPH,0),A=1==mxUtils.getValue(g,mxConstants.STYLE_FLIPV,0);if(C==mxConstants.DIRECTION_SOUTH||C==mxConstants.DIRECTION_NORTH){var I=s.width;s.width=s.height,s.height=I}(C==mxConstants.DIRECTION_EAST&&!A||C==mxConstants.DIRECTION_NORTH&&!h||C==mxConstants.DIRECTION_WEST&&A||C==mxConstants.DIRECTION_SOUTH&&h)&&(n=s.width,l=s.height),o-=s.width,r-=s.height}return new mxRectangle(n,l,o,r)}}}return null},mxGraph.prototype.getMaximumGraphBounds=function(){return this.maximumGraphBounds},mxGraph.prototype.constrainChild=function(t,e){if(e=null==e||e,null!=t){var i=this.getCellGeometry(t);if(null!=i&&(this.isConstrainRelativeChildren()||!i.relative)){var n=this.model.getParent(t),l=(this.getCellGeometry(n),this.getMaximumGraphBounds());if(null!=l){var o=this.getBoundingBoxFromGeometry([n],!1);null!=o&&((l=mxRectangle.fromRectangle(l)).x-=o.x,l.y-=o.y)}if(this.isConstrainChild(t)){var r=this.getCellContainmentArea(t);if(null!=r){var s=this.getOverlap(t);s>0&&((r=mxRectangle.fromRectangle(r)).x-=r.width*s,r.y-=r.height*s,r.width+=2*r.width*s,r.height+=2*r.height*s),null==l?l=r:(l=mxRectangle.fromRectangle(l)).intersect(r)}}if(null!=l){var a=[t];if(!this.isCellCollapsed(t))for(var g=this.model.getDescendants(t),C=0;C<g.length;C++)this.isCellVisible(g[C])&&a.push(g[C]);var h=this.getBoundingBoxFromGeometry(a,!1);if(null!=h){var A=0;(i=i.clone()).width>l.width&&(A=i.width-l.width,i.width-=A),h.x+h.width>l.x+l.width&&(A-=h.x+h.width-l.x-l.width-A);var I=0;i.height>l.height&&(I=i.height-l.height,i.height-=I),h.y+h.height>l.y+l.height&&(I-=h.y+h.height-l.y-l.height-I),h.x<l.x&&(A-=h.x-l.x),h.y<l.y&&(I-=h.y-l.y),0==A&&0==I||(i.relative?(null==i.offset&&(i.offset=new mxPoint),i.offset.x+=A,i.offset.y+=I):(i.x+=A,i.y+=I)),this.model.setGeometry(t,i)}}}}},mxGraph.prototype.resetEdges=function(t){if(null!=t){for(var e=new mxDictionary,i=0;i<t.length;i++)e.put(t[i],!0);this.model.beginUpdate();try{for(i=0;i<t.length;i++){var n=this.model.getEdges(t[i]);if(null!=n)for(var l=0;l<n.length;l++){var o=this.view.getState(n[l]),r=null!=o?o.getVisibleTerminal(!0):this.view.getVisibleTerminal(n[l],!0),s=null!=o?o.getVisibleTerminal(!1):this.view.getVisibleTerminal(n[l],!1);e.get(r)&&e.get(s)||this.resetEdge(n[l])}this.resetEdges(this.model.getChildren(t[i]))}}finally{this.model.endUpdate()}}},mxGraph.prototype.resetEdge=function(t){var e=this.model.getGeometry(t);return null!=e&&null!=e.points&&e.points.length>0&&((e=e.clone()).points=[],this.model.setGeometry(t,e)),t},mxGraph.prototype.getOutlineConstraint=function(t,e,i){if(null!=e.shape){var n=this.view.getPerimeterBounds(e),l=e.style[mxConstants.STYLE_DIRECTION];if(l==mxConstants.DIRECTION_NORTH||l==mxConstants.DIRECTION_SOUTH){n.x+=n.width/2-n.height/2,n.y+=n.height/2-n.width/2;d=n.width;n.width=n.height,n.height=d}var o=mxUtils.toRadians(e.shape.getShapeRotation());if(0!=o){var r=Math.cos(-o),s=Math.sin(-o),a=new mxPoint(n.getCenterX(),n.getCenterY());t=mxUtils.getRotatedPoint(t,r,s,a)}var g=1,C=1,h=0,A=0;if(this.getModel().isVertex(e.cell)){var I=e.style[mxConstants.STYLE_FLIPH],c=e.style[mxConstants.STYLE_FLIPV];if(null!=e.shape&&null!=e.shape.stencil&&(I=1==mxUtils.getValue(e.style,"stencilFlipH",0)||I,c=1==mxUtils.getValue(e.style,"stencilFlipV",0)||c),l==mxConstants.DIRECTION_NORTH||l==mxConstants.DIRECTION_SOUTH){var d=I;I=c,c=d}I&&(g=-1,h=-n.width),c&&(C=-1,A=-n.height)}return t=new mxPoint((t.x-n.x)*g-h+n.x,(t.y-n.y)*C-A+n.y),new mxConnectionConstraint(new mxPoint(Math.round(1e3*(t.x-n.x)/n.width)/1e3,Math.round(1e3*(t.y-n.y)/n.height)/1e3),!1)}return null},mxGraph.prototype.getAllConnectionConstraints=function(t,e){return null!=t&&null!=t.shape&&null!=t.shape.stencil?t.shape.stencil.constraints:null},mxGraph.prototype.getConnectionConstraint=function(t,e,i){var n=null,l=t.style[i?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X];if(null!=l){var o=t.style[i?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y];null!=o&&(n=new mxPoint(parseFloat(l),parseFloat(o)))}var r=!1;return null!=n&&(r=mxUtils.getValue(t.style,i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,!0)),new mxConnectionConstraint(n,r)},mxGraph.prototype.setConnectionConstraint=function(t,e,i,n){if(null!=n){this.model.beginUpdate();try{null==n||null==n.point?(this.setCellStyles(i?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,null,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,null,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[t])):null!=n.point&&(this.setCellStyles(i?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,n.point.x,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,n.point.y,[t]),n.perimeter?this.setCellStyles(i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[t]):this.setCellStyles(i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,"0",[t]))}finally{this.model.endUpdate()}}},mxGraph.prototype.getConnectionPoint=function(t,e){var i=null;if(null!=t&&null!=e.point){var n=this.view.getPerimeterBounds(t),l=new mxPoint(n.getCenterX(),n.getCenterY()),o=t.style[mxConstants.STYLE_DIRECTION],r=0;if(null!=o&&(o==mxConstants.DIRECTION_NORTH?r+=270:o==mxConstants.DIRECTION_WEST?r+=180:o==mxConstants.DIRECTION_SOUTH&&(r+=90),o!=mxConstants.DIRECTION_NORTH&&o!=mxConstants.DIRECTION_SOUTH||n.rotate90()),null!=e.point){var s=1,a=1,g=0,C=0;if(this.getModel().isVertex(t.cell)){var h=t.style[mxConstants.STYLE_FLIPH],A=t.style[mxConstants.STYLE_FLIPV];if(null!=t.shape&&null!=t.shape.stencil&&(h=1==mxUtils.getValue(t.style,"stencilFlipH",0)||h,A=1==mxUtils.getValue(t.style,"stencilFlipV",0)||A),o==mxConstants.DIRECTION_NORTH||o==mxConstants.DIRECTION_SOUTH){var I=h;h=A,A=I}h&&(s=-1,g=-n.width),A&&(a=-1,C=-n.height)}i=new mxPoint(n.x+e.point.x*n.width*s-g,n.y+e.point.y*n.height*a-C)}var c=t.style[mxConstants.STYLE_ROTATION]||0;if(e.perimeter){if(0!=r&&null!=i){var d=0,u=0;90==r?u=1:180==r?d=-1:270==r&&(u=-1),i=mxUtils.getRotatedPoint(i,d,u,l)}null!=i&&e.perimeter&&(i=this.view.getPerimeterPoint(t,i,!1))}else c+=r;if(0!=c&&null!=i){var p=mxUtils.toRadians(c),d=Math.cos(p),u=Math.sin(p);i=mxUtils.getRotatedPoint(i,d,u,l)}}return null!=i&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),i},mxGraph.prototype.connectCell=function(t,e,i,n){this.model.beginUpdate();try{var l=this.model.getTerminal(t,i);this.cellConnected(t,e,i,n),this.fireEvent(new mxEventObject(mxEvent.CONNECT_CELL,"edge",t,"terminal",e,"source",i,"previous",l))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellConnected=function(t,e,i,n){if(null!=t){this.model.beginUpdate();try{var l=this.model.getTerminal(t,i);if(this.setConnectionConstraint(t,e,i,n),this.isPortsEnabled()){var o=null;this.isPort(e)&&(o=e.getId(),e=this.getTerminalForPort(e,i));var r=i?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT;this.setCellStyles(r,o,[t])}this.model.setTerminal(t,e,i),this.resetEdgesOnConnect&&this.resetEdge(t),this.fireEvent(new mxEventObject(mxEvent.CELL_CONNECTED,"edge",t,"terminal",e,"source",i,"previous",l))}finally{this.model.endUpdate()}}},mxGraph.prototype.disconnectGraph=function(t){if(null!=t){this.model.beginUpdate();try{for(var e=this.view.scale,i=this.view.translate,n=new mxDictionary,l=0;l<t.length;l++)n.put(t[l],!0);for(l=0;l<t.length;l++)if(this.model.isEdge(t[l])){var o=this.model.getGeometry(t[l]);if(null!=o){var r=this.view.getState(t[l]),s=this.view.getState(this.model.getParent(t[l]));if(null!=r&&null!=s){o=o.clone();var a=-s.origin.x,g=-s.origin.y,C=r.absolutePoints,h=this.model.getTerminal(t[l],!0);if(null!=h&&this.isCellDisconnectable(t[l],h,!0)){for(;null!=h&&!n.get(h);)h=this.model.getParent(h);null==h&&(o.setTerminalPoint(new mxPoint(C[0].x/e-i.x+a,C[0].y/e-i.y+g),!0),this.model.setTerminal(t[l],null,!0))}var A=this.model.getTerminal(t[l],!1);if(null!=A&&this.isCellDisconnectable(t[l],A,!1)){for(;null!=A&&!n.get(A);)A=this.model.getParent(A);if(null==A){var I=C.length-1;o.setTerminalPoint(new mxPoint(C[I].x/e-i.x+a,C[I].y/e-i.y+g),!1),this.model.setTerminal(t[l],null,!1)}}this.model.setGeometry(t[l],o)}}}}finally{this.model.endUpdate()}}},mxGraph.prototype.getCurrentRoot=function(){return this.view.currentRoot},mxGraph.prototype.getTranslateForRoot=function(t){return null},mxGraph.prototype.isPort=function(t){return!1},mxGraph.prototype.getTerminalForPort=function(t,e){return this.model.getParent(t)},mxGraph.prototype.getChildOffsetForCell=function(t){return null},mxGraph.prototype.enterGroup=function(t){null!=(t=t||this.getSelectionCell())&&this.isValidRoot(t)&&(this.view.setCurrentRoot(t),this.clearSelection())},mxGraph.prototype.exitGroup=function(){var t=this.model.getRoot(),e=this.getCurrentRoot();if(null!=e){for(var i=this.model.getParent(e);i!=t&&!this.isValidRoot(i)&&this.model.getParent(i)!=t;)i=this.model.getParent(i);i==t||this.model.getParent(i)==t?this.view.setCurrentRoot(null):this.view.setCurrentRoot(i),null!=this.view.getState(e)&&this.setSelectionCell(e)}},mxGraph.prototype.home=function(){var t=this.getCurrentRoot();null!=t&&(this.view.setCurrentRoot(null),null!=this.view.getState(t)&&this.setSelectionCell(t))},mxGraph.prototype.isValidRoot=function(t){return null!=t},mxGraph.prototype.getGraphBounds=function(){return this.view.getGraphBounds()},mxGraph.prototype.getCellBounds=function(t,e,i){var n=[t];e&&(n=n.concat(this.model.getEdges(t)));var l=this.view.getBounds(n);if(i)for(var o=this.model.getChildCount(t),r=0;r<o;r++){var s=this.getCellBounds(this.model.getChildAt(t,r),e,!0);null!=l?l.add(s):l=s}return l},mxGraph.prototype.getBoundingBoxFromGeometry=function(t,e){e=null!=e&&e;var i=null;if(null!=t)for(var n=0;n<t.length;n++)if(e||this.model.isVertex(t[n])){var l=this.getCellGeometry(t[n]);if(null!=l){var o=null;if(this.model.isEdge(t[n])){var r=l.points;if(null!=r&&r.length>0){for(var s=new mxRectangle(r[0].x,r[0].y,0,0),a=function(t){null!=t&&s.add(new mxRectangle(t.x,t.y,0,0))},g=1;g<r.length;g++)a(r[g]);a(l.getTerminalPoint(!0)),a(l.getTerminalPoint(!1)),o=s}}else{var C=this.model.getParent(t[n]);l.relative?this.model.isVertex(C)&&C!=this.view.currentRoot&&null!=(s=this.getBoundingBoxFromGeometry([C],!1))&&(o=new mxRectangle(l.x*s.width,l.y*s.height,l.width,l.height),mxUtils.indexOf(t,C)>=0&&(o.x+=s.x,o.y+=s.y)):(o=mxRectangle.fromRectangle(l),this.model.isVertex(C)&&mxUtils.indexOf(t,C)>=0&&null!=(s=this.getBoundingBoxFromGeometry([C],!1))&&(o.x+=s.x,o.y+=s.y)),null!=o&&null!=l.offset&&(o.x+=l.offset.x,o.y+=l.offset.y)}null!=o&&(null==i?i=mxRectangle.fromRectangle(o):i.add(o))}}return i},mxGraph.prototype.refresh=function(t){this.view.clear(t,null==t),this.view.validate(),this.sizeDidChange(),this.fireEvent(new mxEventObject(mxEvent.REFRESH))},mxGraph.prototype.snap=function(t){return this.gridEnabled&&(t=Math.round(t/this.gridSize)*this.gridSize),t},mxGraph.prototype.panGraph=function(t,e){if(this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container))this.container.scrollLeft=-t,this.container.scrollTop=-e;else{var i=this.view.getCanvas();if(this.dialect==mxConstants.DIALECT_SVG)if(0==t&&0==e){if(mxClient.IS_IE?i.setAttribute("transform","translate("+t+","+e+")"):i.removeAttribute("transform"),null!=this.shiftPreview1){for(l=this.shiftPreview1.firstChild;null!=l;){o=l.nextSibling;this.container.appendChild(l),l=o}for(null!=this.shiftPreview1.parentNode&&this.shiftPreview1.parentNode.removeChild(this.shiftPreview1),this.shiftPreview1=null,this.container.appendChild(i.parentNode),l=this.shiftPreview2.firstChild;null!=l;){o=l.nextSibling;this.container.appendChild(l),l=o}null!=this.shiftPreview2.parentNode&&this.shiftPreview2.parentNode.removeChild(this.shiftPreview2),this.shiftPreview2=null}}else{if(i.setAttribute("transform","translate("+t+","+e+")"),null==this.shiftPreview1){this.shiftPreview1=document.createElement("div"),this.shiftPreview1.style.position="absolute",this.shiftPreview1.style.overflow="visible",this.shiftPreview2=document.createElement("div"),this.shiftPreview2.style.position="absolute",this.shiftPreview2.style.overflow="visible";for(var n=this.shiftPreview1,l=this.container.firstChild;null!=l;){var o=l.nextSibling;l!=i.parentNode?n.appendChild(l):n=this.shiftPreview2,l=o}null!=this.shiftPreview1.firstChild&&this.container.insertBefore(this.shiftPreview1,i.parentNode),null!=this.shiftPreview2.firstChild&&this.container.appendChild(this.shiftPreview2)}this.shiftPreview1.style.left=t+"px",this.shiftPreview1.style.top=e+"px",this.shiftPreview2.style.left=t+"px",this.shiftPreview2.style.top=e+"px"}else i.style.left=t+"px",i.style.top=e+"px";this.panDx=t,this.panDy=e,this.fireEvent(new mxEventObject(mxEvent.PAN))}},mxGraph.prototype.zoomIn=function(){this.zoom(this.zoomFactor)},mxGraph.prototype.zoomOut=function(){this.zoom(1/this.zoomFactor)},mxGraph.prototype.zoomActual=function(){1==this.view.scale?this.view.setTranslate(0,0):(this.view.translate.x=0,this.view.translate.y=0,this.view.setScale(1))},mxGraph.prototype.zoomTo=function(t,e){this.zoom(t/this.view.scale,e)},mxGraph.prototype.center=function(t,e,i,n){t=null==t||t,e=null==e||e,i=null!=i?i:.5,n=null!=n?n:.5;var l=mxUtils.hasScrollbars(this.container),o=this.container.clientWidth,r=this.container.clientHeight,s=this.getGraphBounds(),a=this.view.translate,g=this.view.scale,C=t?o-s.width:0,h=e?r-s.height:0;if(l){s.x-=a.x,s.y-=a.y;var A=this.container.scrollWidth,I=this.container.scrollHeight;A>o&&(C=0),I>r&&(h=0),this.view.setTranslate(Math.floor(C/2-s.x),Math.floor(h/2-s.y)),this.container.scrollLeft=(A-o)/2,this.container.scrollTop=(I-r)/2}else this.view.setTranslate(t?Math.floor(a.x-s.x*g+C*i/g):a.x,e?Math.floor(a.y-s.y*g+h*n/g):a.y)},mxGraph.prototype.zoom=function(t,e){e=null!=e?e:this.centerZoom;var i=Math.round(this.view.scale*t*100)/100,n=this.view.getState(this.getSelectionCell());if(t=i/this.view.scale,this.keepSelectionVisibleOnZoom&&null!=n){var l=new mxRectangle(n.x*t,n.y*t,n.width*t,n.height*t);this.view.scale=i,this.scrollRectToVisible(l)||(this.view.revalidate(),this.view.setScale(i))}else{var o=mxUtils.hasScrollbars(this.container);if(e&&!o){var r=this.container.offsetWidth,s=this.container.offsetHeight;if(t>1)r*=-(a=(t-1)/(2*i)),s*=-a;else{var a=(1/t-1)/(2*this.view.scale);r*=a,s*=a}this.view.scaleAndTranslate(i,this.view.translate.x+r,this.view.translate.y+s)}else{var g=this.view.translate.x,C=this.view.translate.y,h=this.container.scrollLeft,A=this.container.scrollTop;if(this.view.setScale(i),o){var r=0,s=0;e&&(r=this.container.offsetWidth*(t-1)/2,s=this.container.offsetHeight*(t-1)/2),this.container.scrollLeft=(this.view.translate.x-g)*this.view.scale+Math.round(h*t+r),this.container.scrollTop=(this.view.translate.y-C)*this.view.scale+Math.round(A*t+s)}}}},mxGraph.prototype.zoomToRect=function(t){var e=this.container.clientWidth/t.width/(this.container.clientHeight/t.height);t.x=Math.max(0,t.x),t.y=Math.max(0,t.y);var i=Math.min(this.container.scrollWidth,t.x+t.width),n=Math.min(this.container.scrollHeight,t.y+t.height);if(t.width=i-t.x,t.height=n-t.y,e<1){var l=t.height/e,o=(l-t.height)/2;t.height=l;var r=Math.min(t.y,o);t.y=t.y-r,n=Math.min(this.container.scrollHeight,t.y+t.height),t.height=n-t.y}else{var s=t.width*e,a=(s-t.width)/2;t.width=s;var g=Math.min(t.x,a);t.x=t.x-g,i=Math.min(this.container.scrollWidth,t.x+t.width),t.width=i-t.x}var C=this.container.clientWidth/t.width,h=this.view.scale*C;mxUtils.hasScrollbars(this.container)?(this.view.setScale(h),this.container.scrollLeft=Math.round(t.x*C),this.container.scrollTop=Math.round(t.y*C)):this.view.scaleAndTranslate(h,this.view.translate.x-t.x/this.view.scale,this.view.translate.y-t.y/this.view.scale)},mxGraph.prototype.scrollCellToVisible=function(t,e){var i=-this.view.translate.x,n=-this.view.translate.y,l=this.view.getState(t);if(null!=l){var o=new mxRectangle(i+l.x,n+l.y,l.width,l.height);if(e&&null!=this.container){var r=this.container.clientWidth,s=this.container.clientHeight;o.x=o.getCenterX()-r/2,o.width=r,o.y=o.getCenterY()-s/2,o.height=s}var a=new mxPoint(this.view.translate.x,this.view.translate.y);if(this.scrollRectToVisible(o)){var g=new mxPoint(this.view.translate.x,this.view.translate.y);this.view.translate.x=a.x,this.view.translate.y=a.y,this.view.setTranslate(g.x,g.y)}}},mxGraph.prototype.scrollRectToVisible=function(t){var e=!1;if(null!=t){var i=this.container.offsetWidth,n=this.container.offsetHeight,l=Math.min(i,t.width),o=Math.min(n,t.height);if(mxUtils.hasScrollbars(this.container)){var r=this.container;t.x+=this.view.translate.x,t.y+=this.view.translate.y;var s=r.scrollLeft-t.x,a=Math.max(s-r.scrollLeft,0);s>0?r.scrollLeft-=s+2:(s=t.x+l-r.scrollLeft-r.clientWidth)>0&&(r.scrollLeft+=s+2);var g=r.scrollTop-t.y,C=Math.max(0,g-r.scrollTop);g>0?r.scrollTop-=g+2:(g=t.y+o-r.scrollTop-r.clientHeight)>0&&(r.scrollTop+=g+2),this.useScrollbarsForPanning||0==a&&0==C||this.view.setTranslate(a,C)}else{var h=-this.view.translate.x,A=-this.view.translate.y,I=this.view.scale;t.x+l>h+i&&(this.view.translate.x-=(t.x+l-i-h)/I,e=!0),t.y+o>A+n&&(this.view.translate.y-=(t.y+o-n-A)/I,e=!0),t.x<h&&(this.view.translate.x+=(h-t.x)/I,e=!0),t.y<A&&(this.view.translate.y+=(A-t.y)/I,e=!0),e&&(this.view.refresh(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.refresh())}}return e},mxGraph.prototype.getCellGeometry=function(t){return this.model.getGeometry(t)},mxGraph.prototype.isCellVisible=function(t){return this.model.isVisible(t)},mxGraph.prototype.isCellCollapsed=function(t){return this.model.isCollapsed(t)},mxGraph.prototype.isCellConnectable=function(t){return this.model.isConnectable(t)},mxGraph.prototype.isOrthogonal=function(t){var e=t.style[mxConstants.STYLE_ORTHOGONAL];if(null!=e)return e;var i=this.view.getEdgeStyle(t);return i==mxEdgeStyle.SegmentConnector||i==mxEdgeStyle.ElbowConnector||i==mxEdgeStyle.SideToSide||i==mxEdgeStyle.TopToBottom||i==mxEdgeStyle.EntityRelation||i==mxEdgeStyle.OrthConnector},mxGraph.prototype.isLoop=function(t){var e=t.getVisibleTerminalState(!0),i=t.getVisibleTerminalState(!1);return null!=e&&e==i},mxGraph.prototype.isCloneEvent=function(t){return mxEvent.isControlDown(t)},mxGraph.prototype.isToggleEvent=function(t){return mxClient.IS_MAC?mxEvent.isMetaDown(t):mxEvent.isControlDown(t)},mxGraph.prototype.isGridEnabledEvent=function(t){return null!=t&&!mxEvent.isAltDown(t)},mxGraph.prototype.isConstrainedEvent=function(t){return mxEvent.isShiftDown(t)},mxGraph.prototype.isIgnoreTerminalEvent=function(t){return!1},mxGraph.prototype.validationAlert=function(t){mxUtils.alert(t)},mxGraph.prototype.isEdgeValid=function(t,e,i){return null==this.getEdgeValidationError(t,e,i)},mxGraph.prototype.getEdgeValidationError=function(t,e,i){if(null!=t&&!this.isAllowDanglingEdges()&&(null==e||null==i))return"";if(null!=t&&null==this.model.getTerminal(t,!0)&&null==this.model.getTerminal(t,!1))return null;if(!this.allowLoops&&e==i&&null!=e)return"";if(!this.isValidConnection(e,i))return"";if(null!=e&&null!=i){var n="";if(!this.multigraph){var l=this.model.getEdgesBetween(e,i,!0);(l.length>1||1==l.length&&l[0]!=t)&&(n+=(mxResources.get(this.alreadyConnectedResource)||this.alreadyConnectedResource)+"\n")}var o=this.model.getDirectedEdgeCount(e,!0,t),r=this.model.getDirectedEdgeCount(i,!1,t);if(null!=this.multiplicities)for(var s=0;s<this.multiplicities.length;s++)null!=(a=this.multiplicities[s].check(this,t,e,i,o,r))&&(n+=a);var a=this.validateEdge(t,e,i);return null!=a&&(n+=a),n.length>0?n:null}return this.allowDanglingEdges?null:""},mxGraph.prototype.validateEdge=function(t,e,i){return null},mxGraph.prototype.validateGraph=function(t,e){t=null!=t?t:this.model.getRoot(),e=null!=e?e:new Object;for(var i=!0,n=this.model.getChildCount(t),l=0;l<n;l++){var o=this.model.getChildAt(t,l),r=e;this.isValidRoot(o)&&(r=new Object);var s=this.validateGraph(o,r);null!=s?this.setCellWarning(o,s.replace(/\n/g,"<br>")):this.setCellWarning(o,null),i=i&&null==s}var a="";this.isCellCollapsed(t)&&!i&&(a+=(mxResources.get(this.containsValidationErrorsResource)||this.containsValidationErrorsResource)+"\n"),this.model.isEdge(t)?a+=this.getEdgeValidationError(t,this.model.getTerminal(t,!0),this.model.getTerminal(t,!1))||"":a+=this.getCellValidationError(t)||"";var g=this.validateCell(t,e);return null!=g&&(a+=g),null==this.model.getParent(t)&&this.view.validate(),a.length>0||!i?a:null},mxGraph.prototype.getCellValidationError=function(t){var e=this.model.getDirectedEdgeCount(t,!0),i=this.model.getDirectedEdgeCount(t,!1),n=this.model.getValue(t),l="";if(null!=this.multiplicities)for(var o=0;o<this.multiplicities.length;o++){var r=this.multiplicities[o];r.source&&mxUtils.isNode(n,r.type,r.attr,r.value)&&(0==r.max&&e>0||1==r.min&&0==e||1==r.max&&e>1)?l+=r.countError+"\n":!r.source&&mxUtils.isNode(n,r.type,r.attr,r.value)&&(0==r.max&&i>0||1==r.min&&0==i||1==r.max&&i>1)&&(l+=r.countError+"\n")}return l.length>0?l:null},mxGraph.prototype.validateCell=function(t,e){return null},mxGraph.prototype.getBackgroundImage=function(){return this.backgroundImage},mxGraph.prototype.setBackgroundImage=function(t){this.backgroundImage=t},mxGraph.prototype.getFoldingImage=function(t){if(null!=t&&this.foldingEnabled&&!this.getModel().isEdge(t.cell)){var e=this.isCellCollapsed(t.cell);if(this.isCellFoldable(t.cell,!e)){var i;if(e){var n=t.cell.getAttribute("image");if(n){var l,o,r=n.lastIndexOf("_"),s=n.lastIndexOf("."),a=n.slice(r+1,s);l=parseInt(a.split("x")[0]),o=parseInt(a.split("x")[1]);(l>80||o>80)&&(l/o>1?(o=Math.floor(80*o/l),l=80):(l=Math.floor(80*l/o),o=80)),i=new mxImage(n,l,o)}else i=this.collapsedImage}else i=this.expandedImage;return i}}return null},mxGraph.prototype.convertValueToString=function(t){var e=this.model.getValue(t);if(null!=e){if(mxUtils.isNode(e))return e.nodeName;if("function"==typeof e.toString)return e.toString()}return""},mxGraph.prototype.getLabel=function(t){var e="";if(this.labelsVisible&&null!=t){var i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);mxUtils.getValue(n,mxConstants.STYLE_NOLABEL,!1)||(e=this.convertValueToString(t))}return e},mxGraph.prototype.isHtmlLabel=function(t){return this.isHtmlLabels()},mxGraph.prototype.isHtmlLabels=function(){return this.htmlLabels},mxGraph.prototype.setHtmlLabels=function(t){this.htmlLabels=t},mxGraph.prototype.isWrapping=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i&&"wrap"==i[mxConstants.STYLE_WHITE_SPACE]},mxGraph.prototype.isLabelClipped=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i&&"hidden"==i[mxConstants.STYLE_OVERFLOW]},mxGraph.prototype.getTooltip=function(t,e,i,n){var l=null;if(null!=t){if(null==t.control||e!=t.control.node&&e.parentNode!=t.control.node||(l=this.collapseExpandResource,l=mxUtils.htmlEntities(mxResources.get(l)||l).replace(/\\n/g,"<br>")),null==l&&null!=t.overlays&&t.overlays.visit(function(t,i){null!=l||e!=i.node&&e.parentNode!=i.node||(l=i.overlay.toString())}),null==l){var o=this.selectionCellsHandler.getHandler(t.cell);null!=o&&"function"==typeof o.getTooltipForNode&&(l=o.getTooltipForNode(e))}null==l&&(l=this.getTooltipForCell(t.cell))}return l},mxGraph.prototype.getTooltipForCell=function(t){return null!=t&&null!=t.getTooltip?t.getTooltip():this.convertValueToString(t)},mxGraph.prototype.getCursorForMouseEvent=function(t){return this.getCursorForCell(t.getCell())},mxGraph.prototype.getCursorForCell=function(t){return null},mxGraph.prototype.getStartSize=function(t){var e=new mxRectangle,i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);if(null!=n){var l=parseInt(mxUtils.getValue(n,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));mxUtils.getValue(n,mxConstants.STYLE_HORIZONTAL,!0)?e.height=l:e.width=l}return e},mxGraph.prototype.getImage=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_IMAGE]:null},mxGraph.prototype.getVerticalAlign=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_VERTICAL_ALIGN]||mxConstants.ALIGN_MIDDLE:null},mxGraph.prototype.getIndicatorColor=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_COLOR]:null},mxGraph.prototype.getIndicatorGradientColor=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_GRADIENTCOLOR]:null},mxGraph.prototype.getIndicatorShape=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_SHAPE]:null},mxGraph.prototype.getIndicatorImage=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_IMAGE]:null},mxGraph.prototype.getBorder=function(){return this.border},mxGraph.prototype.setBorder=function(t){this.border=t},mxGraph.prototype.isSwimlane=function(t){if(null!=t&&this.model.getParent(t)!=this.model.getRoot()){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);if(null!=i&&!this.model.isEdge(t))return i[mxConstants.STYLE_SHAPE]==mxConstants.SHAPE_SWIMLANE}return!1},mxGraph.prototype.isResizeContainer=function(){return this.resizeContainer},mxGraph.prototype.setResizeContainer=function(t){this.resizeContainer=t},mxGraph.prototype.isEnabled=function(){return this.enabled},mxGraph.prototype.setEnabled=function(t){this.enabled=t},mxGraph.prototype.isEscapeEnabled=function(){return this.escapeEnabled},mxGraph.prototype.setEscapeEnabled=function(t){this.escapeEnabled=t},mxGraph.prototype.isInvokesStopCellEditing=function(){return this.invokesStopCellEditing},mxGraph.prototype.setInvokesStopCellEditing=function(t){this.invokesStopCellEditing=t},mxGraph.prototype.isEnterStopsCellEditing=function(){return this.enterStopsCellEditing},mxGraph.prototype.setEnterStopsCellEditing=function(t){this.enterStopsCellEditing=t},mxGraph.prototype.isCellLocked=function(t){var e=this.model.getGeometry(t);return this.isCellsLocked()||null!=e&&this.model.isVertex(t)&&e.relative},mxGraph.prototype.isCellsLocked=function(){return this.cellsLocked},mxGraph.prototype.setCellsLocked=function(t){this.cellsLocked=t},mxGraph.prototype.getCloneableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellCloneable(t)}))},mxGraph.prototype.isCellCloneable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsCloneable()&&0!=i[mxConstants.STYLE_CLONEABLE]},mxGraph.prototype.isCellsCloneable=function(){return this.cellsCloneable},mxGraph.prototype.setCellsCloneable=function(t){this.cellsCloneable=t},mxGraph.prototype.getExportableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.canExportCell(t)}))},mxGraph.prototype.canExportCell=function(t){return this.exportEnabled},mxGraph.prototype.getImportableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.canImportCell(t)}))},mxGraph.prototype.canImportCell=function(t){return this.importEnabled},mxGraph.prototype.isCellSelectable=function(t){return this.isCellsSelectable()},mxGraph.prototype.isCellsSelectable=function(){return this.cellsSelectable},mxGraph.prototype.setCellsSelectable=function(t){this.cellsSelectable=t},mxGraph.prototype.getDeletableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellDeletable(t)}))},mxGraph.prototype.isCellDeletable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsDeletable()&&0!=i[mxConstants.STYLE_DELETABLE]},mxGraph.prototype.isCellsDeletable=function(){return this.cellsDeletable},mxGraph.prototype.setCellsDeletable=function(t){this.cellsDeletable=t},mxGraph.prototype.isLabelMovable=function(t){return!this.isCellLocked(t)&&(this.model.isEdge(t)&&this.edgeLabelsMovable||this.model.isVertex(t)&&this.vertexLabelsMovable)},mxGraph.prototype.isCellRotatable=function(t){var e=this.view.getState(t);return 0!=(null!=e?e.style:this.getCellStyle(t))[mxConstants.STYLE_ROTATABLE]},mxGraph.prototype.getMovableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellMovable(t)}))},mxGraph.prototype.isCellMovable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsMovable()&&!this.isCellLocked(t)&&0!=i[mxConstants.STYLE_MOVABLE]},mxGraph.prototype.isCellsMovable=function(){return this.cellsMovable},mxGraph.prototype.setCellsMovable=function(t){this.cellsMovable=t},mxGraph.prototype.isGridEnabled=function(){return this.gridEnabled},mxGraph.prototype.setGridEnabled=function(t){this.gridEnabled=t},mxGraph.prototype.isPortsEnabled=function(){return this.portsEnabled},mxGraph.prototype.setPortsEnabled=function(t){this.portsEnabled=t},mxGraph.prototype.getGridSize=function(){return this.gridSize},mxGraph.prototype.setGridSize=function(t){this.gridSize=t},mxGraph.prototype.getTolerance=function(){return this.tolerance},mxGraph.prototype.setTolerance=function(t){this.tolerance=t},mxGraph.prototype.isVertexLabelsMovable=function(){return this.vertexLabelsMovable},mxGraph.prototype.setVertexLabelsMovable=function(t){this.vertexLabelsMovable=t},mxGraph.prototype.isEdgeLabelsMovable=function(){return this.edgeLabelsMovable},mxGraph.prototype.setEdgeLabelsMovable=function(t){this.edgeLabelsMovable=t},mxGraph.prototype.isSwimlaneNesting=function(){return this.swimlaneNesting},mxGraph.prototype.setSwimlaneNesting=function(t){this.swimlaneNesting=t},mxGraph.prototype.isSwimlaneSelectionEnabled=function(){return this.swimlaneSelectionEnabled},mxGraph.prototype.setSwimlaneSelectionEnabled=function(t){this.swimlaneSelectionEnabled=t},mxGraph.prototype.isMultigraph=function(){return this.multigraph},mxGraph.prototype.setMultigraph=function(t){this.multigraph=t},mxGraph.prototype.isAllowLoops=function(){return this.allowLoops},mxGraph.prototype.setAllowDanglingEdges=function(t){this.allowDanglingEdges=t},mxGraph.prototype.isAllowDanglingEdges=function(){return this.allowDanglingEdges},mxGraph.prototype.setConnectableEdges=function(t){this.connectableEdges=t},mxGraph.prototype.isConnectableEdges=function(){return this.connectableEdges},mxGraph.prototype.setCloneInvalidEdges=function(t){this.cloneInvalidEdges=t},mxGraph.prototype.isCloneInvalidEdges=function(){return this.cloneInvalidEdges},mxGraph.prototype.setAllowLoops=function(t){this.allowLoops=t},mxGraph.prototype.isDisconnectOnMove=function(){return this.disconnectOnMove},mxGraph.prototype.setDisconnectOnMove=function(t){this.disconnectOnMove=t},mxGraph.prototype.isDropEnabled=function(){return this.dropEnabled},mxGraph.prototype.setDropEnabled=function(t){this.dropEnabled=t},mxGraph.prototype.isSplitEnabled=function(){return this.splitEnabled},mxGraph.prototype.setSplitEnabled=function(t){this.splitEnabled=t},mxGraph.prototype.isCellResizable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsResizable()&&!this.isCellLocked(t)&&"0"!=mxUtils.getValue(i,mxConstants.STYLE_RESIZABLE,"1")},mxGraph.prototype.isCellsResizable=function(){return this.cellsResizable},mxGraph.prototype.setCellsResizable=function(t){this.cellsResizable=t},mxGraph.prototype.isTerminalPointMovable=function(t,e){return!0},mxGraph.prototype.isCellBendable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsBendable()&&!this.isCellLocked(t)&&0!=i[mxConstants.STYLE_BENDABLE]},mxGraph.prototype.isCellsBendable=function(){return this.cellsBendable},mxGraph.prototype.setCellsBendable=function(t){this.cellsBendable=t},mxGraph.prototype.isCellEditable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsEditable()&&!this.isCellLocked(t)&&0!=i[mxConstants.STYLE_EDITABLE]},mxGraph.prototype.isCellsEditable=function(){return this.cellsEditable},mxGraph.prototype.setCellsEditable=function(t){this.cellsEditable=t},mxGraph.prototype.isCellDisconnectable=function(t,e,i){return this.isCellsDisconnectable()&&!this.isCellLocked(t)},mxGraph.prototype.isCellsDisconnectable=function(){return this.cellsDisconnectable},mxGraph.prototype.setCellsDisconnectable=function(t){this.cellsDisconnectable=t},mxGraph.prototype.isValidSource=function(t){return null==t&&this.allowDanglingEdges||null!=t&&(!this.model.isEdge(t)||this.connectableEdges)&&this.isCellConnectable(t)},mxGraph.prototype.isValidTarget=function(t){return this.isValidSource(t)},mxGraph.prototype.isValidConnection=function(t,e){return this.isValidSource(t)&&this.isValidTarget(e)},mxGraph.prototype.setConnectable=function(t){this.connectionHandler.setEnabled(t)},mxGraph.prototype.isConnectable=function(t){return this.connectionHandler.isEnabled()},mxGraph.prototype.setTooltips=function(t){this.tooltipHandler.setEnabled(t)},mxGraph.prototype.setPanning=function(t){this.panningHandler.panningEnabled=t},mxGraph.prototype.isEditing=function(t){if(null!=this.cellEditor){var e=this.cellEditor.getEditingCell();return null==t?null!=e:t==e}return!1},mxGraph.prototype.isAutoSizeCell=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isAutoSizeCells()||1==i[mxConstants.STYLE_AUTOSIZE]},mxGraph.prototype.isAutoSizeCells=function(){return this.autoSizeCells},mxGraph.prototype.setAutoSizeCells=function(t){this.autoSizeCells=t},mxGraph.prototype.isExtendParent=function(t){return!this.getModel().isEdge(t)&&this.isExtendParents()},mxGraph.prototype.isExtendParents=function(){return this.extendParents},mxGraph.prototype.setExtendParents=function(t){this.extendParents=t},mxGraph.prototype.isExtendParentsOnAdd=function(t){return this.extendParentsOnAdd},mxGraph.prototype.setExtendParentsOnAdd=function(t){this.extendParentsOnAdd=t},mxGraph.prototype.isExtendParentsOnMove=function(){return this.extendParentsOnMove},mxGraph.prototype.setExtendParentsOnMove=function(t){this.extendParentsOnMove=t},mxGraph.prototype.isRecursiveResize=function(t){return this.recursiveResize},mxGraph.prototype.setRecursiveResize=function(t){this.recursiveResize=t},mxGraph.prototype.isConstrainChild=function(t){return this.isConstrainChildren()&&!this.getModel().isEdge(this.getModel().getParent(t))},mxGraph.prototype.isConstrainChildren=function(){return this.constrainChildren},mxGraph.prototype.setConstrainChildren=function(t){this.constrainChildren=t},mxGraph.prototype.isConstrainRelativeChildren=function(){return this.constrainRelativeChildren},mxGraph.prototype.setConstrainRelativeChildren=function(t){this.constrainRelativeChildren=t},mxGraph.prototype.isAllowNegativeCoordinates=function(){return this.allowNegativeCoordinates},mxGraph.prototype.setAllowNegativeCoordinates=function(t){this.allowNegativeCoordinates=t},mxGraph.prototype.getOverlap=function(t){return this.isAllowOverlapParent(t)?this.defaultOverlap:0},mxGraph.prototype.isAllowOverlapParent=function(t){return!1},mxGraph.prototype.getFoldableCells=function(t,e){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellFoldable(t,e)}))},mxGraph.prototype.isCellFoldable=function(t,e){var i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);return this.model.getChildCount(t)>0&&0!=n[mxConstants.STYLE_FOLDABLE]},mxGraph.prototype.isValidDropTarget=function(t,e,i){return null!=t&&(this.isSplitEnabled()&&this.isSplitTarget(t,e,i)||!this.model.isEdge(t)&&(this.isSwimlane(t)||this.model.getChildCount(t)>0&&!this.isCellCollapsed(t)))},mxGraph.prototype.isSplitTarget=function(t,e,i){if(this.model.isEdge(t)&&null!=e&&1==e.length&&this.isCellConnectable(e[0])&&null==this.getEdgeValidationError(t,this.model.getTerminal(t,!0),e[0])){var n=this.model.getTerminal(t,!0),l=this.model.getTerminal(t,!1);return!this.model.isAncestor(e[0],n)&&!this.model.isAncestor(e[0],l)}return!1},mxGraph.prototype.getDropTarget=function(t,e,i,n){if(!this.isSwimlaneNesting())for(var l=0;l<t.length;l++)if(this.isSwimlane(t[l]))return null;var o=mxUtils.convertPoint(this.container,mxEvent.getClientX(e),mxEvent.getClientY(e));o.x-=this.panDx,o.y-=this.panDy;var r=this.getSwimlaneAt(o.x,o.y);if(null==i)i=r;else if(null!=r){for(var s=this.model.getParent(r);null!=s&&this.isSwimlane(s)&&s!=i;)s=this.model.getParent(s);s==i&&(i=r)}for(;null!=i&&!this.isValidDropTarget(i,t,e)&&!this.model.isLayer(i);)i=this.model.getParent(i);if(null==n||!n)for(var a=i;null!=a&&mxUtils.indexOf(t,a)<0;)a=this.model.getParent(a);return this.model.isLayer(i)||null!=a?null:i},mxGraph.prototype.getDefaultParent=function(){var t=this.getCurrentRoot();if(null==t&&null==(t=this.defaultParent)){var e=this.model.getRoot();t=this.model.getChildAt(e,0)}return t},mxGraph.prototype.setDefaultParent=function(t){this.defaultParent=t},mxGraph.prototype.getSwimlane=function(t){for(;null!=t&&!this.isSwimlane(t);)t=this.model.getParent(t);return t},mxGraph.prototype.getSwimlaneAt=function(t,e,i){if(null!=(i=i||this.getDefaultParent()))for(var n=this.model.getChildCount(i),l=0;l<n;l++){var o=this.model.getChildAt(i,l),r=this.getSwimlaneAt(t,e,o);if(null!=r)return r;if(this.isSwimlane(o)){var s=this.view.getState(o);if(this.intersects(s,t,e))return o}}return null},mxGraph.prototype.getCellAt=function(t,e,i,n,l,o){if(n=null==n||n,l=null==l||l,null==i&&null==(i=this.getCurrentRoot())&&(i=this.getModel().getRoot()),null!=i)for(var r=this.model.getChildCount(i)-1;r>=0;r--){var s=this.model.getChildAt(i,r),a=this.getCellAt(t,e,s,n,l,o);if(null!=a)return a;if(this.isCellVisible(s)&&(l&&this.model.isEdge(s)||n&&this.model.isVertex(s))){var g=this.view.getState(s);if(null!=g&&(null==o||!o(g,t,e))&&this.intersects(g,t,e))return s}}return null},mxGraph.prototype.intersects=function(t,e,i){if(null!=t){var n=t.absolutePoints;if(null!=n)for(var l=this.tolerance*this.tolerance,o=n[0],r=1;r<n.length;r++){var s=n[r];if(mxUtils.ptSegDistSq(o.x,o.y,s.x,s.y,e,i)<=l)return!0;o=s}else{var a=mxUtils.toRadians(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION)||0);if(0!=a){var g=Math.cos(-a),C=Math.sin(-a),h=new mxPoint(t.getCenterX(),t.getCenterY());e=(o=mxUtils.getRotatedPoint(new mxPoint(e,i),g,C,h)).x,i=o.y}if(mxUtils.contains(t,e,i))return!0}}return!1},mxGraph.prototype.hitsSwimlaneContent=function(t,e,i){var n=this.getView().getState(t),l=this.getStartSize(t);if(null!=n){var o=this.getView().getScale();if(e-=n.x,i-=n.y,l.width>0&&e>0&&e>l.width*o)return!0;if(l.height>0&&i>0&&i>l.height*o)return!0}return!1},mxGraph.prototype.getChildVertices=function(t){return this.getChildCells(t,!0,!1)},mxGraph.prototype.getChildEdges=function(t){return this.getChildCells(t,!1,!0)},mxGraph.prototype.getChildCells=function(t,e,i){t=null!=t?t:this.getDefaultParent(),e=null!=e&&e,i=null!=i&&i;for(var n=this.model.getChildCells(t,e,i),l=[],o=0;o<n.length;o++)this.isCellVisible(n[o])&&l.push(n[o]);return l},mxGraph.prototype.getConnections=function(t,e){return this.getEdges(t,e,!0,!0,!1)},mxGraph.prototype.getIncomingEdges=function(t,e){return this.getEdges(t,e,!0,!1,!1)},mxGraph.prototype.getOutgoingEdges=function(t,e){return this.getEdges(t,e,!1,!0,!1)},mxGraph.prototype.getEdges=function(t,e,i,n,l,o){i=null==i||i,n=null==n||n,l=null==l||l,o=null!=o&&o;for(var r=[],s=this.isCellCollapsed(t),a=this.model.getChildCount(t),g=0;g<a;g++){var C=this.model.getChildAt(t,g);!s&&this.isCellVisible(C)||(r=r.concat(this.model.getEdges(C,i,n)))}r=r.concat(this.model.getEdges(t,i,n));for(var h=[],g=0;g<r.length;g++){var A=this.view.getState(r[g]),I=null!=A?A.getVisibleTerminal(!0):this.view.getVisibleTerminal(r[g],!0),c=null!=A?A.getVisibleTerminal(!1):this.view.getVisibleTerminal(r[g],!1);(l&&I==c||I!=c&&(i&&c==t&&(null==e||this.isValidAncestor(I,e,o))||n&&I==t&&(null==e||this.isValidAncestor(c,e,o))))&&h.push(r[g])}return h},mxGraph.prototype.isValidAncestor=function(t,e,i){return i?this.model.isAncestor(e,t):this.model.getParent(t)==e},mxGraph.prototype.getOpposites=function(t,e,i,n){i=null==i||i,n=null==n||n;var l=[],o=new mxDictionary;if(null!=t)for(var r=0;r<t.length;r++){var s=this.view.getState(t[r]),a=null!=s?s.getVisibleTerminal(!0):this.view.getVisibleTerminal(t[r],!0),g=null!=s?s.getVisibleTerminal(!1):this.view.getVisibleTerminal(t[r],!1);a==e&&null!=g&&g!=e&&n?o.get(g)||(o.put(g,!0),l.push(g)):g==e&&null!=a&&a!=e&&i&&(o.get(a)||(o.put(a,!0),l.push(a)))}return l},mxGraph.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),l=[],o=0;o<n.length;o++){var r=this.view.getState(n[o]),s=null!=r?r.getVisibleTerminal(!0):this.view.getVisibleTerminal(n[o],!0),a=null!=r?r.getVisibleTerminal(!1):this.view.getVisibleTerminal(n[o],!1);(s==t&&a==e||!i&&s==e&&a==t)&&l.push(n[o])}return l},mxGraph.prototype.getPointForEvent=function(t,e){var i=mxUtils.convertPoint(this.container,mxEvent.getClientX(t),mxEvent.getClientY(t)),n=this.view.scale,l=this.view.translate,o=0!=e?this.gridSize/2:0;return i.x=this.snap(i.x/n-l.x-o),i.y=this.snap(i.y/n-l.y-o),i},mxGraph.prototype.getCells=function(t,e,i,n,l,o){if(o=null!=o?o:[],i>0||n>0){var r=this.getModel(),s=t+i,a=e+n;if(null==l&&null==(l=this.getCurrentRoot())&&(l=r.getRoot()),null!=l)for(var g=r.getChildCount(l),C=0;C<g;C++){var h=r.getChildAt(l,C),A=this.view.getState(h);if(null!=A&&this.isCellVisible(h)){var I=mxUtils.getValue(A.style,mxConstants.STYLE_ROTATION)||0,c=A;0!=I&&(c=mxUtils.getBoundingBox(c,I)),(r.isEdge(h)||r.isVertex(h))&&c.x>=t&&c.y+c.height<=a&&c.y>=e&&c.x+c.width<=s?o.push(h):this.getCells(t,e,i,n,h,o)}}}return o},mxGraph.prototype.getCellsBeyond=function(t,e,i,n,l){var o=[];if((n||l)&&(null==i&&(i=this.getDefaultParent()),null!=i))for(var r=this.model.getChildCount(i),s=0;s<r;s++){var a=this.model.getChildAt(i,s),g=this.view.getState(a);this.isCellVisible(a)&&null!=g&&(!n||g.x>=t)&&(!l||g.y>=e)&&o.push(a)}return o},mxGraph.prototype.findTreeRoots=function(t,e,i){e=null!=e&&e,i=null!=i&&i;var n=[];if(null!=t){for(var l=this.getModel(),o=l.getChildCount(t),r=null,s=0,a=0;a<o;a++){var g=l.getChildAt(t,a);if(this.model.isVertex(g)&&this.isCellVisible(g)){for(var C=this.getConnections(g,e?t:null),h=0,A=0,I=0;I<C.length;I++)this.view.getVisibleTerminal(C[I],!0)==g?h++:A++;(i&&0==h&&A>0||!i&&0==A&&h>0)&&n.push(g);var c=i?A-h:h-A;c>s&&(s=c,r=g)}}0==n.length&&null!=r&&n.push(r)}return n},mxGraph.prototype.traverse=function(t,e,i,n,l){if(null!=i&&null!=t&&(e=null==e||e,!(l=l||new mxDictionary).get(t))){l.put(t,!0);var o=i(t,n);if(null==o||o){var r=this.model.getEdgeCount(t);if(r>0)for(var s=0;s<r;s++){var a=this.model.getEdgeAt(t,s),g=this.model.getTerminal(a,!0)==t;if(!e||g){var C=this.model.getTerminal(a,!g);this.traverse(C,e,i,a,l)}}}}},mxGraph.prototype.isCellSelected=function(t){return this.getSelectionModel().isSelected(t)},mxGraph.prototype.isSelectionEmpty=function(){return this.getSelectionModel().isEmpty()},mxGraph.prototype.clearSelection=function(){return this.getSelectionModel().clear()},mxGraph.prototype.getSelectionCount=function(){return this.getSelectionModel().cells.length},mxGraph.prototype.getSelectionCell=function(){return this.getSelectionModel().cells[0]},mxGraph.prototype.getSelectionCells=function(){return this.getSelectionModel().cells.slice()},mxGraph.prototype.setSelectionCell=function(t){this.getSelectionModel().setCell(t)},mxGraph.prototype.setSelectionCells=function(t){this.getSelectionModel().setCells(t)},mxGraph.prototype.addSelectionCell=function(t){this.getSelectionModel().addCell(t)},mxGraph.prototype.addSelectionCells=function(t){this.getSelectionModel().addCells(t)},mxGraph.prototype.removeSelectionCell=function(t){this.getSelectionModel().removeCell(t)},mxGraph.prototype.removeSelectionCells=function(t){this.getSelectionModel().removeCells(t)},mxGraph.prototype.selectRegion=function(t,e){var i=this.getCells(t.x,t.y,t.width,t.height);return this.selectCellsForEvent(i,e),i},mxGraph.prototype.selectNextCell=function(){this.selectCell(!0)},mxGraph.prototype.selectPreviousCell=function(){this.selectCell()},mxGraph.prototype.selectParentCell=function(){this.selectCell(!1,!0)},mxGraph.prototype.selectChildCell=function(){this.selectCell(!1,!1,!0)},mxGraph.prototype.selectCell=function(t,e,i){var n=this.selectionModel,l=n.cells.length>0?n.cells[0]:null;n.cells.length>1&&n.clear();var o=null!=l?this.model.getParent(l):this.getDefaultParent(),r=this.model.getChildCount(o);if(null==l&&r>0){g=this.model.getChildAt(o,0);this.setSelectionCell(g)}else if(null!=l&&!e||null==this.view.getState(o)||null==this.model.getGeometry(o)){if(null!=l&&i){if(this.model.getChildCount(l)>0){g=this.model.getChildAt(l,0);this.setSelectionCell(g)}}else if(r>0){var s=o.getIndex(l);if(t){s++;g=this.model.getChildAt(o,s%r);this.setSelectionCell(g)}else{var a=--s<0?r-1:s,g=this.model.getChildAt(o,a);this.setSelectionCell(g)}}}else this.getCurrentRoot()!=o&&this.setSelectionCell(o)},mxGraph.prototype.selectAll=function(t,e){t=t||this.getDefaultParent();var i=e?this.model.filterDescendants(function(e){return e!=t},t):this.model.getChildren(t);null!=i&&this.setSelectionCells(i)},mxGraph.prototype.selectVertices=function(t){this.selectCells(!0,!1,t)},mxGraph.prototype.selectEdges=function(t){this.selectCells(!1,!0,t)},mxGraph.prototype.selectCells=function(t,e,i){i=i||this.getDefaultParent();var n=mxUtils.bind(this,function(i){return null!=this.view.getState(i)&&(0==this.model.getChildCount(i)&&this.model.isVertex(i)&&t&&!this.model.isEdge(this.model.getParent(i))||this.model.isEdge(i)&&e)}),l=this.model.filterDescendants(n,i);this.setSelectionCells(l)},mxGraph.prototype.selectCellForEvent=function(t,e){var i=this.isCellSelected(t);this.isToggleEvent(e)?i?this.removeSelectionCell(t):this.addSelectionCell(t):i&&1==this.getSelectionCount()||this.setSelectionCell(t)},mxGraph.prototype.selectCellsForEvent=function(t,e){this.isToggleEvent(e)?this.addSelectionCells(t):this.setSelectionCells(t)},mxGraph.prototype.createHandler=function(t){var e=null;if(null!=t)if(this.model.isEdge(t.cell)){var i=t.getVisibleTerminalState(!0),n=t.getVisibleTerminalState(!1),l=this.getCellGeometry(t.cell),o=this.view.getEdgeStyle(t,null!=l?l.points:null,i,n);e=this.createEdgeHandler(t,o)}else e=this.createVertexHandler(t);return e},mxGraph.prototype.createVertexHandler=function(t){return new mxVertexHandler(t)},mxGraph.prototype.createEdgeHandler=function(t,e){return e==mxEdgeStyle.Loop||e==mxEdgeStyle.ElbowConnector||e==mxEdgeStyle.SideToSide||e==mxEdgeStyle.TopToBottom?this.createElbowEdgeHandler(t):e==mxEdgeStyle.SegmentConnector||e==mxEdgeStyle.OrthConnector?this.createEdgeSegmentHandler(t):new mxEdgeHandler(t)},mxGraph.prototype.createEdgeSegmentHandler=function(t){return new mxEdgeSegmentHandler(t)},mxGraph.prototype.createElbowEdgeHandler=function(t){return new mxElbowEdgeHandler(t)},mxGraph.prototype.addMouseListener=function(t){null==this.mouseListeners&&(this.mouseListeners=[]),this.mouseListeners.push(t)},mxGraph.prototype.removeMouseListener=function(t){if(null!=this.mouseListeners)for(var e=0;e<this.mouseListeners.length;e++)if(this.mouseListeners[e]==t){this.mouseListeners.splice(e,1);break}},mxGraph.prototype.updateMouseEvent=function(t,e){if(null==t.graphX||null==t.graphY){var i=mxUtils.convertPoint(this.container,t.getX(),t.getY());t.graphX=i.x-this.panDx,t.graphY=i.y-this.panDy,null==t.getCell()&&this.isMouseDown&&e==mxEvent.MOUSE_MOVE&&(t.state=this.view.getState(this.getCellAt(i.x,i.y,null,null,null,function(t){return null==t.shape||t.shape.paintBackground!=mxRectangleShape.prototype.paintBackground||"1"==mxUtils.getValue(t.style,mxConstants.STYLE_POINTER_EVENTS,"1")||null!=t.shape.fill&&t.shape.fill!=mxConstants.NONE})))}return t},mxGraph.prototype.getStateForTouchEvent=function(t){var e=mxEvent.getClientX(t),i=mxEvent.getClientY(t),n=mxUtils.convertPoint(this.container,e,i);return this.view.getState(this.getCellAt(n.x,n.y))},mxGraph.prototype.isEventIgnored=function(t,e,i){var n=mxEvent.isMouseEvent(e.getEvent()),l=!1;return e.getEvent()==this.lastEvent?l=!0:this.lastEvent=e.getEvent(),null!=this.eventSource&&t!=mxEvent.MOUSE_MOVE?(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect),this.mouseMoveRedirect=null,this.mouseUpRedirect=null,this.eventSource=null):null!=this.eventSource&&e.getSource()!=this.eventSource?l=!0:mxClient.IS_TOUCH&&t==mxEvent.MOUSE_DOWN&&!n&&(this.eventSource=e.getSource(),this.mouseMoveRedirect=mxUtils.bind(this,function(t){this.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t,this.getStateForTouchEvent(t)))}),this.mouseUpRedirect=mxUtils.bind(this,function(t){this.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t,this.getStateForTouchEvent(t)))}),mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect)),this.isSyntheticEventIgnored(t,e,i)&&(l=!0),!mxEvent.isPopupTrigger(this.lastEvent)&&t!=mxEvent.MOUSE_MOVE&&2==this.lastEvent.detail||(t==mxEvent.MOUSE_UP&&this.isMouseDown?this.isMouseDown=!1:t!=mxEvent.MOUSE_DOWN||this.isMouseDown?!l&&((!mxClient.IS_FF||t!=mxEvent.MOUSE_MOVE)&&this.isMouseDown&&this.isMouseTrigger!=n||t==mxEvent.MOUSE_DOWN&&this.isMouseDown||t==mxEvent.MOUSE_UP&&!this.isMouseDown)&&(l=!0):(this.isMouseDown=!0,this.isMouseTrigger=n),l||t!=mxEvent.MOUSE_DOWN||(this.lastMouseX=e.getX(),this.lastMouseY=e.getY()),l)},mxGraph.prototype.isSyntheticEventIgnored=function(t,e,i){var n=!1,l=mxEvent.isMouseEvent(e.getEvent());return this.ignoreMouseEvents&&l&&t!=mxEvent.MOUSE_MOVE?(this.ignoreMouseEvents=t!=mxEvent.MOUSE_UP,n=!0):mxClient.IS_FF&&!l&&t==mxEvent.MOUSE_UP&&(this.ignoreMouseEvents=!0),n},mxGraph.prototype.isEventSourceIgnored=function(t,e){var i=e.getSource(),n=null!=i.nodeName?i.nodeName.toLowerCase():"",l=!mxEvent.isMouseEvent(e.getEvent())||mxEvent.isLeftMouseButton(e.getEvent());return t==mxEvent.MOUSE_DOWN&&l&&("select"==n||"option"==n||"input"==n&&"checkbox"!=i.type&&"radio"!=i.type&&"button"!=i.type&&"submit"!=i.type&&"file"!=i.type)},mxGraph.prototype.getEventState=function(t){return t},mxGraph.prototype.fireMouseEvent=function(t,e,i){if(this.isEventSourceIgnored(t,e))null!=this.tooltipHandler&&this.tooltipHandler.hide();else{if(null==i&&(i=this),e=this.updateMouseEvent(e,t),!this.nativeDblClickEnabled&&!mxEvent.isPopupTrigger(e.getEvent())||this.doubleTapEnabled&&mxClient.IS_TOUCH&&mxEvent.isTouchEvent(e.getEvent())){var n=(new Date).getTime();if(!mxClient.IS_QUIRKS&&t==mxEvent.MOUSE_DOWN||mxClient.IS_QUIRKS&&t==mxEvent.MOUSE_UP&&!this.fireDoubleClick)if(null!=this.lastTouchEvent&&this.lastTouchEvent!=e.getEvent()&&n-this.lastTouchTime<this.doubleTapTimeout&&Math.abs(this.lastTouchX-e.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-e.getY())<this.doubleTapTolerance&&this.doubleClickCounter<2){this.doubleClickCounter++;var l=!1;if(t==mxEvent.MOUSE_UP){if(e.getCell()==this.lastTouchCell&&null!=this.lastTouchCell){this.lastTouchTime=0;o=this.lastTouchCell;this.lastTouchCell=null,mxClient.IS_QUIRKS&&e.getSource().fireEvent("ondblclick"),this.dblClick(e.getEvent(),o),l=!0}}else this.fireDoubleClick=!0,this.lastTouchTime=0;if(!mxClient.IS_QUIRKS||l)return void mxEvent.consume(e.getEvent())}else null!=this.lastTouchEvent&&this.lastTouchEvent==e.getEvent()||(this.lastTouchCell=e.getCell(),this.lastTouchX=e.getX(),this.lastTouchY=e.getY(),this.lastTouchTime=n,this.lastTouchEvent=e.getEvent(),this.doubleClickCounter=0);else if((this.isMouseDown||t==mxEvent.MOUSE_UP)&&this.fireDoubleClick){this.fireDoubleClick=!1;var o=this.lastTouchCell;return this.lastTouchCell=null,this.isMouseDown=!1,void((null!=o||mxEvent.isTouchEvent(e.getEvent())&&(mxClient.IS_GC||mxClient.IS_SF))&&Math.abs(this.lastTouchX-e.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-e.getY())<this.doubleTapTolerance?this.dblClick(e.getEvent(),o):mxEvent.consume(e.getEvent()))}}if(!this.isEventIgnored(t,e,i)){if(e.state=this.getEventState(e.getState()),this.fireEvent(new mxEventObject(mxEvent.FIRE_MOUSE_EVENT,"eventName",t,"event",e)),mxClient.IS_OP||mxClient.IS_SF||mxClient.IS_GC||mxClient.IS_IE11||mxClient.IS_IE&&mxClient.IS_SVG||e.getEvent().target!=this.container){if(t==mxEvent.MOUSE_MOVE&&this.isMouseDown&&this.autoScroll&&!mxEvent.isMultiTouchEvent(e.getEvent))this.scrollPointToVisible(e.getGraphX(),e.getGraphY(),this.autoExtend);else if(t==mxEvent.MOUSE_UP&&this.ignoreScrollbars&&this.translateToScrollPosition&&(0!=this.container.scrollLeft||0!=this.container.scrollTop)){var r=this.view.scale,s=this.view.translate;this.view.setTranslate(s.x-this.container.scrollLeft/r,s.y-this.container.scrollTop/r),this.container.scrollLeft=0,this.container.scrollTop=0}if(null!=this.mouseListeners){var a=[i,e];e.getEvent().preventDefault||(e.getEvent().returnValue=!0);for(var g=0;g<this.mouseListeners.length;g++){var C=this.mouseListeners[g];t==mxEvent.MOUSE_DOWN?C.mouseDown.apply(C,a):t==mxEvent.MOUSE_MOVE?C.mouseMove.apply(C,a):t==mxEvent.MOUSE_UP&&C.mouseUp.apply(C,a)}}t==mxEvent.MOUSE_UP&&this.click(e)}if(mxEvent.isTouchEvent(e.getEvent())&&t==mxEvent.MOUSE_DOWN&&this.tapAndHoldEnabled&&!this.tapAndHoldInProgress){this.tapAndHoldInProgress=!0,this.initialTouchX=e.getGraphX(),this.initialTouchY=e.getGraphY();var h=function(){this.tapAndHoldValid&&this.tapAndHold(e),this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1};this.tapAndHoldThread&&window.clearTimeout(this.tapAndHoldThread),this.tapAndHoldThread=window.setTimeout(mxUtils.bind(this,h),this.tapAndHoldDelay),this.tapAndHoldValid=!0}else t==mxEvent.MOUSE_UP?(this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1):this.tapAndHoldValid&&(this.tapAndHoldValid=Math.abs(this.initialTouchX-e.getGraphX())<this.tolerance&&Math.abs(this.initialTouchY-e.getGraphY())<this.tolerance);t==mxEvent.MOUSE_DOWN&&this.isEditing()&&!this.cellEditor.isEventSource(e.getEvent())&&this.stopEditing(!this.isInvokesStopCellEditing()),this.consumeMouseEvent(t,e,i)}}},mxGraph.prototype.consumeMouseEvent=function(t,e,i){t==mxEvent.MOUSE_DOWN&&mxEvent.isTouchEvent(e.getEvent())&&e.consume(!1)},mxGraph.prototype.fireGestureEvent=function(t,e){this.lastTouchTime=0,this.fireEvent(new mxEventObject(mxEvent.GESTURE,"event",t,"cell",e))},mxGraph.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tooltipHandler&&this.tooltipHandler.destroy(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.destroy(),null!=this.panningHandler&&this.panningHandler.destroy(),null!=this.popupMenuHandler&&this.popupMenuHandler.destroy(),null!=this.connectionHandler&&this.connectionHandler.destroy(),null!=this.graphHandler&&this.graphHandler.destroy(),null!=this.cellEditor&&this.cellEditor.destroy(),null!=this.view&&this.view.destroy(),null!=this.model&&null!=this.graphModelChangeListener&&(this.model.removeListener(this.graphModelChangeListener),this.graphModelChangeListener=null),this.container=null)},mxCellOverlay.prototype=new mxEventSource,mxCellOverlay.prototype.constructor=mxCellOverlay,mxCellOverlay.prototype.image=null,mxCellOverlay.prototype.tooltip=null,mxCellOverlay.prototype.align=mxConstants.ALIGN_RIGHT,mxCellOverlay.prototype.verticalAlign=mxConstants.ALIGN_BOTTOM,mxCellOverlay.prototype.offset=null,mxCellOverlay.prototype.cursor=null,mxCellOverlay.prototype.defaultOverlap=.5,mxCellOverlay.prototype.getBounds=function(t){var e=t.view.graph.getModel().isEdge(t.cell),i=t.view.scale,n=null,l=this.image.width,o=this.image.height;if(e){var r=t.absolutePoints;if(r.length%2==1)n=r[Math.floor(r.length/2)];else{var s=r.length/2,a=r[s-1],g=r[s]
;n=new mxPoint(a.x+(g.x-a.x)/2,a.y+(g.y-a.y)/2)}}else n=new mxPoint,this.align==mxConstants.ALIGN_LEFT?n.x=t.x:this.align==mxConstants.ALIGN_CENTER?n.x=t.x+t.width/2:n.x=t.x+t.width,this.verticalAlign==mxConstants.ALIGN_TOP?n.y=t.y:this.verticalAlign==mxConstants.ALIGN_MIDDLE?n.y=t.y+t.height/2:n.y=t.y+t.height;return new mxRectangle(Math.round(n.x-(l*this.defaultOverlap-this.offset.x)*i),Math.round(n.y-(o*this.defaultOverlap-this.offset.y)*i),l*i,o*i)},mxCellOverlay.prototype.toString=function(){return this.tooltip},mxOutline.prototype.source=null,mxOutline.prototype.outline=null,mxOutline.prototype.graphRenderHint=mxConstants.RENDERING_HINT_FASTER,mxOutline.prototype.enabled=!0,mxOutline.prototype.showViewport=!0,mxOutline.prototype.border=10,mxOutline.prototype.sizerSize=8,mxOutline.prototype.labelsVisible=!1,mxOutline.prototype.updateOnPan=!1,mxOutline.prototype.sizerImage=null,mxOutline.prototype.minScale=1e-4,mxOutline.prototype.suspended=!1,mxOutline.prototype.forceVmlHandles=8==document.documentMode,mxOutline.prototype.createGraph=function(t){var e=new mxGraph(t,this.source.getModel(),this.graphRenderHint,this.source.getStylesheet());return e.foldingEnabled=!1,e.autoScroll=!1,e},mxOutline.prototype.init=function(t){this.outline=this.createGraph(t);var e=this.outline.graphModelChanged;if(this.outline.graphModelChanged=mxUtils.bind(this,function(t){this.suspended||null==this.outline||e.apply(this.outline,arguments)}),mxClient.IS_SVG){var i=this.outline.getView().getCanvas().parentNode;i.setAttribute("shape-rendering","optimizeSpeed"),i.setAttribute("image-rendering","optimizeSpeed")}this.outline.labelsVisible=this.labelsVisible,this.outline.setEnabled(!1),this.updateHandler=mxUtils.bind(this,function(t,e){this.suspended||this.active||this.update()}),this.source.getModel().addListener(mxEvent.CHANGE,this.updateHandler),this.outline.addMouseListener(this);var n=this.source.getView();n.addListener(mxEvent.SCALE,this.updateHandler),n.addListener(mxEvent.TRANSLATE,this.updateHandler),n.addListener(mxEvent.SCALE_AND_TRANSLATE,this.updateHandler),n.addListener(mxEvent.DOWN,this.updateHandler),n.addListener(mxEvent.UP,this.updateHandler),mxEvent.addListener(this.source.container,"scroll",this.updateHandler),this.panHandler=mxUtils.bind(this,function(t){this.updateOnPan&&this.updateHandler.apply(this,arguments)}),this.source.addListener(mxEvent.PAN,this.panHandler),this.refreshHandler=mxUtils.bind(this,function(t){this.outline.setStylesheet(this.source.getStylesheet()),this.outline.refresh()}),this.source.addListener(mxEvent.REFRESH,this.refreshHandler),this.bounds=new mxRectangle(0,0,0,0),this.selectionBorder=new mxRectangleShape(this.bounds,null,mxConstants.OUTLINE_COLOR,mxConstants.OUTLINE_STROKEWIDTH),this.selectionBorder.dialect=this.outline.dialect,this.forceVmlHandles&&(this.selectionBorder.isHtmlAllowed=function(){return!1}),this.selectionBorder.init(this.outline.getView().getOverlayPane());var l=mxUtils.bind(this,function(t){var e=mxEvent.getSource(t),i=mxUtils.bind(this,function(t){this.outline.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t))}),n=mxUtils.bind(this,function(t){mxEvent.removeGestureListeners(e,null,i,n),this.outline.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t))});mxEvent.addGestureListeners(e,null,i,n),this.outline.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t))});mxEvent.addGestureListeners(this.selectionBorder.node,l),this.sizer=this.createSizer(),this.forceVmlHandles&&(this.sizer.isHtmlAllowed=function(){return!1}),this.sizer.init(this.outline.getView().getOverlayPane()),this.enabled&&(this.sizer.node.style.cursor="nwse-resize"),mxEvent.addGestureListeners(this.sizer.node,l),this.selectionBorder.node.style.display=this.showViewport?"":"none",this.sizer.node.style.display=this.selectionBorder.node.style.display,this.selectionBorder.node.style.cursor="move",this.update(!1)},mxOutline.prototype.isEnabled=function(){return this.enabled},mxOutline.prototype.setEnabled=function(t){this.enabled=t},mxOutline.prototype.setZoomEnabled=function(t){this.sizer.node.style.visibility=t?"visible":"hidden"},mxOutline.prototype.refresh=function(){this.update(!0)},mxOutline.prototype.createSizer=function(){if(null!=this.sizerImage)return(t=new mxImageShape(new mxRectangle(0,0,this.sizerImage.width,this.sizerImage.height),this.sizerImage.src)).dialect=this.outline.dialect,t;var t=new mxRectangleShape(new mxRectangle(0,0,this.sizerSize,this.sizerSize),mxConstants.OUTLINE_HANDLE_FILLCOLOR,mxConstants.OUTLINE_HANDLE_STROKECOLOR);return t.dialect=this.outline.dialect,t},mxOutline.prototype.getSourceContainerSize=function(){return new mxRectangle(0,0,this.source.container.scrollWidth,this.source.container.scrollHeight)},mxOutline.prototype.getOutlineOffset=function(t){return null},mxOutline.prototype.getSourceGraphBounds=function(){return this.source.getGraphBounds()},mxOutline.prototype.update=function(t){if(null!=this.source&&null!=this.outline){var e=this.source.view.scale,i=this.getSourceGraphBounds(),n=new mxRectangle(i.x/e+this.source.panDx,i.y/e+this.source.panDy,i.width/e,i.height/e),l=new mxRectangle(0,0,this.source.container.clientWidth/e,this.source.container.clientHeight/e),o=n.clone();o.add(l);var r=this.getSourceContainerSize(),s=Math.max(r.width/e,o.width),a=Math.max(r.height/e,o.height),g=Math.max(0,this.outline.container.clientWidth-this.border),C=Math.max(0,this.outline.container.clientHeight-this.border),h=Math.min(g/s,C/a),A=isNaN(h)?this.minScale:Math.max(this.minScale,h);if(A>0){this.outline.getView().scale!=A&&(this.outline.getView().scale=A,t=!0);var I=this.outline.getView();I.currentRoot!=this.source.getView().currentRoot&&I.setCurrentRoot(this.source.getView().currentRoot);var c=this.source.view.translate,d=c.x+this.source.panDx,u=c.y+this.source.panDy,p=this.getOutlineOffset(A);null!=p&&(d+=p.x,u+=p.y),n.x<0&&(d-=n.x),n.y<0&&(u-=n.y),I.translate.x==d&&I.translate.y==u||(I.translate.x=d,I.translate.y=u,t=!0);var m=I.translate,x=(A=this.source.getView().scale)/I.scale,v=1/I.scale,y=this.source.container;this.bounds=new mxRectangle((m.x-c.x-this.source.panDx)/v,(m.y-c.y-this.source.panDy)/v,y.clientWidth/x,y.clientHeight/x),this.bounds.x+=this.source.container.scrollLeft*I.scale/A,this.bounds.y+=this.source.container.scrollTop*I.scale/A,(f=this.selectionBorder.bounds).x==this.bounds.x&&f.y==this.bounds.y&&f.width==this.bounds.width&&f.height==this.bounds.height||(this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw());var f=this.sizer.bounds,b=new mxRectangle(this.bounds.x+this.bounds.width-f.width/2,this.bounds.y+this.bounds.height-f.height/2,f.width,f.height);f.x==b.x&&f.y==b.y&&f.width==b.width&&f.height==b.height||(this.sizer.bounds=b,"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw()),t&&this.outline.view.revalidate()}}},mxOutline.prototype.mouseDown=function(t,e){if(this.enabled&&this.showViewport){var i=mxEvent.isMouseEvent(e.getEvent())?0:this.source.tolerance,n=this.source.allowHandleBoundsCheck&&(mxClient.IS_IE||i>0)?new mxRectangle(e.getGraphX()-i,e.getGraphY()-i,2*i,2*i):null;this.zoom=e.isSource(this.sizer)||null!=n&&mxUtils.intersects(shape.bounds,n),this.startX=e.getX(),this.startY=e.getY(),this.active=!0,this.source.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.source.container)?(this.dx0=this.source.container.scrollLeft,this.dy0=this.source.container.scrollTop):(this.dx0=0,this.dy0=0)}e.consume()},mxOutline.prototype.mouseMove=function(t,e){if(this.active){this.selectionBorder.node.style.display=this.showViewport?"":"none",this.sizer.node.style.display=this.selectionBorder.node.style.display;var i=this.getTranslateForEvent(e),n=i.x,l=i.y,o=null;if(this.zoom){var r=this.source.container;l=n/(r.clientWidth/r.clientHeight),o=new mxRectangle(this.bounds.x,this.bounds.y,Math.max(1,this.bounds.width+n),Math.max(1,this.bounds.height+l)),this.selectionBorder.bounds=o,this.selectionBorder.redraw()}else{var s=this.outline.getView().scale;o=new mxRectangle(this.bounds.x+n,this.bounds.y+l,this.bounds.width,this.bounds.height),this.selectionBorder.bounds=o,this.selectionBorder.redraw(),n/=s,n*=this.source.getView().scale,l/=s,l*=this.source.getView().scale,this.source.panGraph(-n-this.dx0,-l-this.dy0)}var a=this.sizer.bounds;this.sizer.bounds=new mxRectangle(o.x+o.width-a.width/2,o.y+o.height-a.height/2,a.width,a.height),"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw(),e.consume()}},mxOutline.prototype.getTranslateForEvent=function(t){return new mxPoint(t.getX()-this.startX,t.getY()-this.startY)},mxOutline.prototype.mouseUp=function(t,e){if(this.active){var i=this.getTranslateForEvent(e),n=i.x,l=i.y;if(Math.abs(n)>0||Math.abs(l)>0){if(this.zoom){var o=this.selectionBorder.bounds.width,r=this.source.getView().scale;this.source.zoomTo(Math.max(this.minScale,r-n*r/o),!1)}else if(!this.source.useScrollbarsForPanning||!mxUtils.hasScrollbars(this.source.container)){this.source.panGraph(0,0),n/=this.outline.getView().scale,l/=this.outline.getView().scale;var s=this.source.getView().translate;this.source.getView().setTranslate(s.x-n,s.y-l)}this.update(),e.consume()}this.index=null,this.active=!1}},mxOutline.prototype.destroy=function(){null!=this.source&&(this.source.removeListener(this.panHandler),this.source.removeListener(this.refreshHandler),this.source.getModel().removeListener(this.updateHandler),this.source.getView().removeListener(this.updateHandler),mxEvent.addListener(this.source.container,"scroll",this.updateHandler),this.source=null),null!=this.outline&&(this.outline.removeMouseListener(this),this.outline.destroy(),this.outline=null),null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null),null!=this.sizer&&(this.sizer.destroy(),this.sizer=null)},mxMultiplicity.prototype.type=null,mxMultiplicity.prototype.attr=null,mxMultiplicity.prototype.value=null,mxMultiplicity.prototype.source=null,mxMultiplicity.prototype.min=null,mxMultiplicity.prototype.max=null,mxMultiplicity.prototype.validNeighbors=null,mxMultiplicity.prototype.validNeighborsAllowed=!0,mxMultiplicity.prototype.countError=null,mxMultiplicity.prototype.typeError=null,mxMultiplicity.prototype.check=function(t,e,i,n,l,o){var r="";return(this.source&&this.checkTerminal(t,i,e)||!this.source&&this.checkTerminal(t,n,e))&&(null!=this.countError&&(this.source&&(0==this.max||l>=this.max)||!this.source&&(0==this.max||o>=this.max))&&(r+=this.countError+"\n"),null!=this.validNeighbors&&null!=this.typeError&&this.validNeighbors.length>0&&(this.checkNeighbors(t,e,i,n)||(r+=this.typeError+"\n"))),r.length>0?r:null},mxMultiplicity.prototype.checkNeighbors=function(t,e,i,n){for(var l=t.model.getValue(i),o=t.model.getValue(n),r=!this.validNeighborsAllowed,s=this.validNeighbors,a=0;a<s.length;a++){if(this.source&&this.checkType(t,o,s[a])){r=this.validNeighborsAllowed;break}if(!this.source&&this.checkType(t,l,s[a])){r=this.validNeighborsAllowed;break}}return r},mxMultiplicity.prototype.checkTerminal=function(t,e,i){var n=t.model.getValue(e);return this.checkType(t,n,this.type,this.attr,this.value)},mxMultiplicity.prototype.checkType=function(t,e,i,n,l){return null!=e&&(isNaN(e.nodeType)?e==i:mxUtils.isNode(e,i,n,l))},mxLayoutManager.prototype=new mxEventSource,mxLayoutManager.prototype.constructor=mxLayoutManager,mxLayoutManager.prototype.graph=null,mxLayoutManager.prototype.bubbling=!0,mxLayoutManager.prototype.enabled=!0,mxLayoutManager.prototype.updateHandler=null,mxLayoutManager.prototype.moveHandler=null,mxLayoutManager.prototype.isEnabled=function(){return this.enabled},mxLayoutManager.prototype.setEnabled=function(t){this.enabled=t},mxLayoutManager.prototype.isBubbling=function(){return this.bubbling},mxLayoutManager.prototype.setBubbling=function(t){this.bubbling=t},mxLayoutManager.prototype.getGraph=function(){return this.graph},mxLayoutManager.prototype.setGraph=function(t){if(null!=this.graph&&((e=this.graph.getModel()).removeListener(this.undoHandler),this.graph.removeListener(this.moveHandler)),this.graph=t,null!=this.graph){var e=this.graph.getModel();e.addListener(mxEvent.BEFORE_UNDO,this.undoHandler),this.graph.addListener(mxEvent.MOVE_CELLS,this.moveHandler)}},mxLayoutManager.prototype.getLayout=function(t){return null},mxLayoutManager.prototype.beforeUndo=function(t){for(var e=this.getCellsForChanges(t.changes),i=this.getGraph().getModel(),n=[],l=0;l<e.length;l++)n=n.concat(i.getDescendants(e[l]));if(e=n,this.isBubbling())for(n=i.getParents(e);n.length>0;)e=e.concat(n),n=i.getParents(n);this.executeLayoutForCells(e)},mxLayoutManager.prototype.executeLayoutForCells=function(t){var e=mxUtils.sortCells(t,!0);e=e.concat(e.slice().reverse()),this.layoutCells(e)},mxLayoutManager.prototype.cellsMoved=function(t,e){if(null!=t&&null!=e)for(var i=mxUtils.convertPoint(this.getGraph().container,mxEvent.getClientX(e),mxEvent.getClientY(e)),n=this.getGraph().getModel(),l=0;l<t.length;l++){var o=n.getParent(t[l]);if(mxUtils.indexOf(t,o)<0){var r=this.getLayout(o);null!=r&&r.moveCell(t[l],i.x,i.y)}}},mxLayoutManager.prototype.getCellsForChanges=function(t){for(var e=new mxDictionary,i=[],n=0;n<t.length;n++){var l=t[n];if(l instanceof mxRootChange)return[];for(var o=this.getCellsForChange(l),r=0;r<o.length;r++)null==o[r]||e.get(o[r])||(e.put(o[r],!0),i.push(o[r]))}return i},mxLayoutManager.prototype.getCellsForChange=function(t){var e=this.getGraph().getModel();return t instanceof mxChildChange?[t.child,t.previous,e.getParent(t.child)]:t instanceof mxTerminalChange||t instanceof mxGeometryChange?[t.cell,e.getParent(t.cell)]:t instanceof mxVisibleChange||t instanceof mxStyleChange?[t.cell]:[]},mxLayoutManager.prototype.layoutCells=function(t){if(t.length>0){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=null,n=0;n<t.length;n++)t[n]!=e.getRoot()&&t[n]!=i&&this.executeLayout(this.getLayout(t[n]),t[n])&&(i=t[n]);this.fireEvent(new mxEventObject(mxEvent.LAYOUT_CELLS,"cells",t))}finally{e.endUpdate()}}},mxLayoutManager.prototype.executeLayout=function(t,e){var i=!1;return null!=t&&null!=e&&(t.execute(e),i=!0),i},mxLayoutManager.prototype.destroy=function(){this.setGraph(null)},mxSwimlaneManager.prototype=new mxEventSource,mxSwimlaneManager.prototype.constructor=mxSwimlaneManager,mxSwimlaneManager.prototype.graph=null,mxSwimlaneManager.prototype.enabled=!0,mxSwimlaneManager.prototype.horizontal=!0,mxSwimlaneManager.prototype.addEnabled=!0,mxSwimlaneManager.prototype.resizeEnabled=!0,mxSwimlaneManager.prototype.addHandler=null,mxSwimlaneManager.prototype.resizeHandler=null,mxSwimlaneManager.prototype.isEnabled=function(){return this.enabled},mxSwimlaneManager.prototype.setEnabled=function(t){this.enabled=t},mxSwimlaneManager.prototype.isHorizontal=function(){return this.horizontal},mxSwimlaneManager.prototype.setHorizontal=function(t){this.horizontal=t},mxSwimlaneManager.prototype.isAddEnabled=function(){return this.addEnabled},mxSwimlaneManager.prototype.setAddEnabled=function(t){this.addEnabled=t},mxSwimlaneManager.prototype.isResizeEnabled=function(){return this.resizeEnabled},mxSwimlaneManager.prototype.setResizeEnabled=function(t){this.resizeEnabled=t},mxSwimlaneManager.prototype.getGraph=function(){return this.graph},mxSwimlaneManager.prototype.setGraph=function(t){null!=this.graph&&(this.graph.removeListener(this.addHandler),this.graph.removeListener(this.resizeHandler)),this.graph=t,null!=this.graph&&(this.graph.addListener(mxEvent.ADD_CELLS,this.addHandler),this.graph.addListener(mxEvent.CELLS_RESIZED,this.resizeHandler))},mxSwimlaneManager.prototype.isSwimlaneIgnored=function(t){return!this.getGraph().isSwimlane(t)},mxSwimlaneManager.prototype.isCellHorizontal=function(t){if(this.graph.isSwimlane(t)){var e=this.graph.getCellStyle(t);return 1==mxUtils.getValue(e,mxConstants.STYLE_HORIZONTAL,1)}return!this.isHorizontal()},mxSwimlaneManager.prototype.cellsAdded=function(t){if(null!=t){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=0;i<t.length;i++)this.isSwimlaneIgnored(t[i])||this.swimlaneAdded(t[i])}finally{e.endUpdate()}}},mxSwimlaneManager.prototype.swimlaneAdded=function(t){for(var e=this.getGraph().getModel(),i=e.getParent(t),n=e.getChildCount(i),l=null,o=0;o<n;o++){var r=e.getChildAt(i,o);if(r!=t&&!this.isSwimlaneIgnored(r)&&null!=(l=e.getGeometry(r)))break}if(null!=l){var s=null!=i?this.isCellHorizontal(i):this.horizontal;this.resizeSwimlane(t,l.width,l.height,s)}},mxSwimlaneManager.prototype.cellsResized=function(t){if(null!=t){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=0;i<t.length;i++)if(!this.isSwimlaneIgnored(t[i])){var n=e.getGeometry(t[i]);if(null!=n){for(var l=new mxRectangle(0,0,n.width,n.height),o=t[i],r=o;null!=r;){o=r,r=e.getParent(r);var s=this.graph.isSwimlane(r)?this.graph.getStartSize(r):new mxRectangle;l.width+=s.width,l.height+=s.height}var a=null!=r?this.isCellHorizontal(r):this.horizontal;this.resizeSwimlane(o,l.width,l.height,a)}}}finally{e.endUpdate()}}},mxSwimlaneManager.prototype.resizeSwimlane=function(t,e,i,n){var l=this.getGraph().getModel();l.beginUpdate();try{var o=this.isCellHorizontal(t);if(!this.isSwimlaneIgnored(t)){var r=l.getGeometry(t);null!=r&&(n&&r.height!=i||!n&&r.width!=e)&&(r=r.clone(),n?r.height=i:r.width=e,l.setGeometry(t,r))}var s=this.graph.isSwimlane(t)?this.graph.getStartSize(t):new mxRectangle;e-=s.width,i-=s.height;for(var a=l.getChildCount(t),g=0;g<a;g++){var C=l.getChildAt(t,g);this.resizeSwimlane(C,e,i,o)}}finally{l.endUpdate()}},mxSwimlaneManager.prototype.destroy=function(){this.setGraph(null)},mxTemporaryCellStates.prototype.view=null,mxTemporaryCellStates.prototype.oldStates=null,mxTemporaryCellStates.prototype.oldBounds=null,mxTemporaryCellStates.prototype.oldScale=null,mxTemporaryCellStates.prototype.destroy=function(){this.view.setScale(this.oldScale),this.view.setStates(this.oldStates),this.view.setGraphBounds(this.oldBounds),this.view.validateCellState=this.oldValidateCellState},mxCellStatePreview.prototype.graph=null,mxCellStatePreview.prototype.deltas=null,mxCellStatePreview.prototype.count=0,mxCellStatePreview.prototype.isEmpty=function(){return 0==this.count},mxCellStatePreview.prototype.moveState=function(t,e,i,n,l){n=null==n||n,l=null==l||l;var o=this.deltas.get(t.cell);return null==o?(o={point:new mxPoint(e,i),state:t},this.deltas.put(t.cell,o),this.count++):n?(o.point.x+=e,o.point.y+=i):(o.point.x=e,o.point.y=i),l&&this.addEdges(t),o.point},mxCellStatePreview.prototype.show=function(t){this.deltas.visit(mxUtils.bind(this,function(t,e){this.translateState(e.state,e.point.x,e.point.y)})),this.deltas.visit(mxUtils.bind(this,function(e,i){this.revalidateState(i.state,i.point.x,i.point.y,t)}))},mxCellStatePreview.prototype.translateState=function(t,e,i){if(null!=t){var n=this.graph.getModel();if(n.isVertex(t.cell)){t.view.updateCellState(t);var l=n.getGeometry(t.cell);0==e&&0==i||null==l||l.relative&&null==this.deltas.get(t.cell)||(t.x+=e,t.y+=i)}for(var o=n.getChildCount(t.cell),r=0;r<o;r++)this.translateState(t.view.getState(n.getChildAt(t.cell,r)),e,i)}},mxCellStatePreview.prototype.revalidateState=function(t,e,i,n){if(null!=t){var l=this.graph.getModel();l.isEdge(t.cell)&&t.view.updateCellState(t);var o=this.graph.getCellGeometry(t.cell),r=t.view.getState(l.getParent(t.cell));0==e&&0==i||null==o||!o.relative||!l.isVertex(t.cell)||null!=r&&!l.isVertex(r.cell)&&null==this.deltas.get(t.cell)||(t.x+=e,t.y+=i),this.graph.cellRenderer.redraw(t),null!=n&&n(t);for(var s=l.getChildCount(t.cell),a=0;a<s;a++)this.revalidateState(this.graph.view.getState(l.getChildAt(t.cell,a)),e,i,n)}},mxCellStatePreview.prototype.addEdges=function(t){for(var e=this.graph.getModel(),i=e.getEdgeCount(t.cell),n=0;n<i;n++){var l=t.view.getState(e.getEdgeAt(t.cell,n));null!=l&&this.moveState(l,0,0)}},mxConnectionConstraint.prototype.point=null,mxConnectionConstraint.prototype.perimeter=null,mxGraphHandler.prototype.graph=null,mxGraphHandler.prototype.maxCells=mxClient.IS_IE?20:50,mxGraphHandler.prototype.enabled=!0,mxGraphHandler.prototype.highlightEnabled=!0,mxGraphHandler.prototype.cloneEnabled=!0,mxGraphHandler.prototype.moveEnabled=!0,mxGraphHandler.prototype.guidesEnabled=!1,mxGraphHandler.prototype.guide=null,mxGraphHandler.prototype.currentDx=null,mxGraphHandler.prototype.currentDy=null,mxGraphHandler.prototype.updateCursor=!0,mxGraphHandler.prototype.selectEnabled=!0,mxGraphHandler.prototype.removeCellsFromParent=!0,mxGraphHandler.prototype.connectOnDrop=!1,mxGraphHandler.prototype.scrollOnMove=!0,mxGraphHandler.prototype.minimumSize=6,mxGraphHandler.prototype.previewColor="black",mxGraphHandler.prototype.htmlPreview=!1,mxGraphHandler.prototype.shape=null,mxGraphHandler.prototype.scaleGrid=!1,mxGraphHandler.prototype.rotationEnabled=!0,mxGraphHandler.prototype.isEnabled=function(){return this.enabled},mxGraphHandler.prototype.setEnabled=function(t){this.enabled=t},mxGraphHandler.prototype.isCloneEnabled=function(){return this.cloneEnabled},mxGraphHandler.prototype.setCloneEnabled=function(t){this.cloneEnabled=t},mxGraphHandler.prototype.isMoveEnabled=function(){return this.moveEnabled},mxGraphHandler.prototype.setMoveEnabled=function(t){this.moveEnabled=t},mxGraphHandler.prototype.isSelectEnabled=function(){return this.selectEnabled},mxGraphHandler.prototype.setSelectEnabled=function(t){this.selectEnabled=t},mxGraphHandler.prototype.isRemoveCellsFromParent=function(){return this.removeCellsFromParent},mxGraphHandler.prototype.setRemoveCellsFromParent=function(t){this.removeCellsFromParent=t},mxGraphHandler.prototype.getInitialCellForEvent=function(t){return t.getCell()},mxGraphHandler.prototype.isDelayedSelection=function(t,e){return this.graph.isCellSelected(t)},mxGraphHandler.prototype.mouseDown=function(t,e){if(!e.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null!=e.getState()&&!mxEvent.isMultiTouchEvent(e.getEvent())){var i=this.getInitialCellForEvent(e);if(this.delayedSelection=this.isDelayedSelection(i,e),this.cell=null,this.isSelectEnabled()&&!this.delayedSelection&&this.graph.selectCellForEvent(i,e.getEvent()),this.isMoveEnabled()){var n=this.graph.model,l=n.getGeometry(i);this.graph.isCellMovable(i)&&(!n.isEdge(i)||this.graph.getSelectionCount()>1||null!=l.points&&l.points.length>0||null==n.getTerminal(i,!0)||null==n.getTerminal(i,!1)||this.graph.allowDanglingEdges||this.graph.isCloneEvent(e.getEvent())&&this.graph.isCellsCloneable())?this.start(i,e.getX(),e.getY()):this.delayedSelection&&(this.cell=i),this.cellWasClicked=!0,e.consume()}}},mxGraphHandler.prototype.getGuideStates=function(){var t=this.graph.getDefaultParent(),e=this.graph.getModel(),i=mxUtils.bind(this,function(t){return null!=this.graph.view.getState(t)&&e.isVertex(t)&&null!=e.getGeometry(t)&&!e.getGeometry(t).relative});return this.graph.view.getCellStates(e.filterDescendants(i,t))},mxGraphHandler.prototype.getCells=function(t){return!this.delayedSelection&&this.graph.isCellMovable(t)?[t]:this.graph.getMovableCells(this.graph.getSelectionCells())},mxGraphHandler.prototype.getPreviewBounds=function(t){var e=this.getBoundingBox(t);if(null!=e){if(e.width=Math.max(0,e.width-1),e.height=Math.max(0,e.height-1),e.width<this.minimumSize){var i=this.minimumSize-e.width;e.x-=i/2,e.width=this.minimumSize}else e.x=Math.round(e.x),e.width=Math.ceil(e.width);this.graph.view.translate,this.graph.view.scale;if(e.height<this.minimumSize){var n=this.minimumSize-e.height;e.y-=n/2,e.height=this.minimumSize}else e.y=Math.round(e.y),e.height=Math.ceil(e.height)}return e},mxGraphHandler.prototype.getBoundingBox=function(t){var e=null;if(null!=t&&t.length>0)for(var i=this.graph.getModel(),n=0;n<t.length;n++)if(i.isVertex(t[n])||i.isEdge(t[n])){var l=this.graph.view.getState(t[n]);if(null!=l){var o=l;i.isVertex(t[n])&&null!=l.shape&&null!=l.shape.boundingBox&&(o=l.shape.boundingBox),null==e?e=mxRectangle.fromRectangle(o):e.add(o)}}return e},mxGraphHandler.prototype.createPreviewShape=function(t){var e=new mxRectangleShape(t,null,this.previewColor);return e.isDashed=!0,this.htmlPreview?(e.dialect=mxConstants.DIALECT_STRICTHTML,e.init(this.graph.container)):(e.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,e.init(this.graph.getView().getOverlayPane()),e.pointerEvents=!1,mxClient.IS_IOS&&(e.getSvgScreenOffset=function(){return 0})),e},mxGraphHandler.prototype.start=function(t,e,i){this.cell=t,this.first=mxUtils.convertPoint(this.graph.container,e,i),this.cells=this.getCells(this.cell),this.bounds=this.graph.getView().getBounds(this.cells),this.pBounds=this.getPreviewBounds(this.cells),this.guidesEnabled&&(this.guide=new mxGuide(this.graph,this.getGuideStates()))},mxGraphHandler.prototype.useGuidesForEvent=function(t){return null==this.guide||this.guide.isEnabledForEvent(t.getEvent())},mxGraphHandler.prototype.snap=function(t){var e=this.scaleGrid?this.graph.view.scale:1;return t.x=this.graph.snap(t.x/e)*e,t.y=this.graph.snap(t.y/e)*e,t},mxGraphHandler.prototype.getDelta=function(t){var e=mxUtils.convertPoint(this.graph.container,t.getX(),t.getY()),i=this.graph.view.scale;return new mxPoint(this.roundLength((e.x-this.first.x)/i)*i,this.roundLength((e.y-this.first.y)/i)*i)},mxGraphHandler.prototype.updateHint=function(t){},mxGraphHandler.prototype.removeHint=function(){},mxGraphHandler.prototype.roundLength=function(t){return Math.round(t)},mxGraphHandler.prototype.mouseMove=function(t,e){var i=this.graph;if(!e.isConsumed()&&i.isMouseDown&&null!=this.cell&&null!=this.first&&null!=this.bounds){if(mxEvent.isMultiTouchEvent(e.getEvent()))return void this.reset();var n=this.getDelta(e),l=n.x,o=n.y,r=i.tolerance;if(null!=this.shape||Math.abs(l)>r||Math.abs(o)>r){null==this.highlight&&(this.highlight=new mxCellHighlight(this.graph,mxConstants.DROP_TARGET_COLOR,3)),null==this.shape&&(this.shape=this.createPreviewShape(this.bounds));var s=i.isGridEnabledEvent(e.getEvent()),a=!0;if(null!=this.guide&&this.useGuidesForEvent(e))a=!1,l=(n=this.guide.move(this.bounds,new mxPoint(l,o),s)).x,o=n.y;else if(s){var g=i.getView().translate,C=i.getView().scale,h=this.bounds.x-(i.snap(this.bounds.x/C-g.x)+g.x)*C,A=this.bounds.y-(i.snap(this.bounds.y/C-g.y)+g.y)*C,I=this.snap(new mxPoint(l,o));l=I.x-h,o=I.y-A}null!=this.guide&&a&&this.guide.hide(),i.isConstrainedEvent(e.getEvent())&&(Math.abs(l)>Math.abs(o)?o=0:l=0),this.currentDx=l,this.currentDy=o,this.updatePreviewShape();var c=null,d=e.getCell(),u=i.isCloneEvent(e.getEvent())&&i.isCellsCloneable()&&this.isCloneEnabled();i.isDropEnabled()&&this.highlightEnabled&&(c=i.getDropTarget(this.cells,e.getEvent(),d,u));var p=i.getView().getState(c),m=!1;if(null==p||i.model.getParent(this.cell)==c&&!u){if(this.target=null,this.connectOnDrop&&null!=d&&1==this.cells.length&&i.getModel().isVertex(d)&&i.isCellConnectable(d)&&null!=(p=i.getView().getState(d))){var x=null==i.getEdgeValidationError(null,this.cell,d)?mxConstants.VALID_COLOR:mxConstants.INVALID_CONNECT_TARGET_COLOR;this.setHighlightColor(x),m=!0}}else this.target!=c&&(this.target=c,this.setHighlightColor(mxConstants.DROP_TARGET_COLOR)),m=!0;null!=p&&m?this.highlight.highlight(p):this.highlight.hide()}this.updateHint(e),e.consume(),mxEvent.consume(e.getEvent())}else if((this.isMoveEnabled()||this.isCloneEnabled())&&this.updateCursor&&!e.isConsumed()&&null!=e.getState()&&!i.isMouseDown){var v=i.getCursorForMouseEvent(e);null==v&&i.isEnabled()&&i.isCellMovable(e.getCell())&&(v=i.getModel().isEdge(e.getCell())?mxConstants.CURSOR_MOVABLE_EDGE:mxConstants.CURSOR_MOVABLE_VERTEX),null!=e.sourceState&&e.sourceState.setCursor(v)}},mxGraphHandler.prototype.updatePreviewShape=function(){null!=this.shape&&(this.shape.bounds=new mxRectangle(Math.round(this.pBounds.x+this.currentDx-this.graph.panDx),Math.round(this.pBounds.y+this.currentDy-this.graph.panDy),this.pBounds.width,this.pBounds.height),this.shape.redraw())},mxGraphHandler.prototype.setHighlightColor=function(t){null!=this.highlight&&this.highlight.setHighlightColor(t)},mxGraphHandler.prototype.mouseUp=function(t,e){if(!e.isConsumed()){var i=this.graph;if(null!=this.cell&&null!=this.first&&null!=this.shape&&null!=this.currentDx&&null!=this.currentDy){var n=e.getCell();if(this.connectOnDrop&&null==this.target&&null!=n&&i.getModel().isVertex(n)&&i.isCellConnectable(n)&&i.isEdgeValid(null,this.cell,n))i.connectionHandler.connect(this.cell,n,e.getEvent());else{var l=i.isCloneEvent(e.getEvent())&&i.isCellsCloneable()&&this.isCloneEnabled(),o=i.getView().scale,r=this.roundLength(this.currentDx/o),s=this.roundLength(this.currentDy/o),a=this.target;i.isSplitEnabled()&&i.isSplitTarget(a,this.cells,e.getEvent())?i.splitEdge(a,this.cells,null,r,s):this.moveCells(this.cells,r,s,l,this.target,e.getEvent())}}else this.isSelectEnabled()&&this.delayedSelection&&null!=this.cell&&this.selectDelayed(e)}this.cellWasClicked&&e.consume(),this.reset()},mxGraphHandler.prototype.selectDelayed=function(t){this.graph.isCellSelected(this.cell)&&this.graph.popupMenuHandler.isPopupTrigger(t)||this.graph.selectCellForEvent(this.cell,t.getEvent())},mxGraphHandler.prototype.reset=function(){this.destroyShapes(),this.removeHint(),this.cellWasClicked=!1,this.delayedSelection=!1,this.currentDx=null,this.currentDy=null,this.guides=null,this.first=null,this.cell=null,this.target=null},mxGraphHandler.prototype.shouldRemoveCellsFromParent=function(t,e,i){if(this.graph.getModel().isVertex(t)){var n=this.graph.getView().getState(t),l=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX(i),mxEvent.getClientY(i)),o=mxUtils.toRadians(mxUtils.getValue(n.style,mxConstants.STYLE_ROTATION)||0);if(0!=o){var r=Math.cos(-o),s=Math.sin(-o),a=new mxPoint(n.getCenterX(),n.getCenterY());l=mxUtils.getRotatedPoint(l,r,s,a)}return null!=n&&!mxUtils.contains(n,l.x,l.y)}return!1},mxGraphHandler.prototype.moveCells=function(t,e,i,n,l,o){n&&(t=this.graph.getCloneableCells(t)),null==l&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent(this.graph.getModel().getParent(this.cell),t,o)&&(l=this.graph.getDefaultParent()),t=this.graph.moveCells(t,e-this.graph.panDx/this.graph.view.scale,i-this.graph.panDy/this.graph.view.scale,n,l,o),this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible(t[0]),n&&this.graph.setSelectionCells(t)},mxGraphHandler.prototype.destroyShapes=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.guide&&(this.guide.destroy(),this.guide=null),null!=this.highlight&&(this.highlight.destroy(),this.highlight=null)},mxGraphHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.panHandler),null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null),this.destroyShapes(),this.removeHint()},mxPanningHandler.prototype=new mxEventSource,mxPanningHandler.prototype.constructor=mxPanningHandler,mxPanningHandler.prototype.graph=null,mxPanningHandler.prototype.useLeftButtonForPanning=!1,mxPanningHandler.prototype.usePopupTrigger=!0,mxPanningHandler.prototype.ignoreCell=!1,mxPanningHandler.prototype.previewEnabled=!0,mxPanningHandler.prototype.useGrid=!1,mxPanningHandler.prototype.panningEnabled=!0,mxPanningHandler.prototype.pinchEnabled=!0,mxPanningHandler.prototype.maxScale=8,mxPanningHandler.prototype.minScale=.01,mxPanningHandler.prototype.dx=null,mxPanningHandler.prototype.dy=null,mxPanningHandler.prototype.startX=0,mxPanningHandler.prototype.startY=0,mxPanningHandler.prototype.isActive=function(){return this.active||null!=this.initialScale},mxPanningHandler.prototype.isPanningEnabled=function(){return this.panningEnabled},mxPanningHandler.prototype.setPanningEnabled=function(t){this.panningEnabled=t},mxPanningHandler.prototype.isPinchEnabled=function(){return this.pinchEnabled},mxPanningHandler.prototype.setPinchEnabled=function(t){this.pinchEnabled=t},mxPanningHandler.prototype.isPanningTrigger=function(t){var e=t.getEvent();return this.useLeftButtonForPanning&&null==t.getState()&&mxEvent.isLeftMouseButton(e)||mxEvent.isControlDown(e)&&mxEvent.isShiftDown(e)||this.usePopupTrigger&&mxEvent.isPopupTrigger(e)},mxPanningHandler.prototype.isForcePanningEvent=function(t){return this.ignoreCell||mxEvent.isMultiTouchEvent(t.getEvent())},mxPanningHandler.prototype.mouseDown=function(t,e){this.mouseDownEvent=e,!e.isConsumed()&&this.isPanningEnabled()&&!this.active&&this.isPanningTrigger(e)&&(this.start(e),this.consumePanningTrigger(e))},mxPanningHandler.prototype.start=function(t){this.dx0=-this.graph.container.scrollLeft,this.dy0=-this.graph.container.scrollTop,this.startX=t.getX(),this.startY=t.getY(),this.dx=null,this.dy=null,this.panningTrigger=!0},mxPanningHandler.prototype.consumePanningTrigger=function(t){t.consume()},mxPanningHandler.prototype.mouseMove=function(t,e){if(this.dx=e.getX()-this.startX,this.dy=e.getY()-this.startY,this.active)this.previewEnabled&&(this.useGrid&&(this.dx=this.graph.snap(this.dx),this.dy=this.graph.snap(this.dy)),this.graph.panGraph(this.dx+this.dx0,this.dy+this.dy0)),this.fireEvent(new mxEventObject(mxEvent.PAN,"event",e));else if(this.panningTrigger){var i=this.active;this.active=Math.abs(this.dx)>this.graph.tolerance||Math.abs(this.dy)>this.graph.tolerance,!i&&this.active&&this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",e))}(this.active||this.panningTrigger)&&e.consume()},mxPanningHandler.prototype.mouseUp=function(t,e){if(this.active){if(null!=this.dx&&null!=this.dy){if(!this.graph.useScrollbarsForPanning||!mxUtils.hasScrollbars(this.graph.container)){var i=this.graph.getView().scale,n=this.graph.getView().translate;this.graph.panGraph(0,0),this.panGraph(n.x+this.dx/i,n.y+this.dy/i)}e.consume()}this.fireEvent(new mxEventObject(mxEvent.PAN_END,"event",e))}this.panningTrigger=!1,this.mouseDownEvent=null,this.active=!1,this.dx=null,this.dy=null},mxPanningHandler.prototype.panGraph=function(t,e){this.graph.getView().setTranslate(t,e)},mxPanningHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.forcePanningHandler),this.graph.removeListener(this.gestureHandler)},mxPopupMenuHandler.prototype=new mxPopupMenu;mxPopupMenuHandler.prototype.constructor=mxPopupMenuHandler,mxPopupMenuHandler.prototype.graph=null,mxPopupMenuHandler.prototype.selectOnPopup=!0,mxPopupMenuHandler.prototype.clearSelectionOnBackground=!0,mxPopupMenuHandler.prototype.triggerX=null,mxPopupMenuHandler.prototype.triggerY=null,mxPopupMenuHandler.prototype.screenX=null,mxPopupMenuHandler.prototype.screenY=null,mxPopupMenuHandler.prototype.init=function(){mxPopupMenu.prototype.init.apply(this),mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function(t){this.graph.tooltipHandler.hide()}))},mxPopupMenuHandler.prototype.isSelectOnPopup=function(t){return this.selectOnPopup},mxPopupMenuHandler.prototype.mouseDown=function(t,e){this.isEnabled()&&!mxEvent.isMultiTouchEvent(e.getEvent())&&(this.hideMenu(),this.triggerX=e.getGraphX(),this.triggerY=e.getGraphY(),this.screenX=mxEvent.getMainEvent(e.getEvent()).screenX,this.screenY=mxEvent.getMainEvent(e.getEvent()).screenY,this.popupTrigger=this.isPopupTrigger(e),this.inTolerance=!0)},mxPopupMenuHandler.prototype.mouseMove=function(t,e){this.inTolerance&&null!=this.screenX&&null!=this.screenY&&(Math.abs(mxEvent.getMainEvent(e.getEvent()).screenX-this.screenX)>this.graph.tolerance||Math.abs(mxEvent.getMainEvent(e.getEvent()).screenY-this.screenY)>this.graph.tolerance)&&(this.inTolerance=!1)},mxPopupMenuHandler.prototype.mouseUp=function(t,e){if(this.popupTrigger&&this.inTolerance&&null!=this.triggerX&&null!=this.triggerY){var i=this.getCellForPopupEvent(e);this.graph.isEnabled()&&this.isSelectOnPopup(e)&&null!=i&&!this.graph.isCellSelected(i)?this.graph.setSelectionCell(i):this.clearSelectionOnBackground&&null==i&&this.graph.clearSelection(),this.graph.tooltipHandler.hide();var n=mxUtils.getScrollOrigin(),l=this.vgdContainer.offsetLeft,o=this.vgdContainer.offsetTop;this.popup(e.getX()+n.x+1-l,e.getY()+n.y+1-o,i,e.getEvent()),e.consume()}this.popupTrigger=!1,this.inTolerance=!1},mxPopupMenuHandler.prototype.getCellForPopupEvent=function(t){return t.getCell()},mxPopupMenuHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.gestureHandler),mxPopupMenu.prototype.destroy.apply(this)},mxUtils.extend(mxCellMarker,mxEventSource),mxCellMarker.prototype.graph=null,mxCellMarker.prototype.enabled=!0,mxCellMarker.prototype.hotspot=mxConstants.DEFAULT_HOTSPOT,mxCellMarker.prototype.hotspotEnabled=!1,mxCellMarker.prototype.validColor=null,mxCellMarker.prototype.invalidColor=null,mxCellMarker.prototype.currentColor=null,mxCellMarker.prototype.validState=null,mxCellMarker.prototype.markedState=null,mxCellMarker.prototype.setEnabled=function(t){this.enabled=t},mxCellMarker.prototype.isEnabled=function(){return this.enabled},mxCellMarker.prototype.setHotspot=function(t){this.hotspot=t},mxCellMarker.prototype.getHotspot=function(){return this.hotspot},mxCellMarker.prototype.setHotspotEnabled=function(t){this.hotspotEnabled=t},mxCellMarker.prototype.isHotspotEnabled=function(){return this.hotspotEnabled},mxCellMarker.prototype.hasValidState=function(){return null!=this.validState},mxCellMarker.prototype.getValidState=function(){return this.validState},mxCellMarker.prototype.getMarkedState=function(){return this.markedState},mxCellMarker.prototype.reset=function(){this.validState=null,null!=this.markedState&&(this.markedState=null,this.unmark())},mxCellMarker.prototype.process=function(t){var e=null;return this.isEnabled()&&(e=this.getState(t),this.setCurrentState(e,t)),e},mxCellMarker.prototype.setCurrentState=function(t,e,i){var n=null!=t&&this.isValidState(t);i=null!=i?i:this.getMarkerColor(e.getEvent(),t,n),this.validState=n?t:null,t==this.markedState&&i==this.currentColor||(this.currentColor=i,null!=t&&null!=this.currentColor?(this.markedState=t,this.mark()):null!=this.markedState&&(this.markedState=null,this.unmark()))},mxCellMarker.prototype.markCell=function(t,e){var i=this.graph.getView().getState(t);null!=i&&(this.currentColor=null!=e?e:this.validColor,this.markedState=i,this.mark())},mxCellMarker.prototype.mark=function(){this.highlight.setHighlightColor(this.currentColor),this.highlight.highlight(this.markedState),this.fireEvent(new mxEventObject(mxEvent.MARK,"state",this.markedState))},mxCellMarker.prototype.unmark=function(){this.mark()},mxCellMarker.prototype.isValidState=function(t){return!0},mxCellMarker.prototype.getMarkerColor=function(t,e,i){return i?this.validColor:this.invalidColor},mxCellMarker.prototype.getState=function(t){var e=this.graph.getView();cell=this.getCell(t);var i=this.getStateToMark(e.getState(cell));return null!=i&&this.intersects(i,t)?i:null},mxCellMarker.prototype.getCell=function(t){return t.getCell()},mxCellMarker.prototype.getStateToMark=function(t){return t},mxCellMarker.prototype.intersects=function(t,e){return!this.hotspotEnabled||mxUtils.intersectsHotspot(t,e.getGraphX(),e.getGraphY(),this.hotspot,mxConstants.MIN_HOTSPOT_SIZE,mxConstants.MAX_HOTSPOT_SIZE)},mxCellMarker.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler),this.graph.getModel().removeListener(this.resetHandler),this.highlight.destroy()},mxUtils.extend(mxSelectionCellsHandler,mxEventSource),mxSelectionCellsHandler.prototype.graph=null,mxSelectionCellsHandler.prototype.enabled=!0,mxSelectionCellsHandler.prototype.refreshHandler=null,mxSelectionCellsHandler.prototype.maxHandlers=100,mxSelectionCellsHandler.prototype.handlers=null,mxSelectionCellsHandler.prototype.isEnabled=function(){return this.enabled},mxSelectionCellsHandler.prototype.setEnabled=function(t){this.enabled=t},mxSelectionCellsHandler.prototype.getHandler=function(t){return this.handlers.get(t)},mxSelectionCellsHandler.prototype.reset=function(){this.handlers.visit(function(t,e){e.reset.apply(e)})},mxSelectionCellsHandler.prototype.refresh=function(){var t=this.handlers;this.handlers=new mxDictionary;for(var e=this.graph.getSelectionCells(),i=0;i<e.length;i++){var n=this.graph.view.getState(e[i]);if(null!=n){var l=t.remove(e[i]);null!=l&&(l.state!=n?(l.destroy(),l=null):(null!=l.refresh&&l.refresh(),l.redraw())),null==l&&(l=this.graph.createHandler(n),this.fireEvent(new mxEventObject(mxEvent.ADD,"state",n))),null!=l&&this.handlers.put(e[i],l)}}t.visit(mxUtils.bind(this,function(t,e){this.fireEvent(new mxEventObject(mxEvent.REMOVE,"state",e.state)),e.destroy()}))},mxSelectionCellsHandler.prototype.updateHandler=function(t){var e=this.handlers.remove(t.cell);null!=e&&(e.destroy(),null!=(e=this.graph.createHandler(t))&&this.handlers.put(t.cell,e))},mxSelectionCellsHandler.prototype.mouseDown=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit(function(t,e){e.mouseDown.apply(e,i)})}},mxSelectionCellsHandler.prototype.mouseMove=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit(function(t,e){e.mouseMove.apply(e,i)})}},mxSelectionCellsHandler.prototype.mouseUp=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit(function(t,e){e.mouseUp.apply(e,i)})}},mxSelectionCellsHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),null!=this.refreshHandler&&(this.graph.getSelectionModel().removeListener(this.refreshHandler),this.graph.getModel().removeListener(this.refreshHandler),this.graph.getView().removeListener(this.refreshHandler),this.refreshHandler=null)},mxUtils.extend(mxConnectionHandler,mxEventSource),mxConnectionHandler.prototype.graph=null,mxConnectionHandler.prototype.factoryMethod=!0,mxConnectionHandler.prototype.moveIconFront=!1,mxConnectionHandler.prototype.moveIconBack=!1,mxConnectionHandler.prototype.connectImage=null,mxConnectionHandler.prototype.targetConnectImage=!1,mxConnectionHandler.prototype.enabled=!0,mxConnectionHandler.prototype.select=!0,mxConnectionHandler.prototype.createTarget=!1,mxConnectionHandler.prototype.marker=null,mxConnectionHandler.prototype.constraintHandler=null,mxConnectionHandler.prototype.error=null,mxConnectionHandler.prototype.waypointsEnabled=!1,mxConnectionHandler.prototype.ignoreMouseDown=!1,mxConnectionHandler.prototype.first=null,mxConnectionHandler.prototype.connectIconOffset=new mxPoint(0,mxConstants.TOOLTIP_VERTICAL_OFFSET),mxConnectionHandler.prototype.edgeState=null,mxConnectionHandler.prototype.changeHandler=null,mxConnectionHandler.prototype.drillHandler=null,mxConnectionHandler.prototype.mouseDownCounter=0,mxConnectionHandler.prototype.movePreviewAway=mxClient.IS_VML,mxConnectionHandler.prototype.outlineConnect=!1,mxConnectionHandler.prototype.livePreview=!1,mxConnectionHandler.prototype.cursor=null,mxConnectionHandler.prototype.insertBeforeSource=!1,mxConnectionHandler.prototype.isEnabled=function(){return this.enabled},mxConnectionHandler.prototype.setEnabled=function(t){this.enabled=t},mxConnectionHandler.prototype.isInsertBefore=function(t,e,i,n,l){return this.insertBeforeSource&&e!=i},mxConnectionHandler.prototype.isCreateTarget=function(t){return this.createTarget},mxConnectionHandler.prototype.setCreateTarget=function(t){this.createTarget=t},mxConnectionHandler.prototype.createShape=function(){var t=this.livePreview&&null!=this.edgeState?this.graph.cellRenderer.createShape(this.edgeState):new mxPolyline([],mxConstants.INVALID_COLOR);return t.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,t.scale=this.graph.view.scale,t.pointerEvents=!1,t.isDashed=!0,t.init(this.graph.getView().getOverlayPane()),mxEvent.redirectMouseEvents(t.node,this.graph,null),t},mxConnectionHandler.prototype.init=function(){this.graph.addMouseListener(this),this.marker=this.createMarker(),this.constraintHandler=new mxConstraintHandler(this.graph),this.changeHandler=mxUtils.bind(this,function(t){null!=this.iconState&&(this.iconState=this.graph.getView().getState(this.iconState.cell)),null!=this.iconState?(this.redrawIcons(this.icons,this.iconState),this.constraintHandler.reset()):null!=this.previous&&null==this.graph.view.getState(this.previous.cell)&&this.reset()}),this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler),this.graph.getView().addListener(mxEvent.SCALE,this.changeHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.changeHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.changeHandler),this.drillHandler=mxUtils.bind(this,function(t){this.reset()}),this.graph.addListener(mxEvent.START_EDITING,this.drillHandler),this.graph.getView().addListener(mxEvent.DOWN,this.drillHandler),this.graph.getView().addListener(mxEvent.UP,this.drillHandler)},mxConnectionHandler.prototype.isConnectableCell=function(t){return!0},mxConnectionHandler.prototype.createMarker=function(){var t=new mxCellMarker(this.graph);return t.hotspotEnabled=!0,t.getCell=mxUtils.bind(this,function(e){var i=mxCellMarker.prototype.getCell.apply(t,arguments);if(this.error=null,null==i&&null!=this.currentPoint&&(i=this.graph.getCellAt(this.currentPoint.x,this.currentPoint.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}return(this.graph.isSwimlane(i)&&null!=this.currentPoint&&this.graph.hitsSwimlaneContent(i,this.currentPoint.x,this.currentPoint.y)||!this.isConnectableCell(i))&&(i=null),null!=i?this.isConnecting()?null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,i),null!=this.error&&0==this.error.length&&(i=null,this.isCreateTarget(e.getEvent())&&(this.error=null))):this.isValidSource(i,e)||(i=null):!this.isConnecting()||this.isCreateTarget(e.getEvent())||this.graph.allowDanglingEdges||(this.error=""),i}),t.isValidState=mxUtils.bind(this,function(e){return this.isConnecting()?null==this.error:mxCellMarker.prototype.isValidState.apply(t,arguments)}),t.getMarkerColor=mxUtils.bind(this,function(e,i,n){return null==this.connectImage||this.isConnecting()?mxCellMarker.prototype.getMarkerColor.apply(t,arguments):null}),t.intersects=mxUtils.bind(this,function(e,i){return!(null==this.connectImage&&!this.isConnecting())||mxCellMarker.prototype.intersects.apply(t,arguments)}),t},mxConnectionHandler.prototype.start=function(t,e,i,n){this.previous=t,this.first=new mxPoint(e,i),this.edgeState=null!=n?n:this.createEdgeState(null),this.marker.currentColor=this.marker.validColor,this.marker.markedState=t,this.marker.mark(),this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous))},mxConnectionHandler.prototype.isConnecting=function(){return null!=this.first&&null!=this.shape},mxConnectionHandler.prototype.isValidSource=function(t,e){return this.graph.isValidSource(t)},mxConnectionHandler.prototype.isValidTarget=function(t){return!0},mxConnectionHandler.prototype.validateConnection=function(t,e){return this.isValidTarget(e)?this.graph.getEdgeValidationError(null,t,e):""},mxConnectionHandler.prototype.getConnectImage=function(t){return this.connectImage},mxConnectionHandler.prototype.isMoveIconToFrontForState=function(t){return null!=t.text&&t.text.node.parentNode==this.graph.container||this.moveIconFront},mxConnectionHandler.prototype.createIcons=function(t){var e=this.getConnectImage(t);if(null!=e&&null!=t){this.iconState=t;var i=[],n=new mxImageShape(new mxRectangle(0,0,e.width,e.height),e.src,null,null,0);n.preserveImageAspect=!1,this.isMoveIconToFrontForState(t)?(n.dialect=mxConstants.DIALECT_STRICTHTML,n.init(this.graph.container)):(n.dialect=this.graph.dialect==mxConstants.DIALECT_SVG?mxConstants.DIALECT_SVG:mxConstants.DIALECT_VML,n.init(this.graph.getView().getOverlayPane()),this.moveIconBack&&null!=n.node.previousSibling&&n.node.parentNode.insertBefore(n.node,n.node.parentNode.firstChild)),n.node.style.cursor=mxConstants.CURSOR_CONNECT;var l=mxUtils.bind(this,function(){return null!=this.currentState?this.currentState:t}),o=mxUtils.bind(this,function(t){mxEvent.isConsumed(t)||(this.icon=n,this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t,l())))});return mxEvent.redirectMouseEvents(n.node,this.graph,l,o),i.push(n),this.redrawIcons(i,this.iconState),i}return null},mxConnectionHandler.prototype.redrawIcons=function(t,e){if(null!=t&&null!=t[0]&&null!=e){var i=this.getIconPosition(t[0],e);t[0].bounds.x=i.x,t[0].bounds.y=i.y,t[0].redraw()}},mxConnectionHandler.prototype.getIconPosition=function(t,e){var i=this.graph.getView().scale,n=e.getCenterX(),l=e.getCenterY();if(this.graph.isSwimlane(e.cell)){var o=this.graph.getStartSize(e.cell);n=0!=o.width?e.x+o.width*i/2:n,l=0!=o.height?e.y+o.height*i/2:l;var r=mxUtils.toRadians(mxUtils.getValue(e.style,mxConstants.STYLE_ROTATION)||0);if(0!=r){var s=Math.cos(r),a=Math.sin(r),g=new mxPoint(e.getCenterX(),e.getCenterY()),C=mxUtils.getRotatedPoint(new mxPoint(n,l),s,a,g);n=C.x,l=C.y}}return new mxPoint(n-t.bounds.width/2,l-t.bounds.height/2)},mxConnectionHandler.prototype.destroyIcons=function(){if(null!=this.icons){for(var t=0;t<this.icons.length;t++)this.icons[t].destroy();this.icons=null,this.icon=null,this.selectedIcon=null,this.iconState=null}},mxConnectionHandler.prototype.isStartEvent=function(t){return null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint||null!=this.previous&&null==this.error&&(null==this.icons||null!=this.icons&&null!=this.icon)},mxConnectionHandler.prototype.mouseDown=function(t,e){if(this.mouseDownCounter++,this.isEnabled()&&this.graph.isEnabled()&&!e.isConsumed()&&!this.isConnecting()&&this.isStartEvent(e)){if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(this.sourceConstraint=this.constraintHandler.currentConstraint,this.previous=this.constraintHandler.currentFocus,this.first=this.constraintHandler.currentPoint.clone()):this.first=new mxPoint(e.getGraphX(),e.getGraphY()),this.edgeState=this.createEdgeState(e),this.mouseDownCounter=1,this.waypointsEnabled&&null==this.shape&&(this.waypoints=null,this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState)),null==this.previous&&null!=this.edgeState){var i=this.graph.getPointForEvent(e.getEvent());this.edgeState.cell.geometry.setTerminalPoint(i,!0)}this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous)),e.consume()}this.selectedIcon=this.icon,this.icon=null},mxConnectionHandler.prototype.isImmediateConnectSource=function(t){return!this.graph.isCellMovable(t.cell)},mxConnectionHandler.prototype.createEdgeState=function(t){return null},mxConnectionHandler.prototype.isOutlineConnectEvent=function(t){var e=mxUtils.getOffset(this.graph.container),i=t.getEvent(),n=mxEvent.getClientX(i),l=mxEvent.getClientY(i),o=document.documentElement,r=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),s=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),a=this.currentPoint.x-this.graph.container.scrollLeft+e.x-r,g=this.currentPoint.y-this.graph.container.scrollTop+e.y-s;return this.outlineConnect&&!mxEvent.isShiftDown(t.getEvent())&&(t.isSource(this.marker.highlight.shape)||mxEvent.isAltDown(t.getEvent())&&null!=t.getState()||this.marker.highlight.isHighlightAt(n,l)||(a!=n||g!=l)&&null==t.getState()&&this.marker.highlight.isHighlightAt(a,g))},mxConnectionHandler.prototype.updateCurrentState=function(t,e){if(this.constraintHandler.update(t,null==this.first,!1,null==this.first||t.isSource(this.marker.highlight.shape)?null:e),null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint)null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,this.constraintHandler.currentFocus.cell),null==this.error?this.currentState=this.constraintHandler.currentFocus:this.constraintHandler.reset());else{this.graph.isIgnoreTerminalEvent(t.getEvent())?(this.marker.reset(),this.currentState=null):(this.marker.process(t),this.currentState=this.marker.getValidState());var i=this.isOutlineConnectEvent(t);if(null!=this.currentState&&i){t.isSource(this.marker.highlight.shape)&&(e=new mxPoint(t.getGraphX(),t.getGraphY()));var n=this.graph.getOutlineConstraint(e,this.currentState,t);this.constraintHandler.setFocus(t,this.currentState,!1),this.constraintHandler.currentConstraint=n,this.constraintHandler.currentPoint=e}if(this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var l=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=mxConstants.OUTLINE_HIGHLIGHT_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/l/l,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.getValidState()!=t.getState()?(this.marker.highlight.shape.stroke="transparent",this.currentState=null):this.marker.highlight.shape.stroke=mxConstants.DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/l/l,this.marker.highlight.repaint())}}},mxConnectionHandler.prototype.convertWaypoint=function(t){var e=this.graph.getView().getScale(),i=this.graph.getView().getTranslate();t.x=t.x/e-i.x,t.y=t.y/e-i.y},mxConnectionHandler.prototype.snapToPreview=function(t,e){if(!mxEvent.isAltDown(t.getEvent())&&null!=this.previous){var i=this.graph.gridSize*this.graph.view.scale/2,n=null!=this.sourceConstraint?this.first:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY());Math.abs(n.x-t.getGraphX())<i&&(e.x=n.x),Math.abs(n.y-t.getGraphY())<i&&(e.y=n.y)}},mxConnectionHandler.prototype.mouseMove=function(t,e){if(e.isConsumed()||!this.ignoreMouseDown&&null==this.first&&this.graph.isMouseDown)this.constraintHandler.reset();else{this.isEnabled()||null==this.currentState||(this.destroyIcons(),this.currentState=null);var i=this.graph.getView(),n=i.scale,l=i.translate,o=new mxPoint(e.getGraphX(),e.getGraphY());if(this.error=null,this.graph.isGridEnabledEvent(e.getEvent())&&(o=new mxPoint((this.graph.snap(o.x/n-l.x)+l.x)*n,(this.graph.snap(o.y/n-l.y)+l.y)*n)),this.snapToPreview(e,o),this.currentPoint=o,(null!=this.first||this.isEnabled()&&this.graph.isEnabled())&&this.updateCurrentState(e,o),null!=this.first){var r=null,s=o;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(r=this.constraintHandler.currentConstraint,s=this.constraintHandler.currentPoint.clone()):null!=this.previous&&!this.graph.isIgnoreTerminalEvent(e.getEvent())&&mxEvent.isShiftDown(e.getEvent())&&(Math.abs(this.previous.getCenterX()-o.x)<Math.abs(this.previous.getCenterY()-o.y)?o.x=this.previous.getCenterX():o.y=this.previous.getCenterY());var a=this.first;if(null!=this.selectedIcon){var g=this.selectedIcon.bounds.width,C=this.selectedIcon.bounds.height;if(null!=this.currentState&&this.targetConnectImage){var h=this.getIconPosition(this.selectedIcon,this.currentState);this.selectedIcon.bounds.x=h.x,this.selectedIcon.bounds.y=h.y}else{var A=new mxRectangle(e.getGraphX()+this.connectIconOffset.x,e.getGraphY()+this.connectIconOffset.y,g,C);this.selectedIcon.bounds=A}this.selectedIcon.redraw()}if(null!=this.edgeState)this.updateEdgeState(s,r),s=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-1],a=this.edgeState.absolutePoints[0];else if(null!=this.currentState&&null==this.constraintHandler.currentConstraint&&null!=(c=this.getTargetPerimeterPoint(this.currentState,e))&&(s=c),null==this.sourceConstraint&&null!=this.previous){var I=null!=this.waypoints&&this.waypoints.length>0?this.waypoints[0]:s;null!=(c=this.getSourcePerimeterPoint(this.previous,I,e))&&(a=c)}if(null==this.currentState&&this.movePreviewAway){var c=a;if(null!=this.edgeState&&this.edgeState.absolutePoints.length>=2){var d=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-2];null!=d&&(c=d)}var u=s.x-c.x,p=s.y-c.y,m=Math.sqrt(u*u+p*p);if(0==m)return;this.originalPoint=s.clone(),s.x-=4*u/m,s.y-=4*p/m}else this.originalPoint=null;if(null==this.shape){var u=Math.abs(o.x-this.first.x),p=Math.abs(o.y-this.first.y);(u>this.graph.tolerance||p>this.graph.tolerance)&&(this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState),this.updateCurrentState(e,o))}if(null!=this.shape){if(null!=this.edgeState)this.shape.points=this.edgeState.absolutePoints;else{var x=[a];null!=this.waypoints&&(x=x.concat(this.waypoints)),x.push(s),this.shape.points=x}this.drawPreview()}null!=this.cursor&&(this.graph.container.style.cursor=this.cursor),mxEvent.consume(e.getEvent()),e.consume()}else this.isEnabled()&&this.graph.isEnabled()?this.previous!=this.currentState&&null==this.edgeState?(this.destroyIcons(),null!=this.currentState&&null==this.error&&null==this.constraintHandler.currentConstraint&&(this.icons=this.createIcons(this.currentState),null==this.icons&&(this.currentState.setCursor(mxConstants.CURSOR_CONNECT),e.consume())),this.previous=this.currentState):this.previous!=this.currentState||null==this.currentState||null!=this.icons||this.graph.isMouseDown||e.consume():this.constraintHandler.reset();if(!this.graph.isMouseDown&&null!=this.currentState&&null!=this.icons){for(var v=!1,y=e.getSource(),f=0;f<this.icons.length&&!v;f++)v=y==this.icons[f].node||y.parentNode==this.icons[f].node;v||this.updateIcons(this.currentState,this.icons,e)}}},mxConnectionHandler.prototype.updateEdgeState=function(t,e){null!=this.sourceConstraint&&null!=this.sourceConstraint.point&&(this.edgeState.style[mxConstants.STYLE_EXIT_X]=this.sourceConstraint.point.x,this.edgeState.style[mxConstants.STYLE_EXIT_Y]=this.sourceConstraint.point.y),null!=e&&null!=e.point?(this.edgeState.style[mxConstants.STYLE_ENTRY_X]=e.point.x,this.edgeState.style[mxConstants.STYLE_ENTRY_Y]=e.point.y):(delete this.edgeState.style[mxConstants.STYLE_ENTRY_X],delete this.edgeState.style[mxConstants.STYLE_ENTRY_Y]),this.edgeState.absolutePoints=[null,null!=this.currentState?null:t],this.graph.view.updateFixedTerminalPoint(this.edgeState,this.previous,!0,this.sourceConstraint),null!=this.currentState&&(null==e&&(e=this.graph.getConnectionConstraint(this.edgeState,this.previous,!1)),this.edgeState.setAbsoluteTerminalPoint(null,!1),this.graph.view.updateFixedTerminalPoint(this.edgeState,this.currentState,!1,e));var i=null;if(null!=this.waypoints){i=[];for(var n=0;n<this.waypoints.length;n++){var l=this.waypoints[n].clone();this.convertWaypoint(l),i[n]=l}}this.graph.view.updatePoints(this.edgeState,i,this.previous,this.currentState),this.graph.view.updateFloatingTerminalPoints(this.edgeState,this.previous,this.currentState)},mxConnectionHandler.prototype.getTargetPerimeterPoint=function(t,e){var i=null,n=t.view,l=n.getPerimeterFunction(t);if(null!=l){var o=null!=this.waypoints&&this.waypoints.length>0?this.waypoints[this.waypoints.length-1]:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY()),r=l(n.getPerimeterBounds(t),this.edgeState,o,!1);null!=r&&(i=r)}else i=new mxPoint(t.getCenterX(),t.getCenterY());return i},mxConnectionHandler.prototype.getSourcePerimeterPoint=function(t,e,i){var n=null,l=t.view,o=l.getPerimeterFunction(t),r=new mxPoint(t.getCenterX(),t.getCenterY());if(null!=o){var s=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0),a=-s*(Math.PI/180);0!=s&&(e=mxUtils.getRotatedPoint(new mxPoint(e.x,e.y),Math.cos(a),Math.sin(a),r));var g=o(l.getPerimeterBounds(t),t,e,!1);null!=g&&(0!=s&&(g=mxUtils.getRotatedPoint(new mxPoint(g.x,g.y),Math.cos(-a),Math.sin(-a),r)),n=g)}else n=r;return n},mxConnectionHandler.prototype.updateIcons=function(t,e,i){},mxConnectionHandler.prototype.isStopEvent=function(t){return null!=t.getState()},mxConnectionHandler.prototype.addWaypointForEvent=function(t){var e=mxUtils.convertPoint(this.graph.container,t.getX(),t.getY()),i=Math.abs(e.x-this.first.x),n=Math.abs(e.y-this.first.y);if(null!=this.waypoints||this.mouseDownCounter>1&&(i>this.graph.tolerance||n>this.graph.tolerance)){null==this.waypoints&&(this.waypoints=[]);var l=this.graph.view.scale,e=new mxPoint(this.graph.snap(t.getGraphX()/l)*l,this.graph.snap(t.getGraphY()/l)*l);this.waypoints.push(e)}},mxConnectionHandler.prototype.mouseUp=function(t,e){if(!e.isConsumed()&&this.isConnecting()){if(this.waypointsEnabled&&!this.isStopEvent(e))return this.addWaypointForEvent(e),void e.consume();if(null==this.error){var i=null!=this.previous?this.previous.cell:null,n=null;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&(n=this.constraintHandler.currentFocus.cell),null==n&&null!=this.currentState&&(n=this.currentState.cell),this.connect(i,n,e.getEvent(),e.getCell())}else null!=this.previous&&null!=this.marker.validState&&this.previous.cell==this.marker.validState.cell&&this.graph.selectCellForEvent(this.marker.source,evt),this.error.length>0&&this.graph.validationAlert(this.error);this.destroyIcons(),e.consume()}null!=this.first&&this.reset()},mxConnectionHandler.prototype.reset=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.cursor&&null!=this.graph.container&&(this.graph.container.style.cursor=""),this.destroyIcons(),this.marker.reset(),this.constraintHandler.reset(),this.originalPoint=null,this.currentPoint=null,this.edgeState=null,this.previous=null,this.error=null,this.sourceConstraint=null,this.mouseDownCounter=0,this.first=null,this.fireEvent(new mxEventObject(mxEvent.RESET))},mxConnectionHandler.prototype.drawPreview=function(){this.updatePreview(null==this.error),this.shape.redraw()},mxConnectionHandler.prototype.updatePreview=function(t){this.shape.strokewidth=this.getEdgeWidth(t),this.shape.stroke=this.getEdgeColor(t)},mxConnectionHandler.prototype.getEdgeColor=function(t){return t?mxConstants.VALID_COLOR:mxConstants.INVALID_COLOR},mxConnectionHandler.prototype.getEdgeWidth=function(t){return t?3:1},mxConnectionHandler.prototype.connect=function(t,e,i,n){if(null!=e||this.isCreateTarget(i)||this.graph.allowDanglingEdges){var l=this.graph.getModel(),o=!1,r=null;l.beginUpdate();try{if(null!=t&&null==e&&!this.graph.isIgnoreTerminalEvent(i)&&this.isCreateTarget(i)&&null!=(e=this.createTargetVertex(i,t))){if(n=this.graph.getDropTarget([e],i,n),o=!0,null!=n&&this.graph.getModel().isEdge(n))n=this.graph.getDefaultParent();else{var s=this.graph.getView().getState(n);null!=s&&((A=l.getGeometry(e)).x-=s.origin.x,A.y-=s.origin.y)}this.graph.addCell(e,n)}C=this.graph.getDefaultParent();null!=t&&null!=e&&l.getParent(t)==l.getParent(e)&&l.getParent(l.getParent(t))!=l.getRoot()&&(C=l.getParent(t),null!=t.geometry&&t.geometry.relative&&null!=e.geometry&&e.geometry.relative&&(C=l.getParent(C)));var a=null,g=null;if(null!=this.edgeState&&(a=this.edgeState.cell.value,g=this.edgeState.cell.style),null!=(r=this.insertEdge(C,null,a,t,e,g))){this.graph.setConnectionConstraint(r,t,!0,this.sourceConstraint),this.graph.setConnectionConstraint(r,e,!1,this.constraintHandler.currentConstraint),null!=this.edgeState&&l.setGeometry(r,this.edgeState.cell.geometry);var C=l.getParent(t);if(this.isInsertBefore(r,t,e,i,n)){for(var h=null,A=t;null!=A.parent&&null!=A.geometry&&A.geometry.relative&&A.parent!=r.parent;)A=this.graph.model.getParent(A);if(null!=A&&null!=A.parent&&A.parent==r.parent){h=A.parent.getIndex(A);A.parent.insert(r,h)}}var I=l.getGeometry(r);if(null==I&&((I=new mxGeometry).relative=!0,l.setGeometry(r,I)),null!=this.waypoints&&this.waypoints.length>0){var c=this.graph.view.scale,d=this.graph.view.translate;I.points=[];for(var u=0;u<this.waypoints.length;u++){var p=this.waypoints[u];I.points.push(new mxPoint(p.x/c-d.x,p.y/c-d.y))}}if(null==e){var m=this.graph.view.translate,c=this.graph.view.scale;(p=null!=this.originalPoint?new mxPoint(this.originalPoint.x/c-m.x,this.originalPoint.y/c-m.y):new mxPoint(this.currentPoint.x/c-m.x,this.currentPoint.y/c-m.y)).x-=this.graph.panDx/this.graph.view.scale,p.y-=this.graph.panDy/this.graph.view.scale,I.setTerminalPoint(p,!1)}this.fireEvent(new mxEventObject(mxEvent.CONNECT,"cell",r,"terminal",e,"event",i,"target",n,"terminalInserted",o))}}catch(t){mxLog.show(),mxLog.debug(t.message)}finally{l.endUpdate()}this.select&&this.selectCells(r,o?e:null)}},mxConnectionHandler.prototype.selectCells=function(t,e){this.graph.setSelectionCell(t)},mxConnectionHandler.prototype.insertEdge=function(t,e,i,n,l,o){if(null==this.factoryMethod)return this.graph.insertEdge(t,e,i,n,l,o);var r=this.createEdge(i,n,l,o);return r=this.graph.addEdge(r,t,n,l)},mxConnectionHandler.prototype.createTargetVertex=function(t,e){for(var i=this.graph.getCellGeometry(e);null!=i&&i.relative;)e=this.graph.getModel().getParent(e),i=this.graph.getCellGeometry(e);var n=this.graph.cloneCells([e])[0];if(null!=(i=this.graph.getModel().getGeometry(n))){var l=this.graph.view.translate,o=this.graph.view.scale,r=new mxPoint(this.currentPoint.x/o-l.x,this.currentPoint.y/o-l.y);i.x=Math.round(r.x-i.width/2-this.graph.panDx/o),i.y=Math.round(r.y-i.height/2-this.graph.panDy/o);var s=this.getAlignmentTolerance();if(s>0){var a=this.graph.view.getState(e);if(null!=a){var g=a.x/o-l.x,C=a.y/o-l.y;Math.abs(g-i.x)<=s&&(i.x=Math.round(g)),Math.abs(C-i.y)<=s&&(i.y=Math.round(C))}}}return n},mxConnectionHandler.prototype.getAlignmentTolerance=function(t){return this.graph.isGridEnabled()?this.graph.gridSize/2:this.graph.tolerance},mxConnectionHandler.prototype.createEdge=function(t,e,i,n){var l=null;if(null!=this.factoryMethod&&(l=this.factoryMethod(e,i,n)),null==l){(l=new mxCell(t||"")).setEdge(!0),l.setStyle(n);var o=new mxGeometry;o.relative=!0,l.setGeometry(o)}return l},mxConnectionHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.marker&&(this.marker.destroy(),this.marker=null),null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.changeHandler),this.changeHandler=null),null!=this.drillHandler&&(this.graph.removeListener(this.drillHandler),this.graph.getView().removeListener(this.drillHandler),this.drillHandler=null),null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null)},mxConstraintHandler.prototype.pointImage=new mxImage(mxClient.imageBasePath+"/point.gif",5,5),mxConstraintHandler.prototype.graph=null,mxConstraintHandler.prototype.enabled=!0,mxConstraintHandler.prototype.highlightColor=mxConstants.DEFAULT_VALID_COLOR,mxConstraintHandler.prototype.isEnabled=function(){return this.enabled},mxConstraintHandler.prototype.setEnabled=function(t){this.enabled=t},mxConstraintHandler.prototype.reset=function(){if(null!=this.focusIcons){for(var t=0;t<this.focusIcons.length;t++)this.focusIcons[t].destroy();this.focusIcons=null}null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null),this.currentConstraint=null,this.currentFocusArea=null,this.currentPoint=null,this.currentFocus=null,this.focusPoints=null},mxConstraintHandler.prototype.getTolerance=function(t){return this.graph.getTolerance()},mxConstraintHandler.prototype.getImageForConstraint=function(t,e,i){return this.pointImage},mxConstraintHandler.prototype.isEventIgnored=function(t,e){return!1},mxConstraintHandler.prototype.isStateIgnored=function(t,e){return!1},mxConstraintHandler.prototype.destroyIcons=function(){if(null!=this.focusIcons){for(var t=0;t<this.focusIcons.length;t++)this.focusIcons[t].destroy();this.focusIcons=null,this.focusPoints=null}},mxConstraintHandler.prototype.destroyFocusHighlight=function(){null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null)},mxConstraintHandler.prototype.isKeepFocusEvent=function(t){return mxEvent.isShiftDown(t.getEvent())},mxConstraintHandler.prototype.getCellForEvent=function(t,e){var i=t.getCell();if(null!=i||null==e||t.getGraphX()==e.x&&t.getGraphY()==e.y||(i=this.graph.getCellAt(e.x,e.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}return i},mxConstraintHandler.prototype.update=function(t,e,i,n){if(this.isEnabled()&&!this.isEventIgnored(t)){null==this.mouseleaveHandler&&null!=this.graph.container&&(this.mouseleaveHandler=mxUtils.bind(this,function(){this.reset()}),mxEvent.addListener(this.graph.container,"mouseleave",this.resetHandler));var l=this.getTolerance(t),o=new mxRectangle((null!=n?n.x:t.getGraphX())-l,(null!=n?n.y:t.getGraphY())-l,2*l,2*l),r=new mxRectangle(t.getGraphX()-l,t.getGraphY()-l,2*l,2*l),s=this.graph.view.getState(this.getCellForEvent(t,n));this.isKeepFocusEvent(t)||null!=this.currentFocusArea&&null!=this.currentFocus&&null==s&&this.graph.getModel().isVertex(this.currentFocus.cell)&&mxUtils.intersects(this.currentFocusArea,r)||s==this.currentFocus||(this.currentFocusArea=null,this.currentFocus=null,this.setFocus(t,s,e)),this.currentConstraint=null,this.currentPoint=null;var a=null;if(null!=this.focusIcons&&null!=this.constraints&&(null==s||this.currentFocus==s))for(var g=r.getCenterX(),C=r.getCenterY(),h=0;h<this.focusIcons.length;h++){var A=g-this.focusIcons[h].bounds.getCenterX(),I=C-this.focusIcons[h].bounds.getCenterY(),c=A*A+I*I;if((this.intersects(this.focusIcons[h],r,e,i)||null!=n&&this.intersects(this.focusIcons[h],o,e,i))&&(null==a||c<a)){if(this.currentConstraint=this.constraints[h],this.currentPoint=this.focusPoints[h],a=c,(c=this.focusIcons[h].bounds.clone()).grow(mxConstants.HIGHLIGHT_SIZE),mxClient.IS_IE&&(c.grow(1),c.width-=1,c.height-=1),null==this.focusHighlight){var d=this.createHighlightShape();d.dialect=this.graph.dialect==mxConstants.DIALECT_SVG?mxConstants.DIALECT_SVG:mxConstants.DIALECT_VML,d.pointerEvents=!1,d.init(this.graph.getView().getOverlayPane()),this.focusHighlight=d;var u=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:s});mxEvent.redirectMouseEvents(d.node,this.graph,u)}this.focusHighlight.bounds=c,this.focusHighlight.redraw()}}null==this.currentConstraint&&this.destroyFocusHighlight()}else this.currentConstraint=null,this.currentFocus=null,this.currentPoint=null},mxConstraintHandler.prototype.setFocus=function(t,e,i){if(this.constraints=null!=e&&!this.isStateIgnored(e,i)&&this.graph.isCellConnectable(e.cell)?this.isEnabled()?this.graph.getAllConnectionConstraints(e,i)||[]:[]:null,null!=this.constraints){if(this.currentFocus=e,this.currentFocusArea=new mxRectangle(e.x,e.y,e.width,e.height),null!=this.focusIcons){for(n=0;n<this.focusIcons.length;n++)this.focusIcons[n].destroy();this.focusIcons=null,this.focusPoints=null}this.focusPoints=[],this.focusIcons=[];for(var n=0;n<this.constraints.length;n++){var l=this.graph.getConnectionPoint(e,this.constraints[n]),o=this.getImageForConstraint(e,this.constraints[n],l),r=o.src,s=new mxImageShape(new mxRectangle(Math.round(l.x-o.width/2),Math.round(l.y-o.height/2),o.width,o.height),r);s.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,s.preserveImageAspect=!1,s.init(this.graph.getView().getDecoratorPane()),(mxClient.IS_QUIRKS||8==document.documentMode)&&mxEvent.addListener(s.node,"dragstart",function(t){return mxEvent.consume(t),!1}),null!=s.node.previousSibling&&s.node.parentNode.insertBefore(s.node,s.node.parentNode.firstChild);var a=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:e});s.redraw(),mxEvent.redirectMouseEvents(s.node,this.graph,a),this.currentFocusArea.add(s.bounds),this.focusIcons.push(s),this.focusPoints.push(l)}this.currentFocusArea.grow(this.getTolerance(t))}else this.destroyIcons(),this.destroyFocusHighlight()},mxConstraintHandler.prototype.createHighlightShape=function(){var t=new mxRectangleShape(null,this.highlightColor,this.highlightColor,mxConstants.HIGHLIGHT_STROKEWIDTH);return t.opacity=mxConstants.HIGHLIGHT_OPACITY,t},mxConstraintHandler.prototype.intersects=function(t,e,i,n){return mxUtils.intersects(t.bounds,e)},mxConstraintHandler.prototype.destroy=function(){this.reset(),null!=this.resetHandler&&(this.graph.model.removeListener(this.resetHandler),this.graph.view.removeListener(this.resetHandler),this.graph.removeListener(this.resetHandler),this.resetHandler=null),null!=this.mouseleaveHandler&&null!=this.graph.container&&(mxEvent.removeListener(this.graph.container,"mouseleave",this.mouseleaveHandler),this.mouseleaveHandler=null)},mxRubberband.prototype.defaultOpacity=20,mxRubberband.prototype.enabled=!0,mxRubberband.prototype.div=null,mxRubberband.prototype.sharedDiv=null,mxRubberband.prototype.currentX=0,mxRubberband.prototype.currentY=0,mxRubberband.prototype.isEnabled=function(){return this.enabled},mxRubberband.prototype.setEnabled=function(t){this.enabled=t},mxRubberband.prototype.isForceRubberbandEvent=function(t){return mxEvent.isAltDown(t.getEvent())},mxRubberband.prototype.mouseDown=function(t,e){if(!e.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null==e.getState()&&!mxEvent.isMultiTouchEvent(e.getEvent())){var i=mxUtils.getOffset(this.graph.container),n=mxUtils.getScrollOrigin(this.graph.container);n.x-=i.x,n.y-=i.y,this.start(e.getX()+n.x,e.getY()+n.y),e.consume(!1)}},mxRubberband.prototype.start=function(t,e){function i(t){var e=new mxMouseEvent(t),i=mxUtils.convertPoint(n,e.getX(),e.getY());return e.graphX=i.x,e.graphY=i.y,e}this.first=new mxPoint(t,e);var n=this.graph.container;this.dragHandler=mxUtils.bind(this,function(t){this.mouseMove(this.graph,i(t))}),this.dropHandler=mxUtils.bind(this,function(t){this.mouseUp(this.graph,i(t))}),mxClient.IS_FF&&mxEvent.addGestureListeners(document,null,this.dragHandler,this.dropHandler)},mxRubberband.prototype.mouseMove=function(t,e){if(!e.isConsumed()&&null!=this.first){var i=mxUtils.getScrollOrigin(this.graph.container),n=mxUtils.getOffset(this.graph.container);i.x-=n.x,i.y-=n.y;var l=e.getX()+i.x,o=e.getY()+i.y,r=this.first.x-l,s=this.first.y-o,a=this.graph.tolerance;(null!=this.div||Math.abs(r)>a||Math.abs(s)>a)&&(null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),this.update(l,o),e.consume())}},mxRubberband.prototype.createShape=function(){return null==this.sharedDiv&&(this.sharedDiv=document.createElement("div"),this.sharedDiv.className="mxRubberband",mxUtils.setOpacity(this.sharedDiv,this.defaultOpacity)),this.graph.container.appendChild(this.sharedDiv),this.sharedDiv},mxRubberband.prototype.mouseUp=function(t,e){var i=null!=this.div&&"none"!=this.div.style.display;if(this.reset(),i){var n=new mxRectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion(n,e.getEvent()),e.consume()}},mxRubberband.prototype.reset=function(){null!=this.div&&this.div.parentNode.removeChild(this.div),mxEvent.removeGestureListeners(document,null,this.dragHandler,this.dropHandler),this.dragHandler=null,this.dropHandler=null,this.currentX=0,this.currentY=0,this.first=null,this.div=null},mxRubberband.prototype.update=function(t,e){this.currentX=t,this.currentY=e,this.repaint()},mxRubberband.prototype.repaint=function(){if(null!=this.div){var t=this.currentX-this.graph.panDx,e=this.currentY-this.graph.panDy;this.x=Math.min(this.first.x,t),this.y=Math.min(this.first.y,e),this.width=Math.max(this.first.x,t)-this.x,this.height=Math.max(this.first.y,e)-this.y;var i=mxClient.IS_VML?this.graph.panDx:0,n=mxClient.IS_VML?this.graph.panDy:0;this.div.style.left=this.x+i+"px",this.div.style.top=this.y+n+"px",this.div.style.width=Math.max(1,this.width)+"px",this.div.style.height=Math.max(1,this.height)+"px"}},mxRubberband.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),this.graph.removeListener(this.forceRubberbandHandler),this.graph.removeListener(this.panHandler),this.reset(),null!=this.sharedDiv&&(this.sharedDiv=null))},mxHandle.prototype.cursor="default",mxHandle.prototype.image=null,mxHandle.prototype.ignoreGrid=!1,mxHandle.prototype.getPosition=function(t){},mxHandle.prototype.setPosition=function(t,e,i){},mxHandle.prototype.execute=function(){},mxHandle.prototype.copyStyle=function(t){this.graph.setCellStyles(t,this.state.style[t],[this.state.cell])},mxHandle.prototype.processEvent=function(t){var e=this.graph.view.scale,i=this.graph.view.translate,n=new mxPoint(t.getGraphX()/e-i.x,t.getGraphY()/e-i.y);null!=this.shape&&null!=this.shape.bounds&&(n.x-=this.shape.bounds.width/e/4,n.y-=this.shape.bounds.height/e/4);var l=-mxUtils.toRadians(this.getRotation()),o=-mxUtils.toRadians(this.getTotalRotation())-l;n=this.flipPoint(this.rotatePoint(this.snapPoint(this.rotatePoint(n,l),this.ignoreGrid||!this.graph.isGridEnabledEvent(t.getEvent())),o)),this.setPosition(this.state.getPaintBounds(),n,t),this.positionChanged(),this.redraw()},mxHandle.prototype.positionChanged=function(){null!=this.state.text&&this.state.text.apply(this.state),null!=this.state.shape&&this.state.shape.apply(this.state),this.graph.cellRenderer.redraw(this.state,!0)},mxHandle.prototype.getRotation=function(){return null!=this.state.shape?this.state.shape.getRotation():0},mxHandle.prototype.getTotalRotation=function(){return null!=this.state.shape?this.state.shape.getShapeRotation():0},mxHandle.prototype.init=function(){var t=this.isHtmlRequired();null!=this.image?(this.shape=new mxImageShape(new mxRectangle(0,0,this.image.width,this.image.height),this.image.src),this.shape.preserveImageAspect=!1):this.shape=this.createShape(t),this.initShape(t)},mxHandle.prototype.createShape=function(t){return new mxRectangleShape(new mxRectangle(0,0,mxConstants.HANDLE_SIZE,mxConstants.HANDLE_SIZE),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxHandle.prototype.initShape=function(t){t&&this.shape.isHtmlAllowed()?(this.shape.dialect=mxConstants.DIALECT_STRICTHTML,this.shape.init(this.graph.container)):(this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,null!=this.cursor&&this.shape.init(this.graph.getView().getOverlayPane())),mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state),this.shape.node.style.cursor=this.cursor},mxHandle.prototype.redraw=function(){if(null!=this.shape&&null!=this.state.shape){var t=this.getPosition(this.state.getPaintBounds());if(null!=t){var e=mxUtils.toRadians(this.getTotalRotation());t=this.rotatePoint(this.flipPoint(t),e);var i=this.graph.view.scale,n=this.graph.view.translate;this.shape.bounds.x=Math.floor((t.x+n.x)*i-this.shape.bounds.width/2),this.shape.bounds.y=Math.floor((t.y+n.y)*i-this.shape.bounds.height/2),this.state.unscaledWidth=null,this.shape.redraw()}}},mxHandle.prototype.isHtmlRequired=function(){return null!=this.state.text&&this.state.text.node.parentNode==this.graph.container},mxHandle.prototype.rotatePoint=function(t,e){var i=this.state.getCellBounds(),n=new mxPoint(i.getCenterX(),i.getCenterY()),l=Math.cos(e),o=Math.sin(e);return mxUtils.getRotatedPoint(t,l,o,n)},mxHandle.prototype.flipPoint=function(t){if(null!=this.state.shape){var e=this.state.getCellBounds();this.state.shape.flipH&&(t.x=2*e.x+e.width-t.x),this.state.shape.flipV&&(t.y=2*e.y+e.height-t.y)}return t},mxHandle.prototype.snapPoint=function(t,e){return e||(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t},mxHandle.prototype.setVisible=function(t){null!=this.shape&&null!=this.shape.node&&(this.shape.node.style.display=t?"":"none")},mxHandle.prototype.reset=function(){this.setVisible(!0),this.state.style=this.graph.getCellStyle(this.state.cell),this.positionChanged()},mxHandle.prototype.destroy=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null)},mxVertexHandler.prototype.graph=null,mxVertexHandler.prototype.state=null,mxVertexHandler.prototype.singleSizer=!1,mxVertexHandler.prototype.index=null,mxVertexHandler.prototype.allowHandleBoundsCheck=!0,mxVertexHandler.prototype.handleImage=null,mxVertexHandler.prototype.tolerance=0,mxVertexHandler.prototype.rotationEnabled=!1,mxVertexHandler.prototype.parentHighlightEnabled=!1,mxVertexHandler.prototype.rotationRaster=!0,mxVertexHandler.prototype.rotationCursor="crosshair",mxVertexHandler.prototype.livePreview=!1,mxVertexHandler.prototype.manageSizers=!1,mxVertexHandler.prototype.constrainGroupByChildren=!1,mxVertexHandler.prototype.rotationHandleVSpacing=-16,mxVertexHandler.prototype.horizontalOffset=0,mxVertexHandler.prototype.verticalOffset=0,mxVertexHandler.prototype.init=function(){if(this.graph=this.state.view.graph,this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.selectionBorder=this.createSelectionShape(this.bounds),this.selectionBorder.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.selectionBorder.pointerEvents=!1,this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.selectionBorder.init(this.graph.getView().getOverlayPane()),mxEvent.redirectMouseEvents(this.selectionBorder.node,this.graph,this.state),this.graph.isCellMovable(this.state.cell)&&this.selectionBorder.setCursor(mxConstants.CURSOR_MOVABLE_VERTEX),mxGraphHandler.prototype.maxCells<=0||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells){var t=this.graph.isCellResizable(this.state.cell);if(this.sizers=[],t||this.graph.isLabelMovable(this.state.cell)&&this.state.width>=2&&this.state.height>=2){var e=0;t&&(this.singleSizer||(this.sizers.push(this.createSizer("nw-resize",e++)),this.sizers.push(this.createSizer("n-resize",e++)),this.sizers.push(this.createSizer("ne-resize",e++)),this.sizers.push(this.createSizer("w-resize",e++)),this.sizers.push(this.createSizer("e-resize",e++)),this.sizers.push(this.createSizer("sw-resize",e++)),this.sizers.push(this.createSizer("s-resize",e++))),this.sizers.push(this.createSizer("se-resize",e++)));var i=this.graph.model.getGeometry(this.state.cell);null==i||i.relative||this.graph.isSwimlane(this.state.cell)||!this.graph.isLabelMovable(this.state.cell)||(this.labelShape=this.createSizer(mxConstants.CURSOR_LABEL_HANDLE,mxEvent.LABEL_HANDLE,mxConstants.LABEL_HANDLE_SIZE,mxConstants.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}else this.graph.isCellMovable(this.state.cell)&&!this.graph.isCellResizable(this.state.cell)&&this.state.width<2&&this.state.height<2&&(this.labelShape=this.createSizer(mxConstants.CURSOR_MOVABLE_VERTEX,mxEvent.LABEL_HANDLE,null,mxConstants.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}this.isRotationHandleVisible()&&(this.rotationShape=this.createSizer(this.rotationCursor,mxEvent.ROTATION_HANDLE,mxConstants.HANDLE_SIZE+3,mxConstants.HANDLE_FILLCOLOR),this.sizers.push(this.rotationShape)),this.customHandles=this.createCustomHandles(),this.redraw(),this.constrainGroupByChildren&&this.updateMinBounds()},mxVertexHandler.prototype.isRotationHandleVisible=function(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&(mxGraphHandler.prototype.maxCells<=0||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells)&&this.state.width>=2&&this.state.height>=2},mxVertexHandler.prototype.isConstrainedEvent=function(t){return mxEvent.isShiftDown(t.getEvent())||"fixed"==this.state.style[mxConstants.STYLE_ASPECT]},mxVertexHandler.prototype.isCenteredEvent=function(t,e){return!1},mxVertexHandler.prototype.createCustomHandles=function(){return null},mxVertexHandler.prototype.updateMinBounds=function(){var t=this.graph.getChildCells(this.state.cell);if(t.length>0&&(this.minBounds=this.graph.view.getBounds(t),null!=this.minBounds)){var e=this.state.view.scale,i=this.state.view.translate;this.minBounds.x-=this.state.x,this.minBounds.y-=this.state.y,this.minBounds.x/=e,this.minBounds.y/=e,this.minBounds.width/=e,this.minBounds.height/=e,this.x0=this.state.x/e-i.x,this.y0=this.state.y/e-i.y}},mxVertexHandler.prototype.getSelectionBounds=function(t){return new mxRectangle(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height))},mxVertexHandler.prototype.createParentHighlightShape=function(t){return this.createSelectionShape(t)},mxVertexHandler.prototype.createSelectionShape=function(t){var e=new mxRectangleShape(t,null,this.getSelectionColor());return e.strokewidth=this.getSelectionStrokeWidth(),e.isDashed=this.isSelectionDashed(),e},mxVertexHandler.prototype.getSelectionColor=function(){return mxConstants.VERTEX_SELECTION_COLOR},mxVertexHandler.prototype.getSelectionStrokeWidth=function(){return mxConstants.VERTEX_SELECTION_STROKEWIDTH},mxVertexHandler.prototype.isSelectionDashed=function(){return mxConstants.VERTEX_SELECTION_DASHED},mxVertexHandler.prototype.createSizer=function(t,e,i,n){var l=new mxRectangle(0,0,i=i||mxConstants.HANDLE_SIZE,i),o=this.createSizerShape(l,e,n);return o.isHtmlAllowed()&&null!=this.state.text&&this.state.text.node.parentNode==this.graph.container?(o.bounds.height-=1,o.bounds.width-=1,o.dialect=mxConstants.DIALECT_STRICTHTML,o.init(this.graph.container)):(o.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,o.init(this.graph.getView().getOverlayPane())),mxEvent.redirectMouseEvents(o.node,this.graph,this.state),this.graph.isEnabled()&&o.setCursor(t),this.isSizerVisible(e)||(o.visible=!1),o},mxVertexHandler.prototype.isSizerVisible=function(t){return!0},mxVertexHandler.prototype.createSizerShape=function(t,e,i){if(null!=this.handleImage){var n=new mxImageShape(t=new mxRectangle(t.x,t.y,this.handleImage.width,this.handleImage.height),this.handleImage.src);return n.preserveImageAspect=!1,n}return e==mxEvent.ROTATION_HANDLE?new mxEllipse(t,i||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR):new mxRectangleShape(t,i||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxVertexHandler.prototype.moveSizerTo=function(t,e,i){null!=t&&(t.bounds.x=Math.floor(e-t.bounds.width/2),t.bounds.y=Math.floor(i-t.bounds.height/2),null!=t.node&&"none"!=t.node.style.display&&t.redraw())},mxVertexHandler.prototype.getHandleForEvent=function(t){function e(e){return null!=e&&(t.isSource(e)||null!=n&&mxUtils.intersects(e.bounds,n)&&"none"!=e.node.style.display&&"hidden"!=e.node.style.visibility)}var i=mxEvent.isMouseEvent(t.getEvent())?1:this.tolerance,n=this.allowHandleBoundsCheck&&(mxClient.IS_IE||i>0)?new mxRectangle(t.getGraphX()-i,t.getGraphY()-i,2*i,2*i):null;if(null!=this.customHandles&&this.isCustomHandleEvent(t))for(l=this.customHandles.length-1;l>=0;l--)if(e(this.customHandles[l].shape))return mxEvent.CUSTOM_HANDLE-l;if(e(this.rotationShape))return mxEvent.ROTATION_HANDLE;if(e(this.labelShape))return mxEvent.LABEL_HANDLE;if(null!=this.sizers)for(var l=0;l<this.sizers.length;l++)if(e(this.sizers[l]))return l;return null},mxVertexHandler.prototype.isCustomHandleEvent=function(t){return!0},mxVertexHandler.prototype.mouseDown=function(t,e){var i=mxEvent.isMouseEvent(e.getEvent())?0:this.tolerance;if(!e.isConsumed()&&this.graph.isEnabled()&&(i>0||e.getState()==this.state)){var n=this.getHandleForEvent(e);null!=n&&(this.start(e.getGraphX(),e.getGraphY(),n),e.consume())}},mxVertexHandler.prototype.isLivePreviewBorder=function(){return null!=this.state.shape&&null==this.state.shape.fill&&null==this.state.shape.stroke},mxVertexHandler.prototype.start=function(t,e,i){this.inTolerance=!0,this.childOffsetX=0,this.childOffsetY=0,this.index=i,this.startX=t,this.startY=e;var n=this.state.view.graph.model,l=n.getParent(this.state.cell);if(this.state.view.currentRoot!=l&&(n.isVertex(l)||n.isEdge(l))&&(this.parentState=this.state.view.graph.view.getState(l)),this.selectionBorder.node.style.display=i==mxEvent.ROTATION_HANDLE?"inline":"none",this.livePreview&&!this.isLivePreviewBorder()||(this.preview=this.createSelectionShape(this.bounds),mxClient.IS_SVG&&0!=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")||null==this.state.text||this.state.text.node.parentNode!=this.graph.container?(this.preview.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.preview.init(this.graph.view.getOverlayPane())):(this.preview.dialect=mxConstants.DIALECT_STRICTHTML,this.preview.init(this.graph.container))),this.livePreview){this.hideSizers(),i==mxEvent.ROTATION_HANDLE?this.rotationShape.node.style.display="":i==mxEvent.LABEL_HANDLE?this.labelShape.node.style.display="":null!=this.sizers&&null!=this.sizers[i]?this.sizers[i].node.style.display="":i<=mxEvent.CUSTOM_HANDLE&&null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-i].setVisible(!0);var o=this.graph.getEdges(this.state.cell);this.edgeHandlers=[];for(var r=0;r<o.length;r++){var s=this.graph.selectionCellsHandler.getHandler(o[r]);null!=s&&this.edgeHandlers.push(s)}}},mxVertexHandler.prototype.setHandlesVisible=function(t){if(null!=this.sizers)for(e=0;e<this.sizers.length;e++)this.sizers[e].node.style.display=t?"":"none";if(null!=this.customHandles)for(var e=0;e<this.customHandles.length;e++)this.customHandles[e].setVisible(t)},mxVertexHandler.prototype.hideSizers=function(){this.setHandlesVisible(!1)},mxVertexHandler.prototype.checkTolerance=function(t){this.inTolerance&&null!=this.startX&&null!=this.startY&&(mxEvent.isMouseEvent(t.getEvent())||Math.abs(t.getGraphX()-this.startX)>this.graph.tolerance||Math.abs(t.getGraphY()-this.startY)>this.graph.tolerance)&&(this.inTolerance=!1)},mxVertexHandler.prototype.updateHint=function(t){},mxVertexHandler.prototype.removeHint=function(){},mxVertexHandler.prototype.roundAngle=function(t){return Math.round(10*t)/10},mxVertexHandler.prototype.roundLength=function(t){return Math.round(t)},mxVertexHandler.prototype.mouseMove=function(t,e){e.isConsumed()||null==this.index?this.graph.isMouseDown||null==this.getHandleForEvent(e)||e.consume(!1):(this.checkTolerance(e),this.inTolerance||(this.index<=mxEvent.CUSTOM_HANDLE?null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent(e):this.index==mxEvent.LABEL_HANDLE?this.moveLabel(e):this.index==mxEvent.ROTATION_HANDLE?this.rotateVertex(e):this.resizeVertex(e),this.updateHint(e)),e.consume())},mxVertexHandler.prototype.moveLabel=function(t){var e=new mxPoint(t.getGraphX(),t.getGraphY()),i=this.graph.view.translate,n=this.graph.view.scale;this.graph.isGridEnabledEvent(t.getEvent())&&(e.x=(this.graph.snap(e.x/n-i.x)+i.x)*n,e.y=(this.graph.snap(e.y/n-i.y)+i.y)*n);var l=null!=this.rotationShape?this.sizers.length-2:this.sizers.length-1;this.moveSizerTo(this.sizers[l],e.x,e.y)},mxVertexHandler.prototype.rotateVertex=function(t){var e=new mxPoint(t.getGraphX(),t.getGraphY()),i=this.state.x+this.state.width/2-e.x,n=this.state.y+this.state.height/2-e.y;if(this.currentAlpha=0!=i?180*Math.atan(n/i)/Math.PI+90:n<0?180:0,i>0&&(this.currentAlpha-=180),this.rotationRaster&&this.graph.isGridEnabledEvent(t.getEvent())){var i=e.x-this.state.getCenterX(),n=e.y-this.state.getCenterY(),l=3*Math.abs(Math.sqrt(i*i+n*n)-20),o=Math.max(1,5*Math.min(3,Math.max(0,Math.round(80/Math.abs(l)))));this.currentAlpha=Math.round(this.currentAlpha/o)*o}else this.currentAlpha=this.roundAngle(this.currentAlpha);this.selectionBorder.rotation=this.currentAlpha,this.selectionBorder.redraw(),this.livePreview&&this.redrawHandles()},mxVertexHandler.prototype.resizeVertex=function(t){var e=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),i=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),n=new mxPoint(t.getGraphX(),t.getGraphY()),l=this.graph.view.translate,o=this.graph.view.scale,r=Math.cos(-i),s=Math.sin(-i),a=n.x-this.startX,g=n.y-this.startY,C=s*a+r*g;a=r*a-s*g,g=C;var h=this.graph.getCellGeometry(this.state.cell);if(this.unscaledBounds=this.union(h,a/o,g/o,this.index,this.graph.isGridEnabledEvent(t.getEvent()),1,new mxPoint(0,0),this.isConstrainedEvent(t),this.isCenteredEvent(this.state,t)),!h.relative){var A=this.graph.getMaximumGraphBounds();if(null!=A&&null!=this.parentState&&((A=mxRectangle.fromRectangle(A)).x-=(this.parentState.x-l.x*o)/o,A.y-=(this.parentState.y-l.y*o)/o),this.graph.isConstrainChild(this.state.cell)){var I=this.graph.getCellContainmentArea(this.state.cell);if(null!=I){var c=this.graph.getOverlap(this.state.cell);c>0&&((I=mxRectangle.fromRectangle(I)).x-=I.width*c,I.y-=I.height*c,I.width+=2*I.width*c,I.height+=2*I.height*c),null==A?A=I:(A=mxRectangle.fromRectangle(A)).intersect(I)}}null!=A&&(this.unscaledBounds.x<A.x&&(this.unscaledBounds.width-=A.x-this.unscaledBounds.x,this.unscaledBounds.x=A.x),this.unscaledBounds.y<A.y&&(this.unscaledBounds.height-=A.y-this.unscaledBounds.y,this.unscaledBounds.y=A.y),this.unscaledBounds.x+this.unscaledBounds.width>A.x+A.width&&(this.unscaledBounds.width-=this.unscaledBounds.x+this.unscaledBounds.width-A.x-A.width),this.unscaledBounds.y+this.unscaledBounds.height>A.y+A.height&&(this.unscaledBounds.height-=this.unscaledBounds.y+this.unscaledBounds.height-A.y-A.height))}this.bounds=new mxRectangle((null!=this.parentState?this.parentState.x:l.x*o)+this.unscaledBounds.x*o,(null!=this.parentState?this.parentState.y:l.y*o)+this.unscaledBounds.y*o,this.unscaledBounds.width*o,this.unscaledBounds.height*o),h.relative&&null!=this.parentState&&(this.bounds.x+=this.state.x-this.parentState.x,this.bounds.y+=this.state.y-this.parentState.y),r=Math.cos(i),s=Math.sin(i);var d=new mxPoint(this.bounds.getCenterX(),this.bounds.getCenterY()),u=r*(a=d.x-e.x)-s*(g=d.y-e.y)-a,p=s*a+r*g-g,m=this.bounds.x-this.state.x,x=this.bounds.y-this.state.y,v=r*m-s*x,y=s*m+r*x;this.bounds.x+=u,this.bounds.y+=p,this.unscaledBounds.x=this.roundLength(this.unscaledBounds.x+u/o),this.unscaledBounds.y=this.roundLength(this.unscaledBounds.y+p/o),this.unscaledBounds.width=this.roundLength(this.unscaledBounds.width),this.unscaledBounds.height=this.roundLength(this.unscaledBounds.height),this.graph.isCellCollapsed(this.state.cell)||0==u&&0==p?(this.childOffsetX=0,this.childOffsetY=0):(this.childOffsetX=this.state.x-this.bounds.x+v,this.childOffsetY=this.state.y-this.bounds.y+y),this.livePreview&&this.updateLivePreview(t),null!=this.preview&&this.drawPreview()},mxVertexHandler.prototype.updateLivePreview=function(t){var e=this.graph.view.scale,i=this.graph.view.translate,n=this.state.clone();this.state.x=this.bounds.x,this.state.y=this.bounds.y,this.state.origin=new mxPoint(this.state.x/e-i.x,this.state.y/e-i.y),this.state.width=this.bounds.width,this.state.height=this.bounds.height,this.state.unscaledWidth=null;var l=this.state.absoluteOffset;l=new mxPoint(l.x,l.y),this.state.absoluteOffset.x=0,this.state.absoluteOffset.y=0;var o=this.graph.getCellGeometry(this.state.cell);if(null!=o){var r=o.offset||this.EMPTY_POINT;null==r||o.relative||(this.state.absoluteOffset.x=this.state.view.scale*r.x,this.state.absoluteOffset.y=this.state.view.scale*r.y),this.state.view.updateVertexLabelOffset(this.state)}this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate(),this.redrawHandles(),this.state.setState(n)},mxVertexHandler.prototype.mouseUp=function(t,e){if(null!=this.index&&null!=this.state){var i=new mxPoint(e.getGraphX(),e.getGraphY());this.graph.getModel().beginUpdate();try{if(this.index<=mxEvent.CUSTOM_HANDLE)null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].execute();else if(this.index==mxEvent.ROTATION_HANDLE)if(null!=this.currentAlpha){var n=this.currentAlpha-(this.state.style[mxConstants.STYLE_ROTATION]||0);0!=n&&this.rotateCell(this.state.cell,n)}else this.rotateClick();else{var l=this.graph.isGridEnabledEvent(e.getEvent()),o=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),r=Math.cos(-o),s=Math.sin(-o),a=i.x-this.startX,g=i.y-this.startY,C=s*a+r*g;a=r*a-s*g,g=C;var h=this.graph.view.scale,A=this.isRecursiveResize(this.state,e);this.resizeCell(this.state.cell,this.roundLength(a/h),this.roundLength(g/h),this.index,l,this.isConstrainedEvent(e),A)}}finally{this.graph.getModel().endUpdate()}e.consume(),this.reset()}},mxVertexHandler.prototype.isRecursiveResize=function(t,e){return this.graph.isRecursiveResize(this.state)},mxVertexHandler.prototype.rotateClick=function(){},mxVertexHandler.prototype.rotateCell=function(t,e,i){if(0!=e){var n=this.graph.getModel();if(n.isVertex(t)||n.isEdge(t)){if(!n.isEdge(t)){var l=this.graph.view.getState(t),o=null!=l?l.style:this.graph.getCellStyle(t);if(null!=o){var r=(o[mxConstants.STYLE_ROTATION]||0)+e;this.graph.setCellStyles(mxConstants.STYLE_ROTATION,r,[t])}}var s=this.graph.getCellGeometry(t);if(null!=s){var a=this.graph.getCellGeometry(i);if(null==a||n.isEdge(i)||((s=s.clone()).rotate(e,new mxPoint(a.width/2,a.height/2)),n.setGeometry(t,s)),n.isVertex(t)&&!s.relative||n.isEdge(t))for(var g=n.getChildCount(t),C=0;C<g;C++)this.rotateCell(n.getChildAt(t,C),e,t)}}}},mxVertexHandler.prototype.reset=function(){if(null!=this.sizers&&null!=this.index&&null!=this.sizers[this.index]&&"none"==this.sizers[this.index].node.style.display&&(this.sizers[this.index].node.style.display=""),this.currentAlpha=null,this.inTolerance=null,this.index=null,null!=this.preview&&(this.preview.destroy(),this.preview=null),this.livePreview&&null!=this.sizers)for(t=0;t<this.sizers.length;t++)null!=this.sizers[t]&&(this.sizers[t].node.style.display="");if(null!=this.customHandles)for(var t=0;t<this.customHandles.length;t++)this.customHandles[t].reset();null!=this.selectionBorder&&(this.selectionBorder.node.style.display="inline",this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview()),this.removeHint(),this.redrawHandles(),this.edgeHandlers=null,this.unscaledBounds=null},mxVertexHandler.prototype.resizeCell=function(t,e,i,n,l,o,r){var s=this.graph.model.getGeometry(t);if(null!=s)if(n==mxEvent.LABEL_HANDLE){a=this.graph.view.scale;e=Math.round((this.labelShape.bounds.getCenterX()-this.startX)/a),i=Math.round((this.labelShape.bounds.getCenterY()-this.startY)/a),null==(s=s.clone()).offset?s.offset=new mxPoint(e,i):(s.offset.x+=e,s.offset.y+=i),this.graph.model.setGeometry(t,s)}else if(null!=this.unscaledBounds){var a=this.graph.view.scale;0==this.childOffsetX&&0==this.childOffsetY||this.moveChildren(t,Math.round(this.childOffsetX/a),Math.round(this.childOffsetY/a)),this.graph.resizeCell(t,this.unscaledBounds,r)}},mxVertexHandler.prototype.moveChildren=function(t,e,i){for(var n=this.graph.getModel(),l=n.getChildCount(t),o=0;o<l;o++){var r=n.getChildAt(t,o),s=this.graph.getCellGeometry(r);null!=s&&((s=s.clone()).translate(e,i),n.setGeometry(r,s))}},mxVertexHandler.prototype.union=function(t,e,i,n,l,o,r,s,a){if(this.singleSizer){var g=t.x+t.width+e,C=t.y+t.height+i;l&&(g=this.graph.snap(g/o)*o,C=this.graph.snap(C/o)*o);var h=new mxRectangle(t.x,t.y,0,0);return h.add(new mxRectangle(g,C,0,0)),h}var A=t.width,I=t.height,c=t.x-r.x*o,d=c+A,u=t.y-r.y*o,p=u+I,m=c+A/2,x=u+I/2;n>4?(p+=i,l&&(p=this.graph.snap(p/o)*o)):n<3&&(u+=i,l&&(u=this.graph.snap(u/o)*o)),0==n||3==n||5==n?(c+=e,l&&(c=this.graph.snap(c/o)*o)):2!=n&&4!=n&&7!=n||(d+=e,l&&(d=this.graph.snap(d/o)*o));var v=d-c,y=p-u;if(s){var f=this.graph.getCellGeometry(this.state.cell);if(null!=f){var b=f.width/f.height;1==n||2==n||7==n||6==n?v=y*b:y=v/b,0==n&&(c=d-v,u=p-y)}}if(a){var w=m-(c+(v+=v-A)/2),E=x-(u+(y+=y-I)/2);c+=w,u+=E,d+=w,p+=E}v<0&&(c+=v,v=Math.abs(v)),y<0&&(u+=y,y=Math.abs(y));var S=new mxRectangle(c+r.x*o,u+r.y*o,v,y);return null!=this.minBounds&&(S.width=Math.max(S.width,this.minBounds.x*o+this.minBounds.width*o+Math.max(0,this.x0*o-S.x)),S.height=Math.max(S.height,this.minBounds.y*o+this.minBounds.height*o+Math.max(0,this.y0*o-S.y))),S},mxVertexHandler.prototype.redraw=function(){
this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.redrawHandles(),this.drawPreview()},mxVertexHandler.prototype.getHandlePadding=function(){var t=new mxPoint(0,0),e=this.tolerance;return null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]&&(this.bounds.width<2*this.sizers[0].bounds.width+2*e||this.bounds.height<2*this.sizers[0].bounds.height+2*e)&&(e/=2,t.x=this.sizers[0].bounds.width+e,t.y=this.sizers[0].bounds.height+e),t},mxVertexHandler.prototype.redrawHandles=function(){var t=this.tolerance;this.horizontalOffset=0,this.verticalOffset=0;var e=this.bounds;if(null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]){if(null==this.index&&this.manageSizers&&this.sizers.length>=8){var i=this.getHandlePadding();this.horizontalOffset=i.x,this.verticalOffset=i.y,0==this.horizontalOffset&&0==this.verticalOffset||((e=new mxRectangle(e.x,e.y,e.width,e.height)).x-=this.horizontalOffset/2,e.width+=this.horizontalOffset,e.y-=this.verticalOffset/2,e.height+=this.verticalOffset),this.sizers.length>=8&&(e.width<2*this.sizers[0].bounds.width+2*t||e.height<2*this.sizers[0].bounds.height+2*t?(this.sizers[0].node.style.display="none",this.sizers[2].node.style.display="none",this.sizers[5].node.style.display="none",this.sizers[7].node.style.display="none"):(this.sizers[0].node.style.display="",this.sizers[2].node.style.display="",this.sizers[5].node.style.display="",this.sizers[7].node.style.display=""))}var n=e.x+e.width,l=e.y+e.height;if(this.singleSizer)this.moveSizerTo(this.sizers[0],n,l);else{var o=e.x+e.width/2,r=e.y+e.height/2;if(this.sizers.length>=8){var s=["nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize"],a=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),g=Math.cos(a),C=Math.sin(a),h=Math.round(4*a/Math.PI),A=new mxPoint(e.getCenterX(),e.getCenterY()),I=mxUtils.getRotatedPoint(new mxPoint(e.x,e.y),g,C,A);this.moveSizerTo(this.sizers[0],I.x,I.y),this.sizers[0].setCursor(s[mxUtils.mod(0+h,s.length)]),I.x=o,I.y=e.y,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[1],I.x,I.y),this.sizers[1].setCursor(s[mxUtils.mod(1+h,s.length)]),I.x=n,I.y=e.y,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[2],I.x,I.y),this.sizers[2].setCursor(s[mxUtils.mod(2+h,s.length)]),I.x=e.x,I.y=r,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[3],I.x,I.y),this.sizers[3].setCursor(s[mxUtils.mod(7+h,s.length)]),I.x=n,I.y=r,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[4],I.x,I.y),this.sizers[4].setCursor(s[mxUtils.mod(3+h,s.length)]),I.x=e.x,I.y=l,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[5],I.x,I.y),this.sizers[5].setCursor(s[mxUtils.mod(6+h,s.length)]),I.x=o,I.y=l,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[6],I.x,I.y),this.sizers[6].setCursor(s[mxUtils.mod(5+h,s.length)]),I.x=n,I.y=l,I=mxUtils.getRotatedPoint(I,g,C,A),this.moveSizerTo(this.sizers[7],I.x,I.y),this.sizers[7].setCursor(s[mxUtils.mod(4+h,s.length)]),this.moveSizerTo(this.sizers[8],o+this.state.absoluteOffset.x,r+this.state.absoluteOffset.y)}else this.state.width>=2&&this.state.height>=2?this.moveSizerTo(this.sizers[0],o+this.state.absoluteOffset.x,r+this.state.absoluteOffset.y):this.moveSizerTo(this.sizers[0],this.state.x,this.state.y)}}if(null!=this.rotationShape){var a=mxUtils.toRadians(null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0"),g=Math.cos(a),C=Math.sin(a),A=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),I=mxUtils.getRotatedPoint(new mxPoint(e.x+e.width/2,e.y+this.rotationHandleVSpacing),g,C,A);null!=this.rotationShape.node&&this.moveSizerTo(this.rotationShape,I.x,I.y)}if(null!=this.selectionBorder&&(this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")),null!=this.edgeHandlers)for(c=0;c<this.edgeHandlers.length;c++)this.edgeHandlers[c].redraw();if(null!=this.customHandles)for(var c=0;c<this.customHandles.length;c++)this.customHandles[c].redraw();this.updateParentHighlight()},mxVertexHandler.prototype.updateParentHighlight=function(){if(null!=this.selectionBorder)if(null!=this.parentHighlight){i=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(i)){var t=this.graph.view.getState(i),e=this.parentHighlight.bounds;null==t||e.x==t.x&&e.y==t.y&&e.width==t.width&&e.height==t.height||(this.parentHighlight.bounds=t,this.parentHighlight.redraw())}else this.parentHighlight.destroy(),this.parentHighlight=null}else if(this.parentHighlightEnabled){var i=this.graph.model.getParent(this.state.cell);this.graph.model.isVertex(i)&&null!=(t=this.graph.view.getState(i))&&(this.parentHighlight=this.createParentHighlightShape(t),this.parentHighlight.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number(t.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))}},mxVertexHandler.prototype.drawPreview=function(){null!=this.preview&&(this.preview.bounds=this.bounds,this.preview.node.parentNode==this.graph.container&&(this.preview.bounds.width=Math.max(0,this.preview.bounds.width-1),this.preview.bounds.height=Math.max(0,this.preview.bounds.height-1)),this.preview.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.preview.redraw()),this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw(),null!=this.parentHighlight&&this.parentHighlight.redraw()},mxVertexHandler.prototype.destroy=function(){if(null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.preview&&(this.preview.destroy(),this.preview=null),null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null),null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null),this.labelShape=null,this.removeHint(),null!=this.sizers){for(t=0;t<this.sizers.length;t++)this.sizers[t].destroy();this.sizers=null}if(null!=this.customHandles){for(var t=0;t<this.customHandles.length;t++)this.customHandles[t].destroy();this.customHandles=null}},mxEdgeHandler.prototype.graph=null,mxEdgeHandler.prototype.state=null,mxEdgeHandler.prototype.marker=null,mxEdgeHandler.prototype.constraintHandler=null,mxEdgeHandler.prototype.error=null,mxEdgeHandler.prototype.shape=null,mxEdgeHandler.prototype.bends=null,mxEdgeHandler.prototype.labelShape=null,mxEdgeHandler.prototype.cloneEnabled=!0,mxEdgeHandler.prototype.addEnabled=!1,mxEdgeHandler.prototype.removeEnabled=!1,mxEdgeHandler.prototype.dblClickRemoveEnabled=!1,mxEdgeHandler.prototype.mergeRemoveEnabled=!1,mxEdgeHandler.prototype.straightRemoveEnabled=!1,mxEdgeHandler.prototype.virtualBendsEnabled=!1,mxEdgeHandler.prototype.virtualBendOpacity=20,mxEdgeHandler.prototype.parentHighlightEnabled=!1,mxEdgeHandler.prototype.preferHtml=!1,mxEdgeHandler.prototype.allowHandleBoundsCheck=!0,mxEdgeHandler.prototype.snapToTerminals=!1,mxEdgeHandler.prototype.handleImage=null,mxEdgeHandler.prototype.tolerance=0,mxEdgeHandler.prototype.outlineConnect=!1,mxEdgeHandler.prototype.manageLabelHandle=!1,mxEdgeHandler.prototype.init=function(){if(this.graph=this.state.view.graph,this.marker=this.createMarker(),this.constraintHandler=new mxConstraintHandler(this.graph),this.points=[],this.abspoints=this.getSelectionPoints(this.state),this.shape=this.createSelectionShape(this.abspoints),this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,this.shape.init(this.graph.getView().getOverlayPane()),this.shape.pointerEvents=!1,this.shape.setCursor(mxConstants.CURSOR_MOVABLE_EDGE),mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state),this.preferHtml=null!=this.state.text&&this.state.text.node.parentNode==this.graph.container,!this.preferHtml){var t=this.state.getVisibleTerminalState(!0);if(null!=t&&(this.preferHtml=null!=t.text&&t.text.node.parentNode==this.graph.container),!this.preferHtml){var e=this.state.getVisibleTerminalState(!1);null!=e&&(this.preferHtml=null!=e.text&&e.text.node.parentNode==this.graph.container)}}if(this.parentHighlightEnabled){var i=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(i)){var n=this.graph.view.getState(i);null!=n&&(this.parentHighlight=this.createParentHighlightShape(n),this.parentHighlight.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number(n.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))}}(this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells||mxGraphHandler.prototype.maxCells<=0)&&(this.bends=this.createBends(),this.isVirtualBendsEnabled()&&(this.virtualBends=this.createVirtualBends())),this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape=this.createLabelHandleShape(),this.initBend(this.labelShape),this.labelShape.setCursor(mxConstants.CURSOR_LABEL_HANDLE),this.customHandles=this.createCustomHandles(),this.redraw()},mxEdgeHandler.prototype.createCustomHandles=function(){return null},mxEdgeHandler.prototype.isVirtualBendsEnabled=function(t){return this.virtualBendsEnabled&&(null==this.state.style[mxConstants.STYLE_EDGE]||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.NONE||1==this.state.style[mxConstants.STYLE_NOEDGESTYLE])&&"arrow"!=mxUtils.getValue(this.state.style,mxConstants.STYLE_SHAPE,null)},mxEdgeHandler.prototype.isAddPointEvent=function(t){return mxEvent.isShiftDown(t)},mxEdgeHandler.prototype.isRemovePointEvent=function(t){return mxEvent.isShiftDown(t)},mxEdgeHandler.prototype.getSelectionPoints=function(t){return t.absolutePoints},mxEdgeHandler.prototype.createParentHighlightShape=function(t){var e=new mxRectangleShape(t,null,this.getSelectionColor());return e.strokewidth=this.getSelectionStrokeWidth(),e.isDashed=this.isSelectionDashed(),e},mxEdgeHandler.prototype.createSelectionShape=function(t){var e=new this.state.shape.constructor;return e.outline=!0,e.apply(this.state),e.isDashed=this.isSelectionDashed(),e.stroke=this.getSelectionColor(),e.isShadow=!1,e},mxEdgeHandler.prototype.getSelectionColor=function(){return mxConstants.EDGE_SELECTION_COLOR},mxEdgeHandler.prototype.getSelectionStrokeWidth=function(){return mxConstants.EDGE_SELECTION_STROKEWIDTH},mxEdgeHandler.prototype.isSelectionDashed=function(){return mxConstants.EDGE_SELECTION_DASHED},mxEdgeHandler.prototype.isConnectableCell=function(t){return!0},mxEdgeHandler.prototype.getCellAt=function(t,e){return this.outlineConnect?null:this.graph.getCellAt(t,e)},mxEdgeHandler.prototype.createMarker=function(){var t=new mxCellMarker(this.graph),e=this;return t.getCell=function(t){var i=mxCellMarker.prototype.getCell.apply(this,arguments);if(i!=e.state.cell&&null!=i||null==e.currentPoint||(i=e.graph.getCellAt(e.currentPoint.x,e.currentPoint.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}var l=e.graph.getModel();return(this.graph.isSwimlane(i)&&null!=e.currentPoint&&this.graph.hitsSwimlaneContent(i,e.currentPoint.x,e.currentPoint.y)||!e.isConnectableCell(i)||i==e.state.cell||null!=i&&!e.graph.connectableEdges&&l.isEdge(i)||l.isAncestor(e.state.cell,i))&&(i=null),this.graph.isCellConnectable(i)||(i=null),i},t.isValidState=function(t){var i=e.graph.getModel(),n=e.graph.view.getTerminalPort(t,e.graph.view.getState(i.getTerminal(e.state.cell,!e.isSource)),!e.isSource),l=null!=n?n.cell:null,o=e.isSource?t.cell:l,r=e.isSource?l:t.cell;return e.error=e.validateConnection(o,r),null==e.error},t},mxEdgeHandler.prototype.validateConnection=function(t,e){return this.graph.getEdgeValidationError(this.state.cell,t,e)},mxEdgeHandler.prototype.createBends=function(){for(var t=this.state.cell,e=[],i=0;i<this.abspoints.length;i++)if(this.isHandleVisible(i)){var n=0==i,l=i==this.abspoints.length-1,o=n||l;(o||this.graph.isCellBendable(t))&&mxUtils.bind(this,function(t){var n=this.createHandleShape(t);this.initBend(n,mxUtils.bind(this,mxUtils.bind(this,function(){this.dblClickRemoveEnabled&&this.removePoint(this.state,t)}))),this.isHandleEnabled(i)&&n.setCursor(o?mxConstants.CURSOR_TERMINAL_HANDLE:mxConstants.CURSOR_BEND_HANDLE),e.push(n),o||(this.points.push(new mxPoint(0,0)),n.node.style.visibility="hidden")})(i)}return e},mxEdgeHandler.prototype.createVirtualBends=function(){var t=this.state.cell,e=(this.abspoints[0],[]);if(this.graph.isCellBendable(t))for(var i=1;i<this.abspoints.length;i++)mxUtils.bind(this,function(t){this.initBend(t),t.setCursor(mxConstants.CURSOR_VIRTUAL_BEND_HANDLE),e.push(t)})(this.createHandleShape());return e},mxEdgeHandler.prototype.isHandleEnabled=function(t){return!0},mxEdgeHandler.prototype.isHandleVisible=function(t){var e=this.state.getVisibleTerminalState(!0),i=this.state.getVisibleTerminalState(!1),n=this.graph.getCellGeometry(this.state.cell);return(null!=n?this.graph.view.getEdgeStyle(this.state,n.points,e,i):null)!=mxEdgeStyle.EntityRelation||0==t||t==this.abspoints.length-1},mxEdgeHandler.prototype.createHandleShape=function(t){if(null!=this.handleImage){var e=new mxImageShape(new mxRectangle(0,0,this.handleImage.width,this.handleImage.height),this.handleImage.src);return e.preserveImageAspect=!1,e}var i=mxConstants.HANDLE_SIZE;return this.preferHtml&&(i-=1),new mxRectangleShape(new mxRectangle(0,0,i,i),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxEdgeHandler.prototype.createLabelHandleShape=function(){if(null!=this.labelHandleImage){var t=new mxImageShape(new mxRectangle(0,0,this.labelHandleImage.width,this.labelHandleImage.height),this.labelHandleImage.src);return t.preserveImageAspect=!1,t}var e=mxConstants.LABEL_HANDLE_SIZE;return new mxRectangleShape(new mxRectangle(0,0,e,e),mxConstants.LABEL_HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxEdgeHandler.prototype.initBend=function(t,e){this.preferHtml?(t.dialect=mxConstants.DIALECT_STRICTHTML,t.init(this.graph.container)):(t.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,t.init(this.graph.getView().getOverlayPane())),mxEvent.redirectMouseEvents(t.node,this.graph,this.state,null,null,null,e),(mxClient.IS_QUIRKS||8==document.documentMode)&&mxEvent.addListener(t.node,"dragstart",function(t){return mxEvent.consume(t),!1}),mxClient.IS_TOUCH&&t.node.setAttribute("pointer-events","none")},mxEdgeHandler.prototype.getHandleForEvent=function(t){function e(e){if(null!=e&&"none"!=e.node.style.display&&"hidden"!=e.node.style.visibility&&(t.isSource(e)||null!=n&&mxUtils.intersects(e.bounds,n))){var i=t.getGraphX()-e.bounds.getCenterX(),o=t.getGraphY()-e.bounds.getCenterY(),r=i*i+o*o;if(null==l||r<=l)return l=r,!0}return!1}var i=mxEvent.isMouseEvent(t.getEvent())?1:this.tolerance,n=this.allowHandleBoundsCheck&&(mxClient.IS_IE||i>0)?new mxRectangle(t.getGraphX()-i,t.getGraphY()-i,2*i,2*i):null,l=null,o=null;if(null!=this.customHandles&&this.isCustomHandleEvent(t))for(r=this.customHandles.length-1;r>=0;r--)if(e(this.customHandles[r].shape))return mxEvent.CUSTOM_HANDLE-r;if((t.isSource(this.state.text)||e(this.labelShape))&&(o=mxEvent.LABEL_HANDLE),null!=this.bends)for(r=0;r<this.bends.length;r++)e(this.bends[r])&&(o=r);if(null!=this.virtualBends&&this.isAddVirtualBendEvent(t))for(var r=0;r<this.virtualBends.length;r++)e(this.virtualBends[r])&&(o=mxEvent.VIRTUAL_HANDLE-r);return o},mxEdgeHandler.prototype.isAddVirtualBendEvent=function(t){return!0},mxEdgeHandler.prototype.isCustomHandleEvent=function(t){return!0},mxEdgeHandler.prototype.mouseDown=function(t,e){var i=this.getHandleForEvent(e);if(null!=this.bends&&null!=this.bends[i]){var n=this.bends[i].bounds;this.snapPoint=new mxPoint(n.getCenterX(),n.getCenterY())}this.addEnabled&&null==i&&this.isAddPointEvent(e.getEvent())?(this.addPoint(this.state,e.getEvent()),e.consume()):null!=i&&!e.isConsumed()&&this.graph.isEnabled()&&(this.removeEnabled&&this.isRemovePointEvent(e.getEvent())?this.removePoint(this.state,i):(i!=mxEvent.LABEL_HANDLE||this.graph.isLabelMovable(e.getCell()))&&(i<=mxEvent.VIRTUAL_HANDLE&&mxUtils.setOpacity(this.virtualBends[mxEvent.VIRTUAL_HANDLE-i].node,100),this.start(e.getX(),e.getY(),i)),e.consume())},mxEdgeHandler.prototype.start=function(t,e,i){if(this.startX=t,this.startY=e,this.isSource=null!=this.bends&&0==i,this.isTarget=null!=this.bends&&i==this.bends.length-1,this.isLabel=i==mxEvent.LABEL_HANDLE,this.isSource||this.isTarget){var n=this.state.cell,l=this.graph.model.getTerminal(n,this.isSource);(null==l&&this.graph.isTerminalPointMovable(n,this.isSource)||null!=l&&this.graph.isCellDisconnectable(n,l,this.isSource))&&(this.index=i)}else this.index=i;if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE&&null!=this.customHandles)for(var o=0;o<this.customHandles.length;o++)o!=mxEvent.CUSTOM_HANDLE-this.index&&this.customHandles[o].setVisible(!1)},mxEdgeHandler.prototype.clonePreviewState=function(t,e){return this.state.clone()},mxEdgeHandler.prototype.getSnapToTerminalTolerance=function(){return this.graph.gridSize*this.graph.view.scale/2},mxEdgeHandler.prototype.updateHint=function(t,e){},mxEdgeHandler.prototype.removeHint=function(){},mxEdgeHandler.prototype.roundLength=function(t){return Math.round(t)},mxEdgeHandler.prototype.isSnapToTerminalsEvent=function(t){return this.snapToTerminals&&!mxEvent.isAltDown(t.getEvent())},mxEdgeHandler.prototype.getPointForEvent=function(t){function e(t){if(null!=t){var e=t.x;Math.abs(o.x-e)<r&&(o.x=e,s=!0);var i=t.y;Math.abs(o.y-i)<r&&(o.y=i,a=!0)}}function i(t){null!=t&&e.call(this,new mxPoint(n.getRoutingCenterX(t),n.getRoutingCenterY(t)))}var n=this.graph.getView(),l=n.scale,o=new mxPoint(this.roundLength(t.getGraphX()/l)*l,this.roundLength(t.getGraphY()/l)*l),r=this.getSnapToTerminalTolerance(),s=!1,a=!1;if(r>0&&this.isSnapToTerminalsEvent(t)&&(i.call(this,this.state.getVisibleTerminalState(!0)),i.call(this,this.state.getVisibleTerminalState(!1)),null!=this.state.absolutePoints))for(var g=0;g<this.state.absolutePoints.length;g++)e.call(this,this.state.absolutePoints[g]);if(this.graph.isGridEnabledEvent(t.getEvent())){var C=n.translate;s||(o.x=(this.graph.snap(o.x/l-C.x)+C.x)*l),a||(o.y=(this.graph.snap(o.y/l-C.y)+C.y)*l)}return o},mxEdgeHandler.prototype.getPreviewTerminalState=function(t){if(this.constraintHandler.update(t,this.isSource,!0,t.isSource(this.marker.highlight.shape)?null:this.currentPoint),null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint){null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent");var e=this.graph.getModel(),i=this.graph.view.getTerminalPort(this.state,this.graph.view.getState(e.getTerminal(this.state.cell,!this.isSource)),!this.isSource),n=null!=i?i.cell:null,l=this.isSource?this.constraintHandler.currentFocus.cell:n,o=this.isSource?n:this.constraintHandler.currentFocus.cell;this.error=this.validateConnection(l,o);var r=null;return null==this.error?r=this.constraintHandler.currentFocus:this.constraintHandler.reset(),r}return this.graph.isIgnoreTerminalEvent(t.getEvent())?(this.marker.reset(),null):(this.marker.process(t),this.marker.getValidState())},mxEdgeHandler.prototype.getPreviewPoints=function(t,e){var i=this.graph.getCellGeometry(this.state.cell),n=null!=i.points?i.points.slice():null,l=new mxPoint(t.x,t.y),o=null;if(this.isSource||this.isTarget)this.graph.resetEdgesOnConnect&&(n=null);else if(this.convertPoint(l,!1),null==n)n=[l];else{if(this.index<=mxEvent.VIRTUAL_HANDLE&&n.splice(mxEvent.VIRTUAL_HANDLE-this.index,0,l),!this.isSource&&!this.isTarget){for(var r=0;r<this.bends.length;r++)if(r!=this.index){var s=this.bends[r];null!=s&&mxUtils.contains(s.bounds,t.x,t.y)&&(this.index<=mxEvent.VIRTUAL_HANDLE?n.splice(mxEvent.VIRTUAL_HANDLE-this.index,1):n.splice(this.index-1,1),o=n)}if(null==o&&this.straightRemoveEnabled&&(null==e||!mxEvent.isAltDown(e.getEvent()))){var a=this.graph.tolerance*this.graph.tolerance,g=this.state.absolutePoints.slice();g[this.index]=t;var C=this.state.getVisibleTerminalState(!0);null!=C&&(null!=(A=this.graph.getConnectionConstraint(this.state,C,!0))&&null!=this.graph.getConnectionPoint(C,A)||(g[0]=new mxPoint(C.view.getRoutingCenterX(C),C.view.getRoutingCenterY(C))));var h=this.state.getVisibleTerminalState(!1);if(null!=h){var A=this.graph.getConnectionConstraint(this.state,h,!1);null!=A&&null!=this.graph.getConnectionPoint(h,A)||(g[g.length-1]=new mxPoint(h.view.getRoutingCenterX(h),h.view.getRoutingCenterY(h)))}!function(t,e){t>0&&t<g.length-1&&mxUtils.ptSegDistSq(g[t-1].x,g[t-1].y,g[t+1].x,g[t+1].y,e.x,e.y)<a&&(n.splice(t-1,1),o=n)}(this.index,t)}}null==o&&this.index>mxEvent.VIRTUAL_HANDLE&&(n[this.index-1]=l)}return null!=o?o:n},mxEdgeHandler.prototype.isOutlineConnectEvent=function(t){var e=mxUtils.getOffset(this.graph.container),i=t.getEvent(),n=mxEvent.getClientX(i),l=mxEvent.getClientY(i),o=document.documentElement,r=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),s=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),a=this.currentPoint.x-this.graph.container.scrollLeft+e.x-r,g=this.currentPoint.y-this.graph.container.scrollTop+e.y-s;return this.outlineConnect&&!mxEvent.isShiftDown(t.getEvent())&&(t.isSource(this.marker.highlight.shape)||mxEvent.isAltDown(t.getEvent())&&null!=t.getState()||this.marker.highlight.isHighlightAt(n,l)||(a!=n||g!=l)&&null==t.getState()&&this.marker.highlight.isHighlightAt(a,g))},mxEdgeHandler.prototype.updatePreviewState=function(t,e,i,n,l){var o=this.isSource?i:this.state.getVisibleTerminalState(!0),r=this.isTarget?i:this.state.getVisibleTerminalState(!1),s=this.graph.getConnectionConstraint(t,o,!0),a=this.graph.getConnectionConstraint(t,r,!1),g=this.constraintHandler.currentConstraint;if(null==g&&l&&(null!=i?(n.isSource(this.marker.highlight.shape)&&(e=new mxPoint(n.getGraphX(),n.getGraphY())),g=this.graph.getOutlineConstraint(e,i,n),this.constraintHandler.setFocus(n,i,this.isSource),this.constraintHandler.currentConstraint=g,this.constraintHandler.currentPoint=e):g=new mxConnectionConstraint),this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var C=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=l?mxConstants.OUTLINE_HIGHLIGHT_COLOR:"transparent",this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/C/C,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.highlight.shape.stroke=this.marker.getValidState()==n.getState()?mxConstants.DEFAULT_VALID_COLOR:"transparent",this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/C/C,this.marker.highlight.repaint())}this.isSource?s=g:this.isTarget&&(a=g),(this.isSource||this.isTarget)&&(null!=g&&null!=g.point?(t.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X]=g.point.x,t.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y]=g.point.y):(delete t.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X],delete t.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y])),t.setVisibleTerminalState(o,!0),t.setVisibleTerminalState(r,!1),this.isSource&&null==o||t.view.updateFixedTerminalPoint(t,o,!0,s),this.isTarget&&null==r||t.view.updateFixedTerminalPoint(t,r,!1,a),(this.isSource||this.isTarget)&&null==i&&(t.setAbsoluteTerminalPoint(e,this.isSource),null==this.marker.getMarkedState()&&(this.error=this.graph.allowDanglingEdges?null:"")),t.view.updatePoints(t,this.points,o,r),t.view.updateFloatingTerminalPoints(t,o,r)},mxEdgeHandler.prototype.mouseMove=function(t,e){if(null!=this.index&&null!=this.marker){if(this.currentPoint=this.getPointForEvent(e),this.error=null,!this.graph.isIgnoreTerminalEvent(e.getEvent())&&mxEvent.isShiftDown(e.getEvent())&&null!=this.snapPoint&&(Math.abs(this.snapPoint.x-this.currentPoint.x)<Math.abs(this.snapPoint.y-this.currentPoint.y)?this.currentPoint.x=this.snapPoint.x:this.currentPoint.y=this.snapPoint.y),this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE)null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent(e);else if(this.isLabel)this.label.x=this.currentPoint.x,this.label.y=this.currentPoint.y;else{this.points=this.getPreviewPoints(this.currentPoint,e);var i=this.isSource||this.isTarget?this.getPreviewTerminalState(e):null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint)this.currentPoint=this.constraintHandler.currentPoint.clone();else if(this.outlineConnect){var n=!(!this.isSource&&!this.isTarget)&&this.isOutlineConnectEvent(e);n?i=this.marker.highlight.state:null!=i&&i!=e.getState()&&null!=this.marker.highlight.shape&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint(),i=null)}var l=this.clonePreviewState(this.currentPoint,null!=i?i.cell:null);this.updatePreviewState(l,this.currentPoint,i,e,n);var o=null==this.error?this.marker.validColor:this.marker.invalidColor;this.setPreviewColor(o),this.abspoints=l.absolutePoints,this.active=!0}this.updateHint(e,this.currentPoint),this.drawPreview(),mxEvent.consume(e.getEvent()),e.consume()}else mxClient.IS_IE&&null!=this.getHandleForEvent(e)&&e.consume(!1)},mxEdgeHandler.prototype.mouseUp=function(t,e){if(null!=this.index&&null!=this.marker){var i=this.state.cell;if(e.getX()!=this.startX||e.getY()!=this.startY){var n=!this.graph.isIgnoreTerminalEvent(e.getEvent())&&this.graph.isCloneEvent(e.getEvent())&&this.cloneEnabled&&this.graph.isCellsCloneable();if(null!=this.error)this.error.length>0&&this.graph.validationAlert(this.error);else if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE){if(null!=this.customHandles){var l=this.graph.getModel();l.beginUpdate();try{this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].execute()}finally{l.endUpdate()}}}else if(this.isLabel)this.moveLabel(this.state,this.label.x,this.label.y);else if(this.isSource||this.isTarget){var o=null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&(o=this.constraintHandler.currentFocus.cell),null==o&&this.marker.hasValidState()&&null!=this.marker.highlight&&null!=this.marker.highlight.shape&&"transparent"!=this.marker.highlight.shape.stroke&&"white"!=this.marker.highlight.shape.stroke&&(o=this.marker.validState.cell),null!=o)i=this.connect(i,o,this.isSource,n,e);else if(this.graph.isAllowDanglingEdges()){var r=this.abspoints[this.isSource?0:this.abspoints.length-1];r.x=this.roundLength(r.x/this.graph.view.scale-this.graph.view.translate.x),r.y=this.roundLength(r.y/this.graph.view.scale-this.graph.view.translate.y);var s=this.graph.getView().getState(this.graph.getModel().getParent(i));null!=s&&(r.x-=s.origin.x,r.y-=s.origin.y),r.x-=this.graph.panDx/this.graph.view.scale,r.y-=this.graph.panDy/this.graph.view.scale,i=this.changeTerminalPoint(i,r,this.isSource,n)}}else this.active?i=this.changePoints(i,this.points,n):(this.graph.getView().invalidate(this.state.cell),this.graph.getView().validate(this.state.cell))}null!=this.marker&&(this.reset(),i!=this.state.cell&&this.graph.setSelectionCell(i)),e.consume()}},mxEdgeHandler.prototype.reset=function(){if(this.error=null,this.index=null,this.label=null,this.points=null,this.snapPoint=null,this.active=!1,this.isLabel=!1,this.isSource=!1,this.isTarget=!1,this.livePreview&&null!=this.sizers)for(t=0;t<this.sizers.length;t++)null!=this.sizers[t]&&(this.sizers[t].node.style.display="");if(null!=this.marker&&this.marker.reset(),null!=this.constraintHandler&&this.constraintHandler.reset(),null!=this.customHandles)for(var t=0;t<this.customHandles.length;t++)this.customHandles[t].reset();this.setPreviewColor(mxConstants.EDGE_SELECTION_COLOR),this.removeHint(),this.redraw()},mxEdgeHandler.prototype.setPreviewColor=function(t){null!=this.shape&&(this.shape.stroke=t)},mxEdgeHandler.prototype.convertPoint=function(t,e){var i=this.graph.getView().getScale(),n=this.graph.getView().getTranslate();e&&(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t.x=Math.round(t.x/i-n.x),t.y=Math.round(t.y/i-n.y);var l=this.graph.getView().getState(this.graph.getModel().getParent(this.state.cell));return null!=l&&(t.x-=l.origin.x,t.y-=l.origin.y),t},mxEdgeHandler.prototype.moveLabel=function(t,e,i){var n=this.graph.getModel(),l=n.getGeometry(t.cell);if(null!=l){var o=this.graph.getView().scale;if((l=l.clone()).relative){r=this.graph.getView().getRelativePoint(t,e,i);l.x=Math.round(1e4*r.x)/1e4,l.y=Math.round(r.y),l.offset=new mxPoint(0,0);var r=this.graph.view.getPoint(t,l);l.offset=new mxPoint(Math.round((e-r.x)/o),Math.round((i-r.y)/o))}else{var s=t.absolutePoints,a=s[0],g=s[s.length-1];if(null!=a&&null!=g){var C=a.x+(g.x-a.x)/2,h=a.y+(g.y-a.y)/2;l.offset=new mxPoint(Math.round((e-C)/o),Math.round((i-h)/o)),l.x=0,l.y=0}}n.setGeometry(t.cell,l)}},mxEdgeHandler.prototype.connect=function(t,e,i,n,l){var o=this.graph.getModel(),r=o.getParent(t);o.beginUpdate();try{if(n){var s=this.graph.cloneCells([t])[0];o.add(r,s,o.getChildCount(r));var a=o.getTerminal(t,!i);this.graph.connectCell(s,a,!i),t=s}var g=this.constraintHandler.currentConstraint;null==g&&(g=new mxConnectionConstraint),this.graph.connectCell(t,e,i,g)}finally{o.endUpdate()}return t},mxEdgeHandler.prototype.changeTerminalPoint=function(t,e,i,n){var l=this.graph.getModel();l.beginUpdate();try{if(n){var o=l.getParent(t),r=l.getTerminal(t,!i);t=this.graph.cloneCells([t])[0],l.add(o,t,l.getChildCount(o)),l.setTerminal(t,r,!i)}var s=l.getGeometry(t);null!=s&&((s=s.clone()).setTerminalPoint(e,i),l.setGeometry(t,s),this.graph.connectCell(t,null,i,new mxConnectionConstraint))}finally{l.endUpdate()}return t},mxEdgeHandler.prototype.changePoints=function(t,e,i){var n=this.graph.getModel();n.beginUpdate();try{if(i){var l=n.getParent(t),o=n.getTerminal(t,!0),r=n.getTerminal(t,!1);t=this.graph.cloneCells([t])[0],n.add(l,t,n.getChildCount(l)),n.setTerminal(t,o,!0),n.setTerminal(t,r,!1)}var s=n.getGeometry(t);null!=s&&((s=s.clone()).points=e,n.setGeometry(t,s))}finally{n.endUpdate()}return t},mxEdgeHandler.prototype.addPoint=function(t,e){var i=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX(e),mxEvent.getClientY(e)),n=this.graph.isGridEnabledEvent(e);this.convertPoint(i,n),this.addPointAt(t,i.x,i.y),mxEvent.consume(e)},mxEdgeHandler.prototype.addPointAt=function(t,e,i){var n=this.graph.getCellGeometry(t.cell),l=new mxPoint(e,i);if(null!=n){n=n.clone();var o=this.graph.view.translate,r=this.graph.view.scale,s=new mxPoint(o.x*r,o.y*r),a=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(a)){var g=this.graph.view.getState(a);s=new mxPoint(g.x,g.y)}var C=mxUtils.findNearestSegment(t,l.x*r+s.x,l.y*r+s.y);null==n.points?n.points=[l]:n.points.splice(C,0,l),this.graph.getModel().setGeometry(t.cell,n),this.refresh(),this.redraw()}},mxEdgeHandler.prototype.removePoint=function(t,e){if(e>0&&e<this.abspoints.length-1){var i=this.graph.getCellGeometry(this.state.cell);null!=i&&null!=i.points&&((i=i.clone()).points.splice(e-1,1),this.graph.getModel().setGeometry(t.cell,i),this.refresh(),this.redraw())}},mxEdgeHandler.prototype.getHandleFillColor=function(t){var e=0==t,i=this.state.cell,n=this.graph.getModel().getTerminal(i,e),l=mxConstants.HANDLE_FILLCOLOR;return null!=n&&!this.graph.isCellDisconnectable(i,n,e)||null==n&&!this.graph.isTerminalPointMovable(i,e)?l=mxConstants.LOCKED_HANDLE_FILLCOLOR:null!=n&&this.graph.isCellDisconnectable(i,n,e)&&(l=mxConstants.CONNECT_HANDLE_FILLCOLOR),l},mxEdgeHandler.prototype.redraw=function(){this.abspoints=this.state.absolutePoints.slice(),this.redrawHandles();var t=this.graph.getModel().getGeometry(this.state.cell).points;if(null!=this.bends&&this.bends.length>0&&null!=t){null==this.points&&(this.points=[]);for(var e=1;e<this.bends.length-1;e++)null!=this.bends[e]&&null!=this.abspoints[e]&&(this.points[e-1]=t[e-1])}this.drawPreview()},mxEdgeHandler.prototype.redrawHandles=function(){var t=this.state.cell,e=this.labelShape.bounds;this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape.bounds=new mxRectangle(Math.round(this.label.x-e.width/2),Math.round(this.label.y-e.height/2),e.width,e.height);var i=this.graph.getLabel(t);if(this.labelShape.visible=null!=i&&i.length>0&&this.graph.isLabelMovable(t),null!=this.bends&&this.bends.length>0){var n=this.abspoints.length-1,l=this.abspoints[0],o=l.x,r=l.y;e=this.bends[0].bounds,this.bends[0].bounds=new mxRectangle(Math.floor(o-e.width/2),Math.floor(r-e.height/2),e.width,e.height),this.bends[0].fill=this.getHandleFillColor(0),this.bends[0].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[0].bounds);var s=this.abspoints[n],a=s.x,g=s.y,C=this.bends.length-1;e=this.bends[C].bounds,this.bends[C].bounds=new mxRectangle(Math.floor(a-e.width/2),Math.floor(g-e.height/2),e.width,e.height),this.bends[C].fill=this.getHandleFillColor(C),this.bends[C].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[C].bounds),this.redrawInnerBends(l,s)}if(null!=this.abspoints&&null!=this.virtualBends&&this.virtualBends.length>0)for(var h=this.abspoints[0],A=0;A<this.virtualBends.length;A++)if(null!=this.virtualBends[A]&&null!=this.abspoints[A+1]){var I=this.abspoints[A+1],e=this.virtualBends[A],c=h.x+(I.x-h.x)/2,d=h.y+(I.y-h.y)/2;e.bounds=new mxRectangle(Math.floor(c-e.bounds.width/2),Math.floor(d-e.bounds.height/2),e.bounds.width,e.bounds.height),e.redraw(),mxUtils.setOpacity(e.node,this.virtualBendOpacity),h=I,this.manageLabelHandle&&this.checkLabelHandle(e.bounds)}if(null!=this.labelShape&&this.labelShape.redraw(),null!=this.customHandles)for(A=0;A<this.customHandles.length;A++)this.customHandles[A].redraw()},mxEdgeHandler.prototype.setHandlesVisible=function(t){if(null!=this.bends)for(e=0;e<this.bends.length;e++)this.bends[e].node.style.display=t?"":"none";if(null!=this.virtualBends)for(e=0;e<this.virtualBends.length;e++)this.virtualBends[e].node.style.display=t?"":"none";if(null!=this.labelShape&&(this.labelShape.node.style.display=t?"":"none"),null!=this.customHandles)for(var e=0;e<this.customHandles.length;e++)this.customHandles[e].setVisible(t)},mxEdgeHandler.prototype.redrawInnerBends=function(t,e){for(var i=1;i<this.bends.length-1;i++)if(null!=this.bends[i])if(null!=this.abspoints[i]){var n=this.abspoints[i].x,l=this.abspoints[i].y,o=this.bends[i].bounds;this.bends[i].node.style.visibility="visible",this.bends[i].bounds=new mxRectangle(Math.round(n-o.width/2),Math.round(l-o.height/2),o.width,o.height),this.manageLabelHandle?this.checkLabelHandle(this.bends[i].bounds):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects(this.bends[i].bounds,this.labelShape.bounds)&&(w=mxConstants.HANDLE_SIZE+3,h=mxConstants.HANDLE_SIZE+3,this.bends[i].bounds=new mxRectangle(Math.round(n-w/2),Math.round(l-h/2),w,h)),this.bends[i].redraw()}else this.bends[i].destroy(),this.bends[i]=null},mxEdgeHandler.prototype.checkLabelHandle=function(t){if(null!=this.labelShape){var e=this.labelShape.bounds;mxUtils.intersects(t,e)&&(t.getCenterY()<e.getCenterY()?e.y=t.y+t.height:e.y=t.y-e.height)}},mxEdgeHandler.prototype.drawPreview=function(){if(this.isLabel){var t=this.labelShape.bounds,e=new mxRectangle(Math.round(this.label.x-t.width/2),Math.round(this.label.y-t.height/2),t.width,t.height);this.labelShape.bounds=e,this.labelShape.redraw()}else null!=this.shape&&(this.shape.apply(this.state),this.shape.points=this.abspoints,this.shape.scale=this.state.view.scale,this.shape.isDashed=this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),this.shape.strokewidth=this.getSelectionStrokeWidth()/this.shape.scale/this.shape.scale,this.shape.arrowStrokewidth=this.getSelectionStrokeWidth(),this.shape.isShadow=!1,this.shape.redraw());null!=this.parentHighlight&&this.parentHighlight.redraw()},mxEdgeHandler.prototype.refresh=function(){this.abspoints=this.getSelectionPoints(this.state),this.points=[],null!=this.shape&&(this.shape.points=this.abspoints),null!=this.bends&&(this.destroyBends(this.bends),this.bends=this.createBends()),null!=this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=this.createVirtualBends()),null!=this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=this.createCustomHandles()),null!=this.labelShape&&null!=this.labelShape.node&&null!=this.labelShape.node.parentNode&&this.labelShape.node.parentNode.appendChild(this.labelShape.node)},mxEdgeHandler.prototype.destroyBends=function(t){if(null!=t)for(var e=0;e<t.length;e++)null!=t[e]&&t[e].destroy()},mxEdgeHandler.prototype.destroy=function(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.marker&&(this.marker.destroy(),this.marker=null),null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null),null!=this.labelShape&&(this.labelShape.destroy(),this.labelShape=null),null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null),this.destroyBends(this.virtualBends),this.virtualBends=null,this.destroyBends(this.customHandles),this.customHandles=null,this.destroyBends(this.bends),this.bends=null,this.removeHint()},mxUtils.extend(mxElbowEdgeHandler,mxEdgeHandler),mxElbowEdgeHandler.prototype.flipEnabled=!0,mxElbowEdgeHandler.prototype.doubleClickOrientationResource="none"!=mxClient.language?"doubleClickOrientation":"",mxElbowEdgeHandler.prototype.createBends=function(){var t=[],e=this.createHandleShape(0);return this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e),t.push(this.createVirtualBend(mxUtils.bind(this,function(t){!mxEvent.isConsumed(t)&&this.flipEnabled&&(this.graph.flipEdge(this.state.cell,t),mxEvent.consume(t))}))),this.points.push(new mxPoint(0,0)),e=this.createHandleShape(2),this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e),t},mxElbowEdgeHandler.prototype.createVirtualBend=function(t){var e=this.createHandleShape();return this.initBend(e,t),e.setCursor(this.getCursorForBend()),this.graph.isCellBendable(this.state.cell)||(e.node.style.display="none"),e},mxElbowEdgeHandler.prototype.getCursorForBend=function(){return this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.TopToBottom||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_TOPTOBOTTOM||(this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.ElbowConnector||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_ELBOW)&&this.state.style[mxConstants.STYLE_ELBOW]==mxConstants.ELBOW_VERTICAL?"row-resize":"col-resize"},mxElbowEdgeHandler.prototype.getTooltipForNode=function(t){var e=null;return null==this.bends||null==this.bends[1]||t!=this.bends[1].node&&t.parentNode!=this.bends[1].node||(e=this.doubleClickOrientationResource,e=mxResources.get(e)||e),e},mxElbowEdgeHandler.prototype.convertPoint=function(t,e){var i=this.graph.getView().getScale(),n=this.graph.getView().getTranslate(),l=this.state.origin;return e&&(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t.x=Math.round(t.x/i-n.x-l.x),t.y=Math.round(t.y/i-n.y-l.y),t},mxElbowEdgeHandler.prototype.redrawInnerBends=function(t,e){var i=this.graph.getModel().getGeometry(this.state.cell),n=this.state.absolutePoints,l=null;n.length>1?(t=n[1],e=n[n.length-2]):null!=i.points&&i.points.length>0&&(l=n[0]),l=null==l?new mxPoint(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2):new mxPoint(this.graph.getView().scale*(l.x+this.graph.getView().translate.x+this.state.origin.x),this.graph.getView().scale*(l.y+this.graph.getView().translate.y+this.state.origin.y));var o=this.bends[1].bounds,r=o.width,s=o.height,a=new mxRectangle(Math.round(l.x-r/2),Math.round(l.y-s/2),r,s);this.manageLabelHandle?this.checkLabelHandle(a):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects(a,this.labelShape.bounds)&&(r=mxConstants.HANDLE_SIZE+3,s=mxConstants.HANDLE_SIZE+3,a=new mxRectangle(Math.floor(l.x-r/2),Math.floor(l.y-s/2),r,s)),this.bends[1].bounds=a,this.bends[1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[1].bounds)},mxUtils.extend(mxEdgeSegmentHandler,mxElbowEdgeHandler),mxEdgeSegmentHandler.prototype.getCurrentPoints=function(){var t=this.state.absolutePoints;if(null!=t&&(2==t.length||3==t.length&&(t[0].x==t[1].x&&t[1].x==t[2].x||t[0].y==t[1].y&&t[1].y==t[2].y))){var e=t[0].x+(t[t.length-1].x-t[0].x)/2,i=t[0].y+(t[t.length-1].y-t[0].y)/2;t=[t[0],new mxPoint(e,i),new mxPoint(e,i),t[t.length-1]]}return t},mxEdgeSegmentHandler.prototype.getPreviewPoints=function(t){if(this.isSource||this.isTarget)return mxElbowEdgeHandler.prototype.getPreviewPoints.apply(this,arguments);var e=this.getCurrentPoints(),i=this.convertPoint(e[0].clone(),!1);t=this.convertPoint(t.clone(),!1);for(var n=[],l=1;l<e.length;l++){var o=this.convertPoint(e[l].clone(),!1);l==this.index&&(0==Math.round(i.x-o.x)&&(i.x=t.x,o.x=t.x),0==Math.round(i.y-o.y)&&(i.y=t.y,o.y=t.y)),l<e.length-1&&n.push(o),i=o}if(1==n.length){var r=this.state.getVisibleTerminalState(!0),s=this.state.getVisibleTerminalState(!1),a=this.state.view.getScale(),g=this.state.view.getTranslate(),C=n[0].x*a+g.x,h=n[0].y*a+g.y;(null!=r&&mxUtils.contains(r,C,h)||null!=s&&mxUtils.contains(s,C,h))&&(n=[t,t])}return n},mxEdgeSegmentHandler.prototype.updatePreviewState=function(t,e,i,n){if(mxEdgeHandler.prototype.updatePreviewState.apply(this,arguments),!this.isSource&&!this.isTarget){e=this.convertPoint(e.clone(),!1);for(var l=t.absolutePoints,o=l[0],r=l[1],s=[],a=2;a<l.length;a++){var g=l[a];0==Math.round(o.x-r.x)&&0==Math.round(r.x-g.x)||0==Math.round(o.y-r.y)&&0==Math.round(r.y-g.y)||s.push(this.convertPoint(r.clone(),!1)),o=r,r=g}var C=this.state.getVisibleTerminalState(!0),h=this.state.getVisibleTerminalState(!1),A=this.state.absolutePoints;if(0!=s.length||0!=Math.round(l[0].x-l[l.length-1].x)&&0!=Math.round(l[0].y-l[l.length-1].y)){if(5==l.length&&2==s.length&&null!=C&&null!=h&&null!=A&&0==Math.round(A[0].x-A[A.length-1].x)){var I=this.graph.getView(),c=I.getScale(),d=I.getTranslate(),u=I.getRoutingCenterY(C)/c-d.y,p=this.graph.getConnectionConstraint(t,C,!0);null!=p&&null!=(v=this.graph.getConnectionPoint(C,p))&&(this.convertPoint(v,!1),u=v.y);var m=I.getRoutingCenterY(h)/c-d.y,x=this.graph.getConnectionConstraint(t,h,!1);if(x){var v=this.graph.getConnectionPoint(h,x);null!=v&&(this.convertPoint(v,!1),m=v.y)}s=[new mxPoint(e.x,u),new mxPoint(e.x,m)]}}else s=[e,e];this.points=s,t.view.updateFixedTerminalPoints(t,C,h),t.view.updatePoints(t,this.points,C,h),t.view.updateFloatingTerminalPoints(t,C,h)}},mxEdgeSegmentHandler.prototype.connect=function(t,e,i,n,l){for(var o=this.abspoints,r=o[0],s=o[1],a=[],g=2;g<o.length;g++){var C=o[g];0==Math.round(r.x-s.x)&&0==Math.round(s.x-C.x)||0==Math.round(r.y-s.y)&&0==Math.round(s.y-C.y)||a.push(this.convertPoint(s.clone(),!1)),r=s,s=C}var h=this.graph.getModel();h.beginUpdate();try{var A=h.getGeometry(t);null!=A&&((A=A.clone()).points=a,h.setGeometry(t,A)),t=mxEdgeHandler.prototype.connect.apply(this,arguments)}finally{h.endUpdate()}return t},mxEdgeSegmentHandler.prototype.getTooltipForNode=function(t){return null},mxEdgeSegmentHandler.prototype.start=function(t,e,i){mxEdgeHandler.prototype.start.apply(this,arguments),null==this.bends[i]||this.isSource||this.isTarget||mxUtils.setOpacity(this.bends[i].node,100)},mxEdgeSegmentHandler.prototype.createBends=function(){var t=[],e=this.createHandleShape(0);this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e);var i=this.getCurrentPoints();if(this.graph.isCellBendable(this.state.cell)){null==this.points&&(this.points=[]);for(var n=0;n<i.length-1;n++){e=this.createVirtualBend(),t.push(e);var l=0==Math.round(i[n].x-i[n+1].x);0==Math.round(i[n].y-i[n+1].y)&&n<i.length-2&&(l=0==Math.round(i[n].x-i[n+2].x)),e.setCursor(l?"col-resize":"row-resize"),this.points.push(new mxPoint(0,0))}}e=this.createHandleShape(i.length);return this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e),t},mxEdgeSegmentHandler.prototype.redraw=function(){this.refresh(),mxEdgeHandler.prototype.redraw.apply(this,arguments)},mxEdgeSegmentHandler.prototype.redrawInnerBends=function(t,e){if(this.graph.isCellBendable(this.state.cell)){var i=this.getCurrentPoints();if(null!=i&&i.length>1){var n=!1;if(4==i.length&&0==Math.round(i[1].x-i[2].x)&&0==Math.round(i[1].y-i[2].y))if(n=!0,0==Math.round(i[0].y-i[i.length-1].y)){var l=i[0].x+(i[i.length-1].x-i[0].x)/2;i[1]=new mxPoint(l,i[1].y),i[2]=new mxPoint(l,i[2].y)}else{var o=i[0].y+(i[i.length-1].y-i[0].y)/2;i[1]=new mxPoint(i[1].x,o),i[2]=new mxPoint(i[2].x,o)}for(var r=0;r<i.length-1;r++)if(null!=this.bends[r+1]){var t=i[r],e=i[r+1],s=new mxPoint(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2),a=this.bends[r+1].bounds;this.bends[r+1].bounds=new mxRectangle(Math.floor(s.x-a.width/2),Math.floor(s.y-a.height/2),a.width,a.height),this.bends[r+1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[r+1].bounds)}n&&(mxUtils.setOpacity(this.bends[1].node,this.virtualBendOpacity),mxUtils.setOpacity(this.bends[3].node,this.virtualBendOpacity))}}},mxKeyHandler.prototype.graph=null,mxKeyHandler.prototype.target=null,mxKeyHandler.prototype.normalKeys=null,mxKeyHandler.prototype.shiftKeys=null,mxKeyHandler.prototype.controlKeys=null,mxKeyHandler.prototype.controlShiftKeys=null,mxKeyHandler.prototype.enabled=!0,mxKeyHandler.prototype.isEnabled=function(){return this.enabled},mxKeyHandler.prototype.setEnabled=function(t){this.enabled=t},mxKeyHandler.prototype.bindKey=function(t,e){this.normalKeys[t]=e},mxKeyHandler.prototype.bindShiftKey=function(t,e){this.shiftKeys[t]=e},mxKeyHandler.prototype.bindControlKey=function(t,e){this.controlKeys[t]=e},mxKeyHandler.prototype.bindControlShiftKey=function(t,e){this.controlShiftKeys[t]=e},mxKeyHandler.prototype.isControlDown=function(t){return mxEvent.isControlDown(t)},mxKeyHandler.prototype.getFunction=function(t){return null==t||mxEvent.isAltDown(t)?null:this.isControlDown(t)?mxEvent.isShiftDown(t)?this.controlShiftKeys[t.keyCode]:this.controlKeys[t.keyCode]:mxEvent.isShiftDown(t)?this.shiftKeys[t.keyCode]:this.normalKeys[t.keyCode]},mxKeyHandler.prototype.isGraphEvent=function(t){var e=mxEvent.getSource(t);return!!(e==this.target||e.parentNode==this.target||null!=this.graph.cellEditor&&this.graph.cellEditor.isEventSource(t))||mxUtils.isAncestorNode(this.graph.container,e)},mxKeyHandler.prototype.keyDown=function(t){if(this.isEnabledForEvent(t))if(27==t.keyCode)this.escape(t);else if(!this.isEventIgnored(t)){var e=this.getFunction(t);null!=e&&(e(t),mxEvent.consume(t))}},mxKeyHandler.prototype.isEnabledForEvent=function(t){return this.graph.isEnabled()&&!mxEvent.isConsumed(t)&&this.isGraphEvent(t)&&this.isEnabled()},mxKeyHandler.prototype.isEventIgnored=function(t){return this.graph.isEditing()},mxKeyHandler.prototype.escape=function(t){this.graph.isEscapeEnabled()&&this.graph.escape(t)},mxKeyHandler.prototype.destroy=function(){null!=this.target&&null!=this.keydownHandler&&(mxEvent.removeListener(this.target,"keydown",this.keydownHandler),this.keydownHandler=null),this.target=null},mxTooltipHandler.prototype.zIndex=10005,mxTooltipHandler.prototype.graph=null,mxTooltipHandler.prototype.delay=null,mxTooltipHandler.prototype.ignoreTouchEvents=!0,mxTooltipHandler.prototype.hideOnHover=!1,mxTooltipHandler.prototype.destroyed=!1,mxTooltipHandler.prototype.enabled=!0,mxTooltipHandler.prototype.isEnabled=function(){return this.enabled},mxTooltipHandler.prototype.setEnabled=function(t){this.enabled=t},mxTooltipHandler.prototype.isHideOnHover=function(){return this.hideOnHover},mxTooltipHandler.prototype.setHideOnHover=function(t){this.hideOnHover=t},mxTooltipHandler.prototype.init=function(){null!=this.vgdContainer&&(this.div=document.createElement("div"),this.div.className="mxTooltip",this.div.style.visibility="hidden",this.vgdContainer.appendChild(this.div),mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function(t){this.hideTooltip()})))},mxTooltipHandler.prototype.mouseDown=function(t,e){this.reset(e,!1),this.hideTooltip()},mxTooltipHandler.prototype.mouseMove=function(t,e){e.getX()==this.lastX&&e.getY()==this.lastY||(this.reset(e,!0),(this.isHideOnHover()||e.getState()!=this.state||e.getSource()!=this.node&&(!this.stateSource||null!=e.getState()&&this.stateSource==(e.isSource(e.getState().shape)||!e.isSource(e.getState().text))))&&this.hideTooltip()),this.lastX=e.getX(),this.lastY=e.getY()},mxTooltipHandler.prototype.mouseUp=function(t,e){this.reset(e,!0),this.hideTooltip()},mxTooltipHandler.prototype.resetTimer=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null)},mxTooltipHandler.prototype.reset=function(t,e){if((!this.ignoreTouchEvents||mxEvent.isMouseEvent(t.getEvent()))&&(this.resetTimer(),e&&this.isEnabled()&&null!=t.getState()&&(null==this.div||"hidden"==this.div.style.visibility))){var i=t.getState(),n=t.getSource(),l=t.getX(),o=t.getY(),r=t.isSource(i.shape)||t.isSource(i.text);this.thread=window.setTimeout(mxUtils.bind(this,function(){if(!this.graph.isEditing()&&!this.graph.popupMenuHandler.isMenuShowing()&&!this.graph.isMouseDown){var t=this.graph.getTooltip(i,n,l,o);this.show(t,l-this.vgdContainer.offsetLeft,o-this.vgdContainer.offsetTop),this.state=i,this.node=n,this.stateSource=r}}),this.delay)}},mxTooltipHandler.prototype.hide=function(){this.resetTimer(),this.hideTooltip()},mxTooltipHandler.prototype.hideTooltip=function(){null!=this.div&&(this.div.style.visibility="hidden")},mxTooltipHandler.prototype.show=function(t,e,i){if(!this.destroyed&&null!=t&&t.length>0){null==this.div&&this.init();var n=mxUtils.getScrollOrigin();this.div.style.zIndex=this.zIndex,this.div.style.left=e+n.x+"px",this.div.style.top=i+mxConstants.TOOLTIP_VERTICAL_OFFSET+n.y+"px",mxUtils.isNode(t)?(this.div.innerHTML="",this.div.appendChild(t)):this.div.innerHTML=t.replace(/\n/g,"<br>"),this.div.style.visibility="",mxUtils.fit(this.div)}},mxTooltipHandler.prototype.destroy=function(){this.destroyed||(this.graph.removeMouseListener(this),mxEvent.release(this.div),null!=this.div&&null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.destroyed=!0,this.div=null)},mxUtils.extend(mxCellTracker,mxCellMarker),mxCellTracker.prototype.mouseDown=function(t,e){},mxCellTracker.prototype.mouseMove=function(t,e){this.isEnabled()&&this.process(e)},mxCellTracker.prototype.mouseUp=function(t,e){},mxCellTracker.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),mxCellMarker.prototype.destroy.apply(this))},mxCellHighlight.prototype.keepOnTop=!1,mxCellHighlight.prototype.graph=!0,mxCellHighlight.prototype.state=null,mxCellHighlight.prototype.spacing=2,mxCellHighlight.prototype.resetHandler=null,mxCellHighlight.prototype.setHighlightColor=function(t){this.highlightColor=t,null!=this.shape&&(this.shape.stroke=t)},mxCellHighlight.prototype.drawHighlight=function(){this.shape=this.createShape(),this.repaint(),this.keepOnTop||this.shape.node.parentNode.firstChild==this.shape.node||this.shape.node.parentNode.insertBefore(this.shape.node,this.shape.node.parentNode.firstChild)},mxCellHighlight.prototype.createShape=function(){var t=this.graph.cellRenderer.createShape(this.state);return t.svgStrokeTolerance=this.graph.tolerance,t.scale=this.state.view.scale,t.outline=!0,t.points=this.state.absolutePoints,t.apply(this.state),t.strokewidth=this.strokeWidth/this.state.view.scale/this.state.view.scale,t.arrowStrokewidth=this.strokeWidth,t.stroke=this.highlightColor,t.opacity=this.opacity,t.isDashed=this.dashed,t.isShadow=!1,t.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,t.init(this.graph.getView().getOverlayPane()),mxEvent.redirectMouseEvents(t.node,this.graph,this.state),this.graph.dialect!=mxConstants.DIALECT_SVG?t.pointerEvents=!1:t.svgPointerEvents="stroke",t},mxCellHighlight.prototype.repaint=function(){null!=this.state&&null!=this.shape&&(this.graph.model.isEdge(this.state.cell)?this.shape.points=this.state.absolutePoints:(this.shape.bounds=new mxRectangle(this.state.x-this.spacing,this.state.y-this.spacing,this.state.width+2*this.spacing,this.state.height+2*this.spacing),this.shape.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")),null!=this.state.shape&&this.shape.setCursor(this.state.shape.getCursor()),(mxClient.IS_QUIRKS||8==document.documentMode)&&("transparent"==this.shape.stroke?(this.shape.stroke="white",this.shape.opacity=1):this.shape.opacity=this.opacity),this.shape.redraw())},mxCellHighlight.prototype.hide=function(){this.highlight(null)},mxCellHighlight.prototype.highlight=function(t){this.state!=t&&(null!=this.shape&&(this.shape.destroy(),this.shape=null),this.state=t,null!=this.state&&this.drawHighlight())},mxCellHighlight.prototype.isHighlightAt=function(t,e){var i=!1;if(null!=this.shape&&null!=document.elementFromPoint&&!mxClient.IS_QUIRKS)for(var n=document.elementFromPoint(t,e);null!=n;){if(n==this.shape.node){i=!0;break}n=n.parentNode}return i},mxCellHighlight.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler),this.graph.getView().removeListener(this.repaintHandler),this.graph.getModel().removeListener(this.repaintHandler),null!=this.shape&&(this.shape.destroy(),this.shape=null)},mxDefaultKeyHandler.prototype.editor=null,mxDefaultKeyHandler.prototype.handler=null,mxDefaultKeyHandler.prototype.bindAction=function(t,e,i){var n=mxUtils.bind(this,function(){this.editor.execute(e)});i?this.handler.bindControlKey(t,n):this.handler.bindKey(t,n)},mxDefaultKeyHandler.prototype.destroy=function(){this.handler.destroy(),this.handler=null},mxDefaultPopupMenu.prototype.imageBasePath=null,mxDefaultPopupMenu.prototype.config=null,mxDefaultPopupMenu.prototype.createMenu=function(t,e,i,n){if(null!=this.config){var l=this.createConditions(t,i,n),o=this.config.firstChild;this.addItems(t,e,i,n,l,o,null)}},mxDefaultPopupMenu.prototype.addItems=function(t,e,i,n,l,o,r){for(var s=!1;null!=o;){if("add"==o.nodeName){var a=o.getAttribute("if");if(null==a||l[a]){var g=o.getAttribute("as");g=mxResources.get(g)||g;var C=mxUtils.eval(mxUtils.getTextContent(o)),h=o.getAttribute("action"),A=o.getAttribute("icon"),I=o.getAttribute("iconCls"),c=o.getAttribute("enabled-if"),d=null==c||l[c];s&&(e.addSeparator(r),s=!1),null!=A&&this.imageBasePath&&(A=this.imageBasePath+A);var u=this.addAction(e,t,g,A,C,h,i,r,I,d);this.addItems(t,e,i,n,l,o.firstChild,u)}}else"separator"==o.nodeName&&(s=!0);o=o.nextSibling}},mxDefaultPopupMenu.prototype.addAction=function(t,e,i,n,l,o,r,s,a,g){var C=function(t){"function"==typeof l&&l.call(e,e,r,t),null!=o&&e.execute(o,r,t)};return t.addItem(i,n,C,s,a,g)},mxDefaultPopupMenu.prototype.createConditions=function(t,e,i){var n=t.graph.getModel(),l=n.getChildCount(e),o=[];o.nocell=null==e,o.ncells=t.graph.getSelectionCount()>1,o.notRoot=n.getRoot()!=n.getParent(t.graph.getDefaultParent()),o.cell=null!=e;var r=null!=e&&1==t.graph.getSelectionCount();o.nonEmpty=r&&l>0,o.expandable=r&&t.graph.isCellFoldable(e,!1),o.collapsable=r&&t.graph.isCellFoldable(e,!0),o.validRoot=r&&t.graph.isValidRoot(e),o.emptyValidRoot=o.validRoot&&0==l,o.swimlane=r&&t.graph.isSwimlane(e);for(var s=this.config.getElementsByTagName("condition"),a=0;a<s.length;a++){var g=mxUtils.eval(mxUtils.getTextContent(s[a])),C=s[a].getAttribute("name");null!=C&&"function"==typeof g&&(o[C]=g(t,e,i))}return o},mxDefaultToolbar.prototype.editor=null,mxDefaultToolbar.prototype.toolbar=null,mxDefaultToolbar.prototype.resetHandler=null,mxDefaultToolbar.prototype.spacing=4,mxDefaultToolbar.prototype.connectOnDrop=!1,mxDefaultToolbar.prototype.init=function(t){null!=t&&(this.toolbar=new mxToolbar(t),this.toolbar.addListener(mxEvent.SELECT,mxUtils.bind(this,function(t,e){var i=e.getProperty("function");this.editor.insertFunction=null!=i?mxUtils.bind(this,function(){i.apply(this,arguments),this.toolbar.resetMode()}):null})),this.resetHandler=mxUtils.bind(this,function(){null!=this.toolbar&&this.toolbar.resetMode(!0)}),this.editor.graph.addListener(mxEvent.DOUBLE_CLICK,this.resetHandler),this.editor.addListener(mxEvent.ESCAPE,this.resetHandler))},mxDefaultToolbar.prototype.addItem=function(t,e,i,n){var l=mxUtils.bind(this,function(){null!=i&&i.length>0&&this.editor.execute(i)});return this.toolbar.addItem(t,e,l,n)},mxDefaultToolbar.prototype.addSeparator=function(t){t=t||mxClient.imageBasePath+"/separator.gif",this.toolbar.addSeparator(t)},mxDefaultToolbar.prototype.addCombo=function(){return this.toolbar.addCombo()},mxDefaultToolbar.prototype.addActionCombo=function(t){return this.toolbar.addActionCombo(t)},mxDefaultToolbar.prototype.addActionOption=function(t,e,i){var n=mxUtils.bind(this,function(){this.editor.execute(i)});this.addOption(t,e,n)},mxDefaultToolbar.prototype.addOption=function(t,e,i){return this.toolbar.addOption(t,e,i)},mxDefaultToolbar.prototype.addMode=function(t,e,i,n,l){var o=mxUtils.bind(this,function(){this.editor.setMode(i),null!=l&&l(this.editor)});return this.toolbar.addSwitchMode(t,e,o,n)},mxDefaultToolbar.prototype.addPrototype=function(t,e,i,n,l,o){var r=mxUtils.bind(this,function(){return"function"==typeof i?i():null!=i?this.editor.graph.cloneCells([i])[0]:null}),s=mxUtils.bind(this,function(t,e){"function"==typeof l?l(this.editor,r(),t,e):this.drop(r(),t,e),this.toolbar.resetMode(),mxEvent.consume(t)}),a=this.toolbar.addMode(t,e,s,n,null,o),g=function(t,e,i){s(e,i)};return this.installDropHandler(a,g),a},mxDefaultToolbar.prototype.drop=function(t,e,i){var n=this.editor.graph,l=n.getModel();if(null!=i&&!l.isEdge(i)&&this.connectOnDrop&&n.isCellConnectable(i))this.connect(t,e,i);else{for(;null!=i&&!n.isValidDropTarget(i,[t],e);)i=l.getParent(i);this.insert(t,e,i)}},mxDefaultToolbar.prototype.insert=function(t,e,i){var n=this.editor.graph;if(n.canImportCell(t)){var l=mxEvent.getClientX(e),o=mxEvent.getClientY(e),r=mxUtils.convertPoint(n.container,l,o);return n.isSplitEnabled()&&n.isSplitTarget(i,[t],e)?n.splitEdge(i,[t],null,r.x,r.y):this.editor.addVertex(i,t,r.x,r.y)}return null},mxDefaultToolbar.prototype.connect=function(t,e,i){var n=this.editor.graph,l=n.getModel();if(null!=i&&n.isCellConnectable(t)&&n.isEdgeValid(null,i,t)){var o=null;l.beginUpdate();try{var r=l.getGeometry(i),s=l.getGeometry(t).clone();s.x=r.x+(r.width-s.width)/2,s.y=r.y+(r.height-s.height)/2;var a=this.spacing*n.gridSize,g=20*l.getDirectedEdgeCount(i,!0);this.editor.horizontalFlow?s.x+=(s.width+r.width)/2+a+g:s.y+=(s.height+r.height)/2+a+g,t.setGeometry(s);var C=l.getParent(i);if(n.addCell(t,C),n.constrainChild(t),o=this.editor.createEdge(i,t),null==l.getGeometry(o)){var h=new mxGeometry;h.relative=!0,l.setGeometry(o,h)}n.addEdge(o,C,i,t)}finally{l.endUpdate()}n.setSelectionCells([t,o]),n.scrollCellToVisible(t)}},mxDefaultToolbar.prototype.installDropHandler=function(t,e){var i=document.createElement("img");i.setAttribute("src",t.getAttribute("src"));var n=mxUtils.bind(this,function(l){i.style.width=2*t.offsetWidth+"px",i.style.height=2*t.offsetHeight+"px",mxUtils.makeDraggable(t,this.editor.graph,e,i),mxEvent.removeListener(i,"load",n)});mxClient.IS_IE?n():mxEvent.addListener(i,"load",n)},mxDefaultToolbar.prototype.destroy=function(){null!=this.resetHandler&&(this.editor.graph.removeListener("dblclick",this.resetHandler),this.editor.removeListener("escape",this.resetHandler),this.resetHandler=null),null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null)},mxLoadResources&&mxResources.add(mxClient.basePath+"/resources/editor"),mxEditor.prototype=new mxEventSource,mxEditor.prototype.constructor=mxEditor,mxEditor.prototype.askZoomResource="none"!=mxClient.language?"askZoom":"",mxEditor.prototype.lastSavedResource="none"!=mxClient.language?"lastSaved":"",mxEditor.prototype.currentFileResource="none"!=mxClient.language?"currentFile":"",mxEditor.prototype.propertiesResource="none"!=mxClient.language?"properties":"",mxEditor.prototype.tasksResource="none"!=mxClient.language?"tasks":"",mxEditor.prototype.helpResource="none"!=mxClient.language?"help":"",mxEditor.prototype.outlineResource="none"!=mxClient.language?"outline":"",mxEditor.prototype.outline=null,mxEditor.prototype.graph=null,mxEditor.prototype.graphRenderHint=null,mxEditor.prototype.toolbar=null,mxEditor.prototype.status=null,mxEditor.prototype.popupHandler=null,mxEditor.prototype.undoManager=null,mxEditor.prototype.keyHandler=null,mxEditor.prototype.actions=null,mxEditor.prototype.dblClickAction="edit",mxEditor.prototype.swimlaneRequired=!1,mxEditor.prototype.disableContextMenu=!0,mxEditor.prototype.insertFunction=null,mxEditor.prototype.forcedInserting=!1,mxEditor.prototype.templates=null,mxEditor.prototype.defaultEdge=null,mxEditor.prototype.defaultEdgeStyle=null,mxEditor.prototype.defaultGroup=null,mxEditor.prototype.groupBorderSize=null,mxEditor.prototype.filename=null,mxEditor.prototype.linefeed="&#xa;",mxEditor.prototype.postParameterName="xml",mxEditor.prototype.escapePostData=!0,mxEditor.prototype.urlPost=null,mxEditor.prototype.urlImage=null,mxEditor.prototype.horizontalFlow=!1,mxEditor.prototype.layoutDiagram=!1,mxEditor.prototype.swimlaneSpacing=0,mxEditor.prototype.maintainSwimlanes=!1,mxEditor.prototype.layoutSwimlanes=!1,mxEditor.prototype.cycleAttributeValues=null,mxEditor.prototype.cycleAttributeIndex=0,mxEditor.prototype.cycleAttributeName="fillColor",mxEditor.prototype.tasks=null,mxEditor.prototype.tasksWindowImage=null,mxEditor.prototype.tasksTop=20,mxEditor.prototype.help=null,mxEditor.prototype.helpWindowImage=null,mxEditor.prototype.urlHelp=null,mxEditor.prototype.helpWidth=300,mxEditor.prototype.helpHeight=260,mxEditor.prototype.propertiesWidth=240,mxEditor.prototype.propertiesHeight=null,mxEditor.prototype.movePropertiesDialog=!1,mxEditor.prototype.validating=!1,mxEditor.prototype.modified=!1,mxEditor.prototype.isModified=function(){return this.modified},mxEditor.prototype.setModified=function(t){this.modified=t},mxEditor.prototype.addActions=function(){this.addAction("save",function(t){t.save()}),this.addAction("print",function(t){new mxPrintPreview(t.graph,1).open()}),this.addAction("show",function(t){mxUtils.show(t.graph,null,10,10)}),this.addAction("exportImage",function(t){var e=t.getUrlImage();if(null==e||mxClient.IS_LOCAL)t.execute("show");else{var i=mxUtils.getViewXml(t.graph,1),n=mxUtils.getXml(i,"\n");mxUtils.submit(e,t.postParameterName+"="+encodeURIComponent(n),document,"_blank")}}),this.addAction("refresh",function(t){t.graph.refresh()}),this.addAction("cut",function(t){t.graph.isEnabled()&&mxClipboard.cut(t.graph)}),this.addAction("copy",function(t){t.graph.isEnabled()&&mxClipboard.copy(t.graph)}),this.addAction("paste",function(t){t.graph.isEnabled()&&mxClipboard.paste(t.graph)}),this.addAction("delete",function(t){t.graph.isEnabled()&&t.graph.removeCells()}),this.addAction("group",function(t){t.graph.isEnabled()&&t.graph.setSelectionCell(t.groupCells())}),this.addAction("ungroup",function(t){t.graph.isEnabled()&&t.graph.setSelectionCells(t.graph.ungroupCells())}),this.addAction("removeFromParent",function(t){t.graph.isEnabled()&&t.graph.removeCellsFromParent()}),this.addAction("undo",function(t){t.graph.isEnabled()&&t.undo()}),this.addAction("redo",function(t){t.graph.isEnabled()&&t.redo()}),this.addAction("zoomIn",function(t){t.graph.zoomIn()}),this.addAction("zoomOut",function(t){t.graph.zoomOut()}),this.addAction("actualSize",function(t){t.graph.zoomActual()}),this.addAction("fit",function(t){t.graph.fit()}),this.addAction("showProperties",function(t,e){t.showProperties(e)}),this.addAction("selectAll",function(t){t.graph.isEnabled()&&t.graph.selectAll()}),this.addAction("selectNone",function(t){t.graph.isEnabled()&&t.graph.clearSelection()}),this.addAction("selectVertices",function(t){t.graph.isEnabled()&&t.graph.selectVertices()}),this.addAction("selectEdges",function(t){t.graph.isEnabled()&&t.graph.selectEdges()}),this.addAction("edit",function(t,e){t.graph.isEnabled()&&t.graph.isCellEditable(e)&&t.graph.startEditingAtCell(e)}),this.addAction("toBack",function(t,e){t.graph.isEnabled()&&t.graph.orderCells(!0)}),this.addAction("toFront",function(t,e){t.graph.isEnabled()&&t.graph.orderCells(!1)}),this.addAction("enterGroup",function(t,e){t.graph.enterGroup(e)}),this.addAction("exitGroup",function(t){t.graph.exitGroup()}),this.addAction("home",function(t){t.graph.home()}),this.addAction("selectPrevious",function(t){t.graph.isEnabled()&&t.graph.selectPreviousCell()}),this.addAction("selectNext",function(t){t.graph.isEnabled()&&t.graph.selectNextCell()}),this.addAction("selectParent",function(t){t.graph.isEnabled()&&t.graph.selectParentCell()}),this.addAction("selectChild",function(t){t.graph.isEnabled()&&t.graph.selectChildCell()}),this.addAction("collapse",function(t){t.graph.isEnabled()&&t.graph.foldCells(!0)}),this.addAction("collapseAll",function(t){if(t.graph.isEnabled()){var e=t.graph.getChildVertices();t.graph.foldCells(!0,!1,e)}}),this.addAction("expand",function(t){t.graph.isEnabled()&&t.graph.foldCells(!1)}),this.addAction("expandAll",function(t){if(t.graph.isEnabled()){var e=t.graph.getChildVertices();t.graph.foldCells(!1,!1,e)}}),this.addAction("bold",function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_BOLD)}),this.addAction("italic",function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_ITALIC)}),this.addAction("underline",function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_UNDERLINE)}),this.addAction("alignCellsLeft",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_LEFT)}),this.addAction("alignCellsCenter",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_CENTER)}),this.addAction("alignCellsRight",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_RIGHT)}),this.addAction("alignCellsTop",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_TOP)}),this.addAction("alignCellsMiddle",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_MIDDLE)}),this.addAction("alignCellsBottom",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_BOTTOM)}),this.addAction("alignFontLeft",function(t){t.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT)}),this.addAction("alignFontCenter",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER)}),this.addAction("alignFontRight",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_RIGHT)}),this.addAction("alignFontTop",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_TOP)}),this.addAction("alignFontMiddle",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE)}),this.addAction("alignFontBottom",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_BOTTOM)}),this.addAction("zoom",function(t){var e=100*t.graph.getView().scale,i=parseFloat(mxUtils.prompt(mxResources.get(t.askZoomResource)||t.askZoomResource,e))/100;isNaN(i)||t.graph.getView().setScale(i)}),this.addAction("toggleTasks",function(t){null!=t.tasks?t.tasks.setVisible(!t.tasks.isVisible()):t.showTasks()}),this.addAction("toggleHelp",function(t){null!=t.help?t.help.setVisible(!t.help.isVisible()):t.showHelp()}),this.addAction("toggleOutline",function(t){null==t.outline?t.showOutline():t.outline.setVisible(!t.outline.isVisible())}),this.addAction("toggleConsole",function(t){mxLog.setVisible(!mxLog.isVisible())})},mxEditor.prototype.configure=function(t){null!=t&&(new mxCodec(t.ownerDocument).decode(t,this),this.resetHistory())},mxEditor.prototype.resetFirstTime=function(){document.cookie="mxgraph=seen; expires=Fri, 27 Jul 2001 02:47:11 UTC; path=/"},mxEditor.prototype.resetHistory=function(){this.lastSnapshot=(new Date).getTime(),this.undoManager.clear(),this.ignoredChanges=0,this.setModified(!1)},mxEditor.prototype.addAction=function(t,e){this.actions[t]=e},mxEditor.prototype.execute=function(t,e,i){var n=this.actions[t];if(null!=n)try{var l=arguments;l[0]=this,n.apply(this,l)}catch(e){throw mxUtils.error("Cannot execute "+t+": "+e.message,280,!0),e}else mxUtils.error("Cannot find action "+t,280,!0)},mxEditor.prototype.addTemplate=function(t,e){this.templates[t]=e},mxEditor.prototype.getTemplate=function(t){return this.templates[t]},mxEditor.prototype.createGraph=function(){var t=new mxGraph(null,null,this.graphRenderHint);return t.setTooltips(!0),t.setPanning(!0),this.installDblClickHandler(t),this.installUndoHandler(t),this.installDrillHandler(t),this.installChangeHandler(t),this.installInsertHandler(t),t.popupMenuHandler.factoryMethod=mxUtils.bind(this,function(t,e,i){return this.createPopupMenu(t,e,i)}),t.connectionHandler.factoryMethod=mxUtils.bind(this,function(t,e){return this.createEdge(t,e)}),this.createSwimlaneManager(t),this.createLayoutManager(t),t},mxEditor.prototype.createSwimlaneManager=function(t){var e=new mxSwimlaneManager(t,!1);return e.isHorizontal=mxUtils.bind(this,function(){return this.horizontalFlow}),e.isEnabled=mxUtils.bind(this,function(){return this.maintainSwimlanes}),e},mxEditor.prototype.createLayoutManager=function(t){var e=new mxLayoutManager(t),i=this;return e.getLayout=function(e){var n=null,l=i.graph.getModel();return null!=l.getParent(e)&&(i.layoutSwimlanes&&t.isSwimlane(e)?(null==i.swimlaneLayout&&(i.swimlaneLayout=i.createSwimlaneLayout()),n=i.swimlaneLayout):i.layoutDiagram&&(t.isValidRoot(e)||null==l.getParent(l.getParent(e)))&&(null==i.diagramLayout&&(i.diagramLayout=i.createDiagramLayout()),n=i.diagramLayout)),n},e},mxEditor.prototype.setGraphContainer=function(t){null==this.graph.container&&(this.graph.init(t),this.rubberband=new mxRubberband(this.graph),this.disableContextMenu&&mxEvent.disableContextMenu(t),mxClient.IS_QUIRKS&&new mxDivResizer(t))},mxEditor.prototype.installDblClickHandler=function(t){t.addListener(mxEvent.DOUBLE_CLICK,mxUtils.bind(this,function(e,i){var n=i.getProperty("cell");null!=n&&t.isEnabled()&&null!=this.dblClickAction&&(this.execute(this.dblClickAction,n),i.consume())}))},mxEditor.prototype.installUndoHandler=function(t){var e=mxUtils.bind(this,function(t,e){var i=e.getProperty("edit");this.undoManager.undoableEditHappened(i)});t.getModel().addListener(mxEvent.UNDO,e),t.getView().addListener(mxEvent.UNDO,e);var i=function(e,i){var n=i.getProperty("edit").changes;t.setSelectionCells(t.getSelectionCellsForChanges(n))};this.undoManager.addListener(mxEvent.UNDO,i),this.undoManager.addListener(mxEvent.REDO,i)},mxEditor.prototype.installDrillHandler=function(t){var e=mxUtils.bind(this,function(t){this.fireEvent(new mxEventObject(mxEvent.ROOT))});t.getView().addListener(mxEvent.DOWN,e),t.getView().addListener(mxEvent.UP,e)},mxEditor.prototype.installChangeHandler=function(t){var e=mxUtils.bind(this,function(e,i){this.setModified(!0),1==this.validating&&t.validateGraph();for(var n=i.getProperty("edit").changes,l=0;l<n.length;l++){var o=n[l];if(o instanceof mxRootChange||o instanceof mxValueChange&&o.cell==this.graph.model.root||o instanceof mxCellAttributeChange&&o.cell==this.graph.model.root){this.fireEvent(new mxEventObject(mxEvent.ROOT));break}}});t.getModel().addListener(mxEvent.CHANGE,e)},mxEditor.prototype.installInsertHandler=function(t){var e=this,i={mouseDown:function(t,i){null==e.insertFunction||i.isPopupTrigger()||!e.forcedInserting&&null!=i.getState()||(e.graph.clearSelection(),e.insertFunction(i.getEvent(),i.getCell()),this.isActive=!0,i.consume())},mouseMove:function(t,e){this.isActive&&e.consume()},mouseUp:function(t,e){this.isActive&&(this.isActive=!1,e.consume())}};t.addMouseListener(i)},mxEditor.prototype.createDiagramLayout=function(){var t=this.graph.gridSize,e=new mxStackLayout(this.graph,!this.horizontalFlow,this.swimlaneSpacing,2*t,2*t);return e.isVertexIgnored=function(t){return!e.graph.isSwimlane(t)},e},mxEditor.prototype.createSwimlaneLayout=function(){return new mxCompactTreeLayout(this.graph,this.horizontalFlow)},mxEditor.prototype.createToolbar=function(){return new mxDefaultToolbar(null,this)},mxEditor.prototype.setToolbarContainer=function(t){this.toolbar.init(t),mxClient.IS_QUIRKS&&new mxDivResizer(t)},mxEditor.prototype.setStatusContainer=function(t){null==this.status&&(this.status=t,this.addListener(mxEvent.SAVE,mxUtils.bind(this,function(){var t=(new Date).toLocaleString();this.setStatus((mxResources.get(this.lastSavedResource)||this.lastSavedResource)+": "+t)})),this.addListener(mxEvent.OPEN,mxUtils.bind(this,function(){this.setStatus((mxResources.get(this.currentFileResource)||this.currentFileResource)+": "+this.filename)})),mxClient.IS_QUIRKS&&new mxDivResizer(t))},mxEditor.prototype.setStatus=function(t){null!=this.status&&null!=t&&(this.status.innerHTML=t)},mxEditor.prototype.setTitleContainer=function(t){this.addListener(mxEvent.ROOT,mxUtils.bind(this,function(e){t.innerHTML=this.getTitle()})),mxClient.IS_QUIRKS&&new mxDivResizer(t)},mxEditor.prototype.treeLayout=function(t,e){null!=t&&new mxCompactTreeLayout(this.graph,e).execute(t)},mxEditor.prototype.getTitle=function(){for(var t="",e=this.graph,i=e.getCurrentRoot();null!=i&&null!=e.getModel().getParent(e.getModel().getParent(i));)e.isValidRoot(i)&&(t=" > "+e.convertValueToString(i)+t),i=e.getModel().getParent(i);return this.getRootTitle()+t},mxEditor.prototype.getRootTitle=function(){var t=this.graph.getModel().getRoot();return this.graph.convertValueToString(t)},mxEditor.prototype.undo=function(){this.undoManager.undo()},mxEditor.prototype.redo=function(){this.undoManager.redo()},mxEditor.prototype.groupCells=function(){var t=null!=this.groupBorderSize?this.groupBorderSize:this.graph.gridSize;return this.graph.groupCells(this.createGroup(),t)},mxEditor.prototype.createGroup=function(){return this.graph.getModel().cloneCell(this.defaultGroup)},mxEditor.prototype.open=function(t){if(null!=t){var e=mxUtils.load(t).getXml();this.readGraphModel(e.documentElement),this.filename=t,this.fireEvent(new mxEventObject(mxEvent.OPEN,"filename",t))}},mxEditor.prototype.readGraphModel=function(t){new mxCodec(t.ownerDocument).decode(t,this.graph.getModel()),this.resetHistory()},mxEditor.prototype.save=function(t,e){if(null!=(t=t||this.getUrlPost())&&t.length>0){var i=this.writeGraphModel(e);this.postDiagram(t,i),this.setModified(!1)}this.fireEvent(new mxEventObject(mxEvent.SAVE,"url",t))},mxEditor.prototype.postDiagram=function(t,e){this.escapePostData&&(e=encodeURIComponent(e)),mxUtils.post(t,this.postParameterName+"="+e,mxUtils.bind(this,function(i){this.fireEvent(new mxEventObject(mxEvent.POST,"request",i,"url",t,"data",e))}))},mxEditor.prototype.writeGraphModel=function(t){t=null!=t?t:this.linefeed;var e=(new mxCodec).encode(this.graph.getModel());return mxUtils.getXml(e,t)},mxEditor.prototype.getUrlPost=function(){return this.urlPost},mxEditor.prototype.getUrlImage=function(){return this.urlImage},mxEditor.prototype.swapStyles=function(t,e){var i=this.graph.getStylesheet().styles[e];this.graph.getView().getStylesheet().putCellStyle(e,this.graph.getStylesheet().styles[t]),this.graph.getStylesheet().putCellStyle(t,i),this.graph.refresh()},mxEditor.prototype.showProperties=function(t){if(null==(t=t||this.graph.getSelectionCell())&&null==(t=this.graph.getCurrentRoot())&&(t=this.graph.getModel().getRoot()),null!=t){this.graph.stopEditing(!0);var e=mxUtils.getOffset(this.graph.container),i=e.x+10,n=e.y;if(null==this.properties||this.movePropertiesDialog){var l=this.graph.getCellBounds(t);null!=l&&(i+=l.x+Math.min(200,l.width),n+=l.y)}else i=this.properties.getX(),n=this.properties.getY();this.hideProperties();var o=this.createProperties(t);null!=o&&(this.properties=new mxWindow(mxResources.get(this.propertiesResource)||this.propertiesResource,o,i,n,this.propertiesWidth,this.propertiesHeight,!1),this.properties.setVisible(!0))}},mxEditor.prototype.isPropertiesVisible=function(){return null!=this.properties},mxEditor.prototype.createProperties=function(t){var e=this.graph.getModel(),i=e.getValue(t);if(mxUtils.isNode(i)){var n=new mxForm("properties");n.addText("ID",t.getId()).setAttribute("readonly","true");var l=null,o=null,r=null,s=null,a=null;e.isVertex(t)&&null!=(l=e.getGeometry(t))&&(o=n.addText("top",l.y),r=n.addText("left",l.x),s=n.addText("width",l.width),a=n.addText("height",l.height));for(var g=e.getStyle(t),C=n.addText("Style",g||""),h=i.attributes,A=[],I=0;I<h.length;I++){var c=h[I].value;A[I]=n.addTextarea(h[I].nodeName,c,"label"==h[I].nodeName?4:2)}var d=mxUtils.bind(this,function(){this.hideProperties(),e.beginUpdate();try{null!=l&&((l=l.clone()).x=parseFloat(r.value),l.y=parseFloat(o.value),l.width=parseFloat(s.value),l.height=parseFloat(a.value),e.setGeometry(t,l)),C.value.length>0?e.setStyle(t,C.value):e.setStyle(t,null);for(var i=0;i<h.length;i++){var n=new mxCellAttributeChange(t,h[i].nodeName,A[i].value);e.execute(n)}this.graph.isAutoSizeCell(t)&&this.graph.updateCellSize(t)}finally{e.endUpdate()}}),u=mxUtils.bind(this,function(){this.hideProperties()});return n.addButtons(d,u),n.table}return null},mxEditor.prototype.hideProperties=function(){null!=this.properties&&(this.properties.destroy(),this.properties=null)},mxEditor.prototype.showTasks=function(){if(null==this.tasks){var t=document.createElement("div");t.style.padding="4px",t.style.paddingLeft="20px";var e=document.body.clientWidth,i=new mxWindow(mxResources.get(this.tasksResource)||this.tasksResource,t,e-220,this.tasksTop,200);i.setClosable(!0),i.destroyOnClose=!1;var n=mxUtils.bind(this,function(e){mxEvent.release(t),t.innerHTML="",this.createTasks(t)});this.graph.getModel().addListener(mxEvent.CHANGE,n),this.graph.getSelectionModel().addListener(mxEvent.CHANGE,n),this.graph.addListener(mxEvent.ROOT,n),null!=this.tasksWindowImage&&i.setImage(this.tasksWindowImage),this.tasks=i,this.createTasks(t)}this.tasks.setVisible(!0)},mxEditor.prototype.refreshTasks=function(t){if(null!=this.tasks){var t=this.tasks.content;mxEvent.release(t),t.innerHTML="",this.createTasks(t)}},mxEditor.prototype.createTasks=function(t){},mxEditor.prototype.showHelp=function(t){if(null==this.help){var e=document.createElement("iframe");e.setAttribute("src",mxResources.get("urlHelp")||this.urlHelp),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("frameBorder","0"),e.style.backgroundColor="white";var i=document.body.clientWidth,n=document.body.clientHeight||document.documentElement.clientHeight,l=new mxWindow(mxResources.get(this.helpResource)||this.helpResource,e,(i-this.helpWidth)/2,(n-this.helpHeight)/3,this.helpWidth,this.helpHeight);if(l.setMaximizable(!0),l.setClosable(!0),l.destroyOnClose=!1,l.setResizable(!0),null!=this.helpWindowImage&&l.setImage(this.helpWindowImage),mxClient.IS_NS){var o=function(t){var i=l.div.offsetHeight;e.setAttribute("height",i-26+"px")};l.addListener(mxEvent.RESIZE_END,o),l.addListener(mxEvent.MAXIMIZE,o),l.addListener(mxEvent.NORMALIZE,o),l.addListener(mxEvent.SHOW,o)}this.help=l}this.help.setVisible(!0)},mxEditor.prototype.showOutline=function(){if(null==this.outline){var t=document.createElement("div");t.style.overflow="hidden",t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.background="white",t.style.cursor="move",8==document.documentMode&&(t.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=100)");var e=new mxWindow(mxResources.get(this.outlineResource)||this.outlineResource,t,600,480,200,200,!1),i=new mxOutline(this.graph,t);e.setClosable(!0),e.setResizable(!0),e.destroyOnClose=!1,e.addListener(mxEvent.RESIZE_END,function(){i.update()}),this.outline=e,this.outline.outline=i}this.outline.setVisible(!0),this.outline.outline.update(!0)},mxEditor.prototype.setMode=function(t){"select"==t?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!1)):"connect"==t?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!0)):"pan"==t&&(this.graph.panningHandler.useLeftButtonForPanning=!0,this.graph.setConnectable(!1))},mxEditor.prototype.createPopupMenu=function(t,e,i){this.popupHandler.createMenu(this,t,e,i)},mxEditor.prototype.createEdge=function(t,e){var i=null;if(null!=this.defaultEdge)i=this.graph.getModel().cloneCell(this.defaultEdge);else{(i=new mxCell("")).setEdge(!0);var n=new mxGeometry;n.relative=!0,i.setGeometry(n)}var l=this.getEdgeStyle();return null!=l&&i.setStyle(l),i},mxEditor.prototype.getEdgeStyle=function(){return this.defaultEdgeStyle},mxEditor.prototype.consumeCycleAttribute=function(t){return null!=this.cycleAttributeValues&&this.cycleAttributeValues.length>0&&this.graph.isSwimlane(t)?this.cycleAttributeValues[this.cycleAttributeIndex++%this.cycleAttributeValues.length]:null},mxEditor.prototype.cycleAttribute=function(t){if(null!=this.cycleAttributeName){var e=this.consumeCycleAttribute(t);null!=e&&t.setStyle(t.getStyle()+";"+this.cycleAttributeName+"="+e)}},mxEditor.prototype.addVertex=function(t,e,i,n){for(var l=this.graph.getModel();null!=t&&!this.graph.isValidDropTarget(t);)t=l.getParent(t);t=null!=t?t:this.graph.getSwimlaneAt(i,n);var o=this.graph.getView().scale,r=l.getGeometry(e),s=l.getGeometry(t);if(this.graph.isSwimlane(e)&&!this.graph.swimlaneNesting)t=null;else{if(null==t&&this.swimlaneRequired)return null;if(null!=t&&null!=s){var a=this.graph.getView().getState(t);if(null!=a){if(i-=a.origin.x*o,n-=a.origin.y*o,this.graph.isConstrainedMoving){var g=r.width,C=r.height,h=a.x+a.width;i+g>h&&(i-=i+g-h),n+C>(h=a.y+a.height)&&(n-=n+C-h)}}else null!=s&&(i-=s.x*o,n-=s.y*o)}}(r=r.clone()).x=this.graph.snap(i/o-this.graph.getView().translate.x-this.graph.gridSize/2),r.y=this.graph.snap(n/o-this.graph.getView().translate.y-this.graph.gridSize/2),e.setGeometry(r),null==t&&(t=this.graph.getDefaultParent()),this.cycleAttribute(e),this.fireEvent(new mxEventObject(mxEvent.BEFORE_ADD_VERTEX,"vertex",e,"parent",t)),l.beginUpdate();try{null!=(e=this.graph.addCell(e,t))&&(this.graph.constrainChild(e),this.fireEvent(new mxEventObject(mxEvent.ADD_VERTEX,"vertex",e)))}finally{l.endUpdate()}return null!=e&&(this.graph.setSelectionCell(e),this.graph.scrollCellToVisible(e),this.fireEvent(new mxEventObject(mxEvent.AFTER_ADD_VERTEX,"vertex",e))),e},mxEditor.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tasks&&this.tasks.destroy(),null!=this.outline&&this.outline.destroy(),null!=this.properties&&this.properties.destroy(),null!=this.keyHandler&&this.keyHandler.destroy(),null!=this.rubberband&&this.rubberband.destroy(),null!=this.toolbar&&this.toolbar.destroy(),null!=this.graph&&this.graph.destroy(),this.status=null,this.templates=null)};var mxCodecRegistry={codecs:[],aliases:[],register:function(t){if(null!=t){var e=t.getName();mxCodecRegistry.codecs[e]=t;var i=mxUtils.getFunctionName(t.template.constructor);i!=e&&mxCodecRegistry.addAlias(i,e)}return t},addAlias:function(t,e){mxCodecRegistry.aliases[t]=e},getCodec:function(t){var e=null;if(null!=t){var i=mxUtils.getFunctionName(t),n=mxCodecRegistry.aliases[i];if(null!=n&&(i=n),null==(e=mxCodecRegistry.codecs[i]))try{e=new mxObjectCodec(new t),mxCodecRegistry.register(e)}catch(t){}}return e}};mxCodec.prototype.document=null,mxCodec.prototype.objects=null,mxCodec.prototype.elements=null,mxCodec.prototype.encodeDefaults=!1,mxCodec.prototype.putObject=function(t,e){return this.objects[t]=e,e},mxCodec.prototype.getObject=function(t){var e=null;if(null!=t&&null==(e=this.objects[t])&&null==(e=this.lookup(t))){var i=this.getElementById(t);null!=i&&(e=this.decode(i))}return e},mxCodec.prototype.lookup=function(t){return null},mxCodec.prototype.getElementById=function(t){return null==this.elements&&(this.elements=new Object,this.addElement(this.document.documentElement)),this.elements[t]},mxCodec.prototype.addElement=function(t){if(t.nodeType==mxConstants.NODETYPE_ELEMENT){var e=t.getAttribute("id");null!=e&&null==this.elements[e]&&(this.elements[e]=t)}for(t=t.firstChild;null!=t;)this.addElement(t),t=t.nextSibling},mxCodec.prototype.getId=function(t){var e=null;return null!=t&&null==(e=this.reference(t))&&t instanceof mxCell&&null==(e=t.getId())&&0==(e=mxCellPath.create(t)).length&&(e="root"),e},mxCodec.prototype.reference=function(t){return null},mxCodec.prototype.encode=function(t){var e=null;if(null!=t&&null!=t.constructor){var i=mxCodecRegistry.getCodec(t.constructor);null!=i?e=i.encode(this,t):mxUtils.isNode(t)?e=mxUtils.importNode(this.document,t,!0):mxLog.warn("mxCodec.encode: No codec for "+mxUtils.getFunctionName(t.constructor))}return e},mxCodec.prototype.decode=function(t,e){var i=null;if(null!=t&&t.nodeType==mxConstants.NODETYPE_ELEMENT){var n=null;try{n=window[t.nodeName]}catch(t){}var l=mxCodecRegistry.getCodec(n);null!=l?i=l.decode(this,t,e):(i=t.cloneNode(!0)).removeAttribute("as")}return i},mxCodec.prototype.encodeCell=function(t,e,i){if(e.appendChild(this.encode(t)),null==i||i)for(var n=t.getChildCount(),l=0;l<n;l++)this.encodeCell(t.getChildAt(l),e)},mxCodec.prototype.isCellCodec=function(t){return null!=t&&"function"==typeof t.isCellCodec&&t.isCellCodec()},mxCodec.prototype.decodeCell=function(t,e){e=null==e||e;var i=null;if(null!=t&&t.nodeType==mxConstants.NODETYPE_ELEMENT){var n=mxCodecRegistry.getCodec(t.nodeName);if(!this.isCellCodec(n))for(var l=t.firstChild;null!=l&&!this.isCellCodec(n);)n=mxCodecRegistry.getCodec(l.nodeName),l=l.nextSibling;this.isCellCodec(n)||(n=mxCodecRegistry.getCodec(mxCell)),i=n.decode(this,t),e&&this.insertIntoGraph(i)}return i},mxCodec.prototype.insertIntoGraph=function(t){var e=t.parent,i=t.getTerminal(!0),n=t.getTerminal(!1);t.setTerminal(null,!1),t.setTerminal(null,!0),t.parent=null,null!=e&&e.insert(t),null!=i&&i.insertEdge(t,!0),null!=n&&n.insertEdge(t,!1)},mxCodec.prototype.setAttribute=function(t,e,i){null!=e&&null!=i&&t.setAttribute(e,i)},mxObjectCodec.allowEval=!1,mxObjectCodec.prototype.template=null,mxObjectCodec.prototype.exclude=null,mxObjectCodec.prototype.idrefs=null,mxObjectCodec.prototype.mapping=null,mxObjectCodec.prototype.reverse=null,mxObjectCodec.prototype.getName=function(){return mxUtils.getFunctionName(this.template.constructor)},mxObjectCodec.prototype.cloneTemplate=function(){return new this.template.constructor},mxObjectCodec.prototype.getFieldName=function(t){if(null!=t){var e=this.reverse[t];null!=e&&(t=e)}return t},mxObjectCodec.prototype.getAttributeName=function(t){if(null!=t){var e=this.mapping[t];null!=e&&(t=e)}return t},mxObjectCodec.prototype.isExcluded=function(t,e,i,n){return e==mxObjectIdentity.FIELD_NAME||mxUtils.indexOf(this.exclude,e)>=0},mxObjectCodec.prototype.isReference=function(t,e,i,n){return mxUtils.indexOf(this.idrefs,e)>=0},mxObjectCodec.prototype.encode=function(t,e){var i=t.document.createElement(this.getName());return e=this.beforeEncode(t,e,i),this.encodeObject(t,e,i),this.afterEncode(t,e,i)},mxObjectCodec.prototype.encodeObject=function(t,e,i){t.setAttribute(i,"id",t.getId(e));for(var n in e){var l=n,o=e[l];null==o||this.isExcluded(e,l,o,!0)||(mxUtils.isInteger(l)&&(l=null),this.encodeValue(t,e,l,o,i))}},mxObjectCodec.prototype.encodeValue=function(t,e,i,n,l){if(null!=n){if(this.isReference(e,i,n,!0)){var o=t.getId(n);if(null==o)return void mxLog.warn("mxObjectCodec.encode: No ID for "+this.getName()+"."+i+"="+n);n=o}var r=this.template[i];(null==i||t.encodeDefaults||r!=n)&&(i=this.getAttributeName(i),this.writeAttribute(t,e,i,n,l))}},mxObjectCodec.prototype.writeAttribute=function(t,e,i,n,l){"object"!=typeof n?this.writePrimitiveAttribute(t,e,i,n,l):this.writeComplexAttribute(t,e,i,n,l)},mxObjectCodec.prototype.writePrimitiveAttribute=function(t,e,i,n,l){if(n=this.convertAttributeToXml(t,e,i,n,l),null==i){var o=t.document.createElement("add");"function"==typeof n?o.appendChild(t.document.createTextNode(n)):t.setAttribute(o,"value",n),l.appendChild(o)}else"function"!=typeof n&&t.setAttribute(l,i,n)},mxObjectCodec.prototype.writeComplexAttribute=function(t,e,i,n,l){var o=t.encode(n);null!=o?(null!=i&&o.setAttribute("as",i),l.appendChild(o)):mxLog.warn("mxObjectCodec.encode: No node for "+this.getName()+"."+i+": "+n)},mxObjectCodec.prototype.convertAttributeToXml=function(t,e,i,n){return this.isBooleanAttribute(t,e,i,n)&&(n=1==n?"1":"0"),n},mxObjectCodec.prototype.isBooleanAttribute=function(t,e,i,n){return void 0===n.length&&(1==n||0==n)},mxObjectCodec.prototype.convertAttributeFromXml=function(t,e,i){var n=e.value;return this.isNumericAttribute(t,e,i)&&(n=parseFloat(n)),n},mxObjectCodec.prototype.isNumericAttribute=function(t,e,i){return mxUtils.isNumeric(e.value)},mxObjectCodec.prototype.beforeEncode=function(t,e,i){return e},mxObjectCodec.prototype.afterEncode=function(t,e,i){return i},mxObjectCodec.prototype.decode=function(t,e,i){var n=e.getAttribute("id"),l=t.objects[n];return null==l&&(l=i||this.cloneTemplate(),null!=n&&t.putObject(n,l)),e=this.beforeDecode(t,e,l),this.decodeNode(t,e,l),this.afterDecode(t,e,l)},mxObjectCodec.prototype.decodeNode=function(t,e,i){null!=e&&(this.decodeAttributes(t,e,i),this.decodeChildren(t,e,i))},mxObjectCodec.prototype.decodeAttributes=function(t,e,i){var n=e.attributes;if(null!=n)for(var l=0;l<n.length;l++)this.decodeAttribute(t,n[l],i)},mxObjectCodec.prototype.isIgnoredAttribute=function(t,e,i){return"as"==e.nodeName||"id"==e.nodeName},mxObjectCodec.prototype.decodeAttribute=function(t,e,i){if(!this.isIgnoredAttribute(t,e,i)){var n=e.nodeName,l=this.convertAttributeFromXml(t,e,i),o=this.getFieldName(n);if(this.isReference(i,o,l,!1)){var r=t.getObject(l);if(null==r)return void mxLog.warn("mxObjectCodec.decode: No object for "+this.getName()+"."+n+"="+l);l=r}this.isExcluded(i,n,l,!1)||(i[n]=l)}},mxObjectCodec.prototype.decodeChildren=function(t,e,i){for(var n=e.firstChild;null!=n;){var l=n.nextSibling;n.nodeType!=mxConstants.NODETYPE_ELEMENT||this.processInclude(t,n,i)||this.decodeChild(t,n,i),n=l}},mxObjectCodec.prototype.decodeChild=function(t,e,i){var n=this.getFieldName(e.getAttribute("as"));if(null==n||!this.isExcluded(i,n,e,!1)){var l=this.getFieldTemplate(i,n,e),o=null;"add"==e.nodeName?null==(o=e.getAttribute("value"))&&mxObjectCodec.allowEval&&(o=mxUtils.eval(mxUtils.getTextContent(e))):o=t.decode(e,l),this.addObjectValue(i,n,o,l)}},mxObjectCodec.prototype.getFieldTemplate=function(t,e,i){var n=t[e];return n instanceof Array&&n.length>0&&(n=null),n},mxObjectCodec.prototype.addObjectValue=function(t,e,i,n){null!=i&&i!=n&&(null!=e&&e.length>0?t[e]=i:t.push(i))},mxObjectCodec.prototype.processInclude=function(t,e,i){if("include"==e.nodeName){var n=e.getAttribute("name");if(null!=n)try{var l=mxUtils.load(n).getDocumentElement();null!=l&&t.decode(l,i)}catch(t){}return!0}return!1},mxObjectCodec.prototype.beforeDecode=function(t,e,i){return e},mxObjectCodec.prototype.afterDecode=function(t,e,i){return i},mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxCell,["children","edges","overlays","mxTransient"],["parent","source","target"]);return t.isCellCodec=function(){return!0},t.isNumericAttribute=function(t,e,i){return"value"!==e.nodeName&&mxObjectCodec.prototype.isNumericAttribute.apply(this,arguments)},t.isExcluded=function(t,e,i,n){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||n&&"value"==e&&i.nodeType==mxConstants.NODETYPE_ELEMENT},t.afterEncode=function(t,e,i){if(null!=e.value&&e.value.nodeType==mxConstants.NODETYPE_ELEMENT){var n=i;(i=mxUtils.importNode(t.document,e.value,!0)).appendChild(n);var l=n.getAttribute("id");i.setAttribute("id",l),n.removeAttribute("id")}return i},t.beforeDecode=function(t,e,i){var n=e.cloneNode(!0),l=this.getName();if(e.nodeName!=l){var o=e.getElementsByTagName(l)[0];null!=o&&o.parentNode==e?(mxUtils.removeWhitespace(o,!0),mxUtils.removeWhitespace(o,!1),o.parentNode.removeChild(o),n=o):n=null,i.value=e.cloneNode(!0);var r=i.value.getAttribute("id");null!=r&&(i.setId(r),i.value.removeAttribute("id"))}else i.setId(e.getAttribute("id"));if(null!=n)for(var s=0;s<this.idrefs.length;s++){var a=this.idrefs[s],g=n.getAttribute(a);if(null!=g){n.removeAttribute(a);var C=t.objects[g]||t.lookup(g);if(null==C){var h=t.getElementById(g);null!=h&&(C=(mxCodecRegistry.codecs[h.nodeName]||this).decode(t,h))}i[a]=C}}return n},t}()),mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxGraphModel);return t.encodeObject=function(t,e,i){var n=t.document.createElement("root");t.encodeCell(e.getRoot(),n),i.appendChild(n)},t.decodeChild=function(t,e,i){"root"==e.nodeName?this.decodeRoot(t,e,i):mxObjectCodec.prototype.decodeChild.apply(this,arguments)},t.decodeRoot=function(t,e,i){for(var n=null,l=e.firstChild;null!=l;){var o=t.decodeCell(l);null!=o&&null==o.getParent()&&(n=o),l=l.nextSibling}null!=n&&i.setRoot(n)},t}()),mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxRootChange,["model","previous","root"]);return t.afterEncode=function(t,e,i){return t.encodeCell(e.root,i),i},t.beforeDecode=function(t,e,i){if(null!=e.firstChild&&e.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){var n=(e=e.cloneNode(!0)).firstChild;i.root=t.decodeCell(n,!1);var l=n.nextSibling;for(n.parentNode.removeChild(n),n=l;null!=n;)l=n.nextSibling,t.decodeCell(n),n.parentNode.removeChild(n),n=l}return e},t.afterDecode=function(t,e,i){return i.previous=i.root,i},t}()),mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxChildChange,["model","child","previousIndex"],["parent","previous"]);return t.isReference=function(t,e,i,n){return!("child"!=e||null==t.previous&&n)||mxUtils.indexOf(this.idrefs,e)>=0},t.afterEncode=function(t,e,i){return this.isReference(e,"child",e.child,!0)?i.setAttribute("child",t.getId(e.child)):t.encodeCell(e.child,i),i},t.beforeDecode=function(t,e,i){if(null!=e.firstChild&&e.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){var n=(e=e.cloneNode(!0)).firstChild;i.child=t.decodeCell(n,!1);var l=n.nextSibling;for(n.parentNode.removeChild(n),n=l;null!=n;){if(l=n.nextSibling,n.nodeType==mxConstants.NODETYPE_ELEMENT){var o=n.getAttribute("id");null==t.lookup(o)&&t.decodeCell(n)}n.parentNode.removeChild(n),n=l}}else{var r=e.getAttribute("child");i.child=t.getObject(r)}return e},t.afterDecode=function(t,e,i){return i.child.parent=i.previous,i.previous=i.parent,i.previousIndex=i.index,i},t}()),mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxTerminalChange,["model","previous"],["cell","terminal"]);return t.afterDecode=function(t,e,i){return i.previous=i.terminal,i},t}());var mxGenericChangeCodec=function(t,e){var i=new mxObjectCodec(t,["model","previous"],["cell"]);return i.afterDecode=function(t,i,n){return mxUtils.isNode(n.cell)&&(n.cell=t.decodeCell(n.cell,!1)),n.previous=n[e],n},i};mxCodecRegistry.register(mxGenericChangeCodec(new mxValueChange,"value")),mxCodecRegistry.register(mxGenericChangeCodec(new mxStyleChange,"style")),mxCodecRegistry.register(mxGenericChangeCodec(new mxGeometryChange,"geometry")),mxCodecRegistry.register(mxGenericChangeCodec(new mxCollapseChange,"collapsed")),mxCodecRegistry.register(mxGenericChangeCodec(new mxVisibleChange,"visible")),mxCodecRegistry.register(mxGenericChangeCodec(new mxCellAttributeChange,"value")),mxCodecRegistry.register(function(){return new mxObjectCodec(new mxGraph,["graphListeners","eventListeners","view","container","cellRenderer","editor","selection"])}()),mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxGraphView);return t.encode=function(t,e){return this.encodeCell(t,e,e.graph.getModel().getRoot())},t.encodeCell=function(t,e,i){var n=e.graph.getModel(),l=e.getState(i),o=n.getParent(i);if(null==o||null!=l){var r=n.getChildCount(i),s=e.graph.getCellGeometry(i),a=null;if(o==n.getRoot()?a="layer":null==o?a="graph":n.isEdge(i)?a="edge":r>0&&null!=s?a="group":n.isVertex(i)&&(a="vertex"),null!=a){var g=t.document.createElement(a);if(null!=e.graph.getLabel(i)&&(g.setAttribute("label",e.graph.getLabel(i)),e.graph.isHtmlLabel(i)&&g.setAttribute("html",!0)),null==o){var C=e.getGraphBounds();null!=C&&(g.setAttribute("x",Math.round(C.x)),g.setAttribute("y",Math.round(C.y)),g.setAttribute("width",Math.round(C.width)),g.setAttribute("height",Math.round(C.height))),g.setAttribute("scale",e.scale)}else if(null!=l&&null!=s){for(var h in l.style){var A=l.style[h];"function"==typeof A&&"object"==typeof A&&(A=mxStyleRegistry.getName(A)),null!=A&&"function"!=typeof A&&"object"!=typeof A&&g.setAttribute(h,A)}var I=l.absolutePoints;if(null!=I&&I.length>0){for(var c=Math.round(I[0].x)+","+Math.round(I[0].y),h=1;h<I.length;h++)c+=" "+Math.round(I[h].x)+","+Math.round(I[h].y);g.setAttribute("points",c)}else g.setAttribute("x",Math.round(l.x)),g.setAttribute("y",Math.round(l.y)),g.setAttribute("width",Math.round(l.width)),g.setAttribute("height",Math.round(l.height));var d=l.absoluteOffset;null!=d&&(0!=d.x&&g.setAttribute("dx",Math.round(d.x)),0!=d.y&&g.setAttribute("dy",Math.round(d.y)))}for(h=0;h<r;h++){var u=this.encodeCell(t,e,n.getChildAt(i,h));null!=u&&g.appendChild(u)}}}return g},t}());var mxStylesheetCodec=mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxStylesheet);return t.encode=function(t,e){var i=t.document.createElement(this.getName());for(var n in e.styles){var l=e.styles[n],o=t.document.createElement("add");if(null!=n){o.setAttribute("as",n);for(var r in l){var s=this.getStringValue(r,l[r]);if(null!=s){var a=t.document.createElement("add");a.setAttribute("value",s),a.setAttribute("as",r),o.appendChild(a)}}o.childNodes.length>0&&i.appendChild(o)}}return i},t.getStringValue=function(t,e){var i=typeof e;return"function"==i?e=mxStyleRegistry.getName(style[j]):"object"==i&&(e=null),e},t.decode=function(t,e,i){var n=i||new this.template.constructor,l=e.getAttribute("id");for(null!=l&&(t.objects[l]=n),e=e.firstChild;null!=e;){if(!this.processInclude(t,e,n)&&"add"==e.nodeName){var o=e.getAttribute("as");if(null!=o){var r=e.getAttribute("extend"),s=null!=r?mxUtils.clone(n.styles[r]):null;null==s&&(null!=r&&mxLog.warn("mxStylesheetCodec.decode: stylesheet "+r+" not found to extend"),s=new Object);for(var a=e.firstChild;null!=a;){if(a.nodeType==mxConstants.NODETYPE_ELEMENT){var g=a.getAttribute("as");if("add"==a.nodeName){var C=mxUtils.getTextContent(a),h=null;null!=C&&C.length>0&&mxStylesheetCodec.allowEval?h=mxUtils.eval(C):(h=a.getAttribute("value"),mxUtils.isNumeric(h)&&(h=parseFloat(h))),null!=h&&(s[g]=h)}else"remove"==a.nodeName&&delete s[g]}a=a.nextSibling}n.putCellStyle(o,s)}}e=e.nextSibling}return n},t}());mxStylesheetCodec.allowEval=!0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxDefaultKeyHandler);return t.encode=function(t,e){return null},t.decode=function(t,e,i){if(null!=i){i.editor;for(e=e.firstChild;null!=e;){if(!this.processInclude(t,e,i)&&"add"==e.nodeName){var n=e.getAttribute("as"),l=e.getAttribute("action"),o=e.getAttribute("control");i.bindAction(n,l,o)}e=e.nextSibling}}return i},t}());var mxDefaultToolbarCodec=mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxDefaultToolbar);return t.encode=function(t,e){return null},t.decode=function(t,e,i){if(null!=i){var n=i.editor;for(e=e.firstChild;null!=e;){
if(e.nodeType==mxConstants.NODETYPE_ELEMENT&&!this.processInclude(t,e,i))if("separator"==e.nodeName)i.addSeparator();else if("br"==e.nodeName)i.toolbar.addBreak();else if("hr"==e.nodeName)i.toolbar.addLine();else if("add"==e.nodeName){var l=e.getAttribute("as");l=mxResources.get(l)||l;var o=e.getAttribute("icon"),r=e.getAttribute("pressedIcon"),s=e.getAttribute("action"),a=e.getAttribute("mode"),g=e.getAttribute("template"),C="0"!=e.getAttribute("toggle"),h=mxUtils.getTextContent(e),A=null;if(null!=s)A=i.addItem(l,o,s,r);else if(null!=a){var I=mxDefaultToolbarCodec.allowEval?mxUtils.eval(h):null;A=i.addMode(l,o,a,r,I)}else if(null!=g||null!=h&&h.length>0){var c=n.templates[g],d=e.getAttribute("style");null!=c&&null!=d&&(c=n.graph.cloneCells([c])[0]).setStyle(d);var u=null;null!=h&&h.length>0&&mxDefaultToolbarCodec.allowEval&&(u=mxUtils.eval(h)),A=i.addPrototype(l,o,c,r,u,C)}else{var p=mxUtils.getChildNodes(e);if(p.length>0)if(null==o){for(var m=i.addActionCombo(l),x=0;x<p.length;x++)if("separator"==(E=p[x]).nodeName)i.addOption(m,"---");else if("add"==E.nodeName){var v=E.getAttribute("as"),y=E.getAttribute("action");i.addActionOption(m,v,y)}}else{var f=null,b=function(){var t=n.templates[f.value];if(null!=t){var e=t.clone(),i=f.options[f.selectedIndex].cellStyle;return null!=i&&e.setStyle(i),e}return mxLog.warn("Template "+t+" not found"),null},w=i.addPrototype(l,o,b,null,null,C);f=i.addCombo(),mxEvent.addListener(f,"change",function(){i.toolbar.selectMode(w,function(t){var e=mxUtils.convertPoint(n.graph.container,mxEvent.getClientX(t),mxEvent.getClientY(t));return n.addVertex(null,I(),e.x,e.y)}),i.toolbar.noReset=!1});for(x=0;x<p.length;x++){var E=p[x];if("separator"==E.nodeName)i.addOption(f,"---");else if("add"==E.nodeName){var v=E.getAttribute("as"),S=E.getAttribute("template");i.addOption(f,v,S||g).cellStyle=E.getAttribute("style")}}}}if(null!=A){var T=e.getAttribute("id");null!=T&&T.length>0&&A.setAttribute("id",T)}}e=e.nextSibling}}return i},t}());mxDefaultToolbarCodec.allowEval=!0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxDefaultPopupMenu);return t.encode=function(t,e){return null},t.decode=function(t,e,i){var n=e.getElementsByTagName("include")[0];return null!=n?this.processInclude(t,n,i):null!=i&&(i.config=e),i},t}()),mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxEditor,["modified","lastSnapshot","ignoredChanges","undoManager","graphContainer","toolbarContainer"]);return t.afterDecode=function(t,e,i){var n=e.getAttribute("defaultEdge");null!=n&&(e.removeAttribute("defaultEdge"),i.defaultEdge=i.templates[n]);var l=e.getAttribute("defaultGroup");return null!=l&&(e.removeAttribute("defaultGroup"),i.defaultGroup=i.templates[l]),i},t.decodeChild=function(t,e,i){if("Array"==e.nodeName){if("templates"==e.getAttribute("as"))return void this.decodeTemplates(t,e,i)}else if("ui"==e.nodeName)return void this.decodeUi(t,e,i);mxObjectCodec.prototype.decodeChild.apply(this,arguments)},t.decodeUi=function(t,e,i){for(var n=e.firstChild;null!=n;){if("add"==n.nodeName){var l=n.getAttribute("as"),o=n.getAttribute("element"),r=n.getAttribute("style"),s=null;if(null!=o)null!=(s=document.getElementById(o))&&null!=r&&(s.style.cssText+=";"+r);else{var a=parseInt(n.getAttribute("x")),g=parseInt(n.getAttribute("y")),C=n.getAttribute("width"),h=n.getAttribute("height");(s=document.createElement("div")).style.cssText=r,new mxWindow(mxResources.get(l)||l,s,a,g,C,h,!1,!0).setVisible(!0)}"graph"==l?i.setGraphContainer(s):"toolbar"==l?i.setToolbarContainer(s):"title"==l?i.setTitleContainer(s):"status"==l?i.setStatusContainer(s):"map"==l&&i.setMapContainer(s)}else"resource"==n.nodeName?mxResources.add(n.getAttribute("basename")):"stylesheet"==n.nodeName&&mxClient.link("stylesheet",n.getAttribute("name"));n=n.nextSibling}},t.decodeTemplates=function(t,e,i){null==i.templates&&(i.templates=[]);for(var n=mxUtils.getChildNodes(e),l=0;l<n.length;l++){for(var o=n[l].getAttribute("as"),r=n[l].firstChild;null!=r&&1!=r.nodeType;)r=r.nextSibling;null!=r&&(i.templates[o]=t.decodeCell(r))}},t}()),EditorUi=function(t,e,i,n){this.interfaceParams=n,this.initInterfaceParams(),this.attributeNameIndex=1,mxEventSource.call(this),this.destroyFunctions=[],this.editor=t||new Editor,this.container=e;var l=this.editor.graph;l.lightbox=i,mxClient.IS_SVG?mxPopupMenu.prototype.submenuImage="data:image/gif;base64,R0lGODlhCQAJAIAAAP///zMzMyH5BAEAAAAALAAAAAAJAAkAAAIPhI8WebHsHopSOVgb26AAADs=":(new Image).src=mxPopupMenu.prototype.submenuImage,mxClient.IS_SVG||null==mxConnectionHandler.prototype.connectImage||((new Image).src=mxConnectionHandler.prototype.connectImage.src),this.editor.chromeless&&(this.footerHeight=0,l.isEnabled=function(){return!1},l.panningHandler.isForcePanningEvent=function(t){return!mxEvent.isPopupTrigger(t.getEvent())}),this.actions=new Actions(this),this.menus=this.createMenus(),this.createDivs(),this.createUi(),this.refresh();var o=mxUtils.bind(this,function(t){return null==t&&(t=window.event),!!this.isSelectionAllowed(t)||l.isEditing()});this.menubarContainer.onselectstart=o,this.menubarContainer.onmousedown=o,this.toolbarContainer.onselectstart=o,this.toolbarContainer.onmousedown=o,this.footwallContainer.onselectstart=o,this.footwallContainer.onmousedown=o,this.diagramContainer.onselectstart=o,this.diagramContainer.onmousedown=o,this.sidebarContainer.onselectstart=o,this.sidebarContainer.onmousedown=o,this.formatContainer.onselectstart=o,this.formatContainer.onmousedown=o,this.footerContainer.onselectstart=o,this.footerContainer.onmousedown=o,null!=this.tabContainer&&(this.tabContainer.onselectstart=o),this.editor.chromeless?l.panningHandler.usePopupTrigger=!1:mxClient.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?mxEvent.addListener(this.diagramContainer,"contextmenu",o):this.diagramContainer.oncontextmenu=o,l.init(this.diagramContainer),l.cellRenderer.initializeLabel=function(t,e){mxCellRenderer.prototype.initializeLabel.apply(this,arguments),mxEvent.addListener(e.node,"click",function(t){for(var i=mxEvent.getSource(t);null!=i&&i!=e.node;){if("A"==i.nodeName){null==i.getAttribute("target")&&null!=i.getAttribute("href")&&(window.open(i.getAttribute("href")),mxEvent.consume(t));break}i=i.parentNode}})},this.hoverIcons=this.createHoverIcons(),mxEvent.addListener(this.diagramContainer,"mousemove",mxUtils.bind(this,function(t){var e=mxUtils.getOffset(this.diagramContainer);mxEvent.getClientX(t)-e.x-this.diagramContainer.clientWidth>0||mxEvent.getClientY(t)-e.y-this.diagramContainer.clientHeight>0?this.diagramContainer.setAttribute("title",mxResources.get("panTooltip")):this.diagramContainer.removeAttribute("title")}));var r=!1,s=this.hoverIcons.isResetEvent;this.hoverIcons.isResetEvent=function(t,e){return r||s.apply(this,arguments)},this.keydownHandler=mxUtils.bind(this,function(t){32==t.which?(r=!0,this.hoverIcons.reset(),l.container.style.cursor="move",l.isEditing()||mxEvent.getSource(t)!=l.container||mxEvent.consume(t)):mxEvent.isConsumed(t)||27!=t.keyCode||this.hideDialog()}),mxEvent.addListener(document,"keydown",this.keydownHandler),this.keyupHandler=mxUtils.bind(this,function(t){l.container.style.cursor="",r=!1}),mxEvent.addListener(document,"keyup",this.keyupHandler);var a=l.panningHandler.isForcePanningEvent;l.panningHandler.isForcePanningEvent=function(t){return a.apply(this,arguments)||r||mxEvent.isMouseEvent(t.getEvent())&&(this.usePopupTrigger||!mxEvent.isPopupTrigger(t.getEvent()))&&(!mxEvent.isControlDown(t.getEvent())&&mxEvent.isRightMouseButton(t.getEvent())||mxEvent.isMiddleMouseButton(t.getEvent()))};var g=l.cellEditor.isStopEditingEvent;l.cellEditor.isStopEditingEvent=function(t){return g.apply(this,arguments)||13==t.keyCode&&mxEvent.isControlDown(t)};var C=!1,h=null,A=null,I=null,c=mxUtils.bind(this,function(){if(C!=l.cellEditor.isContentEditing()){for(var t=this.toolbar.container.firstChild,e=[];null!=t;){var i=t.nextSibling;mxUtils.indexOf(this.toolbar.staticElements,t)<0&&(t.parentNode.removeChild(t),e.push(t)),t=i}var n=this.toolbar.fontMenu,o=this.toolbar.sizeMenu;if(null==I)this.toolbar.createTextToolbar();else{for(var r=0;r<I.length;r++)this.toolbar.container.appendChild(I[r]);this.toolbar.fontMenu=h,this.toolbar.sizeMenu=A}C=l.cellEditor.isContentEditing(),h=n,A=o,I=e}}),d=this,u=l.cellEditor.startEditing;l.cellEditor.startEditing=function(){if(u.apply(this,arguments),c(),l.cellEditor.isContentEditing()){var t=!1,e=function(){t||(t=!0,window.setTimeout(function(){for(var e=l.getSelectedElement();null!=e&&e.nodeType!=mxConstants.NODETYPE_ELEMENT;)e=e.parentNode;if(null!=e){var i=mxUtils.getCurrentStyle(e);if(null!=i&&null!=d.toolbar){var n=i.fontFamily;"'"==n.charAt(0)&&(n=n.substring(1)),"'"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),d.toolbar.setFontName(n),d.toolbar.setFontSize(parseInt(i.fontSize))}}t=!1},0))};mxEvent.addListener(l.cellEditor.textarea,"input",e),mxEvent.addListener(l.cellEditor.textarea,"touchend",e),mxEvent.addListener(l.cellEditor.textarea,"mouseup",e),mxEvent.addListener(l.cellEditor.textarea,"keyup",e),e()}};var p=l.cellEditor.stopEditing;l.cellEditor.stopEditing=function(t,e){p.apply(this,arguments),c()},l.container.setAttribute("tabindex","0"),l.container.style.cursor="default",window.self===window.top&&null!=l.container.parentNode&&l.container.focus();var m=l.fireMouseEvent;l.fireMouseEvent=function(t,e,i){t==mxEvent.MOUSE_DOWN&&this.container.focus(),m.apply(this,arguments)},l.popupMenuHandler.autoExpand=!0,null!=this.menus&&(l.popupMenuHandler.factoryMethod=mxUtils.bind(this,function(t,e,i){this.menus.createPopupMenu(t,e,i)})),mxEvent.addGestureListeners(document,mxUtils.bind(this,function(t){l.popupMenuHandler.hideMenu()})),this.keyHandler=this.createKeyHandler(t),this.getKeyHandler=function(){return keyHandler};var x=["rounded","shadow","glass","dashed","dashPattern","comic","labelBackgroundColor"],v=["shape","edgeStyle","curved","rounded","elbow","comic"];this.setDefaultStyle=function(t){var e=l.view.getState(t);if(null!=e){var i=t.clone();i.style="";var n=l.getCellStyle(i),o=[],r=[];for(var s in e.style)n[s]!=e.style[s]&&(o.push(e.style[s]),r.push(s));for(var a=l.getModel().getStyle(e.cell),g=null!=a?a.split(";"):[],C=0;C<g.length;C++){var h=g[C],A=h.indexOf("=");if(A>=0){var s=h.substring(0,A),I=h.substring(A+1);null!=n[s]&&"none"==I&&(o.push(I),r.push(s))}}l.getModel().isEdge(e.cell)?l.currentEdgeStyle={}:l.currentVertexStyle={},this.fireEvent(new mxEventObject("styleChanged","keys",r,"values",o,"cells",[e.cell]))}},this.clearDefaultStyle=function(){l.currentEdgeStyle=l.defaultEdgeStyle,l.currentVertexStyle={},this.fireEvent(new mxEventObject("styleChanged","keys",[],"values",[],"cells",[]))};for(var y=["fontFamily","fontSize","fontColor"],f=["edgeStyle","startArrow","startFill","startSize","endArrow","endFill","endSize","jettySize","orthogonalLoop"],b=[["startArrow","startFill","startSize","endArrow","endFill","endSize","jettySize","orthogonalLoop"],["strokeColor","strokeWidth"],["fillColor","gradientColor"],y,["align"],["html"]],w=0;w<b.length;w++)for(var E=0;E<b[w].length;E++)x.push(b[w][E]);for(w=0;w<v.length;w++)x.push(v[w]);var S=function(t,e){l.getModel().beginUpdate();try{if(e)for(var i=(f=l.getModel().isEdge(a))?l.currentEdgeStyle:l.currentVertexStyle,n=["fontSize","fontFamily","fontColor"],o=0;o<n.length;o++){var r=i[n[o]];null!=r&&l.setCellStyles(n[o],r,t)}else for(var s=0;s<t.length;s++){for(var a=t[s],g=l.getModel().getStyle(a),C=null!=g?g.split(";"):[],h=x.slice(),o=0;o<C.length;o++){var A=C[o],I=A.indexOf("=");if(I>=0){var c=A.substring(0,I),d=mxUtils.indexOf(h,c);d>=0&&h.splice(d,1);for(var u=0;u<b.length;u++){var p=b[u];if(mxUtils.indexOf(p,c)>=0)for(var m=0;m<p.length;m++){var y=mxUtils.indexOf(h,p[m]);y>=0&&h.splice(y,1)}}}}for(var f=l.getModel().isEdge(a),i=f?l.currentEdgeStyle:l.currentVertexStyle,o=0;o<h.length;o++){var w=i[c=h[o]];null==w||"shape"==c&&!f||(!f||mxUtils.indexOf(v,c)<0)&&l.setCellStyles(c,w,[a])}}}finally{l.getModel().endUpdate()}};if(l.addListener("cellsInserted",function(t,e){S(e.getProperty("cells"))}),l.addListener("textInserted",function(t,e){S(e.getProperty("cells"),!0)}),l.connectionHandler.addListener(mxEvent.CONNECT,function(t,e){var i=[e.getProperty("cell")];e.getProperty("terminalInserted")&&i.push(e.getProperty("terminal")),S(i)}),this.addListener("styleChanged",mxUtils.bind(this,function(t,e){var i=e.getProperty("cells"),n=!1,o=!1;if(i.length>0)for(a=0;a<i.length&&(n=l.getModel().isVertex(i[a])||n,!(o=l.getModel().isEdge(i[a])||o)||!n);a++);else n=!0,o=!0;for(var r=e.getProperty("keys"),s=e.getProperty("values"),a=0;a<r.length;a++){var g=mxUtils.indexOf(y,r[a])>=0;("strokeColor"!=r[a]||null!=s[a]&&"none"!=s[a])&&(mxUtils.indexOf(v,r[a])>=0?o||mxUtils.indexOf(f,r[a])>=0?null==s[a]?delete l.currentEdgeStyle[r[a]]:l.currentEdgeStyle[r[a]]=s[a]:n&&mxUtils.indexOf(x,r[a])>=0&&(null==s[a]?delete l.currentVertexStyle[r[a]]:l.currentVertexStyle[r[a]]=s[a]):mxUtils.indexOf(x,r[a])>=0&&((n||g)&&(null==s[a]?delete l.currentVertexStyle[r[a]]:l.currentVertexStyle[r[a]]=s[a]),(o||g||mxUtils.indexOf(f,r[a])>=0)&&(null==s[a]?delete l.currentEdgeStyle[r[a]]:l.currentEdgeStyle[r[a]]=s[a])))}if(null!=this.toolbar){if(this.toolbar.setFontName(l.currentVertexStyle.fontFamily||Menus.prototype.defaultFont),this.toolbar.setFontSize(l.currentVertexStyle.fontSize||Menus.prototype.defaultFontSize),null!=this.toolbar.edgeStyleMenu){var C=this.toolbar.edgeStyleMenu.getElementsByTagName("div")[0];"orthogonalEdgeStyle"==l.currentEdgeStyle.edgeStyle&&"1"==l.currentEdgeStyle.curved?C.className="geSprite geSprite-curved":"straight"==l.currentEdgeStyle.edgeStyle||"none"==l.currentEdgeStyle.edgeStyle||null==l.currentEdgeStyle.edgeStyle?C.className="geSprite geSprite-straight":"entityRelationEdgeStyle"==l.currentEdgeStyle.edgeStyle?C.className="geSprite geSprite-entity":"elbowEdgeStyle"==l.currentEdgeStyle.edgeStyle?C.className="geSprite geSprite-"+("vertical"==l.currentEdgeStyle.elbow?"verticalelbow":"horizontalelbow"):"isometricEdgeStyle"==l.currentEdgeStyle.edgeStyle?C.className="geSprite geSprite-"+("vertical"==l.currentEdgeStyle.elbow?"verticalisometric":"horizontalisometric"):C.className="geSprite geSprite-orthogonal"}if(null!=this.toolbar.edgeShapeMenu){var h=this.toolbar.edgeShapeMenu.getElementsByTagName("div")[0];"link"==l.currentEdgeStyle.shape?h.className="geSprite geSprite-linkedge":"flexArrow"==l.currentEdgeStyle.shape?h.className="geSprite geSprite-arrow":"arrow"==l.currentEdgeStyle.shape?h.className="geSprite geSprite-simplearrow":h.className="geSprite geSprite-connection"}null!=this.toolbar.lineStartMenu&&(this.toolbar.lineStartMenu.getElementsByTagName("div")[0].className=this.getCssClassForMarker("start",l.currentEdgeStyle.shape,l.currentEdgeStyle[mxConstants.STYLE_STARTARROW],mxUtils.getValue(l.currentEdgeStyle,"startFill","1"))),null!=this.toolbar.lineEndMenu&&(this.toolbar.lineEndMenu.getElementsByTagName("div")[0].className=this.getCssClassForMarker("end",l.currentEdgeStyle.shape,l.currentEdgeStyle[mxConstants.STYLE_ENDARROW],mxUtils.getValue(l.currentEdgeStyle,"endFill","1")))}})),null!=this.toolbar){var T=mxUtils.bind(this,function(){var t=l.currentVertexStyle.fontFamily||"Helvetica",e=String(l.currentVertexStyle.fontSize||"12"),i=l.getView().getState(l.getSelectionCell());null!=i&&(t=i.style[mxConstants.STYLE_FONTFAMILY]||t,e=i.style[mxConstants.STYLE_FONTSIZE]||e,t.length>10&&(t=t.substring(0,8)+"...")),this.toolbar.setFontName(t),this.toolbar.setFontSize(e)});l.getSelectionModel().addListener(mxEvent.CHANGE,T),l.getModel().addListener(mxEvent.CHANGE,T)}l.addListener(mxEvent.CELLS_ADDED,function(t,e){var i=e.getProperty("cells"),n=e.getProperty("parent");l.getModel().isLayer(n)&&!l.isCellVisible(n)&&null!=i&&i.length>0&&l.getModel().setVisible(n,!0)}),this.gestureHandler=mxUtils.bind(this,function(t){null!=this.currentMenu&&mxEvent.getSource(t)!=this.currentMenu.div&&this.hideCurrentMenu()}),mxEvent.addGestureListeners(document,this.gestureHandler),this.resizeHandler=mxUtils.bind(this,function(){window.setTimeout(mxUtils.bind(this,function(){this.refresh()}),0)}),mxEvent.addListener(window,"resize",this.resizeHandler),this.orientationChangeHandler=mxUtils.bind(this,function(){this.refresh()}),mxEvent.addListener(window,"orientationchange",this.orientationChangeHandler),mxClient.IS_IOS&&!window.navigator.standalone&&(this.scrollHandler=mxUtils.bind(this,function(){window.scrollTo(0,0)}),mxEvent.addListener(window,"scroll",this.scrollHandler)),this.editor.addListener("resetGraphView",mxUtils.bind(this,function(){this.resetScrollbars()})),this.addListener("gridEnabledChanged",mxUtils.bind(this,function(){l.view.validateBackground()})),this.addListener("backgroundColorChanged",mxUtils.bind(this,function(){l.view.validateBackground()})),l.addListener("gridSizeChanged",mxUtils.bind(this,function(){l.isGridEnabled()&&l.view.validateBackground()})),this.editor.resetGraph(),this.init(),this.open()},mxUtils.extend(EditorUi,mxEventSource),EditorUi.compactUi=!0,EditorUi.prototype.splitSize=mxClient.IS_TOUCH||mxClient.IS_POINTER?18:16,EditorUi.prototype.splitFootSize=mxClient.IS_TOUCH||mxClient.IS_POINTER?22:20,EditorUi.prototype.menubarHeight=34,EditorUi.prototype.formatEnabled=!0,EditorUi.prototype.formatWidth=300,EditorUi.prototype.toolbarHeight=34,EditorUi.prototype.footerHeight=0,EditorUi.prototype.sidebarFooterHeight=34,EditorUi.prototype.editButtonLink=null,EditorUi.prototype.hsplitPosition=screen.width<=500?116:204,EditorUi.prototype.hsplitExpandStatus=!1,EditorUi.prototype.fsplitPosition=screen.width<=500?116:300,EditorUi.prototype.fsplitExpandStatus=!0,EditorUi.prototype.foothsplitPosition=screen.height<=500?796:204,EditorUi.prototype.foothsplitExpandStatus=!1,EditorUi.prototype.allowAnimation=!0,EditorUi.prototype.cellNumber=0,EditorUi.prototype.createCellSpacing=[4,4],EditorUi.prototype.initAttributes=[],EditorUi.prototype.attributeDataType=["string","number"],EditorUi.prototype.attributeOperator={string:["==","!="],number:["==","!=",">",">=","<","<="]},EditorUi.prototype.attributeLogic=["none","or","and"],EditorUi.prototype.interfaceParams=null,EditorUi.prototype.maxUploadImgSize=1,EditorUi.prototype.initInterfaceParams=function(t){if(t instanceof Array&&t.operator&&"new"==t.operator&&(this.interfaceParams=GetRequest()),this.interfaceParams.type=this.interfaceParams.type||"model",this.interfaceParams.type.indexOf("topo")>=0&&(this.interfaceParams.type="topology"),this.interfaceParams.operator=this.interfaceParams.operator||"new",this.interfaceParams.model=this.interfaceParams.model||"editor",this.interfaceParams.designLibraryId=this.interfaceParams.designLibraryId||"",this.interfaceParams.id=this.interfaceParams.id||"",this.interfaceParams.author=this.interfaceParams.author||this.interfaceParams.user||"",this.interfaceParams.from=this.interfaceParams.from||"",t instanceof Array)for(var e in t)this.interfaceParams[e]=t[e];"topology"==this.interfaceParams.type&&(mxCell.prototype.name=null,"new"==this.interfaceParams.operator&&(this.interfaceParams.name=""))},EditorUi.prototype.init=function(){this.setInitAttributes();var t=this.editor.graph;mxEvent.addListener(t.container,"keydown",mxUtils.bind(this,function(e){9==e.which&&t.isEnabled()&&(t.isEditing()&&t.stopEditing(!1),t.selectCell(!mxEvent.isShiftDown(e)),mxEvent.consume(e))})),mxEvent.addListener(t.container,"keypress",mxUtils.bind(this,function(e){if(this.isImmediateEditingEvent(e)&&!t.isEditing()&&!t.isSelectionEmpty()&&0!==e.which&&!mxEvent.isAltDown(e)&&!mxEvent.isControlDown(e)&&!mxEvent.isMetaDown(e)&&(t.escape(),t.startEditing(),mxClient.IS_FF)){var i=t.cellEditor;i.textarea.innerHTML=String.fromCharCode(e.which);var n=document.createRange();n.selectNodeContents(i.textarea),n.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(n)}})),this.addUndoListener(),this.addBeforeUnloadListener(),t.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.updateActionStates()})),t.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.updateActionStates()}));var e=t.setDefaultParent,i=this;this.editor.graph.setDefaultParent=function(){e.apply(this,arguments),i.updateActionStates()},t.editLink=i.actions.get("editLink").funct,this.updateActionStates(),this.initClipboard(),this.initCanvas(),null!=this.format&&this.format.init(),null!=this.footwall&&this.footwall.reset()},EditorUi.prototype.defaultAttributesStructure=function(){var t={},e=4-this.attributeNameIndex.toString().length;return t.name="name"+(e>=0?Array(e).join(0):"")+this.attributeNameIndex,this.attributeNameIndex++,t.description="",t.dataType="",t.operator=[""],t.value=[""],t.logic=[""],t},EditorUi.prototype.setInitAttributes=function(){var t=this.interfaceParams.type,e=[];"model"==t?(e.intrinsic=[{name:"name",description:"",dataType:"",value:[""],operator:[""],logic:[""]},{name:"category",description:"",dataType:"",value:[""],operator:[""],logic:[""]},{name:"type",description:"",dataType:"",value:[""],operator:[""],logic:[""]}],e.extended=[]):"topology"==t?e.intrinsic=[]:(e.intrinsic=[],e.extended=[]),this.initAttributes=e},EditorUi.prototype.isImmediateEditingEvent=function(t){return!0},EditorUi.prototype.getCssClassForMarker=function(t,e,i,n){return"flexArrow"==e?null!=i&&i!=mxConstants.NONE?"geSprite geSprite-"+t+"blocktrans":"geSprite geSprite-noarrow":i==mxConstants.ARROW_CLASSIC?"1"==n?"geSprite geSprite-"+t+"classic":"geSprite geSprite-"+t+"classictrans":i==mxConstants.ARROW_CLASSIC_THIN?"1"==n?"geSprite geSprite-"+t+"classicthin":"geSprite geSprite-"+t+"classicthintrans":i==mxConstants.ARROW_OPEN?"geSprite geSprite-"+t+"open":i==mxConstants.ARROW_OPEN_THIN?"geSprite geSprite-"+t+"openthin":i==mxConstants.ARROW_BLOCK?"1"==n?"geSprite geSprite-"+t+"block":"geSprite geSprite-"+t+"blocktrans":i==mxConstants.ARROW_BLOCK_THIN?"1"==n?"geSprite geSprite-"+t+"blockthin":"geSprite geSprite-"+t+"blockthintrans":i==mxConstants.ARROW_OVAL?"1"==n?"geSprite geSprite-"+t+"oval":"geSprite geSprite-"+t+"ovaltrans":i==mxConstants.ARROW_DIAMOND?"1"==n?"geSprite geSprite-"+t+"diamond":"geSprite geSprite-"+t+"diamondtrans":i==mxConstants.ARROW_DIAMOND_THIN?"1"==n?"geSprite geSprite-"+t+"thindiamond":"geSprite geSprite-"+t+"thindiamondtrans":"openAsync"==i?"geSprite geSprite-"+t+"openasync":"dash"==i?"geSprite geSprite-"+t+"dash":"cross"==i?"geSprite geSprite-"+t+"cross":"async"==i?"1"==n?"geSprite geSprite-"+t+"async":"geSprite geSprite-"+t+"asynctrans":"circle"==i||"circlePlus"==i?"1"==n||"circle"==i?"geSprite geSprite-"+t+"circle":"geSprite geSprite-"+t+"circleplus":"ERone"==i?"geSprite geSprite-"+t+"erone":"ERmandOne"==i?"geSprite geSprite-"+t+"eronetoone":"ERmany"==i?"geSprite geSprite-"+t+"ermany":"ERoneToMany"==i?"geSprite geSprite-"+t+"eronetomany":"ERzeroToOne"==i?"geSprite geSprite-"+t+"eroneopt":"ERzeroToMany"==i?"geSprite geSprite-"+t+"ermanyopt":"geSprite geSprite-noarrow"},EditorUi.prototype.createMenus=function(){return null},EditorUi.prototype.updatePasteActionStates=function(){var t=this.editor.graph,e=this.actions.get("paste"),i=this.actions.get("pasteHere");e.setEnabled(this.editor.graph.cellEditor.isContentEditing()||!mxClipboard.isEmpty()&&t.isEnabled()&&!t.isCellLocked(t.getDefaultParent())),i.setEnabled(e.isEnabled())},EditorUi.prototype.initClipboard=function(){var t=this,e=mxClipboard.cut;mxClipboard.cut=function(i){i.cellEditor.isContentEditing()?document.execCommand("cut",!1,null):e.apply(this,arguments),t.updatePasteActionStates()};var i=mxClipboard.copy;mxClipboard.copy=function(e){e.cellEditor.isContentEditing()?document.execCommand("copy",!1,null):i.apply(this,arguments),t.updatePasteActionStates()};var n=mxClipboard.paste;mxClipboard.paste=function(e){var i=null;return e.cellEditor.isContentEditing()?document.execCommand("paste",!1,null):i=n.apply(this,arguments),t.updatePasteActionStates(),i};var l=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function(){l.apply(this,arguments),t.updatePasteActionStates()};var o=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function(e,i){o.apply(this,arguments),t.updatePasteActionStates()},this.updatePasteActionStates()},EditorUi.prototype.initCanvas=function(){var t=this.editor.graph;(t=this.editor.graph).timerAutoScroll=!0,t.scrollTileSize=new mxRectangle(0,0,400,400),t.getPagePadding=function(){return new mxPoint(Math.max(0,Math.round((t.container.offsetWidth-34)/t.view.scale)),Math.max(0,Math.round((t.container.offsetHeight-34)/t.view.scale)))},t.getPageSize=function(){return this.pageVisible?new mxRectangle(0,0,this.pageFormat.width*this.pageScale,this.pageFormat.height*this.pageScale):this.scrollTileSize},t.getPageLayout=function(){var t=this.pageVisible?this.getPageSize():this.scrollTileSize,e=this.getGraphBounds();if(0==e.width||0==e.height)return new mxRectangle(0,0,1,1);var i=Math.ceil(e.x/this.view.scale-this.view.translate.x),n=Math.ceil(e.y/this.view.scale-this.view.translate.y),l=Math.floor(e.width/this.view.scale),o=Math.floor(e.height/this.view.scale),r=Math.floor(i/t.width),s=Math.floor(n/t.height);return new mxRectangle(r,s,Math.ceil((i+l)/t.width)-r,Math.ceil((n+o)/t.height)-s)},t.view.getBackgroundPageBounds=function(){var t=this.graph.getPageLayout(),e=this.graph.getPageSize();return new mxRectangle(this.scale*(this.translate.x+t.x*e.width),this.scale*(this.translate.y+t.y*e.height),this.scale*t.width*e.width,this.scale*t.height*e.height)},t.getPreferredPageSize=function(t,e,i){var n=this.getPageLayout(),l=this.getPageSize();return new mxRectangle(0,0,n.width*l.width,n.height*l.height)};var e=null;if(this.editor.chromeless){e=mxUtils.bind(this,function(e){if(null!=t.container){var i=t.pageVisible?t.view.getBackgroundPageBounds():t.getGraphBounds(),n=t.view.translate,l=t.view.scale;(i=mxRectangle.fromRectangle(i)).x=i.x/l-n.x,i.y=i.y/l-n.y,i.width/=l,i.height/=l;var o=t.container.scrollTop,r=t.container.scrollLeft,s=mxClient.IS_QUIRKS||document.documentMode>=8?20:14;8!=document.documentMode&&9!=document.documentMode||(s+=3);var a=t.container.offsetWidth-s,g=t.container.offsetHeight-s,C=e?Math.max(.3,Math.min(1,a/i.width)):l,h=Math.max((a-C*i.width)/2,0)/C,A=Math.max((g-C*i.height)/4,0)/C;t.view.scaleAndTranslate(C,h-i.x,A-i.y),t.container.scrollTop=o*C/l,t.container.scrollLeft=r*C/l}}),this.chromelessResize=e;var i=mxUtils.bind(this,function(){e(!1)});mxEvent.addListener(window,"resize",i),this.destroyFunctions.push(function(){mxEvent.removeListener(window,"resize",i)}),this.editor.addListener("resetGraphView",mxUtils.bind(this,function(){e(!0)})),this.actions.get("zoomIn").funct=function(i){t.zoomIn(),e(!1)},this.actions.get("zoomOut").funct=function(i){t.zoomOut(),e(!1)},this.chromelessToolbar=document.createElement("div"),this.chromelessToolbar.style.position="fixed",this.chromelessToolbar.style.overflow="hidden",this.chromelessToolbar.style.boxSizing="border-box",this.chromelessToolbar.style.whiteSpace="nowrap",this.chromelessToolbar.style.backgroundColor="#000000",this.chromelessToolbar.style.padding="10px 10px 8px 10px",this.chromelessToolbar.style.left="50%",mxUtils.setPrefixedStyle(this.chromelessToolbar.style,"borderRadius","20px"),mxUtils.setPrefixedStyle(this.chromelessToolbar.style,"transition","opacity 600ms ease-in-out");var n=mxUtils.bind(this,function(){var e=mxUtils.getCurrentStyle(t.container);this.chromelessToolbar.style.bottom=(null!=e?parseInt(e["margin-bottom"]||0):0)+(null!=this.tabContainer?20+parseInt(this.tabContainer.style.height):20)+"px"});this.editor.addListener("resetGraphView",n),n();var l=0,o=mxUtils.bind(this,function(t,e,i){l++;var n=document.createElement("span");n.style.paddingLeft="8px",n.style.paddingRight="8px",n.style.cursor="pointer",mxEvent.addListener(n,"click",t),null!=i&&n.setAttribute("title",i);var o=document.createElement("img");return o.setAttribute("border","0"),o.setAttribute("src",e),n.appendChild(o),this.chromelessToolbar.appendChild(n),n});o(mxUtils.bind(this,function(t){this.actions.get("zoomOut").funct(),mxEvent.consume(t)}),Editor.zoomOutLargeImage,(mxResources.get("zoomOut")||"Zoom Out")+" (Alt+Mousewheel)"),o(mxUtils.bind(this,function(t){this.actions.get("zoomIn").funct(),mxEvent.consume(t)}),Editor.zoomInLargeImage,(mxResources.get("zoomIn")||"Zoom In")+" (Alt+Mousewheel)"),o(mxUtils.bind(this,function(i){t.lightbox?(1==t.view.scale?this.lightboxFit():t.zoomTo(1),e(!1)):e(!0),mxEvent.consume(i)}),Editor.actualSizeLargeImage,mxResources.get("fit")||"Fit");var r=null,s=null,a=mxUtils.bind(this,function(t){null!=r&&(window.clearTimeout(r),fadeThead=null),null!=s&&(window.clearTimeout(s),fadeThead2=null),r=window.setTimeout(mxUtils.bind(this,function(){mxUtils.setOpacity(this.chromelessToolbar,0),r=null,s=window.setTimeout(mxUtils.bind(this,function(){this.chromelessToolbar.style.display="none",s=null}),600)}),t||200)}),g=mxUtils.bind(this,function(t){null!=r&&(window.clearTimeout(r),fadeThead=null),null!=s&&(window.clearTimeout(s),fadeThead2=null),this.chromelessToolbar.style.display="",mxUtils.setOpacity(this.chromelessToolbar,t||30)});if("1"==urlParams.layers){this.layersDialog=null;var C=o(mxUtils.bind(this,function(e){if(null!=this.layersDialog)this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null;else{this.layersDialog=t.createLayersDialog(),mxEvent.addListener(this.layersDialog,"mouseleave",mxUtils.bind(this,function(){this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null}));var i=C.getBoundingClientRect();mxUtils.setPrefixedStyle(this.layersDialog.style,"borderRadius","5px"),this.layersDialog.style.position="fixed",this.layersDialog.style.backgroundColor="#000000",this.layersDialog.style.width="160px",this.layersDialog.style.padding="4px 2px 4px 2px",this.layersDialog.style.color="#ffffff",mxUtils.setOpacity(this.layersDialog,70),this.layersDialog.style.left=i.left+"px",this.layersDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";var n=mxUtils.getCurrentStyle(this.editor.graph.container);this.layersDialog.style.zIndex=n.zIndex,this.container.appendChild(this.layersDialog)}mxEvent.consume(e)}),Editor.layersLargeImage,mxResources.get("layers")||"Layers"),h=t.getModel();h.addListener(mxEvent.CHANGE,function(){C.style.display=h.getChildCount(h.root)>1?"":"none"})}null!=this.editor.editButtonLink&&o(mxUtils.bind(this,function(t){"_blank"==this.editor.editButtonLink?this.editor.editAsNew(this.getEditBlankXml(),null,!0):window.open(this.editor.editButtonLink,"editWindow"),mxEvent.consume(t)}),Editor.editLargeImage,mxResources.get("openInNewWindow")||"Open in New Window"),t.lightbox&&o(mxUtils.bind(this,function(t){"1"==urlParams.close?window.close():(this.destroy(),mxEvent.consume(t))}),Editor.closeLargeImage,(mxResources.get("close")||"Close")+" (Escape)"),this.chromelessToolbar.style.display="none",t.container.appendChild(this.chromelessToolbar),this.chromelessToolbar.style.marginLeft=-(24*l+10)+"px",this.addChromelessClickHandler(),mxEvent.addListener(t.container,mxClient.IS_POINTER?"pointermove":"mousemove",mxUtils.bind(this,function(t){mxEvent.isTouchEvent(t)||(mxEvent.isShiftDown(t)||g(30),a())})),mxEvent.addListener(this.chromelessToolbar,mxClient.IS_POINTER?"pointermove":"mousemove",function(t){mxEvent.consume(t)}),mxEvent.addListener(this.chromelessToolbar,"mouseenter",mxUtils.bind(this,function(t){mxEvent.isShiftDown(t)?a():g(100)})),mxEvent.addListener(this.chromelessToolbar,"mousemove",mxUtils.bind(this,function(t){mxEvent.isShiftDown(t)?a():g(100),mxEvent.consume(t)})),mxEvent.addListener(this.chromelessToolbar,"mouseleave",mxUtils.bind(this,function(t){mxEvent.isTouchEvent(t)||g(30)}));var A=t.getTolerance(),I=this;t.addMouseListener({startX:0,startY:0,scrollLeft:0,scrollTop:0,mouseDown:function(e,i){this.startX=i.getGraphX(),this.startY=i.getGraphY(),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop},mouseMove:function(t,e){},mouseUp:function(e,i){mxEvent.isTouchEvent(i.getEvent())&&Math.abs(this.scrollLeft-t.container.scrollLeft)<A&&Math.abs(this.scrollTop-t.container.scrollTop)<A&&Math.abs(this.startX-i.getGraphX())<A&&Math.abs(this.startY-i.getGraphY())<A&&(parseFloat(I.chromelessToolbar.style.opacity||0)>0?a():g(30))}})}else if(this.editor.extendCanvas){var c=t.view.validate;t.view.validate=function(){if(null!=this.graph.container&&mxUtils.hasScrollbars(this.graph.container)){var t=this.graph.getPagePadding(),e=this.graph.getPageSize();this.translate.x,this.translate.y;this.translate.x=t.x-(this.x0||0)*e.width,this.translate.y=t.y-(this.y0||0)*e.height}c.apply(this,arguments)};var d=t.sizeDidChange;t.sizeDidChange=function(){if(null!=this.container&&mxUtils.hasScrollbars(this.container)){var e=this.getPageLayout(),i=this.getPagePadding(),n=this.getPageSize(),l=Math.ceil(2*i.x+e.width*n.width),o=Math.ceil(2*i.y+e.height*n.height),r=t.minimumGraphSize;null!=r&&r.width==l&&r.height==o||(t.minimumGraphSize=new mxRectangle(0,0,l,o));var s=i.x-e.x*n.width,a=i.y-e.y*n.height;if(!this.autoTranslate&&(this.view.translate.x!=s||this.view.translate.y!=a)){this.autoTranslate=!0,this.view.x0=e.x,this.view.y0=e.y;var g=t.view.translate.x,C=t.view.translate.y;return t.view.setTranslate(s,a),t.container.scrollLeft+=Math.round((s-g)*t.view.scale),t.container.scrollTop+=Math.round((a-C)*t.view.scale),void(this.autoTranslate=!1)}d.apply(this,arguments)}}}t.updateZoomTimeout=null,t.cumulativeZoomFactor=1;var u=null;t.lazyZoom=function(i){null!=this.updateZoomTimeout&&window.clearTimeout(this.updateZoomTimeout),i?this.view.scale*this.cumulativeZoomFactor<.15?this.cumulativeZoomFactor=(this.view.scale+.01)/this.view.scale:(this.cumulativeZoomFactor*=this.zoomFactor,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*20)/20/this.view.scale):this.view.scale*this.cumulativeZoomFactor<=.15?this.cumulativeZoomFactor=(this.view.scale-.01)/this.view.scale:(this.cumulativeZoomFactor/=this.zoomFactor,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*20)/20/this.view.scale),this.cumulativeZoomFactor=Math.max(.01,Math.min(this.view.scale*this.cumulativeZoomFactor,160)/this.view.scale),this.updateZoomTimeout=window.setTimeout(mxUtils.bind(this,function(){if(this.zoom(this.cumulativeZoomFactor),null!=e&&e(!1),null!=u&&mxUtils.hasScrollbars(t.container)){var i=mxUtils.getOffset(t.container),n=t.container.offsetWidth/2-u.x+i.x,l=t.container.offsetHeight/2-u.y+i.y;t.container.scrollLeft-=n*(this.cumulativeZoomFactor-1),t.container.scrollTop-=l*(this.cumulativeZoomFactor-1)}this.cumulativeZoomFactor=1,this.updateZoomTimeout=null}),20)},mxEvent.addMouseWheelListener(mxUtils.bind(this,function(e,i){if((mxEvent.isAltDown(e)||mxEvent.isControlDown(e)&&!mxClient.IS_MAC||t.panningHandler.isActive())&&(null==this.dialogs||0==this.dialogs.length))for(var n=mxEvent.getSource(e);null!=n;){if(n==t.container)return u=new mxPoint(mxEvent.getClientX(e),mxEvent.getClientY(e)),t.lazyZoom(i),void mxEvent.consume(e);n=n.parentNode}}))},EditorUi.prototype.addChromelessClickHandler=function(){var t=urlParams.highlight;null!=t&&t.length>0&&(t="#"+t),this.editor.graph.addClickHandler(t)},EditorUi.prototype.toggleFormatPanel=function(t){this.formatWidth=this.formatWidth>0?0:300,this.formatContainer.style.display=t||this.formatWidth>0?"":"none";var e=null!=this.format?this.formatWidth:0;this.formatContainer.style.width=e+"px",this.fsplit.style.right=e+"px",this.diagramContainer.style.right=e+this.splitSize+"px",this.footwallContainer.style.right=e+this.splitFootSize+"px",this.fireEvent(new mxEventObject("formatWidthChanged"))},EditorUi.prototype.lightboxFit=function(){this.editor.graph.maxFitScale=2,this.editor.graph.fit(20),this.editor.graph.maxFitScale=null},EditorUi.prototype.isSelectionAllowed=function(t){return"SELECT"==mxEvent.getSource(t).nodeName||"INPUT"==mxEvent.getSource(t).nodeName&&mxUtils.isAncestorNode(this.formatContainer,mxEvent.getSource(t))},EditorUi.prototype.addBeforeUnloadListener=function(){window.onbeforeunload=mxUtils.bind(this,function(){return this.onBeforeUnload()})},EditorUi.prototype.onBeforeUnload=function(){if(this.editor.modified)return mxResources.get("allChangesLost")},EditorUi.prototype.open=function(){try{null!=window.opener&&null!=window.opener.openFile&&window.opener.openFile.setConsumer(mxUtils.bind(this,function(t,e){try{var i=mxUtils.parseXml(t);return this.editor.setGraphXml(i.documentElement),this.editor.setModified(!1),this.editor.undoManager.clear(),void(null!=e&&(this.editor.setFilename(e),this.updateDocumentTitle()))}catch(t){mxUtils.alert(mxResources.get("invalidOrMissingFile")+": "+t.message)}}))}catch(t){}this.editor.graph.view.validate(),this.editor.graph.sizeDidChange(),this.editor.fireEvent(new mxEventObject("resetGraphView"))},EditorUi.prototype.openModel=function(){try{null!=window.opener&&null!=window.opener.openFile&&window.opener.openFile.setConsumer(mxUtils.bind(this,function(t,e){try{var i=mxUtils.parseXml(t);this.editor.setGraphXml(i.documentElement),this.editor.setModified(!1),this.editor.undoManager.clear();var n=this.editor.graph;return n.selectAll(null,!1),n.setSelectionCells(n.ungroupCells()),n.clearSelection(),null!=e&&(this.editor.setFilename(e),this.updateDocumentTitle()),void this.editor.setModified(!1)}catch(t){mxUtils.alert(mxResources.get("invalidOrMissingFile")+": "+t.message)}}))}catch(t){}this.editor.graph.view.validate(),this.editor.graph.sizeDidChange(),this.editor.fireEvent(new mxEventObject("resetGraphView"))},EditorUi.prototype.setCurrentMenu=function(t,e){this.currentMenuElt=e,this.currentMenu=t},EditorUi.prototype.resetCurrentMenu=function(){this.currentMenuElt=null,this.currentMenu=null},EditorUi.prototype.hideCurrentMenu=function(t,e){null!=this.currentMenu&&(this.currentMenu.hideMenu(),this.resetCurrentMenu())},EditorUi.prototype.updateDocumentTitle=function(){var t=this.editor.getOrCreateFilename();null!=this.editor.appName&&(t+=" - "+this.editor.appName),document.title=t},EditorUi.prototype.createHoverIcons=function(){return new HoverIcons(this.editor.graph)},EditorUi.prototype.redo=function(){try{this.editor.graph.isEditing()?document.execCommand("redo",!1,null):this.editor.undoManager.redo()}catch(t){}},EditorUi.prototype.undo=function(){try{var t=this.editor.graph;if(t.isEditing()){var e=t.cellEditor.textarea.innerHTML;document.execCommand("undo",!1,null),e==t.cellEditor.textarea.innerHTML&&(t.stopEditing(!0),this.editor.undoManager.undo())}else this.editor.undoManager.undo()}catch(t){}},EditorUi.prototype.canRedo=function(){return this.editor.graph.isEditing()||this.editor.undoManager.canRedo()},EditorUi.prototype.canUndo=function(){return this.editor.graph.isEditing()||this.editor.undoManager.canUndo()},EditorUi.prototype.getEditBlankXml=function(){return mxUtils.getXml(this.getGraphXml(this))},EditorUi.prototype.getUrl=function(t){var e=null!=t?t:window.location.pathname,i=e.indexOf("?")>0?1:0;for(var n in urlParams)e+=0==i?"?":"&",e+=n+"="+urlParams[n],i++;return e},EditorUi.prototype.setScrollbars=function(t){var e=this.editor.graph,i=e.container.style.overflow;if(e.scrollbars=t,this.editor.updateGraphComponents(),i!=e.container.style.overflow)if("hidden"==e.container.style.overflow){var n=e.view.translate;e.view.setTranslate(n.x-e.container.scrollLeft/e.view.scale,n.y-e.container.scrollTop/e.view.scale),e.container.scrollLeft=0,e.container.scrollTop=0,e.minimumGraphSize=null,e.sizeDidChange()}else{var l=e.view.translate.x,o=e.view.translate.y;e.view.translate.x=0,e.view.translate.y=0,e.sizeDidChange(),e.container.scrollLeft-=Math.round(l*e.view.scale),e.container.scrollTop-=Math.round(o*e.view.scale)}this.fireEvent(new mxEventObject("scrollbarsChanged"))},EditorUi.prototype.hasScrollbars=function(){return this.editor.graph.scrollbars},EditorUi.prototype.resetScrollbars=function(){var t=this.editor.graph;if(this.editor.extendCanvas){if(!this.editor.chromeless)if(mxUtils.hasScrollbars(t.container))if(t.pageVisible){var e=t.getPagePadding();t.container.scrollTop=Math.floor(e.y-this.editor.initialTopSpacing),t.container.scrollLeft=Math.floor(Math.min(e.x,(t.container.scrollWidth-t.container.clientWidth)/2))}else{var i=t.getGraphBounds(),n=Math.max(i.width,t.scrollTileSize.width*t.view.scale),l=Math.max(i.height,t.scrollTileSize.height*t.view.scale);t.container.scrollTop=Math.floor(Math.max(0,i.y-Math.max(20,(t.container.clientHeight-l)/4))),t.container.scrollLeft=Math.floor(Math.max(0,i.x-Math.max(0,(t.container.clientWidth-n)/2)))}else if(t.pageVisible){var o=t.view.getBackgroundPageBounds();t.view.setTranslate(Math.floor(Math.max(0,(t.container.clientWidth-o.width)/2)-o.x),Math.floor(Math.max(0,(t.container.clientHeight-o.height)/2)-o.y))}else{i=t.getGraphBounds();t.view.setTranslate(Math.floor(Math.max(0,Math.max(0,(t.container.clientWidth-i.width)/2)-i.x)),Math.floor(Math.max(0,Math.max(20,(t.container.clientHeight-i.height)/4))-i.y))}}else t.container.scrollTop=0,t.container.scrollLeft=0,mxUtils.hasScrollbars(t.container)||t.view.setTranslate(0,0)},EditorUi.prototype.setBackgroundColor=function(t){this.editor.graph.background=t,this.editor.graph.view.validateBackground(),this.fireEvent(new mxEventObject("backgroundColorChanged"))},EditorUi.prototype.setFoldingEnabled=function(t){this.editor.graph.foldingEnabled=t,this.editor.graph.view.revalidate(),this.fireEvent(new mxEventObject("foldingEnabledChanged"))},EditorUi.prototype.setPageFormat=function(t){this.editor.graph.pageFormat=t,this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct(),this.fireEvent(new mxEventObject("pageFormatChanged"))},EditorUi.prototype.setPageScale=function(t){this.editor.graph.pageScale=t,this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct(),this.fireEvent(new mxEventObject("pageScaleChanged"))},EditorUi.prototype.setGridColor=function(t){this.editor.graph.view.gridColor=t,this.editor.graph.view.validateBackground(),this.fireEvent(new mxEventObject("gridColorChanged"))},EditorUi.prototype.addUndoListener=function(){var t=this.actions.get("undo"),e=this.actions.get("redo"),i=this.editor.undoManager,n=mxUtils.bind(this,function(){t.setEnabled(this.canUndo()),e.setEnabled(this.canRedo())});i.addListener(mxEvent.ADD,n),i.addListener(mxEvent.UNDO,n),i.addListener(mxEvent.REDO,n),i.addListener(mxEvent.CLEAR,n);var l=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function(){l.apply(this,arguments),n()};var o=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function(t,e){o.apply(this,arguments),n()},n()},EditorUi.prototype.updateActionStates=function(){var t=this.editor.graph,e=!t.isSelectionEmpty(),i=!1,n=!1,l=t.getSelectionCells(),o=document.getElementsByClassName("geSprite-lockunlock")[0];if(o){var r=t.isCellMovable(t.getSelectionCell())?1:0;o.style.backgroundPosition="1"==r?"0 -6226px":"0 -6179px"}if(null!=l)for(g=0;g<l.length;g++){var s=l[g];if(t.getModel().isEdge(s)&&(n=!0),t.getModel().isVertex(s)&&(i=!0),n&&i)break}for(var a=["cut","copy","bold","italic","underline","delete","duplicate","editStyle","editTooltip","editLink","backgroundColor","borderColor","toFront","toBack","lockUnlock","solid","dashed","dotted","fillColor","gradientColor","shadow","fontColor","formattedText","rounded","toggleRounded","sharp","strokeColor"],g=0;g<a.length;g++)this.actions.get(a[g]).setEnabled(e);this.actions.get("setAsDefaultStyle").setEnabled(1==t.getSelectionCount()),this.actions.get("turn").setEnabled(!t.isSelectionEmpty()),this.actions.get("curved").setEnabled(n),this.actions.get("clearWaypoints").setEnabled(n),this.actions.get("rotation").setEnabled(i),this.actions.get("wordWrap").setEnabled(i),this.actions.get("autosize").setEnabled(i),this.actions.get("collapsible").setEnabled(i);var C=i&&1==t.getSelectionCount();this.actions.get("group").setEnabled(t.getSelectionCount()>1||C&&!t.isContainer(t.getSelectionCell())),this.actions.get("ungroup").setEnabled(1==t.getSelectionCount()&&(t.getModel().getChildCount(t.getSelectionCell())>0||C&&t.isContainer(t.getSelectionCell()))),this.actions.get("removeFromGroup").setEnabled(C&&t.getModel().isVertex(t.getModel().getParent(t.getSelectionCell())));t.view.getState(t.getSelectionCell());this.menus.get("navigation").setEnabled(e||null!=t.view.currentRoot),this.actions.get("collapsible").setEnabled(i&&1==t.getSelectionCount()&&(t.isContainer(t.getSelectionCell())||t.model.getChildCount(t.getSelectionCell())>0)),this.actions.get("home").setEnabled(null!=t.view.currentRoot),this.actions.get("exitGroup").setEnabled(null!=t.view.currentRoot),this.actions.get("enterGroup").setEnabled(1==t.getSelectionCount()&&t.isValidRoot(t.getSelectionCell()));var h=1==t.getSelectionCount()&&t.isCellFoldable(t.getSelectionCell());this.actions.get("expand").setEnabled(h),this.actions.get("collapse").setEnabled(h),this.actions.get("editLink").setEnabled(1==t.getSelectionCount()),this.actions.get("openLink").setEnabled(1==t.getSelectionCount()&&null!=t.getLinkForCell(t.getSelectionCell())),this.actions.get("guides").setEnabled(t.isEnabled()),this.actions.get("grid").setEnabled(!this.editor.chromeless);var A=t.isEnabled()&&!t.isCellLocked(t.getDefaultParent());this.menus.get("layout").setEnabled(A),this.menus.get("insert").setEnabled(A),this.menus.get("direction").setEnabled(A&&i),this.menus.get("align").setEnabled(A&&i&&t.getSelectionCount()>1),this.menus.get("distribute").setEnabled(A&&i&&t.getSelectionCount()>1),this.actions.get("selectVertices").setEnabled(A),this.actions.get("selectEdges").setEnabled(A),this.actions.get("selectAll").setEnabled(A),this.actions.get("selectNone").setEnabled(A),this.updatePasteActionStates()},EditorUi.prototype.refresh=function(t){t=null==t||t;var e=mxClient.IS_IE&&(null==document.documentMode||5==document.documentMode),i=this.container.clientWidth,n=this.container.clientHeight;i=i||document.documentElement.clientWidth,n=e?n||document.documentElement.clientHeight:document.documentElement.clientHeight;var l=0;mxClient.IS_IOS&&!window.navigator.standalone&&window.innerHeight!=document.documentElement.clientHeight&&(l=document.documentElement.clientHeight-window.innerHeight,window.scrollTo(0,0));var o=Math.max(0,Math.min(this.hsplitPosition,i-this.splitSize-20)),r=Math.max(0,Math.min(this.foothsplitPosition,n-this.splitFootSize-20-14)),s=Math.max(0,Math.min(this.fsplitPosition,i-this.splitSize-20)),a=0;null!=this.menubar&&(this.menubarContainer.style.height=this.menubarHeight+"px",a+=this.menubarHeight);var g=0;if(null!=this.sidebarFooterContainer){var C=this.footerHeight+l;g=Math.max(0,Math.min(n-a-C,this.sidebarFooterHeight)),this.sidebarFooterContainer.style.width=o+"px",this.sidebarFooterContainer.style.height=g+"px",this.sidebarFooterContainer.style.bottom=C+"px"}var h=null!=this.format?this.formatWidth:0;this.sidebarContainer.style.top=a+"px",this.sidebarContainer.style.width=o+"px",this.formatContainer.style.top=a+"px",this.formatContainer.style.width=s+"px",this.formatContainer.style.display=null!=this.format?"":"none",this.diagramContainer.style.left=null!=this.hsplit.parentNode?o+this.splitSize+"px":"0px",this.diagramContainer.style.top=this.sidebarContainer.style.top,this.footerContainer.style.height=this.footerHeight+"px",this.hsplit.style.top=this.sidebarContainer.style.top,this.hsplit.style.bottom=this.footerHeight+l+"px",this.hsplit.style.left=o+"px",this.fsplit.style.position="absolute",this.fsplit.style.zIndex="9",this.fsplit.style.top=this.sidebarContainer.style.top,this.fsplit.style.bottom=this.footerHeight+l+"px",this.fsplit.style.right=s+"px";var A=Math.max(0,n-this.footerHeight-this.menubarHeight);this.footwallContainer.style.height=r+"px",this.diagramContainer.style.width=null!=this.hsplit.parentNode?Math.max(0,i-this.sidebarContainer.style.width-this.splitSize-h)+"px":i+"px",this.footwallContainer.style.width=this.diagramContainer.style.width,this.footwallContainer.style.left=o+this.splitSize+"px",this.footwallContainer.style.right=s+this.splitSize+"px",this.footwallContainer.style.bottom=this.footerHeight+"px",this.footwallContainer.style.position="absolute",this.footwallContainer.style.backgroundColor="whiteSmoke",this.foothsplit.style.left=this.footwallContainer.style.left,this.foothsplit.style.right=this.footwallContainer.style.right,this.foothsplit.style.position="absolute",this.foothsplit.style.width=this.diagramContainer.style.width,this.foothsplit.style.bottom=r+this.footerHeight+"px";I=Math.max(0,n-this.footerHeight-this.menubarHeight-this.toolbarHeight)-r;if(this.diagramContainer.style.height=I-this.splitFootSize+this.toolbarHeight+"px",this.hsplit.style.height=this.sidebarContainer.style.height,this.fsplit.style.height=this.sidebarContainer.style.height,this.formatContainer.style.borderLeft="1px solid #E0E0E0",null!=this.tabContainer&&(this.tabContainer.style.left=this.diagramContainer.style.left),e){this.menubarContainer.style.width=i+"px",this.toolbarContainer.style.width=this.menubarContainer.style.width,this.sidebarContainer.style.height=A-g+"px",this.formatContainer.style.height=A+"px",this.diagramContainer.style.width=null!=this.hsplit.parentNode?Math.max(0,i-o-this.splitSize-h)+"px":i+"px",this.footerContainer.style.width=this.menubarContainer.style.width;var I=Math.max(0,n-this.footerHeight-this.menubarHeight);null!=this.tabContainer&&(this.tabContainer.style.width=this.diagramContainer.style.width,this.tabContainer.style.bottom=this.footerHeight+l+"px",I-=this.tabContainer.clientHeight),this.diagramContainer.style.height=I+"px",this.hsplit.style.height=this.sidebarContainer.style.height,this.fsplit.style.height=this.sidebarContainer.style.height}else{this.footerHeight>0&&(this.footerContainer.style.bottom=l+"px"),this.diagramContainer.style.right=s+this.splitSize+"px";var c=0;null!=this.tabContainer&&(this.tabContainer.style.bottom=this.footerHeight+l+"px",this.tabContainer.style.right=this.diagramContainer.style.right,c=this.tabContainer.clientHeight),this.sidebarContainer.style.bottom=this.footerHeight+g+l+"px",this.formatContainer.style.bottom=this.footerHeight+l+"px",this.diagramContainer.style.bottom=this.footerHeight+l+c+"px"}t&&this.editor.graph.sizeDidChange()},EditorUi.prototype.createTabContainer=function(){return null},EditorUi.prototype.createDivs=function(){this.menubarContainer=this.createDiv("geMenubarContainer"),this.toolbarContainer=this.createDiv("geToolbarContainer"),this.sidebarContainer=this.createDiv("geSidebarContainer"),this.formatContainer=this.createDiv("geSidebarContainer"),this.diagramContainer=this.createDiv("geDiagramContainer"),this.footwallContainer=this.createDiv("geFootwallContainer"),this.foothsplit=this.createDiv("gefootHsplit"),this.foothsplit.setAttribute("title",mxResources.get("collapseExpand")),this.footerContainer=this.createDiv("geFooterContainer"),this.hsplit=this.createDiv("geHsplit"),this.hsplit.setAttribute("title",mxResources.get("collapseExpand")),this.fsplit=this.createDiv("geFsplit"),this.fsplit=this.createDiv("geFsplit"),this.fsplit.setAttribute("title",mxResources.get("collapseExpand")),mxUtils.write(this.foothsplit,mxResources.get("code")),this.menubarContainer.style.top="0px",this.menubarContainer.style.left="0px",this.menubarContainer.style.right="0px",this.toolbarContainer.style.position="absolute",this.toolbarContainer.style.left="85px",this.toolbarContainer.style.right="0px",this.footwallContainer.style.bottom="0px",this.sidebarContainer.style.left="0px",this.formatContainer.style.right="0px",this.formatContainer.style.zIndex="1",this.diagramContainer.style.right=(null!=this.format?this.formatWidth:0)+"px",this.footerContainer.style.left="0px",this.footerContainer.style.right="0px",this.footerContainer.style.bottom="0px",this.footerContainer.style.zIndex=mxPopupMenu.prototype.zIndex-2,this.foothsplit.style.height=this.splitFootSize+"px",this.hsplit.style.width=this.splitSize+"px",this.fsplit.style.width=this.splitSize+"px",this.formatContainer.style.backgroundColor="#FFF",this.formatContainer.style.overflowX="hidden",this.formatContainer.style.overflowY="auto",this.formatContainer.style.fontSize="12px",this.sidebarFooterContainer=this.createSidebarFooterContainer(),this.sidebarFooterContainer&&(this.sidebarFooterContainer.style.left="0px"),this.tabContainer=this.createTabContainer()},EditorUi.prototype.createSidebarFooterContainer=function(){return null},EditorUi.prototype.createUi=function(){this.menubar=this.editor.chromeless?null:this.menus.createMenubar(this.createDiv("geMenubar")),null!=this.menubar&&this.menubarContainer.appendChild(this.menubar.container),null!=this.menubar&&(this.statusContainer=this.createStatusContainer(),this.editor.addListener("statusChanged",mxUtils.bind(this,function(){this.setStatusText(this.editor.getStatus())})),this.setStatusText(this.editor.getStatus()),this.menubar.container.appendChild(this.statusContainer),this.container.appendChild(this.menubarContainer)),this.sidebar=this.editor.chromeless?null:this.createSidebar(this.sidebarContainer),null!=this.sidebar&&this.container.appendChild(this.sidebarContainer),this.format=this.editor.chromeless||!this.formatEnabled?null:this.createFormat(this.formatContainer),null!=this.format&&this.container.appendChild(this.formatContainer);var t=this.editor.chromeless?null:this.createFooter();null!=t&&(this.footerContainer.appendChild(t),this.container.appendChild(this.footerContainer)),null!=this.sidebar&&this.sidebarFooterContainer&&this.container.appendChild(this.sidebarFooterContainer),this.container.appendChild(this.diagramContainer),null!=this.container&&null!=this.tabContainer&&this.container.appendChild(this.tabContainer),this.toolbar=this.editor.chromeless?null:this.createToolbar(this.createDiv("geToolbar")),null!=this.toolbar&&(this.toolbarContainer.appendChild(this.toolbar.container),this.container.appendChild(this.toolbarContainer)),this.footwall=this.createFootwall(this.createDiv("geFootwall")),null!=this.footwall&&(this.footwallContainer.appendChild(this.footwall.container),this.container.appendChild(this.footwallContainer)),null!=this.sidebar&&(this.container.appendChild(this.hsplit),this.addSplitHandler(this.hsplit,!0,0,mxUtils.bind(this,function(t){this.hsplitPosition=t,this.refresh()}))),null!=this.footwall&&(this.container.appendChild(this.foothsplit),this.addSplitHandler2(this.foothsplit,!0,0,mxUtils.bind(this,function(t){this.foothsplitPosition=t,this.refresh()}))),null!=this.format&&(this.container.appendChild(this.fsplit),this.addfSplitHandler(this.fsplit,!0,0,mxUtils.bind(this,function(t){this.fsplitPosition=t,this.refresh()})))},EditorUi.prototype.createStatusContainer=function(){var t=document.createElement("a");return t.className="geItem geStatus",t},EditorUi.prototype.setStatusText=function(t){this.statusContainer.innerHTML=t},EditorUi.prototype.createToolbar=function(t){return new Toolbar(this,t)},EditorUi.prototype.createFootwall=function(t){return new Footwall(this,t)},EditorUi.prototype.createSidebar=function(t){return new Sidebar(this,t)},EditorUi.prototype.createFormat=function(t){return new Format(this,t)},EditorUi.prototype.createFooter=function(){return this.createDiv("geFooter")},EditorUi.prototype.createDiv=function(t){var e=document.createElement("div");return e.className=t,e},EditorUi.prototype.addSplitHandler=function(t,e,i,n){function l(t){if(null!=r){var l=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t));n(Math.max(0,s+(e?l.x-r.x:r.y-l.y)-i)),mxEvent.consume(t),s!=C()&&(a=!0,g=null)}}function o(t){l(t),s=null,r=null}var r=null,s=null,a=!0,g=this.setSplitExpandStatus(this.hsplitExpandStatus,"this.hsplitPosition");mxClient.IS_POINTER&&(t.style.touchAction="none");var C=mxUtils.bind(this,function(){var n=parseInt(e?t.style.left:t.style.bottom);return e||(n=n+i-this.footerHeight),n});mxEvent.addGestureListeners(t,function(t){r=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t)),s=C(),a=!1,mxEvent.consume(t)}),mxEvent.addListener(t,"click",function(t){if(!a){var e=null!=g?g-i:0;g=C(),n(e),mxEvent.consume(t)}}),mxEvent.addGestureListeners(document,null,l,o),this.destroyFunctions.push(function(){mxEvent.removeGestureListeners(document,null,l,o)})},EditorUi.prototype.setSplitExpandStatus=function(expand,positionName){var ret=null;return expand||(ret=eval(positionName),eval(positionName+"= 0")),ret},EditorUi.prototype.addSplitHandler2=function(t,e,i,n){function l(t){C(t),r=null,o=null}var o=null,r=null,s=!0,a=this.setSplitExpandStatus(this.foothsplitExpandStatus,"this.foothsplitPosition");mxClient.IS_POINTER&&(t.style.touchAction="none");var g=mxUtils.bind(this,function(){var n=parseInt(e?t.style.bottom:t.style.left);return e||(n=n+i-this.footerHeight),n}),C=mxUtils.bind(this,function(t){if(null!=o){var e=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t));n(Math.max(0,r+(o.y-e.y)-i-this.footerHeight)),mxEvent.consume(t),r!=g()&&(s=!0,a=null)}});mxEvent.addGestureListeners(t,function(t){o=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t)),r=g(),s=!1,mxEvent.consume(t)}),mxEvent.addListener(t,"click",mxUtils.bind(this,function(t){if(!s){var e=null!=a?a-i:0;a=g(),n(e-this.footerHeight),mxEvent.consume(t)}})),mxEvent.addGestureListeners(document,null,C,l),this.destroyFunctions.push(function(){mxEvent.removeGestureListeners(document,null,C,l)})},EditorUi.prototype.addfSplitHandler=function(t,e,i,n){var l=null,o=null,r=!0,s=this.setSplitExpandStatus(this.fsplitExpandStatus,"this.fsplitPosition");mxClient.IS_POINTER&&(t.style.touchAction="none");var a=mxUtils.bind(this,function(){var n=parseInt(e?t.style.right:t.style.bottom);return e||(n=n+i-this.footerHeight),n});mxEvent.addGestureListeners(t,function(t){l=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t)),o=a(),r=!1,mxEvent.consume(t)}),mxEvent.addListener(t,"click",function(t){if(!r){var e=null!=s?s-i:0;s=a(),n(e),mxEvent.consume(t)}})},EditorUi.prototype.showDialog=function(t,e,i,n,l,o){this.editor.graph.tooltipHandler.hideTooltip(),null==this.dialogs&&(this.dialogs=[]),this.dialog=new Dialog(this,t,e,i,n,l,o),this.dialogs.push(this.dialog)},EditorUi.prototype.hideDialog=function(t){null!=this.dialogs&&this.dialogs.length>0&&(this.dialogs.pop().close(t),this.dialog=this.dialogs.length>0?this.dialogs[this.dialogs.length-1]:null,null==this.dialog&&"hidden"!=this.editor.graph.container.style.visibility&&this.editor.graph.container.focus(),this.editor.fireEvent(new mxEventObject("hideDialog")))},EditorUi.prototype.pickColor=function(t,e){var i=this.editor.graph,n=i.cellEditor.saveSelection(),l=new ColorDialog(this,t||"none",function(t){i.cellEditor.restoreSelection(n),e(t)},function(){i.cellEditor.restoreSelection(n)});this.showDialog(l.container,220,430,!0,!1),l.init()},EditorUi.prototype.openFile=function(){window.openFile=new OpenFile(mxUtils.bind(this,function(t){this.hideDialog(t)})),this.showDialog(new OpenDialog(this).container,Editor.useLocalStorage?640:320,Editor.useLocalStorage?480:220,!0,!0,function(){window.openFile=null})},EditorUi.prototype.extractGraphModelFromHtml=function(t){var e=null;try{var i=t.indexOf("&lt;mxGraphModel ");if(i>=0){var n=t.lastIndexOf("&lt;/mxGraphModel&gt;");n>i&&(e=t.substring(i,n+21).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\n/g,""))}}catch(t){}return e},EditorUi.prototype.isCompatibleString=function(t){try{var e=mxUtils.parseXml(t),i=this.editor.extractGraphModel(e.documentElement);return null!=i&&0==i.getElementsByTagName("parsererror").length}catch(t){}return!1},EditorUi.prototype.extractGraphModelFromEvent=function(t){var e=null,i=null;if(null!=t){var n=null!=t.dataTransfer?t.dataTransfer:t.clipboardData;if(null!=n&&(10==document.documentMode||11==document.documentMode?i=n.getData("Text"):(i=mxUtils.indexOf(n.types,"text/html")>=0?n.getData("text/html"):null,mxUtils.indexOf(n.types,null==i||0==i.length)&&(i=n.getData("text/plain"))),null!=i)){i=this.editor.graph.zapGremlins(mxUtils.trim(i));var l=this.extractGraphModelFromHtml(i);null!=l&&(i=l)}}return null!=i&&this.isCompatibleString(i)&&(e=i),e},EditorUi.prototype.saveFile=function(t){var e="model"==this.interfaceParams.type?MODEL_COLLECTION:VIEWER_COLLECTION,i=SAVE_ACTION;if(null!=this.interfaceParams.operator&&"edit"==this.interfaceParams.operator&&(i=UPDATE_ACTION),!t&&null!=this.editor.filename||"model"==this.interfaceParams.type)this.saveDB(this.editor.getOrCreateJsonFilename(),e,i);else{var n;if("topology"==this.interfaceParams.type&&!(n=this.interfaceParams.name)){var l=this.editor.graph.model.getRoot().value,o=l?l.getAttribute("intrinsic"):null;if(o){var r=JSON.parse(o);for(var s in r)if("name"==r[s].name){n=n||r[s].value[0];break}}}n=n||this.editor.getOrCreateJsonFilename();var a=new FilenameDialog(this,n,mxResources.get("save",[""]),mxUtils.bind(this,function(t){this.saveDB(t,e,i)}),null,mxUtils.bind(this,function(t){return null!=t&&t.length>0||(mxUtils.confirm(mxResources.get("invalidName")),!1)}));this.showDialog(a.container,300,100,!0,!0),a.init()}},EditorUi.prototype.save=function(t){if(null!=t){this.editor.graph.isEditing()&&this.editor.graph.stopEditing();var e=mxUtils.getXml(this.editor.getGraphXml(this));try{if(Editor.useLocalStorage){if(null!=localStorage.getItem(t)&&!mxUtils.confirm(mxResources.get("replaceIt",[t])))return;localStorage.setItem(t,e),this.editor.setStatus(mxResources.get("saved")+" "+new Date)}else{if(!(e.length<MAX_REQUEST_SIZE))return mxUtils.alert(mxResources.get("drawingTooLarge")),void mxUtils.popup(e);mxUtils.post(SAVE_URL,"filename="+t+"&xml="+e,function(t){var e=JSON.parse(t.getText());0!=e.status&&mxUtils.alert(e.data)})}this.editor.setModified(!1),this.editor.setFilename(t),this.updateDocumentTitle()}catch(t){this.editor.setStatus("Error saving file")}}},EditorUi.prototype.getModelJsonString=function(){var t=this.editor.graph;if(t.selectAll(null,!0),t.isSelectionEmpty())return(e=[]).statu=!1,e.msg=mxResources.get("drawingEmpty"),e;var e={},i=t.model.getRoot().value,n={};if(void 0!=i&&(n.intrinsic=i.getAttribute("intrinsic"),n.extended=i.getAttribute("extended"),n.image=i.getAttribute("image")?i.getAttribute("image"):""),0==Object.keys(n).length)return e.statu=!1,e.msg=mxResources.get("initPropertyNotConfig",[""]),e;var l={};for(var o in n)if("image"!=o){l[o]=JSON.parse(n[o]);var r=JSON.parse(n[o]);for(var s in r)"name"==r[s].name&&r[s].value.length>0&&(e.name=r[s].value[0]),"category"==r[s].name&&r[s].value.length>0&&(e.category=r[s].value[0],e.description=r[s].description),"type"==r[s].name&&r[s].value.length>0&&(e.type=r[s].value[0])}if(null==e.name||""==e.name)return e.statu=!1,e.msg=mxResources.get("initPropertyNotConfig",['"name"']),e;if(null==e.category||""==e.category)return e.statu=!1,e.msg=mxResources.get("initPropertyNotConfig",['"category"']),e;if(null==e.type||""==e.type)return e.statu=!1,e.msg=mxResources.get("initPropertyNotConfig",['"type"']),e;e.attribute=l,1==t.getSelectionCell().parent.children.length&&t.getSelectionCell().getStyle()&&t.getSelectionCell().getStyle().indexOf("group")>=0&&t.foldCells(!1);var a=t.groupCells(null,0);t.setSelectionCell(a);var g=mxUtils.createXmlDocument().createElement("object");g.setAttribute("label","");for(var C in n)g.setAttribute(C,n[C]);a.setValue(g),n.image&&!this.actions.get("collapse").isEnabled()&&this.actions.get("collapsible").funct();var h=this.editor.getGraphXml(this),A=h.getElementsByTagName("mxGeometry")[0];A.setAttribute("x",0),A.setAttribute("y",0),A.width=A.getAttribute("width"),A.height=A.getAttribute("height"),h=mxUtils.getXml(h),n.image&&t.foldCells(!0),t.setSelectionCells(t.ungroupCells());var I={xml:h,w:A.width,h:A.height};return e.json=JSON.stringify(I),e.statu=!0,e},EditorUi.prototype.showModel=function(t,e,i){for(var n=t.split("&"),l={},o=0;o<n.length;o++){var r=n[o].split("=")[0],s=n[o].split("=")[1],a=r.split(".")[0],g=r.split(".")[1];g?(l[a]||(l[a]={}),l[a][g]=s):l[a]=s}l.id=this.interfaceParams.id,l.data=e,this.sidebar.addOtherNewPalette([l],l.class,null,i)},EditorUi.prototype.saveDB=function(t,e,i){if(null!=(t=mxUtils.trim(t," "))){e=e||VIEWER_COLLECTION,i=i||SAVE_ACTION,this.editor.graph.isEditing()&&this.editor.graph.stopEditing();var n,l=BASE_URL+e+i;if("model"==this.interfaceParams.type){var o=this.getModelJsonString();if(0==o.statu)return void window.alert(o.msg);C=o.json;t=o.name;var r=o.category,s=o.type,a=o.description;n="filename="+t,n+="&codetype=xml",n+="&data="+encodeURIComponent(C),n+="&class="+r,n+="&description="+a,n+="&name="+t,n+="&category="+r,n+="&type="+s,n+="&property.tags=vertex",n+="&property.title=vertex",n+="&property.type=vertex",n+="&attribute="+JSON.stringify(o.attribute),n+="&id="+this.interfaceParams.id,n+="&designLibraryId="+this.interfaceParams.designLibraryId,n+="&author="+this.interfaceParams.author,n+="&from="+this.interfaceParams.from}else{var g=this.editor.getGraphXml(this),C=mxUtils.getXml(g),h=mxUtils.parseXml(C);C=CodeTranslator.xml2json(h),n="filename="+t+"&codetype=json&data="+encodeURIComponent(C),n+="&id="+this.interfaceParams.id,n+="&designLibraryId="+this.interfaceParams.designLibraryId,n+="&author="+this.interfaceParams.author,n+="&from="+this.interfaceParams.from}C.length<MAX_REQUEST_SIZE?mxUtils.post(l,n,mxUtils.bind(this,function(e){var i=JSON.parse(e.getText());0==i.status?(this.editor.setModified(!1),this.editor.setFilename(t),"topology"==this.interfaceParams.type&&(this.interfaceParams.name=t),this.updateDocumentTitle(),"new"==this.interfaceParams.operator&&(this.interfaceParams.operator="edit",this.interfaceParams.id=i.data.id),"model"==this.interfaceParams.type?(this.showModel(n,C,!0),window.parent.loadProductUnitNode&&window.parent.loadProductUnitNode(this.interfaceParams.designLibraryId)):window.parent.loadProductTopoNode&&window.parent.loadProductTopoNode(this.interfaceParams.designLibraryId),this.hideDialog()):mxUtils.alert(i.data.msg)})):(mxUtils.alert(mxResources.get("drawingTooLarge")),mxUtils.popup(C))}},EditorUi.prototype.executeLayout=function(t,e,i){var n=this.editor.graph;if(n.isEnabled()){n.getModel().beginUpdate();try{t()}catch(t){throw t}finally{if(this.allowAnimation&&e&&navigator.userAgent.indexOf("Camino")<0){var l=new mxMorphing(n);l.addListener(mxEvent.DONE,mxUtils.bind(this,function(){n.getModel().endUpdate(),null!=i&&i()})),l.startAnimation()}else n.getModel().endUpdate()}}},EditorUi.prototype.showImageDialog=function(t,e,i,n){var l=this.editor.graph.cellEditor,o=l.saveSelection(),r=mxUtils.prompt(t,e);if(l.restoreSelection(o),null!=r&&r.length>0){var s=new Image;s.onload=function(){i(r,s.width,s.height)},s.onerror=function(){i(null),mxUtils.alert(mxResources.get("fileNotFound"))},s.src=r}else i(null)},EditorUi.prototype.showLinkDialog=function(t,e,i){var n=new LinkDialog(this,t,e,i);this.showDialog(n.container,420,90,!0,!0),n.init()},EditorUi.prototype.showBackgroundImageDialog=function(t){t=null!=t?t:mxUtils.bind(this,function(t){this.setBackgroundImage(t)});var e=mxUtils.prompt(mxResources.get("backgroundImage"),"");if(null!=e&&e.length>0){var i=new Image;i.onload=function(){t(new mxImage(e,i.width,i.height))},i.onerror=function(){t(null),mxUtils.alert(mxResources.get("fileNotFound"))},i.src=e}else t(null)},EditorUi.prototype.setBackgroundImage=function(t){this.editor.graph.setBackgroundImage(t),this.editor.graph.view.validateBackgroundImage(),this.fireEvent(new mxEventObject("backgroundImageChanged"))},EditorUi.prototype.confirm=function(t,e,i){mxUtils.confirm(t)?null!=e&&e():null!=i&&i()},EditorUi.prototype.createOutline=function(t){var e=new mxOutline(this.editor.graph);return e.border=20,mxEvent.addListener(window,"resize",function(){e.update()}),this.addListener("pageFormatChanged",function(){e.update()}),e},EditorUi.prototype.createKeyHandler=function(t){function e(t,e,i){a.push(function(){if(!n.isSelectionEmpty()&&n.isEnabled())if(e=null!=e?e:1,i){n.getModel().beginUpdate();try{for(var l=n.getSelectionCells(),o=0;o<l.length;o++)if(n.getModel().isVertex(l[o])&&n.isCellResizable(l[o])){var r=n.getCellGeometry(l[o]);null!=r&&(r=r.clone(),37==t?r.width=Math.max(0,r.width-e):38==t?r.height=Math.max(0,r.height-e):39==t?r.width+=e:40==t&&(r.height+=e),n.getModel().setGeometry(l[o],r))}}finally{n.getModel().endUpdate()}}else{var s=n.getSelectionCell(),a=n.model.getParent(s),g=null;if(1==n.getSelectionCount()&&n.model.isVertex(s)&&null!=n.layoutManager&&!n.isCellLocked(s)&&(g=n.layoutManager.getLayout(a)),null!=g&&g.constructor==mxStackLayout){var C=a.getIndex(s);37==t||38==t?n.model.add(a,s,Math.max(0,C-1)):39!=t&&40!=t||n.model.add(a,s,Math.min(n.model.getChildCount(a),C+1))}else{var h=0,A=0;37==t?h=-e:38==t?A=-e:39==t?h=e:40==t&&(A=e),n.moveCells(n.getMovableCells(n.getSelectionCells()),h,A)}}}),null!=g&&window.clearTimeout(g),g=window.setTimeout(function(){if(a.length>0){n.getModel().beginUpdate();try{for(var t=0;t<a.length;t++)a[t]();a=[]}finally{n.getModel().endUpdate()}n.scrollCellToVisible(n.getSelectionCell())}},200)}var i=this,n=this.editor.graph,l=new mxKeyHandler(n),o=l.isEventIgnored;l.isEventIgnored=function(t){return(!this.isControlDown(t)||mxEvent.isShiftDown(t)||90!=t.keyCode&&89!=t.keyCode&&188!=t.keyCode&&190!=t.keyCode)&&(66!=t.keyCode&&73!=t.keyCode&&85!=t.keyCode||!this.isControlDown(t)||this.graph.cellEditor.isContentEditing()&&!mxClient.IS_FF&&!mxClient.IS_SF)&&o.apply(this,arguments)},l.isEnabledForEvent=function(t){return!mxEvent.isConsumed(t)&&this.isGraphEvent(t)&&this.isEnabled()},l.isControlDown=function(t){return mxEvent.isControlDown(t)||mxClient.IS_MAC&&t.metaKey};var r={37:mxConstants.DIRECTION_WEST,38:mxConstants.DIRECTION_NORTH,39:mxConstants.DIRECTION_EAST,40:mxConstants.DIRECTION_SOUTH},s=l.getFunction;mxKeyHandler.prototype.getFunction=function(t){if(null!=r[t.keyCode]){var l=n.getSelectionCell();if(n.model.isVertex(l))return mxEvent.isShiftDown(t)&&mxEvent.isAltDown(t)?function(){var e=n.connectVertex(l,r[t.keyCode],n.defaultEdgeLength,t,!0);null!=e&&e.length>0&&(1==e.length&&n.model.isEdge(e[0])?n.setSelectionCell(n.model.getTerminal(e[0],!1)):n.setSelectionCell(e[e.length-1]),null!=i.hoverIcons&&i.hoverIcons.update(n.view.getState(n.getSelectionCell())))}:this.isControlDown(t)?function(){e(t.keyCode,mxEvent.isShiftDown(t)?n.gridSize:null,!0)}:function(){e(t.keyCode,mxEvent.isShiftDown(t)?n.gridSize:null)}}return s.apply(this,arguments)};var a=[],g=null;l.bindAction=mxUtils.bind(this,function(t,e,i,n){var o=this.actions.get(i);if(null!=o){var r=function(){o.isEnabled()&&o.funct()};e?n?l.bindControlShiftKey(t,r):l.bindControlKey(t,r):n?l.bindShiftKey(t,r):l.bindKey(t,r)}});var C=l.escape;return l.escape=function(t){C.apply(this,arguments)},l.enter=function(){},l.bindControlShiftKey(36,function(){n.exitGroup()}),l.bindControlShiftKey(35,function(){n.enterGroup()}),l.bindKey(36,function(){n.home()}),l.bindKey(35,function(){n.refresh()}),l.bindAction(107,!0,"zoomIn"),l.bindAction(109,!0,"zoomOut"),l.bindAction(80,!0,"print"),l.bindAction(79,!0,"outline",!0),l.bindAction(112,!1,"about"),this.editor.chromeless||(l.bindControlKey(36,function(){n.isEnabled()&&n.foldCells(!0)}),l.bindControlKey(35,function(){n.isEnabled()&&n.foldCells(!1)}),l.bindControlKey(13,function(){n.isEnabled()&&n.setSelectionCells(n.duplicateCells(n.getSelectionCells(),!1))}),l.bindShiftKey(9,function(){n.isEnabled()&&n.selectPreviousCell()}),l.bindControlKey(9,function(){n.isEnabled()&&n.selectParentCell()}),l.bindControlShiftKey(9,function(){n.isEnabled()&&n.selectChildCell()}),l.bindAction(8,!1,"delete"),l.bindAction(8,!0,"deleteAll"),l.bindAction(46,!1,"delete"),l.bindAction(46,!0,"deleteAll"),l.bindAction(72,!0,"resetView"),l.bindAction(72,!0,"fitWindow",!0),l.bindAction(74,!0,"fitPage"),l.bindAction(74,!0,"fitTwoPages",!0),l.bindAction(48,!0,"customZoom"),l.bindAction(82,!0,"turn"),l.bindAction(82,!0,"clearDefaultStyle",!0),l.bindAction(83,!0,"save"),l.bindAction(83,!0,"saveAs",!0),l.bindAction(65,!0,"selectAll"),l.bindAction(65,!0,"selectNone",!0),l.bindAction(73,!0,"selectVertices",!0),l.bindAction(69,!0,"selectEdges",!0),l.bindAction(69,!0,"editStyle"),l.bindAction(66,!0,"bold"),l.bindAction(66,!0,"toBack",!0),l.bindAction(70,!0,"toFront",!0),l.bindAction(68,!0,"duplicate"),l.bindAction(68,!0,"setAsDefaultStyle",!0),l.bindAction(90,!0,"undo"),l.bindAction(89,!0,"autosize",!0),l.bindAction(88,!0,"cut"),l.bindAction(67,!0,"copy"),l.bindAction(81,!0,"connectionArrows"),l.bindAction(81,!0,"connectionPoints",!0),l.bindAction(86,!0,"paste"),l.bindAction(71,!0,"group"),l.bindAction(71,!0,"grid",!0),l.bindAction(73,!0,"italic"),l.bindAction(76,!0,"lockUnlock"),l.bindAction(76,!0,"layers",!0),l.bindAction(80,!0,"formatPanel",!0),l.bindAction(85,!0,"underline"),l.bindAction(85,!0,"ungroup",!0),l.bindAction(190,!0,"superscript"),l.bindAction(188,!0,"subscript"),l.bindKey(13,function(){n.isEnabled()&&n.startEditingAtCell()}),l.bindKey(113,function(){n.isEnabled()&&n.startEditingAtCell()})),mxClient.IS_WIN?l.bindAction(89,!0,"redo"):l.bindAction(90,!0,"redo",!0),l},EditorUi.prototype.destroy=function(){if(null!=this.editor&&(this.editor.destroy(),this.editor=null),null!=this.menubar&&(this.menubar.destroy(),this.menubar=null),null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null),null!=this.footwall&&(this.footwall.destroy(),this.footwall=null),null!=this.sidebar&&(this.sidebar.destroy(),this.sidebar=null),null!=this.keyHandler&&(this.keyHandler.destroy(),this.keyHandler=null),null!=this.keydownHandler&&(mxEvent.removeListener(document,"keydown",this.keydownHandler),this.keydownHandler=null),null!=this.keyupHandler&&(mxEvent.removeListener(document,"keyup",this.keyupHandler),this.keyupHandler=null),null!=this.resizeHandler&&(mxEvent.removeListener(window,"resize",this.resizeHandler),this.resizeHandler=null),null!=this.gestureHandler&&(mxEvent.removeGestureListeners(document,this.gestureHandler),this.gestureHandler=null),null!=this.orientationChangeHandler&&(mxEvent.removeListener(window,"orientationchange",this.orientationChangeHandler),this.orientationChangeHandler=null),null!=this.scrollHandler&&(mxEvent.removeListener(window,"scroll",this.scrollHandler),this.scrollHandler=null),null!=this.destroyFunctions){for(e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions=null}for(var t=[this.menubarContainer,this.toolbarContainer,this.footwallContainer,this.sidebarContainer,this.formatContainer,this.diagramContainer,this.footerContainer,this.chromelessToolbar,this.hsplit,this.sidebarFooterContainer,this.layersDialog],e=0;e<t.length;e++)null!=t[e]&&null!=t[e].parentNode&&t[e].parentNode.removeChild(t[e])},Editor=function(t,e,i,n,l){mxEventSource.call(this),this.chromeless=null!=t?t:this.chromeless,this.initStencilRegistry(),this.graph=n||this.createGraph(e,i),this.undoManager=this.createUndoManager(),this.status="",this.vgdContainer=l,this.getOrCreateFilename=function(){return this.filename||mxResources.get("drawing",[Editor.pageCounter])+".xml"},this.getOrCreateJsonFilename=function(){return this.filename||mxResources.get("drawing",[Editor.pageCounter])+".json"},this.getFilename=function(){return this.filename},this.setStatus=function(t){this.status=t,this.fireEvent(new mxEventObject("statusChanged"))},this.getStatus=function(){return this.status},this.graphChangeListener=function(){this.setModified(!0)},this.graph.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.graphChangeListener.apply(this,arguments)})),this.graph.resetViewOnRootChange=!1,this.init()},Editor.pageCounter=0,function(){try{for(var t=window;null!=t.opener&&void 0!==t.opener.Editor&&!isNaN(t.opener.Editor.pageCounter);)t=t.opener;null!=t&&(t.Editor.pageCounter++,Editor.pageCounter=t.Editor.pageCounter)}catch(t){}}(),Editor.useLocalStorage="undefined"!=typeof Storage&&mxClient.IS_IOS,Editor.helpImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAXVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC5BxTwAAAAH3RSTlMAlUF8boNQIE0LBgOgkGlHNSwqFIx/dGVUOjApmV9ezNACSAAAAIVJREFUGNNtjNsOgzAMQ5NeoVcKDAZs+//PXLKI8YKlWvaRU7jXuFpb9qsbdK05XILUiE8JHQox1Pv3OgFUzf1AGqWqUg+QBwLF0YAeegBlCNgRWOpB5vUfTCmeoHQ/wNdy0jLH/cM+b+wLTw4n/7ACEmHVVy8h6qy8V7MNcGowWpsNbvUFcGUEdSi1s/oAAAAASUVORK5CYII=":IMAGE_PATH+"/help.png",Editor.checkmarkImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhFQAVAMQfAGxsbHx8fIqKioaGhvb29nJycvr6+sDAwJqamltbW5OTk+np6YGBgeTk5Ly8vJiYmP39/fLy8qWlpa6ursjIyOLi4vj4+N/f3+3t7fT09LCwsHZ2dubm5r6+vmZmZv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY4NTZERTQ5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY4NTZERTU5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Rjg1NkRFMjlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Rjg1NkRFMzlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAB8ALAAAAAAVABUAAAVI4CeOZGmeaKqubKtylktSgCOLRyLd3+QJEJnh4VHcMoOfYQXQLBcBD4PA6ngGlIInEHEhPOANRkaIFhq8SuHCE1Hb8Lh8LgsBADs=":IMAGE_PATH+"/checkmark.gif",Editor.maximizeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABXRSTlMA758vX1Pw3BoAAABJSURBVAjXY8AJQkODGBhUQ0MhbAUGBiYY24CBgRnGFmZgMISwgwwDGRhEhVVBbAVmEQYGRwMmBjIAQi/CTIRd6G5AuA3dzYQBAHj0EFdHkvV4AAAAAElFTkSuQmCC",Editor.zoomOutImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCxxcXEhISFgYGChjTUxAAAAAXRSTlMAQObYZgAAAEdJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITgLJZXFxgbIQ4Qj3CHIT5ggoIe5kgNkM1KSDYKBKqxPkDAPo5BAZBE54hAAAAAElFTkSuQmCC",Editor.zoomInImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCwhISFxcXFgYGBavKaoAAAAAXRSTlMAQObYZgAAAElJREFUCNdjIAMwCQrB2YKCggJQJqMIA4sglK3owMzgqABVwsDMwCgAZTMbG8PYCHGEeoQ5CPMFFRD2MkFshmpSQLBRJFSJ8wcAEqcEM2uhl2MAAAAASUVORK5CYII=",Editor.zoomFitImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAD1BMVEUAAAAAAAAwMDBwcHBgYGC1xl09AAAAAXRSTlMAQObYZgAAAEFJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITwMdGqEeYgzBfUAFhLxPEZqgmBQQbRUKFOH8AAK5OA3lA+FFOAAAAAElFTkSuQmCC",Editor.layersImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAAaVBMVEUAAAAgICAICAgdHR0PDw8WFhYICAgLCwsXFxcvLy8ODg4uLi4iIiIqKiokJCQYGBgKCgonJycFBQUCAgIqKiocHBwcHBwODg4eHh4cHBwnJycJCQkUFBQqKiojIyMuLi4ZGRkgICAEBATOWYXAAAAAGnRSTlMAD7+fnz8/H7/ff18/77+vr5+fn39/b28fH2xSoKsAAACQSURBVBjTrYxJEsMgDARZZMAY73sgCcn/HxnhKtnk7j6oRq0psfuoyndZ/SuODkHPLzfVT6KeyPePnJ7KrnkRjWMXTn4SMnN8mXe2SSM3ts8L/ZUxxrbAULSYJJULE0Iw9pjpenoICcgcX61mGgTgtCv9Be99pzCoDhNQWQnchD1mup5++CYGcoQexajZbfwAj/0MD8ZOaUgAAAAASUVORK5CYII=",Editor.zoomOutLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABJklEQVQ4y4WT2XaDMAxEvWD2nSSUNEnTJN3r//+9Sj7ILAY6L0ijC4ONYVZRpo6cByrz2YKSUGorGTpz71lPVHvT+avoB5wIkU/mxk8veceSuNoLg44IzziXjvpih72wKQnm8yc2UoiP/LAd8jQfe2Xf4Pq+2EyYIvv9wbzHHCgwxDdlBtWZOdqDfTCVgqpygQpsZaojVAVc9UjQxnAJDIBhiQv84tq3gMQCAVTxVoSibXJf8tMuc7e1TB/DCmejBNg/w1Y3c+AM5vv4w7xM59/oXamrHaLVqPQ+OTCnmMZxgz0SdL5zji0/ld6j88qGa5KIiBB6WeJGKfUKwSMKLuXgvl1TW0tm5R9UQL/efSDYsnzxD8CinhBsTTdugJatKpJwf8v+ADb8QmvW7AeAAAAAAElFTkSuQmCC",Editor.zoomInLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABKElEQVQ4y4WT6WKCMBCENwkBwn2oFKvWqr3L+79es4EkQIDOH2d3Pxk2ABiJlB8JCXjqw4LikHVGLHTm3nM3UeVN5690GBBN0GwyV/3kkrUQR+WeKnREeKpzaXWd77CmJiXGfPIEI4V4yQ9TIW/ntlcMBe731Vts9w5TWG8F5j3mQI4hvrKpdGeYA7CX9qAcl650gVJartxRuhyHVghF8idQAIbFLvCLu28BsQEC6aKtCK6Pyb3JT7PmbmtNH8Ny56CotD/2qOs5cJbuffxgXmCib+xddVU5RNOhkvvkhTlFehzVWCOh3++MYElOhfdovaImnRYVmqDdsuhNp1QrBBE6uGC2+3ZNjGdg5B94oD+9uyVgWT79BwAxEBTWdOu3bWBVgsn/N/AHUD9IC01Oe40AAAAASUVORK5CYII=",Editor.actualSizeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABIUlEQVQ4y4WT2XqDIBCFBxDc9yTWNEnTJN3r+79eGT4BEbXnaubMr8dBBaM450dCQp4LWFAascGIRd48eB4cNYE7f6XjgGiCFs5c+dml6CFN6j1V6IQIlHPpdV/usKcmJcV88gQTRXjLD9Mhb+fWq8YG9/uCmTCFjeeDeY85UGKIUGUuqzN42kv7oCouq9oHamlzVR1lVfpAIu1QVRiW+sAv7r4FpAYIZZVsRXB9TP5Dfpo1d1trCgzz1iiptH/sUbdz4CzN9+mLeXHn3+hdddd4RDegsrvzwZwSs2GLPRJidAqCLTlVwaMPqpYMWjTWBB2WRW86pVkhSKyDK2bdt2tmagZG4sBD/evdLQHLEvQfAOKRoLCmG1FAB6uKmby+gz+REDn7O5+EwQAAAABJRU5ErkJggg==",Editor.layersLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///+bnZkkAAAAMnRSTlMABPr8ByiD88KsTi/rvJb272mjeUA1CuPe1M/KjVxYHxMP6KZ0S9nYzGRGGRaznpGIbzaGUf0AAAHESURBVDjLbZLZYoIwEEVDgLCjbKIgAlqXqt3m/z+uNwu1rcyDhjl3ktnYL7OY254C0VX3yWFZfzDrOClbbgKxi0YDHjwl4jbnRkXxJS/C1YP3DbBhD1n7Ex4uaAqdVDb3yJ/4J/3nJD2to/ngQz/DfUvzMp4JJ5sSCaF5oXmemgQDfDxzbi+Kq4sU+vNcuAmx94JtyOP2DD4Epz2asWSCz4Z/4fECxyNj9zC9xNLHcdPEO+awDKeSaUu0W4twZQiO2hYVisTR3RCtK/c1X6t4xMEpiGqXqVntEBLolkZZsKY4QtwH6jzq67dEHlJysB1aNOD3XT7n1UkasQN59L4yC2RELMDSeCRtz3yV22Ub3ozIUTknYx8JWqDdQxbUes98cR2kZtUSveF/bAhcedwEWmlxIkpZUy4XOCb6VBjjxHvbwo/1lBAHHi2JCr0NI570QhyHq/DhJoE2lLgyA4RVe6KmZ47O/3b86MCP0HWa73A8/C3SUc5Qc1ajt6fgpXJ+RGpMvDSchepZDOOQRcZVIKcK90x2D7etqtI+56+u6n3sPriO6nfphitR4+O2m3EbM7lh3me1FM1o+LMI887rN+s3/wZdTFlpNVJiOAAAAABJRU5ErkJggg==",Editor.closeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAUVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////8IN+deAAAAGnRSTlMAuvAIg/dDM/QlOeuFhj0S5s4vKgzjxJRQNiLSey0AAADNSURBVDjLfZLbEoMgDEQjRRRs1XqX///QNmOHJSnjPkHOGR7IEmeoGtJZstnwjqbRfIsmgEdtPCqe9Ynz7ZSc07rE2QiSc+qv8TvjRXA2PDUm3dpe82iJhOEUfxJJo3aCv+jKmRmH4lcCjCjeh9GWOdL/GZZkXH3PYYDrHBnfc4D/RVZf5sjoC1was+Y6HQxwaUxFvq/a0Pv343VCTxfBSRiB+ab3M3eiQZXmMNBJ3Y8pGRZtYQ7DgHMXJEdPLTaN/qBjzJOBc3nmNcbsA16bMR0oLqf+AAAAAElFTkSuQmCC",Editor.editLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAgJsrThgAAABcSURBVBjThc6xDcAgDATAd8MQTEPW8TRUmYCGnzLRYyOlIV+dZFtvkICTFGqiJEzAG0/Uje9oL+e5Vu4F5yUYJxxqGKhQZ0eBvmgwYQLQaARKD1hbiPyDR0QOeAC31EyNe5X/kAAAAABJRU5ErkJggg==",mxUtils.extend(Editor,mxEventSource),Editor.prototype.originalNoForeignObject=mxClient.NO_FO,Editor.prototype.transparentImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhMAAwAIAAAP///wAAACH5BAEAAAAALAAAAAAwADAAAAIxhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8egpAAA7":IMAGE_PATH+"/transparent.gif",Editor.prototype.extendCanvas=!0,Editor.prototype.chromeless=!1,Editor.prototype.cancelFirst=!0,Editor.prototype.enabled=!0,Editor.prototype.filename=null,Editor.prototype.modified=!1,Editor.prototype.autosave=!0,Editor.prototype.initialTopSpacing=0,Editor.prototype.appName=document.title,Editor.prototype.editBlankUrl=window.location.protocol+"//"+window.location.host+"/?client=1",Editor.prototype.editBlankFallbackUrl=window.location.protocol+"//"+window.location.host+"/?create=drawdata&splash=0",Editor.prototype.isFirstLoad=!0,Editor.prototype.init=function(){mxPopupMenuHandler.prototype.vgdContainer=this.vgdContainer,mxTooltipHandler.prototype.vgdContainer=this.vgdContainer,mxDragSource.prototype.vgdContainer=this.vgdContainer,mxPopupMenu.prototype.vgdContainer=this.vgdContainer,mxSvgCanvas2D.prototype.vgdContainer=this.vgdContainer,mxVmlCanvas2D.prototype.vgdContainer=this.vgdContainer,mxWindow.prototype.vgdContainer=this.vgdContainer,mxGraphView.prototype.vgdContainer=this.vgdContainer,mxPrintPreview.prototype.vgdContainer=this.vgdContainer},Editor.prototype.setAutosave=function(t){this.autosave=t,this.fireEvent(new mxEventObject("autosaveChanged"))},Editor.prototype.editAsNew=function(t,e){var i=null!=e?"&title="+encodeURIComponent(e):"";if(void 0!==window.postMessage&&(null==document.documentMode||document.documentMode>=10)){var n=null,l=mxUtils.bind(this,function(e){"ready"==e.data&&e.source==n&&(n.postMessage(t,"*"),mxEvent.removeListener(window,"message",l))});mxEvent.addListener(window,"message",l),n=window.open(this.editBlankUrl+i)}else window.drawdata=t,window.open(this.editBlankFallbackUrl+i)},Editor.prototype.createGraph=function(t,e){var i=new Graph(null,e,null,null,t);return i.transparentBackground=!1,i},Editor.prototype.resetGraph=function(){this.graph.gridEnabled=!this.chromeless||"1"==urlParams.grid,this.graph.graphHandler.guidesEnabled=!0,this.graph.setTooltips(!0),this.graph.setConnectable(!0),this.graph.foldingEnabled=!0,this.graph.scrollbars=this.graph.defaultScrollbars,this.graph.pageVisible=this.graph.defaultPageVisible,this.graph.pageBreaksVisible=this.graph.pageVisible,this.graph.preferPageSize=this.graph.pageBreaksVisible,this.graph.background=this.graph.defaultGraphBackground,this.graph.pageScale=mxGraph.prototype.pageScale,this.graph.pageFormat=mxGraph.prototype.pageFormat,this.updateGraphComponents(),this.graph.view.setScale(1)},Editor.prototype.readGraphState=function(t){this.graph.gridEnabled="0"!=t.getAttribute("grid")&&(!this.chromeless||"1"==urlParams.grid),this.graph.gridSize=parseFloat(t.getAttribute("gridSize"))||mxGraph.prototype.gridSize,this.graph.graphHandler.guidesEnabled="0"!=t.getAttribute("guides"),this.graph.setTooltips("0"!=t.getAttribute("tooltips")),this.graph.setConnectable("0"!=t.getAttribute("connect")),this.graph.connectionArrowsEnabled="0"!=t.getAttribute("arrows"),this.graph.foldingEnabled="0"!=t.getAttribute("fold"),this.chromeless&&this.graph.foldingEnabled&&(this.graph.foldingEnabled="1"==urlParams.nav,this.graph.cellRenderer.forceControlClickHandler=this.graph.foldingEnabled);var e=t.getAttribute("pageScale");if(this.graph.pageScale=null!=e?e:mxGraph.prototype.pageScale,this.graph.lightbox)this.graph.pageVisible=!1;else{var i=t.getAttribute("page");this.graph.pageVisible=null!=i?"0"!=i:this.graph.defaultPageVisible}this.graph.pageBreaksVisible=this.graph.pageVisible,this.graph.preferPageSize=this.graph.pageBreaksVisible;var n=t.getAttribute("pageWidth"),l=t.getAttribute("pageHeight");null!=n&&null!=l&&(this.graph.pageFormat=new mxRectangle(0,0,parseFloat(n),parseFloat(l)));var o=t.getAttribute("background");null!=o&&o.length>0?this.graph.background=o:this.graph.background=this.graph.defaultGraphBackground},Editor.prototype.setGraphXml=function(t){if(null!=t){var e=new mxCodec(t.ownerDocument);if("mxGraphModel"==t.nodeName){this.graph.model.beginUpdate();try{this.graph.model.clear(),this.graph.view.scale=1,this.readGraphState(t),this.updateGraphComponents(),e.decode(t,this.graph.getModel())}finally{this.graph.model.endUpdate()}this.fireEvent(new mxEventObject("resetGraphView"))}else{if("root"!=t.nodeName)throw{message:mxResources.get("cannotOpenFile"),node:t,toString:function(){return this.message}};this.resetGraph();var i=e.document.createElement("mxGraphModel");i.appendChild(t),e.decode(i,this.graph.getModel()),this.updateGraphComponents(),this.fireEvent(new mxEventObject("resetGraphView"))}}else this.resetGraph(),this.graph.model.clear(),this.fireEvent(new mxEventObject("resetGraphView"))},Editor.prototype.getGraphXml=function(t,e){var i=null;return(i=(e=null==e||e)?new mxCodec(mxUtils.createXmlDocument()).encode(this.graph.getModel()):this.graph.encodeCells(this.graph.getSelectionCells())).setAttribute("envType",t.interfaceParams.type),i.setAttribute("uuid",t.interfaceParams.id),i.setAttribute("author",t.interfaceParams.author),"topology"==t.interfaceParams.type&&i.setAttribute("name",t.interfaceParams.name),i.setAttribute("designLibraryId",t.interfaceParams.designLibraryId),0==this.graph.view.translate.x&&0==this.graph.view.translate.y||(i.setAttribute("dx",Math.round(100*this.graph.view.translate.x)/100),i.setAttribute("dy",Math.round(100*this.graph.view.translate.y)/100)),i.setAttribute("grid",this.graph.isGridEnabled()?"1":"0"),i.setAttribute("gridSize",this.graph.gridSize),i.setAttribute("guides",this.graph.graphHandler.guidesEnabled?"1":"0"),i.setAttribute("tooltips",this.graph.tooltipHandler.isEnabled()?"1":"0"),i.setAttribute("connect",this.graph.connectionHandler.isEnabled()?"1":"0"),i.setAttribute("arrows",this.graph.connectionArrowsEnabled?"1":"0"),i.setAttribute("fold",this.graph.foldingEnabled?"1":"0"),i.setAttribute("page",this.graph.pageVisible?"1":"0"),i.setAttribute("pageScale",this.graph.pageScale),i.setAttribute("pageWidth",this.graph.pageFormat.width),i.setAttribute("pageHeight",this.graph.pageFormat.height),null!=this.graph.background&&i.setAttribute("background",this.graph.background),i},Editor.prototype.updateGraphComponents=function(){var t=this.graph;null!=t.container&&(t.view.validateBackground(),t.container.style.overflow=t.scrollbars?"auto":"hidden",this.fireEvent(new mxEventObject("updateGraphComponents")))},Editor.prototype.setModified=function(t){this.isFirstLoad?this.isFirstLoad=!1:this.modified=t},Editor.prototype.setFilename=function(t){this.filename=t},Editor.prototype.createUndoManager=function(){var t=this.graph,e=new mxUndoManager;this.undoListener=function(t,i){e.undoableEditHappened(i.getProperty("edit"))};var i=mxUtils.bind(this,function(t,e){this.undoListener.apply(this,arguments)});t.getModel().addListener(mxEvent.UNDO,i),t.getView().addListener(mxEvent.UNDO,i);var n=function(e,i){for(var n=t.getSelectionCellsForChanges(i.getProperty("edit").changes),l=t.getModel(),o=[],r=0;r<n.length;r++)(l.isVertex(n[r])||l.isEdge(n[r]))&&null!=t.view.getState(n[r])&&o.push(n[r]);t.setSelectionCells(o)};return e.addListener(mxEvent.UNDO,n),e.addListener(mxEvent.REDO,n),e},Editor.prototype.initStencilRegistry=function(){},Editor.prototype.destroy=function(){null!=this.graph&&(this.graph.destroy(),this.graph=null)},OpenFile=function(t){this.producer=null,this.consumer=null,this.done=t},OpenFile.prototype.setConsumer=function(t){this.consumer=t,this.execute()},OpenFile.prototype.setData=function(t,e){this.data=t,this.filename=e,this.execute()},OpenFile.prototype.error=function(t){this.cancel(!0),mxUtils.alert(t)},OpenFile.prototype.execute=function(){null!=this.consumer&&null!=this.data&&(this.cancel(!1),this.consumer(this.data,this.filename))},OpenFile.prototype.cancel=function(t){null!=this.done&&this.done(null==t||t)},function(){mxGraphView.prototype.validateBackgroundPage=function(){var t=this.graph;if(null!=t.container&&!t.transparentBackground){if(t.pageVisible){var e=this.getBackgroundPageBounds();if(null==this.backgroundPageShape){for(var i=t.container.firstChild;null!=i&&i.nodeType!=mxConstants.NODETYPE_ELEMENT;)i=i.nextSibling;null!=i&&(this.backgroundPageShape=this.createBackgroundPageShape(e),this.backgroundPageShape.scale=1,this.backgroundPageShape.isShadow=!mxClient.IS_QUIRKS,this.backgroundPageShape.dialect=mxConstants.DIALECT_STRICTHTML,this.backgroundPageShape.init(t.container),i.style.position="absolute",t.container.insertBefore(this.backgroundPageShape.node,i),this.backgroundPageShape.redraw(),this.backgroundPageShape.node.className="geBackgroundPage",mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function(e){t.dblClick(e)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function(e){t.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){null!=t.tooltipHandler&&t.tooltipHandler.isHideOnHover()&&t.tooltipHandler.hide(),t.isMouseDown&&!mxEvent.isConsumed(e)&&t.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){t.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e))})))}else this.backgroundPageShape.scale=1,this.backgroundPageShape.bounds=e,this.backgroundPageShape.redraw()}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null);this.validateBackgroundStyles()}},mxGraphView.prototype.validateBackgroundStyles=function(){var t=this.graph,e=null==t.background||t.background==mxConstants.NONE?"#ffffff":t.background,i=this.gridColor!=e.toLowerCase()?this.gridColor:"#ffffff",n="none",l="";if(t.isGridEnabled()){var o=10;mxClient.IS_SVG?(n=unescape(encodeURIComponent(this.createSvgGrid(i))),n="url(data:image/svg+xml;base64,"+(n=window.btoa?btoa(n):Base64.encode(n,!0))+")",o=t.gridSize*this.scale*this.gridSteps):n="url("+this.gridImage+")";var r=0,s=0;if(null!=t.view.backgroundPageShape){var a=this.getBackgroundPageBounds();r=1+a.x,s=1+a.y}l=-Math.round(o-mxUtils.mod(this.translate.x*this.scale-r,o))+"px "+-Math.round(o-mxUtils.mod(this.translate.y*this.scale-s,o))+"px"}var g=t.view.canvas;null!=g.ownerSVGElement&&(g=g.ownerSVGElement),null!=t.view.backgroundPageShape?(t.view.backgroundPageShape.node.style.backgroundPosition=l,t.view.backgroundPageShape.node.style.backgroundImage=n,t.view.backgroundPageShape.node.style.backgroundColor=e,t.container.className="geDiagramContainer geDiagramBackdrop",g.style.backgroundImage="none",g.style.backgroundColor=""):(t.container.className="geDiagramContainer",g.style.backgroundPosition=l,g.style.backgroundColor=e,g.style.backgroundImage=n)},mxGraphView.prototype.createSvgGrid=function(t){for(var e=this.graph.gridSize*this.scale;e<this.minGridSize;)e*=2;for(var i=this.gridSteps*e,n=[],l=1;l<this.gridSteps;l++){var o=l*e;n.push("M 0 "+o+" L "+i+" "+o+" M "+o+" 0 L "+o+" "+i)}var r=i;return'<svg width="'+r+'" height="'+r+'" xmlns="'+mxConstants.NS_SVG+'"><defs><pattern id="grid" width="'+i+'" height="'+i+'" patternUnits="userSpaceOnUse"><path d="'+n.join(" ")+'" fill="none" stroke="'+t+'" opacity="0.2" stroke-width="1"/><path d="M '+i+" 0 L 0 0 0 "+i+'" fill="none" stroke="'+t+'" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)"/></svg>'};var t=mxGraph.prototype.panGraph;mxGraph.prototype.panGraph=function(e,i){if(t.apply(this,arguments),null!=this.shiftPreview1){var n=this.view.canvas;null!=n.ownerSVGElement&&(n=n.ownerSVGElement);var l=this.gridSize*this.view.scale*this.view.gridSteps,o=-Math.round(l-mxUtils.mod(this.view.translate.x*this.view.scale+e,l))+"px "+-Math.round(l-mxUtils.mod(this.view.translate.y*this.view.scale+i,l))+"px";n.style.backgroundPosition=o}},mxGraph.prototype.updatePageBreaks=function(t,e,i){var n=this.view.scale,l=this.view.translate,o=this.pageFormat,r=n*this.pageScale,s=this.view.getBackgroundPageBounds();e=s.width,i=s.height;var a=new mxRectangle(n*l.x,n*l.y,o.width*r,o.height*r),g=(t=t&&Math.min(a.width,a.height)>this.minPageBreakDist)?Math.ceil(e/a.width)-1:0,C=t?Math.ceil(i/a.height)-1:0,h=s.x+e,A=s.y+i;if(null==this.horizontalPageBreaks&&g>0&&(this.horizontalPageBreaks=[]),null!=this.horizontalPageBreaks){for(d=0;d<=g;d++){I=[new mxPoint(s.x+(d+1)*a.width,s.y),new mxPoint(s.x+(d+1)*a.width,A)];null!=this.horizontalPageBreaks[d]?(this.horizontalPageBreaks[d].points=I,this.horizontalPageBreaks[d].redraw()):((c=new mxPolyline(I,this.pageBreakColor)).dialect=this.dialect,c.isDashed=this.pageBreakDashed,c.pointerEvents=!1,c.init(this.view.backgroundPane),c.redraw(),this.horizontalPageBreaks[d]=c)}for(d=g;d<this.horizontalPageBreaks.length;d++)this.horizontalPageBreaks[d].destroy();this.horizontalPageBreaks.splice(g,this.horizontalPageBreaks.length-g)}if(null==this.verticalPageBreaks&&C>0&&(this.verticalPageBreaks=[]),null!=this.verticalPageBreaks){for(d=0;d<=C;d++){var I=[new mxPoint(s.x,s.y+(d+1)*a.height),new mxPoint(h,s.y+(d+1)*a.height)];if(null!=this.verticalPageBreaks[d])this.verticalPageBreaks[d].points=I,this.verticalPageBreaks[d].redraw();else{var c=new mxPolyline(I,this.pageBreakColor);c.dialect=this.dialect,c.isDashed=this.pageBreakDashed,c.pointerEvents=!1,c.init(this.view.backgroundPane),c.redraw(),this.verticalPageBreaks[d]=c}}for(var d=C;d<this.verticalPageBreaks.length;d++)this.verticalPageBreaks[d].destroy();this.verticalPageBreaks.splice(C,this.verticalPageBreaks.length-C)}};var e=mxGraphHandler.prototype.shouldRemoveCellsFromParent;mxGraphHandler.prototype.shouldRemoveCellsFromParent=function(t,i,n){for(var l=0;l<i.length;l++)if(this.graph.getModel().isVertex(i[l])){var o=this.graph.getCellGeometry(i[l]);if(null!=o&&o.relative)return!1}return e.apply(this,arguments)};var i=mxConnectionHandler.prototype.createMarker;mxConnectionHandler.prototype.createMarker=function(){var t=i.apply(this,arguments);return t.intersects=mxUtils.bind(this,function(e,i){return!!this.isConnecting()||mxCellMarker.prototype.intersects.apply(t,arguments)}),t},mxGraphView.prototype.createBackgroundPageShape=function(t){return new mxRectangleShape(t,"#ffffff","#cacaca")},mxGraphView.prototype.getBackgroundPageBounds=function(){var t=this.getGraphBounds(),e=t.width>0?t.x/this.scale-this.translate.x:0,i=t.height>0?t.y/this.scale-this.translate.y:0,n=t.width/this.scale,l=t.height/this.scale,o=this.graph.pageFormat,r=this.graph.pageScale,s=o.width*r,a=o.height*r,g=Math.floor(Math.min(0,e)/s),C=Math.floor(Math.min(0,i)/a),h=Math.ceil(Math.max(1,e+n)/s)-g,A=Math.ceil(Math.max(1,i+l)/a)-C;return new mxRectangle(this.scale*(this.translate.x+g*s),this.scale*(this.translate.y+C*a),this.scale*h*s,this.scale*A*a)};var n=mxGraph.prototype.panGraph;mxGraph.prototype.panGraph=function(t,e){n.apply(this,arguments),this.dialect==mxConstants.DIALECT_SVG||null==this.view.backgroundPageShape||this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container)||(this.view.backgroundPageShape.node.style.marginLeft=t+"px",this.view.backgroundPageShape.node.style.marginTop=e+"px")};var l=mxPopupMenu.prototype.addItem;mxPopupMenu.prototype.addItem=function(t,e,i,n,o,r){var s=l.apply(this,arguments);return null==r||r||mxEvent.addListener(s,"mousedown",function(t){mxEvent.consume(t)}),s};var o=mxGraphHandler.prototype.getInitialCellForEvent;mxGraphHandler.prototype.getInitialCellForEvent=function(t){var e=this.graph.getModel(),i=e.getParent(this.graph.getSelectionCell()),n=o.apply(this,arguments),l=e.getParent(n);if(null==i||i!=n&&i!=l)for(;!this.graph.isCellSelected(n)&&!this.graph.isCellSelected(l)&&e.isVertex(l)&&!this.graph.isContainer(l);)n=l,l=this.graph.getModel().getParent(n);return n};var r=mxGraphHandler.prototype.isDelayedSelection;mxGraphHandler.prototype.isDelayedSelection=function(t,e){var i=r.apply(this,arguments)
;if(!i)for(var n=this.graph.getModel(),l=n.getParent(t);null!=l;){if(this.graph.isCellSelected(l)&&n.isVertex(l)){i=!0;break}l=n.getParent(l)}return i},mxGraphHandler.prototype.selectDelayed=function(t){if(!this.graph.popupMenuHandler.isPopupTrigger(t)){var e=t.getCell();null==e&&(e=this.cell);var i=this.graph.view.getState(e);if(null!=i&&t.isSource(i.control))this.graph.selectCellForEvent(e,t.getEvent());else{for(var n=this.graph.getModel(),l=n.getParent(e);!this.graph.isCellSelected(l)&&n.isVertex(l);)e=l,l=n.getParent(e);this.graph.selectCellForEvent(e,t.getEvent())}}},mxPopupMenuHandler.prototype.getCellForPopupEvent=function(t){for(var e=t.getCell(),i=this.graph.getModel(),n=i.getParent(e);i.isVertex(n)&&!this.graph.isContainer(n);)this.graph.isCellSelected(n)&&(e=n),n=i.getParent(n);return e}}(),Sidebar.prototype.init=function(){STENCIL_PATH;this.addSearchPalette(!0);var t=BASE_URL+MODELCLASS_COLLECTION+GET_URL;this.getModelClassRecords(t,"deleted=no")},Sidebar.prototype.collapsedImage=IMAGE_PATH+"/collapsed.png",Sidebar.prototype.expandedImage=IMAGE_PATH+"/expanded.png",Sidebar.prototype.tooltipImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAbCAMAAAB7jU7LAAAACVBMVEX///+ZmZn///9Y2COLAAAAA3RSTlP//wDXyg1BAAAAOElEQVR42mXQMQ4AMAgDsWv//+iutcJmIQSk+9dJpVKpVCqVSqVSqZTdncWzF8/NeP7FkxWenPEDOnUBiL3jWx0AAAAASUVORK5CYII=":IMAGE_PATH+"/tooltip.png",Sidebar.prototype.searchImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEaSURBVHjabNGxS5VxFIfxz71XaWuQUJCG/gCHhgTD9VpEETg4aMOlQRp0EoezObgcd220KQiXmpretTAHQRBdojlQEJyukPdt+b1ywfvAGc7wnHP4nlZd1yKijQW8xzNc4Su+ZOYfQ3T6/f4YNvEJYzjELXp4VVXVz263+7cR2niBxAFeZ2YPi3iHR/gYERPDwhpOsd6sz8x/mfkNG3iOlWFhFj8y89J9KvzGXER0GuEaD42mgwHqUtoljbcRsTBCeINpfM/MgZLKPpaxFxGbOCqDXmILN7hoJrTKH+axhxmcYRxP0MIDnOBDZv5q1XUNIuJxifJp+UNV7t7BFM6xeic0RMQ4Bpl5W/ol7GISx/eEUUTECrbx+f8A8xhiZht9zsgAAAAASUVORK5CYII=":IMAGE_PATH+"/search.png",Sidebar.prototype.enableTooltips=!0,Sidebar.prototype.tooltipBorder=16,Sidebar.prototype.tooltipDelay=300,Sidebar.prototype.dropTargetDelay=200,Sidebar.prototype.gearImage=STENCIL_PATH+"/clipart/Gear_128x128.png",Sidebar.prototype.thumbWidth=36,Sidebar.prototype.thumbHeight=36,Sidebar.prototype.thumbPadding=document.documentMode>=5?0:1,Sidebar.prototype.thumbBorder=2,Sidebar.prototype.sidebarTitleSize=9,Sidebar.prototype.sidebarTitles=!1,Sidebar.prototype.tooltipTitles=!0,Sidebar.prototype.maxTooltipWidth=400,Sidebar.prototype.maxTooltipHeight=400,Sidebar.prototype.addStencilsToIndex=!0,Sidebar.prototype.defaultImageWidth=80,Sidebar.prototype.defaultImageHeight=80,Sidebar.prototype.modelClass=[],Sidebar.prototype.modelList=["general","Model"],Sidebar.prototype.searchFlag=!1,Sidebar.prototype.saveModelFlag=!1,Sidebar.prototype.showTooltip=function(t,e,i,n,l,o){if(this.enableTooltips&&this.showTooltips&&this.currentElt!=t){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null);var r=mxUtils.bind(this,function(){null==this.tooltip&&(this.tooltip=document.createElement("div"),this.tooltip.className="geSidebarTooltip",this.tooltip.style.zIndex=mxPopupMenu.prototype.zIndex-1,this.editorUi.container.appendChild(this.tooltip),this.graph2=new Graph(this.tooltip,null,null,this.editorUi.editor.graph.getStylesheet()),this.graph2.resetViewOnRootChange=!1,this.graph2.foldingEnabled=!1,this.graph2.gridEnabled=!1,this.graph2.autoScroll=!1,this.graph2.setTooltips(!1),this.graph2.setConnectable(!1),this.graph2.setEnabled(!1),mxClient.IS_SVG||(this.graph2.view.canvas.style.position="relative"),this.tooltipImage=mxUtils.createImage(this.tooltipImage),this.tooltipImage.className="geSidebarTooltipImage",this.tooltipImage.style.zIndex=mxPopupMenu.prototype.zIndex-1,this.tooltipImage.style.position="absolute",this.tooltipImage.style.width="14px",this.tooltipImage.style.height="27px",this.editorUi.container.appendChild(this.tooltipImage)),this.graph2.model.clear(),this.graph2.view.setTranslate(this.tooltipBorder,this.tooltipBorder),i>this.maxTooltipWidth||n>this.maxTooltipHeight?this.graph2.view.scale=Math.round(100*Math.min(this.maxTooltipWidth/i,this.maxTooltipHeight/n))/100:this.graph2.view.scale=1,this.tooltip.style.display="block",this.graph2.labelsVisible=null==o||o,this.graph2.addCells(e);var r=this.graph2.getGraphBounds(),s=r.width+2*this.tooltipBorder+4,a=r.height+2*this.tooltipBorder;if(mxClient.IS_QUIRKS?(a+=4,this.tooltip.style.overflow="hidden"):this.tooltip.style.overflow="visible",this.tooltipImage.style.visibility="visible",this.tooltip.style.width=s+"px",this.tooltipTitles&&null!=l&&l.length>0){null==this.tooltipTitle?(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.style.borderTop="1px solid gray",this.tooltipTitle.style.textAlign="center",this.tooltipTitle.style.width="100%",this.tooltipTitle.style.overflow="hidden",mxClient.IS_SVG?this.tooltipTitle.style.paddingTop="6px":(this.tooltipTitle.style.position="absolute",this.tooltipTitle.style.paddingTop="6px"),this.tooltip.appendChild(this.tooltipTitle)):this.tooltipTitle.innerHTML="",this.tooltipTitle.style.display="",mxUtils.write(this.tooltipTitle,l);var g=this.tooltipTitle.offsetHeight+10;a+=g,mxClient.IS_SVG?this.tooltipTitle.style.marginTop=2-g+"px":(a-=6,this.tooltipTitle.style.top=a-g+"px")}else null!=this.tooltipTitle&&null!=this.tooltipTitle.parentNode&&(this.tooltipTitle.style.display="none");this.tooltip.style.height=a+"px";var C=-Math.round(r.x-this.tooltipBorder),h=-Math.round(r.y-this.tooltipBorder),A=this.editorUi.container,I=document.documentElement,c=A.clientHeight||I.clientHeight,d=A.offsetLeft,u=A.offsetTop,p=this.container.clientWidth+this.editorUi.splitSize+3+this.editorUi.container.offsetLeft-d,m=Math.min(c-a-20,Math.max(0,this.editorUi.container.offsetTop+this.container.offsetTop+t.offsetTop-this.container.scrollTop-a/2+16))-u;mxClient.IS_SVG?0!=C||0!=h?this.graph2.view.canvas.setAttribute("transform","translate("+C+","+h+")"):this.graph2.view.canvas.removeAttribute("transform"):(this.graph2.view.drawPane.style.left=C+"px",this.graph2.view.drawPane.style.top=h+"px"),this.tooltip.style.position="absolute",this.tooltip.style.left=p+"px",this.tooltip.style.top=m+"px",this.tooltipImage.style.left=p-13+"px",this.tooltipImage.style.top=m+a/2-13+"px"});null!=this.tooltip&&"none"!=this.tooltip.style.display?r():this.thread=window.setTimeout(r,this.tooltipDelay),this.currentElt=t}},Sidebar.prototype.hideTooltip=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null),null!=this.tooltip&&(this.tooltip.style.display="none",this.tooltipImage.style.visibility="hidden",this.currentElt=null)},Sidebar.prototype.addEntry=function(t,e){if(null!=this.taglist&&null!=t&&t.length>0)for(var i=t.toLowerCase().replace(/[\/\,\(\)]/g," ").split(" "),n=0;n<i.length;n++)if(i[n].length>1){var l=this.taglist[i[n]];null==l&&(l={entries:[],dict:new mxDictionary},this.taglist[i[n]]=l),null==l.dict.get(e)&&(l.dict.put(e,e),l.entries.push(e))}return e},Sidebar.prototype.searchEntries=function(t,e,i,n,l){if(null!=this.taglist&&null!=t){for(var o=t.toLowerCase().split(" "),r=(i+1)*e,s=[],a=0;a<o.length;a++)if(o[a].length>0&&null!=(h=this.taglist[o[a]]))for(var g=h.entries,C=0;C<g.length;C++){var h=g[C];if(s.indexOf(h)<0&&s.push(h),a<o.length-1&&s.length==r)return void n(s.slice(i*e,r),r,!0)}var A=s.length;n(s.slice(i*e,(i+1)*e),A,!1)}else n([])},Sidebar.prototype.filterTags=function(t){if(null!=t){for(var e=t.split(" "),i=[],n={},l=0;l<e.length;l++)null==n[e[l]]&&(n[e[l]]="1",i.push(e[l]));return i.join(" ")}return null},Sidebar.prototype.cloneCell=function(t,e){var i=t.clone();return null!=e&&(i.value=e),i},Sidebar.prototype.addSearchPalette=function(t){var e=document.createElement("div");e.style.visibility="hidden",this.container.appendChild(e);var i=document.createElement("div");i.className="geSidebar",i.style.boxSizing="border-box",i.style.overflow="hidden",i.style.width="100%",i.style.padding="8px",i.style.paddingTop="14px",i.style.paddingBottom="0px",t||(i.style.display="none");var n=document.createElement("div");n.style.whiteSpace="nowrap",n.style.textOverflow="clip",n.style.paddingBottom="8px",n.style.cursor="default";var l=document.createElement("input");l.setAttribute("placeholder",mxResources.get("searchShapes")),l.setAttribute("type","text"),l.style.fontSize="12px",l.style.overflow="hidden",l.style.boxSizing="border-box",l.style.border="solid 1px #d5d5d5",l.style.borderRadius="4px",l.style.width="100%",l.style.outline="none",l.style.padding="6px",n.appendChild(l);var o=document.createElement("img");o.setAttribute("src",Sidebar.prototype.searchImage),o.setAttribute("title",mxResources.get("search")),o.style.position="relative",o.style.left="-18px",mxClient.IS_QUIRKS?(l.style.height="28px",o.style.top="2px"):o.style.top="8px",o.style.background="url('"+this.editorUi.editor.transparentImage+"')";var r;n.appendChild(o),i.appendChild(n);var s=document.createElement("center"),a=mxUtils.button(mxResources.get("moreResults"),function(){r()});a.style.display="none",a.style.lineHeight="normal",a.style.marginTop="4px",a.style.marginBottom="8px",s.style.paddingTop="4px",s.style.paddingBottom="8px",s.appendChild(a),i.appendChild(s);var g="",C=!1,h=!1,A=0,I=new Object,c=12,d=mxUtils.bind(this,function(){C=!1,this.currentSearch=null;for(var t=i.firstChild;null!=t;){var e=t.nextSibling;t!=n&&t!=s&&t.parentNode.removeChild(t),t=e}});r=mxUtils.bind(this,function(){if(c=4*Math.max(1,Math.floor(this.container.clientWidth/(this.thumbWidth+10))),this.hideTooltip(),""!=l.value){if(null!=s.parentNode&&(g!=l.value&&(d(),g=l.value,I=new Object,h=!1,A=0),!C&&!h)){a.setAttribute("disabled","true"),a.style.display="",a.style.cursor="wait",a.innerHTML=mxResources.get("loading")+"...",C=!0;var t=new Object;this.currentSearch=t,this.searchEntries(g,c,A,mxUtils.bind(this,function(e,n,l){if(this.currentSearch==t){e=null!=e?e:[],C=!1,A++,s.parentNode.removeChild(s);for(var o=0;o<e.length;o++){this.searchFlag=!0;var r=e[o]();this.searchFlag=!1,I[r.innerHTML]=r}for(var c in I)i.appendChild(I[c]);if(l?(a.removeAttribute("disabled"),a.innerHTML=mxResources.get("moreResults")):(a.innerHTML=mxResources.get("reset"),a.style.display="none",h=!0),a.style.cursor="",0==e.length&&1==A){var d=document.createElement("div");d.className="geTitle",d.style.backgroundColor="transparent",d.style.borderColor="transparent",d.style.color="gray",d.style.padding="0px",d.style.margin="0px 8px 0px 8px",d.style.paddingTop="6px",d.style.textAlign="center",d.style.cursor="default",mxUtils.write(d,mxResources.get("noResultsFor",[g])),i.appendChild(d)}i.appendChild(s)}}),mxUtils.bind(this,function(){a.style.cursor=""}))}}else d(),l.value="",g="",I=new Object,a.style.display="none",h=!1,l.focus()}),mxEvent.addListener(l,"keydown",mxUtils.bind(this,function(t){13==t.keyCode&&r()})),mxEvent.addListener(l,"focus",function(){l.style.paddingRight="",o.style.display="none"}),mxEvent.addListener(l,"blur",function(){l.style.paddingRight="20px",o.style.display=""}),l.style.paddingRight="20px",mxEvent.addListener(l,"keyup",mxUtils.bind(this,function(t){""==l.value?(h=!0,a.style.display="none"):l.value!=g?(a.style.display="none",h=!1):C||(a.style.display=h?"none":"")})),mxEvent.addListener(l,"mousedown",function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}),mxEvent.addListener(l,"selectstart",function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0});var u=document.createElement("div");u.appendChild(i),this.container.appendChild(u),this.palettes.search=[e,u]},Sidebar.prototype.addOtherPalette=function(t,e,i,n){var l=[];for(var o in t)if(t[o].property){!n&&this.editorUi.interfaceParams.id&&this.editorUi.interfaceParams.id==t[o].id&&"edit"==this.editorUi.interfaceParams.operator&&(window.opener={},window.opener.openFile=new OpenFile,window.opener.openFile.setData(JSON.parse(t[o].data).xml,t[o].filename),this.editorUi.openModel());var r=t[o].property,s=t[o];"edge"==r.type.toLowerCase()?l.push(this.createEdgeTemplateEntry(s,e,r.style,r.width,r.height,r.value,r.title)):s.data?l.push(this.createVertexTemplateFromXMLEntry(s,e)):l.push(this.createVertexTemplateEntry(s,e,r.style,r.width,r.height,r.value,r.title,r.showLabel,r.showTitle,r.tags))}var a=this.modelClass[e]||t[0].description||t[0].class;a&&this.addPaletteFunctions(e,a,null==i||i,l)},Sidebar.prototype.addOtherNewPalette=function(t,e,i,n){var l=[];for(var o in t)if(t[o].property){!n&&this.editorUi.interfaceParams.id&&this.editorUi.interfaceParams.id==t[o].id&&"edit"==this.editorUi.interfaceParams.operator&&(window.opener={},window.opener.openFile=new OpenFile,window.opener.openFile.setData(JSON.parse(t[o].data).xml,t[o].filename),this.editorUi.openModel());var r=t[o].property,s=t[o];"edge"==r.type.toLowerCase()?l.push(this.createEdgeTemplateEntry(s,e,r.style,r.width,r.height,r.value,r.title)):s.data?(this.saveModelFlag=!0,l.push(this.createVertexTemplateFromXMLEntry(s,e))):l.push(this.createVertexTemplateEntry(s,e,r.style,r.width,r.height,r.value,r.title,r.showLabel,r.showTitle,r.tags))}var a=this.modelClass[e]||t[0].description||t[0].class;a&&this.addOtherPaletteFunctions(e,a,null==i||i,l)},Sidebar.prototype.addGeneralPalette=function(t,e,i,n){var l=[];for(var o in t){!n&&this.editorUi.interfaceParams.id&&this.editorUi.interfaceParams.id==t[o].id&&"edit"==this.editorUi.interfaceParams.operator&&(window.opener={},window.opener.openFile=new OpenFile,window.opener.openFile.setData(JSON.parse(t[o].data).xml,t[o].filename),this.editorUi.openModel());var r=t[o].property,s=t[o];"edge"==r.type.toLowerCase()?l.push(this.createEdgeTemplateEntry(s,e,r.style,r.width,r.height,r.value,r.title)):s.data?l.push(this.createVertexTemplateFromXMLEntry(s,e)):l.push(this.createVertexTemplateEntry(s,e,r.style,r.width,r.height,r.value,r.title,r.showLabel,r.showTitle,r.tags))}var a=this.modelClass[e]||t[0].description||t[0].class;a&&this.addPaletteFunctionsOne(e,a,null==i||i,l)},Sidebar.prototype.createVertexTemplateFromXML=function(t,e){var i=t.data,n=t.name,l=t.id,o=t.author,r=t.designLibraryId,s=JSON.parse(i),a=mxUtils.parseXml(s.xml),g=new mxGraphModel;new mxCodec(a).decode(a.documentElement,g);for(var C=g.getChildAt(g.getRoot(),0),h=[],A=0;A<g.getChildCount(C);A++)h.push(g.getChildAt(C,A));return h[0].setCategory(e),l&&h[0].setUuid(l),o&&h[0].setAuthor(o),r&&h[0].setDesignLibraryId(r),this.createVertexTemplateFromCells(h,s.w,s.h,n,!0,!1,!1,t)},Sidebar.prototype.getModelClassRecords=function(t,e){mxUtils.post(t,e,mxUtils.bind(this,function(t){var e=JSON.parse(t.getText());if(0==e.status){for(var i=[],n=0;n<e.data.length;n++){var l=void 0!=e.data[n].description&&""!=e.data[n].description?e.data[n].description:e.data[n].name;this.modelClass[e.data[n].name]=l,this.modelClass.length++,i.push('d.class=="'+e.data[n].name+'"')}var o=i.join(" || ");if(o="("+o+") ",i=[],""!=this.editorUi.interfaceParams.designLibraryId&&i.push('(d.designLibraryId=="'+this.editorUi.interfaceParams.designLibraryId+'" || d.designLibraryId=="")'),""!=this.editorUi.interfaceParams.author&&i.push('(d.author=="'+this.editorUi.interfaceParams.author+'" || d.author=="")'),i.length>0&&(o=o+" && ("+i.join(" || ")+")"),o+=' || d.class=="'+this.modelList[0]+'"',this.modelClass.length>0){var r;i.length>0&&(r="query="+encodeURIComponent(o));var s=BASE_URL+MODEL_COLLECTION+GET_URL;this.getModelAndAddPalette(s,r)}}else mxUtils.alert(e.data.msg)}))},Sidebar.prototype.getModelAndAddPalette=function(t,e){mxUtils.post(t,e,mxUtils.bind(this,function(t){var e=JSON.parse(t.getText()),i={};if(0==e.status){for(var n=e.data,l=0;l<n.length;l++){var o=n[l].class,r=n[l];void 0===i[o]&&(i[o]=[]),i[o].push(r)}if(i[this.modelList[0]]){var s=i[this.modelList[0]];this.addGeneralPalette(s,this.modelList[0],!1),delete i[this.modelList[0]]}var a=this.createSecondTitle(this.modelList[1]);this.container.appendChild(a);var g=[];for(var C in i)g.push([C,i[C]]);g.sort(function(t,e){return t[0].localeCompare(e[0])});for(var h in g)this.addOtherPalette(g[h][1],g[h][0],!1)}else mxUtils.alert(e.data.msg);var A=document.getElementsByClassName("second")[0],I=document.getElementsByClassName("two"),c=document.getElementsByClassName("third"),d=document.getElementsByClassName("geTitle");mxEvent.addListener(A,"click",mxUtils.bind(this,function(){for(l=0;l<I.length;l++)"none"!=I[l].style.display?(I[l].style.display="none",c[l].style.display="none",A.style.backgroundImage="url('"+this.collapsedImage+"')"):(I[l].style.display="block",d[l].style.backgroundImage="url('"+this.collapsedImage+"')",c[l].style.display="none",A.style.backgroundImage="url('"+this.expandedImage+"')")}))}))},Sidebar.prototype.createTitle=function(t){var e=document.createElement("a");return e.setAttribute("href","javascript:void(0);"),e.setAttribute("title",mxResources.get("sidebarTooltip")),e.className="geTitle",mxUtils.write(e,t),e},Sidebar.prototype.createFirstTitle=function(t){t=mxResources.get(t)?mxResources.get(t):t;var e=document.createElement("a");return e.setAttribute("href","javascript:void(0);"),e.setAttribute("title",mxResources.get("sidebarTooltip")),e.className="geFirstTitle",e.style.backgroundImage="url('"+this.collapsedImage+"')",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="5px 50%",mxUtils.write(e,t),e},Sidebar.prototype.createSecondTitle=function(t){var e=document.createElement("a");return e.setAttribute("href","javascript:void(0);"),e.setAttribute("title",mxResources.get("sidebarTooltip")),e.className="geFirstTitle second",e.style.backgroundImage="url('"+this.collapsedImage+"')",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="5px 50%",mxUtils.write(e,t),e},Sidebar.prototype.createThumb=function(t,e,i,n,l,o,r,s,a){this.graph.labelsVisible=null==o||o;var g=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject;var C,h,A=this.graph.getModel().getValue(t[0]).getAttribute("image");if(A)C=(40-e)/2,h=(40-i)/2;else{this.graph.view.scaleAndTranslate(1,0,0),this.graph.addCells(t);var I=this.graph.getGraphBounds(),c=Math.floor(100*Math.min((e-2*this.thumbBorder)/I.width,(i-2*this.thumbBorder)/I.height))/100;this.graph.view.scaleAndTranslate(c,Math.floor((e-I.width*c)/2/c-I.x),Math.floor((i-I.height*c)/2/c-I.y))}var d=null;if(A&&"null"!=A&&"undefined"!=A?(d=document.createElement("img")).src=A:this.graph.dialect!=mxConstants.DIALECT_SVG||mxClient.NO_FO?(d=this.graph.container.cloneNode(!1)).innerHTML=this.graph.container.innerHTML:d=this.graph.view.getCanvas().ownerSVGElement.cloneNode(!0),this.graph.getModel().clear(),mxClient.NO_FO=g,mxClient.IS_IE6&&(n.style.backgroundImage="url("+this.editorUi.editor.transparentImage+")"),d.style.position="relative",d.style.overflow="hidden",d.style.cursor="move",d.style.left=(C||this.thumbBorder)+"px",d.style.top=(h||this.thumbBorder)+"px",d.style.width=e+"px",d.style.height=i+"px",d.style.visibility="",d.style.minWidth="",d.style.minHeight="",n.appendChild(d),this.sidebarTitles&&null!=l&&0!=r){var u=mxClient.IS_QUIRKS?2*this.thumbPadding+2:0;n.style.height=this.thumbHeight+u+this.sidebarTitleSize+8+"px";var p=document.createElement("div");p.style.fontSize=this.sidebarTitleSize+"px",p.style.color="#303030",p.style.textAlign="center",p.style.whiteSpace="nowrap",mxClient.IS_IE&&(p.style.height=this.sidebarTitleSize+12+"px"),p.style.paddingTop="4px",mxUtils.write(p,l),n.appendChild(p)}return I},Sidebar.prototype.createItem=function(t,e,i,n,l,o,r,s){function a(l){var o,r,s=l.lastIndexOf("_"),a=l.lastIndexOf("."),g=l.slice(s+1,a),C=parseInt(g.split("x")[0]),h=parseInt(g.split("x")[1]),I=this.thumbWidth,c=this.thumbHeight;(C>I||h>c)&&(C/h>I/c?(r=Math.floor(h*I/C),o=I):(o=Math.floor(C*c/h),r=c)),this.createThumb(t,o,r,A,e,i,n,C,h)}var g=t[0].getUuid(),C=t[0].getAuthor(),h=t[0].getDesignLibraryId(),A=null;if(!this.searchFlag&&this.saveModelFlag&&""!=g)for(var I=(A=document.getElementsByClassName(g)).length-1;I>=0;I--)A[I].parentNode.removeChild(A[I]);this.saveModelFlag&&(this.saveModelFlag=!1),(A=document.createElement("a")).setAttribute("href","javascript:void(0);");var c="geItem";""!=g&&(c+=" "+g),A.className=c,A.style.overflow="hidden";var d=mxClient.IS_QUIRKS?8+2*this.thumbPadding:2*this.thumbBorder;A.style.width=this.thumbWidth+d+"px",A.style.height=this.thumbHeight+d+"px",A.style.padding=this.thumbPadding+"px",mxEvent.addListener(A,"click",function(t){mxEvent.consume(t)}),A.oncontextmenu=function(t){return!1},s&&mxEvent.addListener(A,"mouseup",mxUtils.bind(this,function(t){if(mxEvent.isRightMouseButton(t)){this.editorUi.editor.graph.selectAll(null,!0);if(!(!(this.editorUi.editor.graph.getSelectionCount()>0)||mxUtils.confirm(mxResources.get("sureNew"))))return;this.editorUi.editor.graph.model.nextId=0,this.editorUi.attributeNameIndex=1;var e=[];e.id=g,e.designLibraryId=h,e.author=C,e.type="model",e.operator="edit",this.editorUi.initInterfaceParams(e),window.opener={},window.opener.openFile=new OpenFile,window.opener.openFile.setData(JSON.parse(s.data).xml,s.filename),this.editorUi.openModel();var i="Edit model: "+this.editorUi.editor.getOrCreateFilename();document.title=i,this.editorUi.footwall.reset()}}));var u=this.graph.getModel().getValue(t[0]).getAttribute("image");u&&"null"!=u&&"undefined"!=u?a.bind(this)(u):this.createThumb(t,this.thumbWidth,this.thumbHeight,A,e,i,n,l,o);var p=new mxRectangle(0,0,l,o);if(t.length>1||t[0].vertex){m=this.createDragSource(A,this.createDropHandler(t,!0,r,p),this.createDragPreview(l,o),t,p);this.addClickHandler(A,m,t),m.isGuidesEnabled=mxUtils.bind(this,function(){return this.editorUi.editor.graph.graphHandler.guidesEnabled})}else if(null!=t[0]&&t[0].edge){var m=this.createDragSource(A,this.createDropHandler(t,!1,r,p),this.createDragPreview(l,o),t,p);this.addClickHandler(A,m,t)}return mxClient.IS_IOS||mxEvent.addGestureListeners(A,null,mxUtils.bind(this,function(n){mxEvent.isMouseEvent(n)&&this.showTooltip(A,t,p.width,p.height,e,i)})),A},Sidebar.prototype.updateShapes=function(t,e){var i=this.editorUi.editor.graph,n=i.getCellStyle(t),l=[];i.model.beginUpdate();try{for(var o=i.getModel().getStyle(t),r=["shadow","dashed","dashPattern","fontFamily","fontSize","fontColor","align","startFill","startSize","endFill","endSize","strokeColor","strokeWidth","fillColor","gradientColor","html","part","noEdgeStyle","edgeStyle","elbow","childLayout"],s=0;s<e.length;s++){var a=e[s];if(i.getModel().isVertex(a)==i.getModel().isVertex(t)||i.getModel().isEdge(a)==i.getModel().isEdge(t)){var g=i.view.getState(a),C=null!=g?g.style:i.getCellStyle(e[s]);if(i.getModel().setStyle(a,o),null!=g&&"1"==mxUtils.getValue(g.style,"composite","0"))for(h=i.model.getChildCount(a);h>=0;h--)i.model.remove(i.model.getChildAt(a,h));if(null!=C){"umlLifeline"==C[mxConstants.STYLE_SHAPE]&&"umlLifeline"!=n[mxConstants.STYLE_SHAPE]&&(i.setCellStyles(mxConstants.STYLE_SHAPE,"umlLifeline",[a]),i.setCellStyles("participant",n[mxConstants.STYLE_SHAPE],[a]));for(var h=0;h<r.length;h++){var A=C[r[h]];null!=A&&i.setCellStyles(r[h],A,[a])}}l.push(a)}}}finally{i.model.endUpdate()}return l},Sidebar.prototype.createDropHandler=function(t,e,i,n){return i=null==i||i,mxUtils.bind(this,function(l,o,r,s,a){if(l.isEnabled()){if((t=l.getImportableCells(t)).length>0){l.stopEditing();var g=null!=r&&l.isValidDropTarget(r,t,o),C=null;if(null==r||g||(r=null),!l.isCellLocked(r||l.getDefaultParent())){l.model.beginUpdate();try{if(s=Math.round(s),a=Math.round(a),e&&l.isSplitTarget(r,t,o)){var h=l.cloneCells(t);l.splitEdge(r,h,null,s-n.width/2,a-n.height/2),C=h}else t.length>0&&(C=l.importCells(t,s,a,r));if(null!=l.layoutManager){var A=l.layoutManager.getLayout(r);if(null!=A)for(var I=l.view.scale,c=l.view.translate,d=(s+c.x)*I,u=(a+c.y)*I,p=0;p<C.length;p++)A.moveCell(C[p],d,u)}i&&l.fireEvent(new mxEventObject("cellsInserted","cells",C))}finally{l.model.endUpdate()}null!=C&&C.length>0&&(l.scrollCellToVisible(C[0]),l.setSelectionCells(C))}}mxEvent.consume(o)}})},Sidebar.prototype.createDragPreview=function(t,e){var i=document.createElement("div");return i.style.border="1px dashed black",i.style.width=t+"px",i.style.height=e+"px",i},Sidebar.prototype.dropAndConnect=function(t,e,i,n){var l=this.getDropAndConnectGeometry(t,e[n],i,e);if(null!=l){var o=this.editorUi.editor.graph,r=[];o.model.beginUpdate();try{var s=o.getCellGeometry(t),a=o.getCellGeometry(e[n]),g=o.model.getParent(t),C=!0;if(null!=o.layoutManager){var h=o.layoutManager.getLayout(g);if(null!=h&&h.constructor==mxStackLayout&&(C=!1,null!=(r=o.view.getState(g)))){m=new mxPoint(r.x/o.view.scale-o.view.translate.x,r.y/o.view.scale-o.view.translate.y);l.x+=m.x,l.y+=m.y;var A=l.getTerminalPoint(!1);null!=A&&(A.x+=m.x,A.y+=m.y)}}var I=a.x,c=a.y;o.model.isEdge(e[n])&&(I=0,c=0);var d=o.model.isEdge(t)||null!=s&&!s.relative&&C;if(e=o.importCells(e,l.x-(d?I:0),l.y-(d?c:0),d?g:null),r=e,o.model.isEdge(t))o.model.setTerminal(t,e[n],i==mxConstants.DIRECTION_NORTH);else if(o.model.isEdge(e[n])){o.model.setTerminal(e[n],t,!0);var u=o.getCellGeometry(e[n]);if(u.points=null,null!=u.getTerminalPoint(!1))u.setTerminalPoint(l.getTerminalPoint(!1),!1);else if(d&&o.model.isVertex(g)){var p=o.view.getState(g),m=new mxPoint(p.x/o.view.scale-o.view.translate.x,p.y/o.view.scale-o.view.translate.y);o.cellsMoved(e,m.x,m.y,null,null,!0)}}else a=o.getCellGeometry(e[n]),I=l.x-Math.round(a.x),c=l.y-Math.round(a.y),l.x=Math.round(a.x),l.y=Math.round(a.y),o.model.setGeometry(e[n],l),o.cellsMoved(e,I,c,null,null,!0),r=e.slice(),e.push(o.insertEdge(null,null,"",t,e[n],o.createCurrentEdgeStyle()));o.fireEvent(new mxEventObject("cellsInserted","cells",e))}finally{o.model.endUpdate()}o.setSelectionCells(r)}},Sidebar.prototype.getDropAndConnectGeometry=function(t,e,i,n){var l=this.editorUi.editor.graph,o=l.view,r=n.length>1,s=l.getCellGeometry(t),a=l.getCellGeometry(e);if(null!=s&&null!=a)if(a=a.clone(),l.model.isEdge(t)){var g=(A=l.view.getState(t)).absolutePoints,C=g[0],h=g[g.length-1];i==mxConstants.DIRECTION_NORTH?(a.x=C.x/o.scale-o.translate.x-a.width/2,a.y=C.y/o.scale-o.translate.y-a.height/2):(a.x=h.x/o.scale-o.translate.x-a.width/2,a.y=h.y/o.scale-o.translate.y-a.height/2)}else{if(s.relative){var A=l.view.getState(t);(s=s.clone()).x=(A.x-o.translate.x)/o.scale,s.y=(A.y-o.translate.y)/o.scale}var I=l.defaultEdgeLength;if(l.model.isEdge(e)&&null!=a.getTerminalPoint(!0)&&null!=a.getTerminalPoint(!1)){var C=a.getTerminalPoint(!0),c=(h=a.getTerminalPoint(!1)).x-C.x,d=h.y-C.y;I=Math.sqrt(c*c+d*d),a.x=s.getCenterX(),a.y=s.getCenterY(),a.width=1,a.height=1,i==mxConstants.DIRECTION_NORTH?(a.height=I,a.y=s.y-I,a.setTerminalPoint(new mxPoint(a.x,a.y),!1)):i==mxConstants.DIRECTION_EAST?(a.width=I,a.x=s.x+s.width,a.setTerminalPoint(new mxPoint(a.x+a.width,a.y),!1)):i==mxConstants.DIRECTION_SOUTH?(a.height=I,a.y=s.y+s.height,a.setTerminalPoint(new mxPoint(a.x,a.y+a.height),!1)):i==mxConstants.DIRECTION_WEST&&(a.width=I,a.x=s.x-I,a.setTerminalPoint(new mxPoint(a.x,a.y),!1))}else if(!r&&a.width>45&&a.height>45&&s.width>45&&s.height>45&&(a.width=a.width*(s.height/a.height),a.height=s.height),a.x=s.x+s.width/2-a.width/2,a.y=s.y+s.height/2-a.height/2,i==mxConstants.DIRECTION_NORTH?a.y=a.y-s.height/2-a.height/2-I:i==mxConstants.DIRECTION_EAST?a.x=a.x+s.width/2+a.width/2+I:i==mxConstants.DIRECTION_SOUTH?a.y=a.y+s.height/2+a.height/2+I:i==mxConstants.DIRECTION_WEST&&(a.x=a.x-s.width/2-a.width/2-I),l.model.isEdge(e)&&null!=a.getTerminalPoint(!0)&&null!=e.getTerminal(!1)){var u=l.getCellGeometry(e.getTerminal(!1));null!=u&&(i==mxConstants.DIRECTION_NORTH?(a.x-=u.getCenterX(),a.y-=u.getCenterY()+u.height/2):i==mxConstants.DIRECTION_EAST?(a.x-=u.getCenterX()-u.width/2,a.y-=u.getCenterY()):i==mxConstants.DIRECTION_SOUTH?(a.x-=u.getCenterX(),a.y-=u.getCenterY()-u.height/2):i==mxConstants.DIRECTION_WEST&&(a.x-=u.getCenterX()+u.width/2,a.y-=u.getCenterY()))}}return a},Sidebar.prototype.createDragSource=function(t,e,i,n,l){function o(t,e){var i=null;return mxClient.IS_IE&&!mxClient.IS_SVG?(mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?((i=document.createElement(mxClient.VML_PREFIX+":image")).setAttribute("src",t.src),i.style.borderStyle="none"):((i=document.createElement("div")).style.backgroundImage="url("+t.src+")",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat"),i.style.width=t.width+4+"px",i.style.height=t.height+4+"px",i.style.display=mxClient.IS_QUIRKS?"inline":"inline-block"):((i=mxUtils.createImage(t.src)).style.width=t.width+"px",i.style.height=t.height+"px"),null!=e&&i.setAttribute("title",e),mxUtils.setOpacity(i,t==this.refreshTarget?30:20),i.style.position="absolute",i.style.cursor="crosshair",i}function r(t,e,i,n){return null!=n.parentNode&&(mxUtils.contains(i,t,e)?(mxUtils.setOpacity(n,100),G=n):mxUtils.setOpacity(n,n==b?30:20)),i}for(var s=this.editorUi,a=s.editor.graph,g=null,C=null,h=this,A=0;A<n.length&&(null==C&&this.editorUi.editor.graph.model.isVertex(n[A])?C=A:null==g&&this.editorUi.editor.graph.model.isEdge(n[A])&&null==this.editorUi.editor.graph.model.getTerminal(n[A],!0)&&(g=A),null==C||null==g);A++);var I=mxUtils.makeDraggable(t,this.editorUi.editor.graph,mxUtils.bind(this,function(t,i,l,o,r){if(null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=n&&null!=p&&G==b){var s=t.isCellSelected(p.cell)?t.getSelectionCells():[p.cell],a=this.updateShapes(t.model.isEdge(p.cell)?n[0]:n[C],s);t.setSelectionCells(a)}else if(null!=n&&null!=G&&null!=d&&G!=b){var h=t.model.isEdge(d.cell)||null==g?C:g;this.dropAndConnect(d.cell,n,T,h)}else e.apply(this,arguments);null!=this.editorUi.hoverIcons&&this.editorUi.hoverIcons.update(t.view.getState(t.getSelectionCell()))}),i,0,0,this.editorUi.editor.graph.autoscroll,!0,!0);this.editorUi.editor.graph.addListener(mxEvent.ESCAPE,function(t,e){I.isActive()&&I.reset()});var c=I.mouseDown;I.mouseDown=function(t){mxEvent.isPopupTrigger(t)||mxEvent.isMultiTouchEvent(t)||(a.stopEditing(),c.apply(this,arguments))};var d=null,u=null,p=null,m=!1,x=o(this.triangleUp,mxResources.get("connect")),v=o(this.triangleRight,mxResources.get("connect")),y=o(this.triangleDown,mxResources.get("connect")),f=o(this.triangleLeft,mxResources.get("connect")),b=o(this.refreshTarget,mxResources.get("replace")),w=null,E=o(this.roundDrop),S=o(this.roundDrop),T=mxConstants.DIRECTION_NORTH,G=null,R=I.createPreviewElement;I.createPreviewElement=function(t){var e=R.apply(this,arguments);return mxClient.IS_SVG&&(e.style.pointerEvents="none"),this.previewElementWidth=e.style.width,this.previewElementHeight=e.style.height,e};var L=I.dragEnter;I.dragEnter=function(t,e){null!=s.hoverIcons&&s.hoverIcons.setDisplay("none"),L.apply(this,arguments)};var P=I.dragExit;I.dragExit=function(t,e){null!=s.hoverIcons&&s.hoverIcons.setDisplay(""),P.apply(this,arguments)},I.dragOver=function(t,e){if(mxDragSource.prototype.dragOver.apply(this,arguments),null!=this.currentGuide&&null!=G&&this.currentGuide.hide(),null!=this.previewElement){var i=t.view;if(null!=p&&G==b)this.previewElement.style.display=t.model.isEdge(p.cell)?"block":"none",this.previewElement.style.left=p.x+"px",this.previewElement.style.top=p.y+"px",this.previewElement.style.width=p.width+"px",this.previewElement.style.height=p.height+"px";else if(null!=d&&null!=G){var o=t.model.isEdge(d.cell)||null==g?C:g,r=h.getDropAndConnectGeometry(d.cell,n[o],T,n),s=t.model.isEdge(d.cell)?null:t.getCellGeometry(d.cell),a=t.getCellGeometry(n[o]),A=t.model.getParent(d.cell),c=i.translate.x*i.scale,u=i.translate.y*i.scale;if(null!=s&&!s.relative&&t.model.isVertex(A)){var m=i.getState(A);c=m.x,u=m.y}var x=a.x,v=a.y;t.model.isEdge(n[o])&&(x=0,v=0),this.previewElement.style.left=(r.x-x)*i.scale+c+"px",this.previewElement.style.top=(r.y-v)*i.scale+u+"px",1==n.length&&(this.previewElement.style.width=r.width*i.scale+"px",this.previewElement.style.height=r.height*i.scale+"px"),this.previewElement.style.display=""}else null!=I.currentHighlight.state&&t.model.isEdge(I.currentHighlight.state.cell)?(this.previewElement.style.left=Math.round(parseInt(this.previewElement.style.left)-l.width*i.scale/2)+"px",this.previewElement.style.top=Math.round(parseInt(this.previewElement.style.top)-l.height*i.scale/2)+"px"):(this.previewElement.style.width=this.previewElementWidth,this.previewElement.style.height=this.previewElementHeight,this.previewElement.style.display="")}};var M=(new Date).getTime(),N=0,D=null,O=this.editorUi.editor.graph.getCellStyle(n[0]);return I.getDropTarget=mxUtils.bind(this,function(t,e,i,l){var o=mxEvent.isAltDown(l)||null==n?null:t.getCellAt(e,i);if(null!=o&&!this.graph.isCellConnectable(o)){var s=this.graph.getModel().getParent(o);this.graph.getModel().isVertex(s)&&this.graph.isCellConnectable(s)&&(o=s)}t.isCellLocked(o)&&(o=null);var a=t.view.getState(o);G=null;var g=null;if(D!=a?(D=a,M=(new Date).getTime(),N=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=a&&(this.updateThread=window.setTimeout(function(){null==G&&(D=a,I.getDropTarget(t,e,i,l))},this.dropTargetDelay+10))):N=(new Date).getTime()-M,N<2500&&null!=a&&!mxEvent.isShiftDown(l)&&(mxUtils.getValue(a.style,mxConstants.STYLE_SHAPE)!=mxUtils.getValue(O,mxConstants.STYLE_SHAPE)&&mxUtils.getValue(a.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE||"image"==mxUtils.getValue(O,mxConstants.STYLE_SHAPE)||N>1500||t.model.isEdge(a.cell))&&N>this.dropTargetDelay&&(t.model.isVertex(a.cell)&&null!=C||t.model.isEdge(a.cell)&&t.model.isEdge(n[0])))p=a,h=new mxRectangle((h=t.model.isEdge(a.cell)?t.view.getPoint(a):new mxPoint(a.getCenterX(),a.getCenterY())).x-this.refreshTarget.width/2,h.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),b.style.left=Math.floor(h.x)+"px",b.style.top=Math.floor(h.y)+"px",null==w&&(t.container.appendChild(b),w=b.parentNode),r(e,i,h,b);else if(null==p||!mxUtils.contains(p,e,i)||N>1500&&!mxEvent.isShiftDown(l))p=null,null!=w&&(b.parentNode.removeChild(b),w=null);else if(null!=p&&null!=w){var h=t.model.isEdge(p.cell)?t.view.getPoint(p):new mxPoint(p.getCenterX(),p.getCenterY());h=new mxRectangle(h.x-this.refreshTarget.width/2,h.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),r(e,i,h,b)}if(m&&null!=d&&!mxEvent.isAltDown(l)&&null==G){if(g=mxRectangle.fromRectangle(d),t.model.isEdge(d.cell)){var A=d.absolutePoints;if(null!=E.parentNode){P=A[0];g.add(r(e,i,new mxRectangle(P.x-this.roundDrop.width/2,P.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),E))}if(null!=S.parentNode){U=A[A.length-1];g.add(r(e,i,new mxRectangle(U.x-this.roundDrop.width/2,U.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),S))}}else{H=mxRectangle.fromRectangle(d);null!=d.shape&&null!=d.shape.boundingBox&&(H=mxRectangle.fromRectangle(d.shape.boundingBox)),H.grow(this.graph.tolerance),H.grow(HoverIcons.prototype.arrowSpacing),null!=(V=this.graph.selectionCellsHandler.getHandler(d.cell))&&(H.x-=V.horizontalOffset/2,H.y-=V.verticalOffset/2,H.width+=V.horizontalOffset,H.height+=V.verticalOffset,null!=V.rotationShape&&null!=V.rotationShape.node&&"hidden"!=V.rotationShape.node.style.visibility&&"none"!=V.rotationShape.node.style.display&&null!=V.rotationShape.boundingBox&&H.add(V.rotationShape.boundingBox)),g.add(r(e,i,new mxRectangle(d.getCenterX()-this.triangleUp.width/2,H.y-this.triangleUp.height,this.triangleUp.width,this.triangleUp.height),x)),g.add(r(e,i,new mxRectangle(H.x+H.width,d.getCenterY()-this.triangleRight.height/2,this.triangleRight.width,this.triangleRight.height),v)),g.add(r(e,i,new mxRectangle(d.getCenterX()-this.triangleDown.width/2,H.y+H.height,this.triangleDown.width,this.triangleDown.height),y)),g.add(r(e,i,new mxRectangle(H.x-this.triangleLeft.width,d.getCenterY()-this.triangleLeft.height/2,this.triangleLeft.width,this.triangleLeft.height),f))}null!=g&&g.grow(10)}T=mxConstants.DIRECTION_NORTH,G==v?T=mxConstants.DIRECTION_EAST:G==y||G==S?T=mxConstants.DIRECTION_SOUTH:G==f&&(T=mxConstants.DIRECTION_WEST),null!=p&&G==b&&(a=p);var c=(null==C||t.isCellConnectable(n[C]))&&(t.model.isEdge(o)&&null!=C||t.model.isVertex(o)&&t.isCellConnectable(o));if(null!=d&&N>=5e3||d!=a&&(null==g||!mxUtils.contains(g,e,i)||N>500&&null==G&&c))if(m=!1,null!=(d=N<5e3&&N>this.dropTargetDelay||t.model.isEdge(o)?a:null)&&c){for(var R=[E,S,x,v,y,f],L=0;L<R.length;L++)null!=R[L].parentNode&&R[L].parentNode.removeChild(R[L]);if(t.model.isEdge(o)){if(null!=(A=a.absolutePoints)){var P=A[0],U=A[A.length-1],k=t.tolerance;new mxRectangle(e-k,i-k,2*k,2*k);E.style.left=Math.floor(P.x-this.roundDrop.width/2)+"px",E.style.top=Math.floor(P.y-this.roundDrop.height/2)+"px",S.style.left=Math.floor(U.x-this.roundDrop.width/2)+"px",S.style.top=Math.floor(U.y-this.roundDrop.height/2)+"px",null==t.model.getTerminal(o,!0)&&t.container.appendChild(E),null==t.model.getTerminal(o,!1)&&t.container.appendChild(S)}}else{var H=mxRectangle.fromRectangle(a);null!=a.shape&&null!=a.shape.boundingBox&&(H=mxRectangle.fromRectangle(a.shape.boundingBox)),H.grow(this.graph.tolerance),H.grow(HoverIcons.prototype.arrowSpacing);var V=this.graph.selectionCellsHandler.getHandler(a.cell);null!=V&&(H.x-=V.horizontalOffset/2,H.y-=V.verticalOffset/2,H.width+=V.horizontalOffset,H.height+=V.verticalOffset,null!=V.rotationShape&&null!=V.rotationShape.node&&"hidden"!=V.rotationShape.node.style.visibility&&"none"!=V.rotationShape.node.style.display&&null!=V.rotationShape.boundingBox&&H.add(V.rotationShape.boundingBox)),x.style.left=Math.floor(a.getCenterX()-this.triangleUp.width/2)+"px",x.style.top=Math.floor(H.y-this.triangleUp.height)+"px",v.style.left=Math.floor(H.x+H.width)+"px",v.style.top=Math.floor(a.getCenterY()-this.triangleRight.height/2)+"px",y.style.left=x.style.left,y.style.top=Math.floor(H.y+H.height)+"px",f.style.left=Math.floor(H.x-this.triangleLeft.width)+"px",f.style.top=v.style.top,"eastwest"!=a.style.portConstraint&&(t.container.appendChild(x),t.container.appendChild(y)),t.container.appendChild(v),t.container.appendChild(f)}null!=a&&null!=(u=t.selectionCellsHandler.getHandler(a.cell))&&null!=u.setHandlesVisible&&u.setHandlesVisible(!1),m=!0}else for(var R=[E,S,x,v,y,f],L=0;L<R.length;L++)null!=R[L].parentNode&&R[L].parentNode.removeChild(R[L]);m||null==u||u.setHandlesVisible(!0);var Z=mxEvent.isAltDown(l)&&!mxEvent.isShiftDown(l)||null!=p&&G==b?null:mxDragSource.prototype.getDropTarget.apply(this,arguments),Y=t.getModel();if(null!=Z&&(null!=G||!t.isSplitTarget(Z,n,l))){for(;null!=Z&&!t.isValidDropTarget(Z,n,l)&&Y.isVertex(Y.getParent(Z));)Z=Y.getParent(Z);(t.view.currentRoot==Z||!t.isValidRoot(Z)&&0==t.getModel().getChildCount(Z)||t.isCellLocked(Z)||Y.isEdge(Z))&&(Z=null)}return Z}),I.stopDrag=function(){mxDragSource.prototype.stopDrag.apply(this,arguments);for(var t=[E,S,b,x,v,y,f],e=0;e<t.length;e++)null!=t[e].parentNode&&t[e].parentNode.removeChild(t[e]);null!=d&&null!=u&&u.reset(),u=null,d=null,p=null,w=null,G=null},I},Sidebar.prototype.itemClicked=function(t,e,i,n){var l=this.editorUi,o=l.editor.graph;if(mxEvent.isAltDown(i)){if(1==o.getSelectionCount()&&o.model.isVertex(o.getSelectionCell())){for(var r=null,s=0;s<t.length&&null==r;s++)o.model.isVertex(t[s])&&(r=s);null!=r&&(this.dropAndConnect(o.getSelectionCell(),t,mxEvent.isMetaDown(i)||mxEvent.isControlDown(i)?mxEvent.isShiftDown(i)?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH:mxEvent.isShiftDown(i)?mxConstants.DIRECTION_EAST:mxConstants.DIRECTION_SOUTH,r),o.scrollCellToVisible(o.getSelectionCell()))}}else if(mxEvent.isShiftDown(i))o.isSelectionEmpty()||(this.updateShapes(t[0],o.getSelectionCells()),o.scrollCellToVisible(o.getSelectionCell()));else{var a=o.getGridSize(),g=new mxPoint(a*(1+l.cellNumber*l.createCellSpacing[0]),a*(1+l.cellNumber*l.createCellSpacing[1]));l.cellNumber++,e.drop(o,i,null,g.x,g.y),null!=l.hoverIcons&&mxEvent.isTouchEvent(i)&&l.hoverIcons.update(o.view.getState(o.getSelectionCell()))}o.isCellFoldable(t[0])&&o.foldCells(!0)},Sidebar.prototype.addClickHandler=function(t,e,i){var n=this.editorUi.editor.graph,l=e.mouseUp,o=null;mxEvent.addGestureListeners(t,function(t){o=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t))}),e.mouseUp=mxUtils.bind(this,function(r){if(!mxEvent.isPopupTrigger(r)&&null==this.currentGraph&&null!=o){var s=n.tolerance;Math.abs(o.x-mxEvent.getClientX(r))<=s&&Math.abs(o.y-mxEvent.getClientY(r))<=s&&this.itemClicked(i,e,r,t)}l.apply(e,arguments),o=null,this.currentElt=t})},Sidebar.prototype.createVertexTemplateEntry=function(t,e,i,n,l,o,r,s,a,g){return g=null!=g&&g.length>0?g:r.toLowerCase(),this.addEntry(g,mxUtils.bind(this,function(){return this.createVertexTemplate(t,e,i,n,l,o,r,s,a)}))},Sidebar.prototype.createVertexTemplateFromXMLEntry=function(t,e){var i=[];t.property.tags&&i.push(t.property.tags),t.property.title&&i.push(t.property.title),t.name&&i.push(t.name),t.category&&i.push(t.category),t.type&&i.push(t.type);var n=i.join(" ");return this.addEntry(n,mxUtils.bind(this,function(){return this.createVertexTemplateFromXML(t,e)}))},Sidebar.prototype.createVertexTemplate=function(t,e,i,n,l,o,r,s,a,g){var C=[new mxCell(null!=o?o:"",new mxGeometry(0,0,n,l),i)];C[0].vertex=!0,C[0].setCategory(e);var h=mxUtils.createXmlDocument().createElement("object");h.setAttribute("label",o||"");var A=new ModelAttribute(t.attribute).toAttributeString();for(var I in A)h.setAttribute(I,A[I]);return C[0].setValue(h),this.createVertexTemplateFromCells(C,n,l,r,s,a,g)},Sidebar.prototype.createVertexTemplateFromCells=function(t,e,i,n,l,o,r,s){return this.createItem(t,n,l,o,e,i,r,s)},Sidebar.prototype.createEdgeTemplateEntry=function(t,e,i,n,l,o,r,s,a,g){return a=null!=a&&a.length>0?a:r.toLowerCase(),this.addEntry(a,mxUtils.bind(this,function(){return this.createEdgeTemplate(t,e,i,n,l,o,r,s,g)}))},Sidebar.prototype.createEdgeTemplate=function(t,e,i,n,l,o,r,s,a){var g=new mxCell(null!=o?o:"",new mxGeometry(0,0,n,l),i);g.geometry.setTerminalPoint(new mxPoint(0,l),!0),g.geometry.setTerminalPoint(new mxPoint(n,0),!1),g.geometry.relative=!0,g.edge=!0,g.setCategory(e);var C=mxUtils.createXmlDocument().createElement("object");C.setAttribute("label",o||"");var h=new ModelAttribute(t.attribute).toAttributeString();for(var A in h)C.setAttribute(A,h[A]);return g.setValue(C),this.createEdgeTemplateFromCells([g],n,l,r,s,a)},Sidebar.prototype.createEdgeTemplateFromCells=function(t,e,i,n,l,o){return this.createItem(t,n,l,!0,e,i,o)},Sidebar.prototype.addPaletteFunctions=function(t,e,i,n){this.addPalette(t,t,i,mxUtils.bind(this,function(t){for(var e=0;e<n.length;e++)t.appendChild(n[e](t))}))},Sidebar.prototype.addOtherPaletteFunctions=function(t,e,i,n){this.addOtherNPalette(t,t,i,mxUtils.bind(this,function(t){for(var e=0;e<n.length;e++)t.appendChild(n[e](t))}))},Sidebar.prototype.addPaletteFunctionsOne=function(t,e,i,n){this.addPaletteOne(t,t,i,mxUtils.bind(this,function(t){for(var e=0;e<n.length;e++)t.appendChild(n[e](t))}))},Sidebar.prototype.addPalette=function(t,e,i,n){if(this[t])return this[t].style.display&&"none"!=this[t].style.display||this[t+"_"+e]&&this[t+"_"+e].click(),n(this[t]),this[t];var l=document.createElement("div");l.className="two",l.style.display="none",this.container.appendChild(l);var o=this.createTitle(e);l.appendChild(o);var r=document.createElement("div");r.className="geSidebar third",mxClient.IS_POINTER&&(r.style.touchAction="none"),mxEvent.addListener(r,"mousemove",mxUtils.bind(this,function(t){mxEvent.getSource(t)==r?r.setAttribute("title",mxResources.get("sidebarTooltip")):r.removeAttribute("title")})),i?(n(r),n=null):r.style.display="none",this.addFoldingHandler(o,r,n);var s=document.createElement("div");return s.appendChild(r),this.container.appendChild(s),null!=t&&(this.palettes[t]=[o,s]),this[t]=r,this[t+"_"+e]=o,r},Sidebar.prototype.addOtherNPalette=function(t,e,i,n){if(this[t])return this[t].style.display&&"none"!=this[t].style.display||(document.getElementsByClassName("second")[0].click(),this[t+"_"+e]&&this[t+"_"+e].click()),n(this[t]),this[t];var l=document.createElement("div");l.className="two";var o=document.getElementsByClassName("two");o[0]&&"none"!=o[0].style.display?l.style.display="block":l.style.display="none",this.container.appendChild(l);var r=this.createTitle(e);l.appendChild(r);var s=document.createElement("div");s.className="geSidebar third",s.style.display="none",mxClient.IS_POINTER&&(s.style.touchAction="none"),mxEvent.addListener(s,"mousemove",mxUtils.bind(this,function(t){mxEvent.getSource(t)==s?s.setAttribute("title",mxResources.get("sidebarTooltip")):s.removeAttribute("title")})),i?(n(s),n=null):s.style.display="none",this.addFoldingHandler(r,s,n);var a=document.createElement("div");return a.appendChild(s),this.container.appendChild(a),null!=t&&(this.palettes[t]=[r,a]),this[t]=s,this[t+"_"+e]=r,s},Sidebar.prototype.addPaletteOne=function(t,e,i,n){if(this[t])return this[t].style.display&&"none"!=this[t].style.display||this[t+"_"+e]&&this[t+"_"+e].click(),n(this[t]),this[t];var l=this.createFirstTitle(e);this.container.appendChild(l);var o=document.createElement("div");o.className="geSidebar",mxClient.IS_POINTER&&(o.style.touchAction="none"),mxEvent.addListener(o,"mousemove",mxUtils.bind(this,function(t){mxEvent.getSource(t)==o?o.setAttribute("title",mxResources.get("sidebarTooltip")):o.removeAttribute("title")})),i?(n(o),n=null):o.style.display="none",this.addFoldingHandlerOne(l,o,n);var r=document.createElement("div");return r.appendChild(o),this.container.appendChild(r),null!=t&&(this.palettes[t]=[l,r]),this[t]=o,this[t+"_"+e]=l,o},Sidebar.prototype.addFoldingHandler=function(t,e,i){var n=!1;(!mxClient.IS_IE||document.documentMode>=8)&&(t.style.backgroundImage="none"==e.style.display?"url('"+this.collapsedImage+"')":"url('"+this.expandedImage+"')"),t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="10px 50%",mxEvent.addListener(t,"click",mxUtils.bind(this,function(l){if("none"==e.style.display){if(n)e.style.display="block";else if(n=!0,null!=i){t.style.cursor="wait";var o=t.innerHTML;t.innerHTML=mxResources.get("loading")+"...",window.setTimeout(function(){var n=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,i(e),mxClient.NO_FO=n,e.style.display="block",t.style.cursor="",t.innerHTML=o},0)}else e.style.display="block";t.style.backgroundImage="url('"+this.expandedImage+"')"}else t.style.backgroundImage="url('"+this.collapsedImage+"')",e.style.display="none";mxEvent.consume(l)}))},Sidebar.prototype.addFoldingHandlerOne=function(t,e,i){var n=!1;(!mxClient.IS_IE||document.documentMode>=8)&&(t.style.backgroundImage="none"==e.style.display?"url('"+this.collapsedImage+"')":"url('"+this.expandedImage+"')"),t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="5px 50%",mxEvent.addListener(t,"click",mxUtils.bind(this,function(l){if("none"==e.style.display){if(n)e.style.display="block";else if(n=!0,null!=i){t.style.cursor="wait";var o=t.innerHTML;t.innerHTML=mxResources.get("loading")+"...",window.setTimeout(function(){var n=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,i(e),mxClient.NO_FO=n,e.style.display="block",t.style.cursor="",t.innerHTML=o},0)}else e.style.display="block";t.style.backgroundImage="url('"+this.expandedImage+"')"}else t.style.backgroundImage="url('"+this.collapsedImage+"')",e.style.display="none";mxEvent.consume(l)}))},Sidebar.prototype.removePalette=function(t){var e=this.palettes[t];if(null!=e){this.palettes[t]=null;for(var i=0;i<e.length;i++)this.container.removeChild(e[i]);return!0}return!1},Sidebar.prototype.addImagePalette=function(t,e,i,n,l,o,r){for(var s=[],a=0;a<l.length;a++)mxUtils.bind(this,function(t,e,l){if(null==l){var o=t.lastIndexOf("/"),r=t.lastIndexOf(".");l=t.substring(o>=0?o+1:0,r>=0?r:t.length).replace(/[-_]/g," ")}s.push(this.createVertexTemplateEntry("image;html=1;labelBackgroundColor=#ffffff;image="+i+t+n,this.defaultImageWidth,this.defaultImageHeight,"",e,null!=e,null,this.filterTags(l)))})(l[a],null!=o?o[a]:null,null!=r?r[l[a]]:null);this.addPaletteFunctions(t,e,!1,s)},Sidebar.prototype.getTagsForStencil=function(t,e,i){for(var n=t.split("."),l=1;l<n.length;l++)n[l]=n[l].replace(/_/g," ");return n.push(e.replace(/_/g," ")),null!=i&&n.push(i),n.slice(1,n.length)},Sidebar.prototype.addStencilPalette=function(t,e,i,n,l,o,r,s){if(r=null!=r?r:1,this.addStencilsToIndex){var a=[];mxStencilRegistry.loadStencilSet(i,mxUtils.bind(this,function(t,e,i,o,g){if(null==l||mxUtils.indexOf(l,e)<0){var C=this.getTagsForStencil(t,e),h=null!=s?s[e]:null;null!=h&&C.push(h),a.push(this.createVertexTemplateEntry("shape="+t+e.toLowerCase()+n,Math.round(o*r),Math.round(g*r),"",e.replace(/_/g," "),null,null,this.filterTags(C.join(" "))))}}),!0,!0),this.addPaletteFunctions(t,e,!1,a)}else this.addPalette(t,e,!1,mxUtils.bind(this,function(t){null==n&&(n=""),null!=o&&o.call(this,t),mxStencilRegistry.loadStencilSet(i,mxUtils.bind(this,function(e,i,o,s,a){(null==l||mxUtils.indexOf(l,i)<0)&&t.appendChild(this.createVertexTemplate("shape="+e+i.toLowerCase()+n,Math.round(s*r),Math.round(a*r),"",i.replace(/_/g," "),!0))}),!0)}))},Sidebar.prototype.destroy=function(){null!=this.graph&&(null!=this.graph.container&&null!=this.graph.container.parentNode&&this.graph.container.parentNode.removeChild(this.graph.container),this.graph.destroy(),this.graph=null),null!=this.pointerUpHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerUpHandler=null),null!=this.pointerDownHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerDownHandler=null),null!=this.pointerMoveHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerMoveHandler=null),null!=this.pointerOutHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),this.pointerOutHandler=null)},"undefined"!=typeof html4&&(html4.ATTRIBS["a::target"]=0),mxConstants.SHADOW_OPACITY=.25,mxConstants.SHADOWCOLOR="#000000",mxConstants.VML_SHADOWCOLOR="#d0d0d0",mxGraph.prototype.pageBreakColor="#c0c0c0",mxGraph.prototype.pageScale=1,function(){try{if(null!=navigator&&null!=navigator.language){var t=navigator.language.toLowerCase();mxGraph.prototype.pageFormat="en-us"===t||"en-ca"===t||"es-mx"===t?mxConstants.PAGE_FORMAT_LETTER_PORTRAIT:mxConstants.PAGE_FORMAT_A4_PORTRAIT}}catch(t){}}(),mxText.prototype.baseSpacingTop=5,mxText.prototype.baseSpacingBottom=1,mxGraphModel.prototype.ignoreRelativeEdgeParent=!1,mxGraphView.prototype.gridImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=":IMAGE_PATH+"/grid.gif",mxGraphView.prototype.gridSteps=4,mxGraphView.prototype.minGridSize=4,mxGraphView.prototype.gridColor="#e0e0e0",mxSvgCanvas2D.prototype.foAltText="[Not supported by viewer]",Graph=function(t,e,i,n,l){mxGraph.call(this,t,e,i,n),this.themes=l||this.defaultThemes;var o=this.baseUrl,r=o.indexOf("//");if(this.domainUrl="",this.domainPathUrl="",r>0){var s=o.indexOf("/",r+2);s>0&&(this.domainUrl=o.substring(0,s)),(s=o.lastIndexOf("/"))>0&&(this.domainPathUrl=o.substring(0,s+1))}if(this.isHtmlLabel=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return"1"==i.html||"wrap"==i[mxConstants.STYLE_WHITE_SPACE]},this.edgeMode){var a={point:null,event:null,state:null,handle:null,selected:!1};this.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,function(t,e){if("mouseDown"==e.getProperty("eventName")&&this.isEnabled()){var i=e.getProperty("event");if(!mxEvent.isControlDown(i.getEvent())&&!mxEvent.isShiftDown(i.getEvent())){var n=i.getState();if(null!=n&&this.model.isEdge(n.cell))if(a.point=new mxPoint(i.getGraphX(),i.getGraphY()),a.selected=this.isCellSelected(n.cell),a.state=n,a.event=i,null!=n.text&&null!=n.text.boundingBox&&mxUtils.contains(n.text.boundingBox,i.getGraphX(),i.getGraphY()))a.handle=mxEvent.LABEL_HANDLE;else{var l=this.selectionCellsHandler.getHandler(n.cell);null!=l&&null!=l.bends&&l.bends.length>0&&(a.handle=l.getHandleForEvent(i))}}}}));this.addMouseListener({mouseDown:function(t,e){},mouseMove:mxUtils.bind(this,function(t,e){if(this.isEnabled()&&!this.panningHandler.isActive()&&!mxEvent.isControlDown(e.getEvent())&&!mxEvent.isShiftDown(e.getEvent())&&!mxEvent.isAltDown(e.getEvent())){var i=this.tolerance;if(null!=a.point&&null!=a.state&&null!=a.event){var n=a.state;if(Math.abs(a.point.x-e.getGraphX())>i*this.view.scale||Math.abs(a.point.y-e.getGraphY())>i*this.view.scale){this.isCellSelected(n.cell)||this.setSelectionCell(n.cell);var l=this.selectionCellsHandler.getHandler(n.cell);if(null!=l&&null!=l.bends&&l.bends.length>0){var o=l.getHandleForEvent(a.event),r=this.view.getEdgeStyle(n),s=r==mxEdgeStyle.EntityRelation;a.selected||a.handle!=mxEvent.LABEL_HANDLE||(o=a.handle),s&&0!=o&&o!=l.bends.length-1&&o!=mxEvent.LABEL_HANDLE?!s||null==n.visibleSourceState&&null==n.visibleTargetState||(this.graphHandler.reset(),e.consume()):o!=mxEvent.LABEL_HANDLE&&0!=o&&null==n.visibleSourceState&&o!=l.bends.length-1&&null==n.visibleTargetState||(s||o==mxEvent.LABEL_HANDLE||(null!=(C=n.absolutePoints)&&(null==r&&null==o||r==mxEdgeStyle.OrthConnector)&&null==(o=a.handle)&&((h=new mxRectangle(a.point.x,a.point.y)).grow(mxEdgeHandler.prototype.handleImage.width/2),mxUtils.contains(h,C[0].x,C[0].y)?o=0:mxUtils.contains(h,C[C.length-1].x,C[C.length-1].y)?o=l.bends.length-1:null!=r&&(2==C.length||3==C.length&&(0==Math.round(C[0].x-C[1].x)&&0==Math.round(C[1].x-C[2].x)||0==Math.round(C[0].y-C[1].y)&&0==Math.round(C[1].y-C[2].y)))?o=2:(o=mxUtils.findNearestSegment(n,a.point.x,a.point.y),null==r?o=mxEvent.VIRTUAL_HANDLE-o:o+=1)),null==o&&(o=mxEvent.VIRTUAL_HANDLE)),l.start(e.getGraphX(),e.getGraphX(),o),a.state=null,a.event=null,a.point=null,a.handle=null,a.selected=!1,e.consume(),this.graphHandler.reset())}}}else if(null!=(n=e.getState())&&this.model.isEdge(n.cell)){var g=null,C=n.absolutePoints;if(null!=C){var h=new mxRectangle(e.getGraphX(),e.getGraphY());if(h.grow(mxEdgeHandler.prototype.handleImage.width/2),null!=n.text&&null!=n.text.boundingBox&&mxUtils.contains(n.text.boundingBox,e.getGraphX(),e.getGraphY()))g="move";else if(mxUtils.contains(h,C[0].x,C[0].y)||mxUtils.contains(h,C[C.length-1].x,C[C.length-1].y))g="pointer";else if((null!=n.visibleSourceState||null!=n.visibleTargetState)&&(g="crosshair",this.view.getEdgeStyle(n)!=mxEdgeStyle.EntityRelation&&this.isOrthogonal(n))){var A=mxUtils.findNearestSegment(n,e.getGraphX(),e.getGraphY());A<C.length-1&&A>=0&&(g=0==Math.round(C[A].x-C[A+1].x)?"col-resize":"row-resize")}}null!=g&&n.setCursor(g)}}}),mouseUp:mxUtils.bind(this,function(t,e){a.state=null,a.event=null,a.point=null,a.handle=null})})}if(this.cellRenderer.getLabelValue=function(t){var e=mxCellRenderer.prototype.getLabelValue.apply(this,arguments);return t.view.graph.isHtmlLabel(t.cell)&&(e=1!=t.style.html?mxUtils.htmlEntities(e,!1):t.view.graph.sanitizeHtml(e)),e},void 0!==mxVertexHandler){this.setConnectable(!0),this.setDropEnabled(!0),this.setPanning(!0),this.setTooltips(!0),this.setAllowLoops(!0),this.allowAutoPanning=!0,this.resetEdgesOnConnect=!1,this.constrainChildren=!1,this.constrainRelativeChildren=!0,this.graphHandler.scrollOnMove=!1,this.graphHandler.scaleGrid=!0,this.connectionHandler.setCreateTarget(!1),this.connectionHandler.insertBeforeSource=!0,this.connectionHandler.isValidSource=function(t,e){return!1},this.alternateEdgeStyle="vertical",null==n&&this.loadStylesheet();var g=this.graphHandler.getGuideStates;this.graphHandler.getGuideStates=function(){var t=g.apply(this,arguments);if(this.graph.pageVisible){for(var e=[],i=this.graph.pageFormat,n=this.graph.pageScale,l=i.width*n,o=i.height*n,r=this.graph.view.translate,s=this.graph.view.scale,a=this.graph.getPageLayout(),C=0;C<a.width;C++)e.push(new mxRectangle(((a.x+C)*l+r.x)*s,(a.y*o+r.y)*s,l*s,o*s));for(var h=0;h<a.height;h++)e.push(new mxRectangle((a.x*l+r.x)*s,((a.y+h)*o+r.y)*s,l*s,o*s));t=e.concat(t)}return t},mxDragSource.prototype.dragElementZIndex=mxPopupMenu.prototype.zIndex,mxGuide.prototype.getGuideColor=function(t,e){return null==t.cell?"#ffa500":mxConstants.GUIDE_COLOR},this.graphHandler.createPreviewShape=function(t){return this.previewColor="#000000"==this.graph.background?"#ffffff":mxGraphHandler.prototype.previewColor,mxGraphHandler.prototype.createPreviewShape.apply(this,arguments)},this.graphHandler.getCells=function(t){for(var e=mxGraphHandler.prototype.getCells.apply(this,arguments),i=[],n=0;n<e.length;n++){var l=this.graph.view.getState(e[n]),o=null!=l?l.style:this.graph.getCellStyle(e[n]);if("1"==mxUtils.getValue(o,"part","0")){var r=this.graph.model.getParent(e[n]);this.graph.model.isVertex(r)&&mxUtils.indexOf(e,r)<0&&i.push(r)}else i.push(e[n])}return i},this.connectionHandler.createTargetVertex=function(t,e){var i=this.graph.view.getState(e),n=null!=i?i.style:this.graph.getCellStyle(e);if(mxUtils.getValue(n,"part",!1)){var l=this.graph.model.getParent(e);this.graph.model.isVertex(l)&&(e=l)}return mxConnectionHandler.prototype.createTargetVertex.apply(this,arguments)};var C=new mxRubberband(this);this.getRubberband=function(){return C};var h=(new Date).getTime(),A=0,I=this.connectionHandler.mouseMove;this.connectionHandler.mouseMove=function(){var t=this.currentState;I.apply(this,arguments),t!=this.currentState?(h=(new Date).getTime(),A=0):A=(new Date).getTime()-h};var c=this.connectionHandler.isOutlineConnectEvent;this.connectionHandler.isOutlineConnectEvent=function(t){return null!=this.currentState&&t.getState()==this.currentState&&A>2e3||(null==this.currentState||"0"!=mxUtils.getValue(this.currentState.style,"outlineConnect","1"))&&c.apply(this,arguments)};var d=this.isToggleEvent;this.isToggleEvent=function(t){return d.apply(this,arguments)||mxEvent.isShiftDown(t)};var u=C.isForceRubberbandEvent;C.isForceRubberbandEvent=function(t){return u.apply(this,arguments)||mxUtils.hasScrollbars(this.graph.container)&&mxClient.IS_FF&&mxClient.IS_WIN&&null==t.getState()&&mxEvent.isTouchEvent(t.getEvent())};var p=null;this.panningHandler.addListener(mxEvent.PAN_START,mxUtils.bind(this,function(){this.isEnabled()&&(p=this.container.style.cursor,this.container.style.cursor="move")})),this.panningHandler.addListener(mxEvent.PAN_END,mxUtils.bind(this,function(){this.isEnabled()&&(this.container.style.cursor=p)})),this.popupMenuHandler.autoExpand=!0,this.popupMenuHandler.isSelectOnPopup=function(t){return mxEvent.isMouseEvent(t.getEvent())};var m=this.click;this.click=function(t){if(this.isEnabled()||t.isConsumed())return m.apply(this,arguments);var e=t.getCell();if(null!=e){var i=this.getLinkForCell(e);null!=i&&window.open(i)}};var x=this.getCursorForCell;this.getCursorForCell=function(t){return this.isEnabled()?x.apply(this,arguments):null!=this.getLinkForCell(t)?"pointer":void 0},this.selectRegion=function(t,e){var i=this.getAllCells(t.x,t.y,t.width,t.height);return this.selectCellsForEvent(i,e),i},this.getAllCells=function(t,e,i,n,l,o){if(o=null!=o?o:[],i>0||n>0){var r=this.getModel(),s=t+i,a=e+n;if(null==l&&null==(l=this.getCurrentRoot())&&(l=r.getRoot()),null!=l)for(var g=r.getChildCount(l),C=0;C<g;C++){var h=r.getChildAt(l,C),A=this.view.getState(h);if(null!=A&&this.isCellVisible(h)&&"1"!=mxUtils.getValue(A.style,"locked","0")){var I=mxUtils.getValue(A.style,mxConstants.STYLE_ROTATION)||0,c=A;0!=I&&(c=mxUtils.getBoundingBox(c,I)),(r.isEdge(h)||r.isVertex(h))&&c.x>=t&&c.y+c.height<=a&&c.y>=e&&c.x+c.width<=s&&o.push(h),this.getAllCells(t,e,i,n,h,o)}}}return o};var v=this.graphHandler.shouldRemoveCellsFromParent;this.graphHandler.shouldRemoveCellsFromParent=function(t,e,i){return!this.graph.isCellSelected(t)&&v.apply(this,arguments)},this.isCellLocked=function(t){for(var e=this.view.getState(t);null!=e;){if("1"==mxUtils.getValue(e.style,"locked","0"))return!0;e=this.view.getState(this.model.getParent(e.cell))}return!1};var y=null;this.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,function(t,e){if("mouseDown"==e.getProperty("eventName")){var i=e.getProperty("event").getState();y=null==i||this.isSelectionEmpty()||this.isCellSelected(i.cell)?null:this.getSelectionCells()}})),this.addListener(mxEvent.TAP_AND_HOLD,mxUtils.bind(this,function(t,e){if(!mxEvent.isMultiTouchEvent(e)){var i=e.getProperty("event"),n=e.getProperty("cell");if(null==n){var l=mxUtils.convertPoint(this.container,mxEvent.getClientX(i),mxEvent.getClientY(i));C.start(l.x,l.y)}else null!=y?this.addSelectionCells(y):this.getSelectionCount()>1&&this.isCellSelected(n)&&this.removeSelectionCell(n);y=null,e.consume()}})),this.connectionHandler.selectCells=function(t,e){this.graph.setSelectionCell(e||t)},this.connectionHandler.constraintHandler.isStateIgnored=function(t,e){return e&&t.view.graph.isCellSelected(t.cell)},this.selectionModel.addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){var t=this.connectionHandler.constraintHandler;null!=t.currentFocus&&t.isStateIgnored(t.currentFocus,!0)&&(t.currentFocus=null,t.constraints=null,t.destroyIcons()),t.destroyFocusHighlight()})),Graph.touchStyle&&this.initTouch();var f=this.updateMouseEvent;this.updateMouseEvent=function(t){return t=f.apply(this,arguments),this.isCellLocked(t.getCell())&&(t.state=null),t}}},Graph.touchStyle=mxClient.IS_TOUCH||mxClient.IS_FF&&mxClient.IS_WIN||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||null==window.urlParams||"1"==urlParams.touch,Graph.fileSupport=null!=window.File&&null!=window.FileReader&&null!=window.FileList&&(null==window.urlParams||"0"!=urlParams.filesupport),mxUtils.extend(Graph,mxGraph),Graph.prototype.minFitScale=null,Graph.prototype.maxFitScale=null,Graph.prototype.linkTarget="_blank",Graph.prototype.defaultScrollbars=!mxClient.IS_IOS,Graph.prototype.defaultPageVisible=!1,Graph.prototype.lightbox=!1,Graph.prototype.defaultGraphBackground="#ffffff",Graph.prototype.transparentBackground=!0,Graph.prototype.defaultEdgeLength=80,Graph.prototype.edgeMode=!1,Graph.prototype.connectionArrowsEnabled=!0,Graph.prototype.placeholderPattern=new RegExp("%(date{.*}|[^%^{^}]+)%","g"),Graph.prototype.defaultThemeName="default",Graph.prototype.defaultThemes={},Graph.prototype.baseUrl=window.location!=window.parent.location?document.referrer:document.location.toString(),Graph.prototype.init=function(t){mxGraph.prototype.init.apply(this,arguments),this.initLayoutManager()},Graph.prototype.initLayoutManager=function(){this.layoutManager=new mxLayoutManager(this),this.layoutManager.getLayout=function(t){var e=this.graph.view.getState(t),i=null!=e?e.style:this.graph.getCellStyle(t);if("stackLayout"==i.childLayout){var n=new mxStackLayout(this.graph,!0);return n.resizeParentMax=!0,n.horizontal="1"==mxUtils.getValue(i,"horizontalStack","1"),n.resizeParent="1"==mxUtils.getValue(i,"resizeParent","1"),n.resizeLast="1"==mxUtils.getValue(i,"resizeLast","0"),n.marginLeft=i.marginLeft||0,n.marginRight=i.marginRight||0,n.marginTop=i.marginTop||0,n.marginBottom=i.marginBottom||0,n.fill=!0,n}if("treeLayout"==i.childLayout){var l=new mxCompactTreeLayout(this.graph);return l.horizontal="1"==mxUtils.getValue(i,"horizontalTree","1"),l.resizeParent="1"==mxUtils.getValue(i,"resizeParent","1"),l.groupPadding=mxUtils.getValue(i,"parentPadding",20),l.levelDistance=mxUtils.getValue(i,"treeLevelDistance",30),l.maintainParentLocation=!0,l.edgeRouting=!1,l.resetEdges=!1,l}if("flowLayout"==i.childLayout){var o=new mxHierarchicalLayout(this.graph,mxUtils.getValue(i,"flowOrientation",mxConstants.DIRECTION_EAST));return o.resizeParent="1"==mxUtils.getValue(i,"resizeParent","1"),o.parentBorder=mxUtils.getValue(i,"parentPadding",20),o.maintainParentLocation=!0,o.intraCellSpacing=mxUtils.getValue(i,"intraCellSpacing",mxHierarchicalLayout.prototype.intraCellSpacing),o.interRankCellSpacing=mxUtils.getValue(i,"interRankCellSpacing",mxHierarchicalLayout.prototype.interRankCellSpacing),o.interHierarchySpacing=mxUtils.getValue(i,"interHierarchySpacing",mxHierarchicalLayout.prototype.interHierarchySpacing),o.parallelEdgeSpacing=mxUtils.getValue(i,"parallelEdgeSpacing",mxHierarchicalLayout.prototype.parallelEdgeSpacing),o}return null}},Graph.prototype.sanitizeHtml=function(t){function e(t){return null!=t&&"javascript:"!==t.toString().toLowerCase().substring(0,11)?t:null}function i(t){return t}return html_sanitize(t,e,i)},Graph.prototype.updatePlaceholders=function(){this.model;var t=!1;for(var e in this.model.cells){var i=this.model.cells[e];this.isReplacePlaceholders(i)&&(this.view.invalidate(i,!1,!1),t=!0)}t&&this.view.validate()},Graph.prototype.isReplacePlaceholders=function(t){return null!=t.value&&"object"==typeof t.value&&"1"==t.value.getAttribute("placeholders")},Graph.prototype.isIgnoreTerminalEvent=function(t){return mxEvent.isShiftDown(t)&&mxEvent.isControlDown(t)},Graph.prototype.isSplitTarget=function(t,e,i){return!mxEvent.isShiftDown(i)&&mxGraph.prototype.isSplitTarget.apply(this,arguments)},Graph.prototype.getLabel=function(t){var e=mxGraph.prototype.getLabel.apply(this,arguments);return null!=e&&this.isReplacePlaceholders(t)&&null==t.getAttribute("placeholder")&&(e=this.replacePlaceholders(t,e)),e},Graph.prototype.isLabelMovable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return!this.isCellLocked(t)&&(this.model.isEdge(t)&&this.edgeLabelsMovable||this.model.isVertex(t)&&(this.vertexLabelsMovable||"1"==mxUtils.getValue(i,"labelMovable","0")))},mxGraph.prototype.setGridSize=function(t){this.gridSize=t,this.fireEvent(new mxEventObject("gridSizeChanged"))},Graph.prototype.getGlobalVariable=function(t){var e=null;if("date"==t)e=(new Date).toLocaleDateString();else if("time"==t)e=(new Date).toLocaleTimeString();else if("timestamp"==t)e=(new Date).toLocaleString();else if("date{"==t.substring(0,5)){var i=t.substring(5,t.length-1);e=this.formatDate(new Date,i)}return e},Graph.prototype.formatDate=function(t,e,i){null==this.dateFormatCache&&(this.dateFormatCache={i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},masks:{default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"}});var n=this.dateFormatCache,l=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,s=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date");"UTC:"==(e=String(n.masks[e]||e||n.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var a=i?"getUTC":"get",g=t[a+"Date"](),C=t[a+"Day"](),h=t[a+"Month"](),A=t[a+"FullYear"](),I=t[a+"Hours"](),c=t[a+"Minutes"](),d=t[a+"Seconds"](),u=t[a+"Milliseconds"](),p=i?0:t.getTimezoneOffset(),m={d:g,dd:s(g),ddd:n.i18n.dayNames[C],dddd:n.i18n.dayNames[C+7],m:h+1,mm:s(h+1),mmm:n.i18n.monthNames[h],mmmm:n.i18n.monthNames[h+12],yy:String(A).slice(2),yyyy:A,h:I%12||12,hh:s(I%12||12),H:I,HH:s(I),M:c,MM:s(c),s:d,ss:s(d),l:s(u,3),L:s(u>99?Math.round(u/10):u),t:I<12?"a":"p",tt:I<12?"am":"pm",T:I<12?"A":"P",TT:I<12?"AM":"PM",Z:i?"UTC":(String(t).match(o)||[""]).pop().replace(r,""),o:(p>0?"-":"+")+s(100*Math.floor(Math.abs(p)/60)+Math.abs(p)%60,4),S:["th","st","nd","rd"][g%10>3?0:(g%100-g%10!=10)*g%10]};return e.replace(l,function(t){return t in m?m[t]:t.slice(1,t.length-1)})},Graph.prototype.createLayersDialog=function(){var t=document.createElement("div");t.style.position="absolute";for(var e=this.getModel(),i=e.getChildCount(e.root),n=0;n<i;n++)!function(i){var n=document.createElement("div");n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.style.padding="2px",n.style.whiteSpace="nowrap";var l=document.createElement("input");l.setAttribute("type","checkbox"),e.isVisible(i)&&(l.setAttribute("checked","checked"),l.defaultChecked=!0),n.appendChild(l);var o=i.value||mxResources.get("background")||"Background";n.setAttribute("title",o),mxUtils.write(n,o),t.appendChild(n),mxEvent.addListener(l,"click",function(){null!=l.getAttribute("checked")?l.removeAttribute("checked"):l.setAttribute("checked","checked"),e.setVisible(i,l.checked)})}(e.getChildAt(e.root,n));return t},Graph.prototype.replacePlaceholders=function(t,e){for(var i=[],n=0;match=this.placeholderPattern.exec(e);){var l=match[0];if(l.length>2&&"%label%"!=l&&"%tooltip%"!=l){var o=null;if(match.index>n&&"%"==e.charAt(match.index-1))o=l.substring(1);else{var r=l.substring(1,l.length-1);if(r.indexOf("{")<0)for(var s=t;null==o&&null!=s;)null!=s.value&&"object"==typeof s.value&&(o=s.value.getAttribute(r)),s=this.model.getParent(s);null==o&&(o=this.getGlobalVariable(r))}i.push(e.substring(n,match.index)+(o||l)),n=match.index+l.length}}return i.push(e.substring(n)),i.join("")},Graph.prototype.selectCellsForConnectVertex=function(t,e,i){2==t.length&&this.model.isVertex(t[1])?(this.setSelectionCell(t[1]),null!=i&&(mxEvent.isTouchEvent(e)?i.update(i.getState(this.view.getState(t[1]))):i.reset()),this.scrollCellToVisible(t[1])):this.setSelectionCells(t)},Graph.prototype.connectVertex=function(t,e,i,n,l){var o=t.geometry.relative?new mxPoint(t.parent.geometry.width*t.geometry.x,t.parent.geometry.height*t.geometry.y):new mxPoint(t.geometry.x,t.geometry.y);e==mxConstants.DIRECTION_NORTH?(o.x+=t.geometry.width/2,o.y-=i):e==mxConstants.DIRECTION_SOUTH?(o.x+=t.geometry.width/2,o.y+=t.geometry.height+i):e==mxConstants.DIRECTION_WEST?(o.x-=i,o.y+=t.geometry.height/2):(o.x+=t.geometry.width+i,o.y+=t.geometry.height/2);var r=this.view.getState(this.model.getParent(t)),s=this.view.scale,a=this.view.translate,g=a.x*s,C=a.y*s;this.model.isVertex(r.cell)&&(g=r.x,C=r.y),this.model.isVertex(t.parent)&&t.geometry.relative&&(o.x+=t.parent.geometry.x,o.y+=t.parent.geometry.y);var h=mxEvent.isControlDown(n)&&!l?null:this.getCellAt(g+o.x*s,C+o.y*s);this.model.isAncestor(h,t)&&(h=null);for(var A=h;null!=A;){if(this.isCellLocked(A)){h=null;break}A=this.model.getParent(A)}if(null!=h){var I=this.view.getState(t),c=this.view.getState(h);null!=I&&null!=c&&mxUtils.intersects(I,c)&&(h=null)}var d=!mxEvent.isShiftDown(n)||l;if(d&&(e==mxConstants.DIRECTION_NORTH?o.y-=t.geometry.height/2:e==mxConstants.DIRECTION_SOUTH?o.y+=t.geometry.height/2:e==mxConstants.DIRECTION_WEST?o.x-=t.geometry.width/2:o.x+=t.geometry.width/2),null!=h&&!this.isCellConnectable(h)){var u=this.getModel().getParent(h);this.getModel().isVertex(u)&&this.isCellConnectable(u)&&(h=u)}h!=t&&!this.model.isEdge(h)&&this.isCellConnectable(h)||(h=null);var p=[];this.model.beginUpdate();try{var m=h;if(null==m&&d){for(var x=t,v=this.getCellGeometry(t);null!=v&&v.relative;)x=this.getModel().getParent(x),v=this.getCellGeometry(x);var y=this.view.getState(x),f=null!=y?y.style:this.getCellStyle(x);if(mxUtils.getValue(f,"part",!1)){var b=this.model.getParent(x);this.model.isVertex(b)&&(x=b)}m=this.duplicateCells([x],!1)[0],(v=this.getCellGeometry(m)).x=o.x-v.width/2,v.y=o.y-v.height/2}var w=null;null!=this.layoutManager&&(w=this.layoutManager.getLayout(this.model.getParent(t)));var E=mxEvent.isControlDown(n)&&d||null==h&&null!=w&&w.constructor==mxStackLayout?null:this.insertEdge(this.model.getParent(t),null,"",t,m,this.createCurrentEdgeStyle());if(null!=E&&this.connectionHandler.insertBeforeSource){for(var S=null,T=t;null!=T.parent&&null!=T.geometry&&T.geometry.relative&&T.parent!=E.parent;)T=this.model.getParent(T);if(null!=T&&null!=T.parent&&T.parent==E.parent){S=T.parent.getIndex(T);T.parent.insert(E,S)}}if(null==h&&null!=m&&null!=w&&null!=t.parent&&w.constructor==mxStackLayout&&e==mxConstants.DIRECTION_WEST){S=t.parent.getIndex(t);t.parent.insert(m,S)}null!=E&&p.push(E),null==h&&null!=m&&p.push(m),null==m&&null!=E&&E.geometry.setTerminalPoint(o,!1),null!=E&&this.fireEvent(new mxEventObject("cellsInserted","cells",[E]))}finally{this.model.endUpdate()}return p},Graph.prototype.convertValueToString=function(t){return null!=t.value&&"object"==typeof t.value?this.isReplacePlaceholders(t)&&null!=t.getAttribute("placeholder")?this.getModel().getRoot().getAttribute(t.getAttribute("placeholder"))||"":t.value.getAttribute("label"):mxGraph.prototype.convertValueToString.apply(this,arguments)},Graph.prototype.getLinkForCell=function(t){if(null!=t.value&&"object"==typeof t.value){var e=t.value.getAttribute("link");return null!=e&&"javascript:"===e.toLowerCase().substring(0,11)&&(e=e.substring(11)),e}return null},Graph.prototype.getCellStyle=function(t){var e=mxGraph.prototype.getCellStyle.apply(this,arguments);if(null!=t&&null!=this.layoutManager){var i=this.model.getParent(t);if(this.model.isVertex(i)&&this.isCellCollapsed(t)){var n=this.layoutManager.getLayout(i);null!=n&&n.constructor==mxStackLayout&&(e[mxConstants.STYLE_HORIZONTAL]=!n.horizontal)}}return e},Graph.prototype.updateAlternateBounds=function(t,e,i){if(null!=t&&null!=e&&null!=this.layoutManager&&null!=e.alternateBounds){var n=this.layoutManager.getLayout(this.model.getParent(t));null!=n&&n.constructor==mxStackLayout&&(n.horizontal?e.alternateBounds.height=0:e.alternateBounds.width=0)}mxGraph.prototype.updateAlternateBounds.apply(this,arguments)},Graph.prototype.isMoveCellsEvent=function(t){return mxEvent.isShiftDown(t)},Graph.prototype.isUploadImage=!1,Graph.prototype.foldCells=function(t,e,i,n,l){if(e=null!=e&&e,null==i&&(i=this.getFoldableCells(this.getSelectionCells(),t)),null!=i){this.model.beginUpdate();try{if(mxGraph.prototype.foldCells.apply(this,arguments),null!=this.layoutManager)for(var o=0;o<i.length;o++){var r=this.view.getState(i[o]),s=this.getCellGeometry(i[o]);if(null!=r&&null!=s){var a=Math.round(s.width-r.width/this.view.scale),g=Math.round(s.height-r.height/this.view.scale);if(0!=g||0!=a){var C=this.model.getParent(i[o]),h=this.layoutManager.getLayout(C);null==h?null!=l&&this.isMoveCellsEvent(l)&&this.moveSiblings(r,C,a,g):null!=l&&mxEvent.isAltDown(l)||h.constructor!=mxStackLayout||h.resizeLast||this.resizeParentStacks(C,h,a,g)}}}}finally{this.model.endUpdate()}this.isEnabled()&&this.setSelectionCells(i)}},Graph.prototype.moveSiblings=function(t,e,i,n){this.model.beginUpdate();try{for(var l=this.getCellsBeyond(t.x,t.y,e,!0,!0),o=0;o<l.length;o++)if(l[o]!=t.cell){var r=this.view.getState(l[o]),s=this.getCellGeometry(l[o]);null!=r&&null!=s&&((s=s.clone()).translate(Math.round(i*Math.max(0,Math.min(1,(r.x-t.x)/t.width))),Math.round(n*Math.max(0,Math.min(1,(r.y-t.y)/t.height)))),this.model.setGeometry(l[o],s))}}finally{this.model.endUpdate()}},Graph.prototype.resizeParentStacks=function(t,e,i,n){if(null!=this.layoutManager&&null!=e&&e.constructor==mxStackLayout&&!e.resizeLast){this.model.beginUpdate();try{for(var l=e.horizontal;null!=t&&null!=e&&e.constructor==mxStackLayout&&e.horizontal==l&&!e.resizeLast;){var o=this.getCellGeometry(t),r=this.view.getState(t);null!=r&&null!=o&&(o=o.clone(),e.horizontal?o.width+=i+Math.min(0,r.width/this.view.scale-o.width):o.height+=n+Math.min(0,r.height/this.view.scale-o.height),this.model.setGeometry(t,o)),t=this.model.getParent(t),e=this.layoutManager.getLayout(t)}}finally{this.model.endUpdate()}}},Graph.prototype.isContainer=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isSwimlane(t)?"0"!=i.container:"1"==i.container},Graph.prototype.isCellConnectable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i.connectable?"0"!=i.connectable:mxGraph.prototype.isCellConnectable.apply(this,arguments)},Graph.prototype.selectAll=function(t){t=t||this.getDefaultParent(),this.isCellLocked(t)||mxGraph.prototype.selectAll.apply(this,arguments)},Graph.prototype.selectCells=function(t,e,i){i=i||this.getDefaultParent(),this.isCellLocked(i)||mxGraph.prototype.selectCells.apply(this,arguments)},Graph.prototype.getSwimlaneAt=function(t,e,i){return i=i||this.getDefaultParent(),this.isCellLocked(i)?null:mxGraph.prototype.getSwimlaneAt.apply(this,arguments)},Graph.prototype.isCellFoldable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.foldingEnabled&&!this.isCellLocked(t)&&(this.isContainer(t)&&"0"!=i.collapsible||!this.isContainer(t)&&"1"==i.collapsible)},Graph.prototype.reset=function(){this.isEditing()&&this.stopEditing(!0),this.escape(),this.isSelectionEmpty()||this.clearSelection()},Graph.prototype.zoom=function(t,e){t=Math.max(.01,Math.min(this.view.scale*t,160))/this.view.scale,mxGraph.prototype.zoom.apply(this,arguments)},Graph.prototype.zoomIn=function(){this.view.scale<.15?this.zoom((this.view.scale+.01)/this.view.scale):this.zoom(Math.round(this.view.scale*this.zoomFactor*20)/20/this.view.scale)},Graph.prototype.zoomOut=function(){this.view.scale<=.15?this.zoom((this.view.scale-.01)/this.view.scale):this.zoom(Math.round(this.view.scale*(1/this.zoomFactor)*20)/20/this.view.scale)},Graph.prototype.getTooltipForCell=function(t){var e="";if(mxUtils.isNode(t.value)){var i=t.value.getAttribute("tooltip");if(null!=i)null!=i&&this.isReplacePlaceholders(t)&&(i=this.replacePlaceholders(t,i)),e=this.sanitizeHtml(i);else{var n=["label","tooltip","placeholders","image"],l=t.value.attributes;this.isEnabled()&&n.push("link"),e="ID: "+t.getId()+"\n";for(var o=0;o<l.length;o++)if(mxUtils.indexOf(n,l[o].nodeName)<0&&l[o].nodeValue.length>0)if("link"==l[o].nodeName)e+=mxUtils.htmlEntities(this.getLinkUrl(l[o].nodeValue))+"\n";else if("intrinsic"==l[o].nodeName||"extended"==l[o].nodeName||"userFunc"==l[o].nodeName){var r=JSON.parse(l[o].nodeValue);if(r.length>0){e+=mxResources.get(l[o].nodeName)+":\n";for(var s in r){if(e+="&nbsp;&nbsp;&nbsp;&nbsp;"+r[s].name,"intrinsic"==l[o].nodeName)e+=": "+r[s].value[0];else for(var a in r[s].value)"none"==r[s].logic[a]?e+=r[s].operator[a]+r[s].value[a]:e+=r[s].operator[a]+r[s].value[a]+" "+r[s].logic[a]+" ";e+="\n"}}}else e+=l[o].nodeName+": "+mxUtils.htmlEntities(l[o].nodeValue)+"\n";e.length>0&&(e=e.substring(0,e.length-1))}}else t.edge&&(e="ID: "+t.getId()+"\n",e+="Source Id: ",null!=t.source&&(e+=t.source.getId()),e+="\n",e+="Target Id: ",null!=t.target&&(e+=t.target.getId()));return e},Graph.prototype.stringToBytes=function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e},Graph.prototype.bytesToString=function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=String.fromCharCode(t[i]);return e.join("")},Graph.prototype.compress=function(t){if(null==t||0==t.length||"undefined"==typeof pako)return t;var e=this.bytesToString(pako.deflateRaw(encodeURIComponent(t)));return window.btoa?btoa(e):Base64.encode(e,!0)},Graph.prototype.decompress=function(t){if(null==t||0==t.length||"undefined"==typeof pako)return t;var e=window.atob?atob(t):Base64.decode(t,!0);return this.zapGremlins(decodeURIComponent(this.bytesToString(pako.inflateRaw(e))))},Graph.prototype.zapGremlins=function(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);(n>=32||9==n||10==n||13==n)&&e.push(t.charAt(i))}return e.join("")},HoverIcons=function(t){this.graph=t,this.init()},HoverIcons.prototype.arrowSpacing=0,HoverIcons.prototype.updateDelay=500,HoverIcons.prototype.activationDelay=140,HoverIcons.prototype.currentState=null,HoverIcons.prototype.activeArrow=null,HoverIcons.prototype.inactiveOpacity=15,HoverIcons.prototype.checkCollisions=!1,HoverIcons.prototype.triangleUp=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAOCAYAAAAxDQxDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZBN0E3M0U5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZBN0E3M0Y5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RkE3QTczQzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RkE3QTczRDk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj625P8AAACySURBVHjaYmRY956BROABxF+A+AgpmpjIsGQjEO8CYidaWeQHtYQNiDmBeAspljGRYMlqqCUwALPMg1oWhWCxBNmyjVCHUGQRyJKlOCyBATaoQ/zItSgciFcQsATdshBSLYqC+oSZhMTCBnVYFLEWgRQuItESGGCG6o0iZFECBZagW5aAyyKQxBwKLUG2bD4Qp6FblAyVoIYlyGAmzDIWKGMmA+0AyGw2RjIKVbIAQIABAFJRHSSk2rPoAAAAAElFTkSuQmCC":IMAGE_PATH+"/triangle-up.png",26,14),HoverIcons.prototype.triangleRight=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAaCAYAAACHD21cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NThDQzc5RTU5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NThDQzc5RTY5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OENDNzlFMzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OENDNzlFNDk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrHdKTUAAADDSURBVHjanNTBCgFRFIfxMeTZyEKkiBSRxbwREZGiNFZKWSnvY6OUUv6n7ilZaL459XVXv6a5c+cWovQeaSZqFoGJwzpVozzQZq4GeSDCv7AYcJ9Cx0vVpdDxWrUpdLxVLQr/4jjDBpYDblDoeKdqFDpOHRP4jSsU2rzVg8KnqqpbDFFdXck7vlRTXciuOjqT72ioo07k5Nju9dSRnFVHB/J3GBqqPf0fx2pDbwBDK3Ln2MdN1CLraSiFNcn6JJ+PAAMAbnMl1tyDPD8AAAAASUVORK5CYII=":IMAGE_PATH+"/triangle-right.png",14,26),HoverIcons.prototype.triangleDown=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAOCAYAAAAxDQxDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NThDQzc5RTk5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NThDQzc5RUE5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OENDNzlFNzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OENDNzlFODk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9xyy0AAADESURBVHjaYmRY956BHoAJiHOA+D+NcRrIoilAnEVDz6QD8SwWKGc6EP8F4plUtiQRiBfAgg4GZkEl/lLBgr/IlqBbxACViKPQMgxLQIAFi8JlUHoREDOTYUkckhkMuHyEbFkEEP8i0ZJobJbgswgE1gBxKJGW/YI6bCW+fIQPbCLCsl9Qn6whlGEZiLDMH4i/47AklJAlxFoEAjuA2AfNMpglm4gtgogF+5As+wX15SZiNbOQmHxBlrkBMQ/Ul0QDgAADAC8qRII7g4RyAAAAAElFTkSuQmCC":IMAGE_PATH+"/triangle-down.png",26,14),HoverIcons.prototype.triangleLeft=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAaCAYAAACHD21cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZBN0E3M0E5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZBN0E3M0I5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OENDNzlFQjk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OENDNzlFQzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pi1fu2cAAADXSURBVHjalNTRB8JQFMfxVROxPyl6iuipRJFS2kv/TU89lY0piyw9pP6r3iP6He7Ndd3de87haxMfd+1ua0TVOxLOCuVNIdqiHZ1I4AbtUUsC6fIO6jzhwoWB/hOCU5Tpy+PCCTq5kA+OfKgODlGJ2r7/YMMBqkLIhn0uMmEP3VGH+zQQ7KKnBGmY+O6eD77QGH2kkOYhxeZdJTzjYnsfb2jOwbHjt6s6ltJHTmNa+SuFNBe0rMOh9/GM1i7M+QIUKLVxzNy2XB0zyYomTqUr6jnqLfoJMADoxSMHt6pxsAAAAABJRU5ErkJggg==":IMAGE_PATH+"/triangle-left.png",14,26),HoverIcons.prototype.roundDrop=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTgxRjYzRTU1MDRFMTFFNEExQ0VFNDQwNDhGNzg2RDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTgxRjYzRTY1MDRFMTFFNEExQ0VFNDQwNDhGNzg2RDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFODFGNjNFMzUwNEUxMUU0QTFDRUU0NDA0OEY3ODZEOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFODFGNjNFNDUwNEUxMUU0QTFDRUU0NDA0OEY3ODZEOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuJ657wAAAE0SURBVHjaYvz//z8DPQATA50AC4zBuP4DLjXaQOwMxJZArAfE8lDxh0B8CYiPA/FeIL6KTfP/QAFUi7AABSBOAOJoIFbBIq8FxRFAfAeIlwLxAiB+gNdHaMABiIuB2IfIkAE5pB6IjYG4F4gPEBNHIEtaSLAEGfhA9ToQskgB6hNrCuLdGmqGAj6LEsj0CTafJeCySBsa8dQC0VAzMSxyxpG6yAUqUDMxLLKkQT61xGaRHg0s0sNmkTwNLJKne1mHbNFDGpj/EJtFl2hg0SVsFh2ngUXHsVm0F1oKUwvcgZqJYdFVaFFPLbAUuY5CT3Wg+mQLFSzZAjULZ6H6AFqfHKXAkqNQMx4Qqo9AlVYNmT7bAtV7gNga9gDURWfxVOXoEY+3KmeENbdo3ThhHHbtOoAAAwDmEETshQ0fBAAAAABJRU5ErkJggg==":IMAGE_PATH+"/round-drop.png",26,26),HoverIcons.prototype.refreshTarget=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQxNERDRTU1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQxNERDRTY1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NDE0RENFMzVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NDE0RENFNDVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsvuX50AAANaSURBVHja7FjRZ1tRGD9ZJ1NCyIQSwrivI4Q8hCpjlFDyFEoYfSp9Ko1QWnmo0If+BSXkIfo0QirTMUpeGo2EPfWllFYjZMLKLDJn53d3biU337m5J223bPbxk5t7v+/c3/2+73znO8fDOWezKM/YjMpz68Lj8ejY+QTeCCwLxOS9qPxtyN+6wAeBTwJ31CCO0cJDjXBGBN4LfIepSwykTUT1bgpuib0SONIgo8KRHOtRiCFcvUcgZeGrHPNBxLIyFPyRgTGz0xLbegJCdmzpElue5KlAIMDX19d5uVzm5+fnfDAYmMA17uEZdOx2Yvb/sHlu2S0xwymn5ufneTab5b1ej08S6EAXNrDd2dnhiUTim21MvMtwQ6yiIrWwsMDPzs64rsBmf3/fvM7n89TYlUnEllSkQqEQv7q64g+Vk5MTVXosORErU0Zer5f0FEIlw2N6MxwO82QyaXql2+2SxDqdjopYWUUsqEp45IldqtWq6UWVh/1+P7+8vCTJ4QMUJSRIEXuneoH96w8PDyeWAnhSJfCqwm6NIlaklFdXV0cGhRcQ2mlJQXK5nMq2YPEZbnteU1U2lUqN/D84OGD9fl+5fgnSrFarsUwmw0qlEru4uBjTicViTk3Cr27HSnxR+Doyz0ZE1CAWiUTusbu7y9rttlZv5fP5WDQavYfIMba4uEipfhF8XtqJoZXx/uH+sC/4vPg7OljZZQbsCmLtYzc3N6zRaJhotVrmfx0xDINtbm6athYUeXpHdbBNaqZUKpWxWXV7e2vex+xaWVnhc3NzjrPUXgexyCt0m67LBV7uJMITjqRE4o8tZeg8FPpFitgapYxiOC0poFgsji1jKNo6BZZckrAGUtJsNk1vqAihCBcKhTE7hNWhqw2qFnGy5UFOUYJVIJ1OjzSE+BCEilon0URavRmBqnbbQ00AXbm+vnZc9O1tj72OnQoc2+cwygRkb2+P1et17ZoEm3g87lRmjgWZ00kbXkNuse6/Bu2wlegIxfb2tuvWGroO4bO2c4bbzUh60mxDXm1sbJhhxkQYnhS4h2fUZoRAWnf7lv8N27f8P7Xhnekjgpk+VKGOoQbsiY+hhhtF3YO7twIJ+ULvUGv+GQ2fQEvWxI/THNx5/p/BaspPAQYAqStgiSQwCDoAAAAASUVORK5CYII=":IMAGE_PATH+"/refresh.png",38,38),HoverIcons.prototype.init=function(){this.arrowUp=this.createArrow(this.triangleUp,mxResources.get("plusTooltip")),this.arrowRight=this.createArrow(this.triangleRight,mxResources.get("plusTooltip")),this.arrowDown=this.createArrow(this.triangleDown,mxResources.get("plusTooltip")),this.arrowLeft=this.createArrow(this.triangleLeft,mxResources.get("plusTooltip")),this.elts=[this.arrowUp,this.arrowRight,this.arrowDown,this.arrowLeft],this.repaintHandler=mxUtils.bind(this,function(){this.repaint()}),this.graph.selectionModel.addListener(mxEvent.CHANGE,this.repaintHandler),this.graph.model.addListener(mxEvent.CHANGE,this.repaintHandler),this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.view.addListener(mxEvent.TRANSLATE,this.repaintHandler),this.graph.view.addListener(mxEvent.SCALE,this.repaintHandler),this.graph.view.addListener(mxEvent.DOWN,this.repaintHandler),this.graph.view.addListener(mxEvent.UP,this.repaintHandler),this.graph.addListener(mxEvent.ROOT,this.repaintHandler),this.graph.addListener(mxEvent.ESCAPE,mxUtils.bind(this,function(){this.mouseDownPoint=null})),mxEvent.addListener(this.graph.container,"mouseleave",mxUtils.bind(this,function(t){null!=t.relatedTarget&&mxEvent.getSource(t)==this.graph.container&&this.setDisplay("none")}));var t=this.graph.click;this.graph.click=mxUtils.bind(this,function(e){t.apply(this.graph,arguments),null==this.currentState||this.graph.isCellSelected(this.currentState.cell)||!mxEvent.isTouchEvent(e.getEvent())||this.graph.model.isVertex(e.getCell())||this.reset()});var e=!1;this.graph.addMouseListener({mouseDown:mxUtils.bind(this,function(t,i){e=!1;var n=i.getEvent();if(this.isResetEvent(n))this.reset();else if(!this.isActive()){var l=this.getState(i.getState());null==l&&mxEvent.isTouchEvent(n)||this.update(l)}this.setDisplay("none")}),mouseMove:mxUtils.bind(this,function(t,i){var n=i.getEvent();this.isResetEvent(n)?this.reset():this.graph.isMouseDown||mxEvent.isTouchEvent(n)||this.update(this.getState(i.getState()),i.getGraphX(),i.getGraphY()),null!=this.graph.connectionHandler&&null!=this.graph.connectionHandler.shape&&(e=!0)}),mouseUp:mxUtils.bind(this,function(t,i){var n=i.getEvent();this.isResetEvent(n)?this.reset():this.isActive()&&null!=this.mouseDownPoint&&Math.abs(i.getGraphX()-this.mouseDownPoint.x)<this.graph.tolerance&&Math.abs(i.getGraphY()-this.mouseDownPoint.y)<this.graph.tolerance?e||this.click(this.currentState,this.getDirection(),i):this.isActive()?1==this.graph.getSelectionCount()&&this.graph.model.isEdge(this.graph.getSelectionCell())?this.reset():this.update(this.getState(this.graph.view.getState(this.graph.getCellAt(i.getGraphX(),i.getGraphY())))):mxEvent.isTouchEvent(n)||null!=this.bbox&&mxUtils.contains(this.bbox,i.getGraphX(),i.getGraphY())?(this.setDisplay(""),this.repaint()):mxEvent.isTouchEvent(n)||this.reset(),e=!1,this.resetActiveArrow()})})},HoverIcons.prototype.isResetEvent=function(t,e){return mxEvent.isAltDown(t)||null==this.activeArrow&&mxEvent.isShiftDown(t)||mxEvent.isMetaDown(t)||mxEvent.isPopupTrigger(t)&&!mxEvent.isControlDown(t)},HoverIcons.prototype.createArrow=function(t,e){var i=null;return mxClient.IS_IE&&!mxClient.IS_SVG?(mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?((i=document.createElement(mxClient.VML_PREFIX+":image")).setAttribute("src",t.src),i.style.borderStyle="none"):((i=document.createElement("div")).style.backgroundImage="url("+t.src+")",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat"),i.style.width=t.width+4+"px",i.style.height=t.height+4+"px",i.style.display=mxClient.IS_QUIRKS?"inline":"inline-block"):((i=mxUtils.createImage(t.src)).style.width=t.width+"px",i.style.height=t.height+"px"),null!=e&&i.setAttribute("title",e),i.style.position="absolute",i.style.cursor="crosshair",mxEvent.addGestureListeners(i,mxUtils.bind(this,function(t){null==this.currentState||this.isResetEvent(t)||(this.mouseDownPoint=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX(t),mxEvent.getClientY(t)),this.drag(t,this.mouseDownPoint.x,this.mouseDownPoint.y),this.activeArrow=i,this.setDisplay("none"),mxEvent.consume(t))})),mxEvent.redirectMouseEvents(i,this.graph,this.currentState),mxEvent.addListener(i,"mouseenter",mxUtils.bind(this,function(t){mxEvent.isMouseEvent(t)&&(null!=this.activeArrow&&this.activeArrow!=i&&mxUtils.setOpacity(this.activeArrow,this.inactiveOpacity),this.graph.connectionHandler.constraintHandler.reset(),mxUtils.setOpacity(i,100),this.activeArrow=i)})),mxEvent.addListener(i,"mouseleave",mxUtils.bind(this,function(t){this.graph.isMouseDown||this.resetActiveArrow()})),i},HoverIcons.prototype.resetActiveArrow=function(){null!=this.activeArrow&&(mxUtils.setOpacity(this.activeArrow,this.inactiveOpacity),this.activeArrow=null)},HoverIcons.prototype.getDirection=function(){var t=mxConstants.DIRECTION_EAST;return this.activeArrow==this.arrowUp?t=mxConstants.DIRECTION_NORTH:this.activeArrow==this.arrowDown?t=mxConstants.DIRECTION_SOUTH:this.activeArrow==this.arrowLeft&&(t=mxConstants.DIRECTION_WEST),t},HoverIcons.prototype.visitNodes=function(t){for(var e=0;e<this.elts.length;e++)null!=this.elts[e]&&t(this.elts[e])},HoverIcons.prototype.removeNodes=function(){this.visitNodes(function(t){null!=t.parentNode&&t.parentNode.removeChild(t)})},HoverIcons.prototype.setDisplay=function(t){this.visitNodes(function(e){e.style.display=t})},HoverIcons.prototype.isActive=function(){return null!=this.activeArrow&&null!=this.currentState},HoverIcons.prototype.drag=function(t,e,i){if(this.graph.popupMenuHandler.hideMenu(),this.graph.stopEditing(!1),null!=this.currentState){this.graph.connectionHandler.start(this.currentState,e,i),this.graph.isMouseTrigger=mxEvent.isMouseEvent(t),this.graph.isMouseDown=!0;var n=this.graph.selectionCellsHandler.getHandler(this.currentState.cell);null!=n&&n.setHandlesVisible(!1)}},HoverIcons.prototype.click=function(t,e,i){var n=i.getEvent(),l=i.getGraphX(),o=i.getGraphY(),r=this.graph.view.getState(this.graph.getCellAt(l,o));if(null==r||!this.graph.model.isEdge(r.cell)||mxEvent.isControlDown(n)||r.getVisibleTerminalState(!0)!=t&&r.getVisibleTerminalState(!1)!=t){if(null!=t){var s=this.graph.connectVertex(t.cell,e,this.graph.defaultEdgeLength,n);this.graph.selectCellsForConnectVertex(s,n,this),2==s.length&&this.graph.model.isVertex(s[1])?(this.graph.setSelectionCell(s[1]),mxEvent.isTouchEvent(n)?this.update(this.getState(this.graph.view.getState(s[1]))):this.reset(),this.graph.scrollCellToVisible(s[1])):this.graph.setSelectionCells(s)}}else this.graph.setSelectionCell(r.cell),this.reset();i.consume()},HoverIcons.prototype.reset=function(t){(t=null==t||t)&&null!=this.updateThread&&window.clearTimeout(this.updateThread),this.mouseDownPoint=null,this.currentState=null,this.activeArrow=null,this.removeNodes(),this.bbox=null},HoverIcons.prototype.repaint=function(){if(this.bbox=null,null!=this.currentState){if(this.currentState=this.getState(this.currentState),null!=this.currentState&&this.graph.model.isVertex(this.currentState.cell)&&this.graph.isCellConnectable(this.currentState.cell)){var t=mxRectangle.fromRectangle(this.currentState);null!=this.currentState.shape&&null!=this.currentState.shape.boundingBox&&(t=mxRectangle.fromRectangle(this.currentState.shape.boundingBox)),t.grow(this.graph.tolerance),t.grow(this.arrowSpacing);var e=this.graph.selectionCellsHandler.getHandler(this.currentState.cell);if(null!=e&&(t.x-=e.horizontalOffset/2,t.y-=e.verticalOffset/2,t.width+=e.horizontalOffset,t.height+=e.verticalOffset,null!=e.rotationShape&&null!=e.rotationShape.node&&"hidden"!=e.rotationShape.node.style.visibility&&"none"!=e.rotationShape.node.style.display&&null!=e.rotationShape.boundingBox&&t.add(e.rotationShape.boundingBox)),this.arrowUp.style.left=Math.round(this.currentState.getCenterX()-this.triangleUp.width/2)+"px",this.arrowUp.style.top=Math.round(t.y-this.triangleUp.height)+"px",mxUtils.setOpacity(this.arrowUp,this.inactiveOpacity),this.arrowRight.style.left=Math.round(t.x+t.width)+"px",this.arrowRight.style.top=Math.round(this.currentState.getCenterY()-this.triangleRight.height/2)+"px",mxUtils.setOpacity(this.arrowRight,this.inactiveOpacity),this.arrowDown.style.left=this.arrowUp.style.left,this.arrowDown.style.top=Math.round(t.y+t.height)+"px",mxUtils.setOpacity(this.arrowDown,this.inactiveOpacity),this.arrowLeft.style.left=Math.round(t.x-this.triangleLeft.width)+"px",this.arrowLeft.style.top=this.arrowRight.style.top,mxUtils.setOpacity(this.arrowLeft,this.inactiveOpacity),this.checkCollisions){var i=this.graph.getCellAt(t.x+t.width+this.triangleRight.width/2,this.currentState.getCenterY()),n=this.graph.getCellAt(t.x-this.triangleLeft.width/2,this.currentState.getCenterY()),l=this.graph.getCellAt(this.currentState.getCenterX(),t.y-this.triangleUp.height/2),o=this.graph.getCellAt(this.currentState.getCenterX(),t.y+t.height+this.triangleDown.height/2);null!=i&&i==n&&n==l&&l==o&&(i=null,n=null,l=null,o=null),null==i||this.graph.model.isAncestor(i,this.currentState.cell)?this.arrowRight.style.visibility="visible":this.arrowRight.style.visibility="hidden",null==n||this.graph.model.isAncestor(n,this.currentState.cell)?this.arrowLeft.style.visibility="visible":this.arrowLeft.style.visibility="hidden",null==l||this.graph.model.isAncestor(l,this.currentState.cell)?this.arrowUp.style.visibility="visible":this.arrowUp.style.visibility="hidden",null==o||this.graph.model.isAncestor(o,this.currentState.cell)?this.arrowDown.style.visibility="visible":this.arrowDown.style.visibility="hidden"}else this.arrowLeft.style.visibility="visible",this.arrowRight.style.visibility="visible",this.arrowUp.style.visibility="visible",
this.arrowDown.style.visibility="visible"}else this.reset();null!=this.currentState&&(this.bbox=this.computeBoundingBox(),null!=this.bbox&&this.bbox.grow(10))}},HoverIcons.prototype.computeBoundingBox=function(){var t=this.graph.model.isEdge(this.currentState.cell)?null:mxRectangle.fromRectangle(this.currentState);return this.visitNodes(function(e){if(null!=e.parentNode){var i=new mxRectangle(e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight);null==t?t=i:t.add(i)}}),t},HoverIcons.prototype.getState=function(t){if(null!=t){var e=t.cell;if(this.graph.getModel().isVertex(e)&&!this.graph.isCellConnectable(e)){var i=this.graph.getModel().getParent(e);this.graph.getModel().isVertex(i)&&this.graph.isCellConnectable(i)&&(e=i)}(this.graph.isCellLocked(e)||this.graph.model.isEdge(e))&&(e=null),t=this.graph.view.getState(e)}return t},HoverIcons.prototype.update=function(t,e,i){if(this.graph.connectionArrowsEnabled){var n=null;this.prev!=t||this.isActive()?(this.startTime=(new Date).getTime(),this.prev=t,n=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=t&&(this.updateThread=window.setTimeout(mxUtils.bind(this,function(){this.isActive()||this.graph.isMouseDown||this.graph.panningHandler.isActive()||(this.prev=t,this.update(t,e,i))}),this.updateDelay+10))):null!=this.startTime&&(n=(new Date).getTime()-this.startTime),this.setDisplay(""),null!=this.currentState&&this.currentState!=t&&n<this.activationDelay&&null!=this.bbox&&!mxUtils.contains(this.bbox,e,i)?this.reset(!1):(null!=this.currentState||n>this.activationDelay)&&this.currentState!=t&&(n>this.updateDelay&&null!=t||null==this.bbox||null==e||null==i||!mxUtils.contains(this.bbox,e,i))&&(null!=t&&this.graph.isEnabled()?(this.removeNodes(),this.setCurrentState(t),this.repaint(),this.graph.connectionHandler.constraintHandler.currentFocus!=t&&this.graph.connectionHandler.constraintHandler.reset()):this.reset())}else this.reset()},HoverIcons.prototype.setCurrentState=function(t){"eastwest"!=t.style.portConstraint&&(this.graph.container.appendChild(this.arrowUp),this.graph.container.appendChild(this.arrowDown)),this.graph.container.appendChild(this.arrowRight),this.graph.container.appendChild(this.arrowLeft),this.currentState=t},function(){var t=mxStencil.prototype.evaluateTextAttribute;mxStencil.prototype.evaluateTextAttribute=function(e,i,n){var l=t.apply(this,arguments);return"1"==e.getAttribute("placeholders")&&null!=n.state&&(l=n.state.view.graph.replacePlaceholders(n.state.cell,l)),l};var e=mxCellRenderer.prototype.createShape;mxCellRenderer.prototype.createShape=function(t){if(null!=t.style&&"undefined"!=typeof pako){var i=mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null);if(null!=i&&"stencil("==i.substring(0,8))try{var n=i.substring(8,i.length-1);return new mxShape(new mxStencil(mxUtils.parseXml(t.view.graph.decompress(n)).documentElement))}catch(t){null!=window.console&&console.log("Error in shape: "+t)}}return e.apply(this,arguments)}}(),mxStencilRegistry.libraries={},mxStencilRegistry.dynamicLoading=!0,mxStencilRegistry.packages=[],mxStencilRegistry.getStencil=function(t){var e=mxStencilRegistry.stencils[t];if(null==e&&null==mxCellRenderer.prototype.defaultShapes[t]&&mxStencilRegistry.dynamicLoading){var i=mxStencilRegistry.getBasenameForStencil(t);if(null!=i){var n=mxStencilRegistry.libraries[i];if(null!=n){if(null==mxStencilRegistry.packages[i]){mxStencilRegistry.packages[i]=1;for(var l=0;l<n.length;l++){var o=n[l];if(".xml"==o.toLowerCase().substring(o.length-4,o.length))mxStencilRegistry.loadStencilSet(o,null);else if(".js"==o.toLowerCase().substring(o.length-3,o.length))try{var r=mxUtils.load(o);null!=r&&200==r.getStatus()&&eval.call(window,r.getText())}catch(t){null!=window.console&&console.log("error in getStencil:",o,t)}}}}else i=i.replace("_-_","_"),mxStencilRegistry.loadStencilSet(STENCIL_PATH+"/"+i+".xml",null);e=mxStencilRegistry.stencils[t]}}return e},mxStencilRegistry.getBasenameForStencil=function(t){var e=null;if(null!=t){var i=t.split(".");if(i.length>0&&"mxgraph"==i[0]){e=i[1];for(var n=2;n<i.length-1;n++)e+="/"+i[n]}}return e},mxStencilRegistry.loadStencilSet=function(t,e,i,n){i=null!=i&&i;var l=mxStencilRegistry.packages[t];if(i||null==l){var o=!1;if(null==l)try{if(n){r=mxUtils.get(t,mxUtils.bind(this,function(i){200==i.getStatus()&&(l=i.getXml(),mxStencilRegistry.packages[t]=l,o=!0,null!=l&&null!=l.documentElement&&mxStencilRegistry.parseStencilSet(l.documentElement,e,o))}));return}var r=mxUtils.load(t);l=r.getXml(),mxStencilRegistry.packages[t]=l,o=!0}catch(e){null!=window.console&&console.log("error in loadStencilSet:",t,e)}null!=l&&null!=l.documentElement&&mxStencilRegistry.parseStencilSet(l.documentElement,e,o)}},mxStencilRegistry.parseStencilSets=function(t){for(var e=0;e<t.length;e++)mxStencilRegistry.parseStencilSet(mxUtils.parseXml(t[e]).documentElement)},mxStencilRegistry.parseStencilSet=function(t,e,i){if("stencils"==t.nodeName)for(var n=t.firstChild;null!=n;)"shapes"==n.nodeName&&mxStencilRegistry.parseStencilSet(n,e,i),n=n.nextSibling;else{i=null==i||i;var l=t.firstChild,o="",r=t.getAttribute("name");for(null!=r&&(o=r+".");null!=l;){if(l.nodeType==mxConstants.NODETYPE_ELEMENT&&null!=(r=l.getAttribute("name"))){o=o.toLowerCase();var s=r.replace(/ /g,"_");if(i&&mxStencilRegistry.addStencil(o+s.toLowerCase(),new mxStencil(l)),null!=e){var a=l.getAttribute("w"),g=l.getAttribute("h");e(o,s,r,a=null==a?80:parseInt(a,10),g=null==g?80:parseInt(g,10))}}l=l.nextSibling}}},void 0!==mxVertexHandler&&function(){function t(){var t=document.createElement("div");return t.className="geHint",t.style.whiteSpace="nowrap",t.style.position="absolute",t}mxConstants.HANDLE_FILLCOLOR="#99ccff",mxConstants.HANDLE_STROKECOLOR="#0088cf",mxConstants.VERTEX_SELECTION_COLOR="#00a8ff",mxConstants.OUTLINE_COLOR="#00a8ff",mxConstants.OUTLINE_HANDLE_FILLCOLOR="#99ccff",mxConstants.OUTLINE_HANDLE_STROKECOLOR="#00a8ff",mxConstants.CONNECT_HANDLE_FILLCOLOR="#cee7ff",mxConstants.EDGE_SELECTION_COLOR="#00a8ff",mxConstants.DEFAULT_VALID_COLOR="#00a8ff",mxConstants.LABEL_HANDLE_FILLCOLOR="#cee7ff",mxConstants.GUIDE_COLOR="#0088cf",mxConstants.HIGHLIGHT_OPACITY=30,mxConstants.HIGHLIGHT_SIZE=8,mxEdgeHandler.prototype.snapToTerminals=!0,mxGraphHandler.prototype.guidesEnabled=!0,mxGuide.prototype.isEnabledForEvent=function(t){return!mxEvent.isAltDown(t)};var e=mxConnectionHandler.prototype.isCreateTarget;mxConnectionHandler.prototype.isCreateTarget=function(t){return mxEvent.isControlDown(t)||e.apply(this,arguments)},mxConstraintHandler.prototype.createHighlightShape=function(){var t=new mxEllipse(null,this.highlightColor,this.highlightColor,0);return t.opacity=mxConstants.HIGHLIGHT_OPACITY,t},mxConnectionHandler.prototype.livePreview=!0,mxConnectionHandler.prototype.cursor="crosshair",mxConnectionHandler.prototype.createEdgeState=function(t){var e=this.graph.createCurrentEdgeStyle(),i=this.graph.createEdge(null,null,null,null,null,e),n=new mxCellState(this.graph.view,i,this.graph.getCellStyle(i));for(var l in this.graph.currentEdgeStyle)n.style[l]=this.graph.currentEdgeStyle[l];return n};var i=mxConnectionHandler.prototype.createShape;mxConnectionHandler.prototype.createShape=function(){var t=i.apply(this,arguments);return t.isDashed="1"==this.graph.currentEdgeStyle[mxConstants.STYLE_DASHED],t},mxConnectionHandler.prototype.updatePreview=function(t){};var n=mxConnectionHandler.prototype.createMarker;mxConnectionHandler.prototype.createMarker=function(){var t=n.apply(this,arguments),e=t.getCell;return t.getCell=mxUtils.bind(this,function(t){var i=e.apply(this,arguments);return this.error=null,i}),t},Graph.prototype.defaultEdgeStyle={edgeStyle:"orthogonalEdgeStyle",rounded:"0",html:"1",jettySize:"auto",orthogonalLoop:"1"},Graph.prototype.currentEdgeStyle=Graph.prototype.defaultEdgeStyle,Graph.prototype.currentVertexStyle={},Graph.prototype.createCurrentEdgeStyle=function(){var t="edgeStyle="+(this.currentEdgeStyle.edgeStyle||"none")+";";return null!=this.currentEdgeStyle.shape&&(t+="shape="+this.currentEdgeStyle.shape+";"),null!=this.currentEdgeStyle.curved&&(t+="curved="+this.currentEdgeStyle.curved+";"),null!=this.currentEdgeStyle.rounded&&(t+="rounded="+this.currentEdgeStyle.rounded+";"),null!=this.currentEdgeStyle.comic&&(t+="comic="+this.currentEdgeStyle.comic+";"),"elbowEdgeStyle"==this.currentEdgeStyle.edgeStyle&&null!=this.currentEdgeStyle.elbow&&(t+="elbow="+this.currentEdgeStyle.elbow+";"),null!=this.currentEdgeStyle.html?t+="html="+this.currentEdgeStyle.html+";":t+="html=1;",t},Graph.prototype.getPagePadding=function(){return new mxPoint(0,0)},Graph.prototype.loadStylesheet=function(){var t=null!=this.themes?this.themes[this.defaultThemeName]:mxStyleRegistry.dynamicLoading?mxUtils.load(STYLE_PATH+"/default.xml").getDocumentElement():null;null!=t&&new mxCodec(t.ownerDocument).decode(t,this.getStylesheet())},Graph.prototype.getAllConnectionConstraints=function(t,e){if(null!=t){var i=mxUtils.getValue(t.style,"points",null);if(null!=i){var n=[];try{for(var l=JSON.parse(i),o=0;o<l.length;o++){var r=l[o];n.push(new mxConnectionConstraint(new mxPoint(r[0],r[1]),!(r.length>2)||"0"!=r[2]))}}catch(t){}return n}if(null!=t.shape)if(null!=t.shape.stencil){if(null!=t.shape.stencil)return t.shape.stencil.constraints}else if(null!=t.shape.constraints)return t.shape.constraints}return null},Graph.prototype.flipEdge=function(t){if(null!=t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);if(null!=i){var n=mxUtils.getValue(i,mxConstants.STYLE_ELBOW,mxConstants.ELBOW_HORIZONTAL)==mxConstants.ELBOW_HORIZONTAL?mxConstants.ELBOW_VERTICAL:mxConstants.ELBOW_HORIZONTAL;this.setCellStyles(mxConstants.STYLE_ELBOW,n,[t])}}},Graph.prototype.isValidRoot=function(t){for(var e=this.model.getChildCount(t),i=0,n=0;n<e;n++){var l=this.model.getChildAt(t,n);if(this.model.isVertex(l)){var o=this.getCellGeometry(l);null==o||o.relative||i++}}return i>0||this.isContainer(t)},Graph.prototype.isValidDropTarget=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return"1"!=mxUtils.getValue(i,"part","0")&&(this.isContainer(t)||mxGraph.prototype.isValidDropTarget.apply(this,arguments)&&"0"!=mxUtils.getValue(i,"dropTarget","1"))},Graph.prototype.createGroupCell=function(){var t=mxGraph.prototype.createGroupCell.apply(this,arguments);return t.setStyle("group"),t},Graph.prototype.isExtendParentsOnAdd=function(t){var e=mxGraph.prototype.isExtendParentsOnAdd.apply(this,arguments);if(e&&null!=t&&null!=this.layoutManager){var i=this.model.getParent(t);if(null!=i){var n=this.layoutManager.getLayout(i);null!=n&&n.constructor==mxStackLayout&&(e=!1)}}return e},Graph.prototype.getPreferredSizeForCell=function(t){var e=mxGraph.prototype.getPreferredSizeForCell.apply(this,arguments);return this.isCellFoldable(this.getSelectionCell())?(e.width=mxGraph.prototype.collapsedImage.width,e.height=mxGraph.prototype.collapsedImage.height):null!=e&&(e.width+=10,e.height+=4,this.gridEnabled&&(e.width=this.snap(e.width),e.height=this.snap(e.height))),e},Graph.prototype.turnShapes=function(t){var e=this.getModel(),i=[];e.beginUpdate();try{for(var n=0;n<t.length;n++){var l=t[n];if(e.isEdge(l)){var o=e.getTerminal(l,!0),r=e.getTerminal(l,!1);if(e.setTerminal(l,r,!0),e.setTerminal(l,o,!1),null!=(c=e.getGeometry(l))){null!=(c=c.clone()).points&&c.points.reverse();var s=c.getTerminalPoint(!0),a=c.getTerminalPoint(!1);c.setTerminalPoint(s,!1),c.setTerminalPoint(a,!0),e.setGeometry(l,c);var g=this.view.getState(l),C=this.view.getState(o),h=this.view.getState(r);if(null!=g){var A=null!=C?this.getConnectionConstraint(g,C,!0):null,I=null!=h?this.getConnectionConstraint(g,h,!1):null;this.setConnectionConstraint(l,o,!0,I),this.setConnectionConstraint(l,r,!1,A)}i.push(l)}}else if(e.isVertex(l)){var c=this.getCellGeometry(l);if(null!=c){(c=c.clone()).x+=c.width/2-c.height/2,c.y+=c.height/2-c.width/2;var d=c.width;c.width=c.height,c.height=d,e.setGeometry(l,c);var u=this.view.getState(l);if(null!=u){var p=u.style[mxConstants.STYLE_DIRECTION]||"east";"east"==p?p="south":"south"==p?p="west":"west"==p?p="north":"north"==p&&(p="east"),this.setCellStyles(mxConstants.STYLE_DIRECTION,p,[l])}i.push(l)}}}}finally{e.endUpdate()}return i},Graph.prototype.processChange=function(t){if(mxGraph.prototype.processChange.apply(this,arguments),t instanceof mxValueChange&&null!=t.cell.value&&"object"==typeof t.cell.value){var e=this.model.getDescendants(t.cell);if(e.length>0)for(var i=0;i<e.length;i++)this.isReplacePlaceholders(e[i])&&this.view.invalidate(e[i],!1,!1)}},Graph.prototype.cellLabelChanged=function(t,e,i){e=this.zapGremlins(e),this.model.beginUpdate();try{if(null!=t.value&&"object"==typeof t.value){var n=t.value.cloneNode(!0);n.setAttribute("label",e),this.isReplacePlaceholders(t)&&null!=n.getAttribute("placeholder")&&this.setAttributeForCell(this.getModel().getRoot(),n.getAttribute("placeholder"),e),e=n}mxGraph.prototype.cellLabelChanged.apply(this,arguments)}finally{this.model.endUpdate()}},Graph.prototype.removeCellsAfterUngroup=function(t){for(var e=[],i=0;i<t.length;i++)if(this.isCellDeletable(t[i])){var n=this.view.getState(t[i]);if(null!=n){var l=mxUtils.getValue(n.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),o=mxUtils.getValue(n.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);l==mxConstants.NONE&&o==mxConstants.NONE&&e.push(t[i])}}t=e,mxGraph.prototype.removeCellsAfterUngroup.apply(this,arguments)},Graph.prototype.setLinkForCell=function(t,e){this.setAttributeForCell(t,"link",e)},Graph.prototype.setTooltipForCell=function(t,e){this.setAttributeForCell(t,"tooltip",e)},Graph.prototype.setAttributeForCell=function(t,e,i){var n=null;null!=t.value&&"object"==typeof t.value?n=t.value.cloneNode(!0):(n=mxUtils.createXmlDocument().createElement("UserObject")).setAttribute("label",t.value||""),null!=i&&i.length>0?n.setAttribute(e,i):n.removeAttribute(e),this.model.setValue(t,n)},Graph.prototype.getDropTarget=function(t,e,i,n){this.getModel();if(mxEvent.isAltDown(e))return null;for(var l=0;l<t.length;l++)if(this.model.isEdge(this.model.getParent(t[l])))return null;return mxGraph.prototype.getDropTarget.apply(this,arguments)},Graph.prototype.click=function(t){mxGraph.prototype.click.call(this,t),this.firstClickState=t.getState(),this.firstClickSource=t.getSource()},Graph.prototype.dblClick=function(t,e){if(this.isEnabled()){var i=mxUtils.convertPoint(this.container,mxEvent.getClientX(t),mxEvent.getClientY(t));if(null!=t&&!this.model.isVertex(e)){var n=this.model.isEdge(e)?this.view.getState(e):null,l=mxEvent.getSource(t);this.firstClickState==n&&this.firstClickSource==l&&(null!=n&&null!=n.text&&null!=n.text.node&&(mxUtils.contains(n.text.boundingBox,i.x,i.y)||mxUtils.isAncestorNode(n.text.node,mxEvent.getSource(t)))||(null==n&&!this.isCellLocked(this.getDefaultParent())||null!=n&&!this.isCellLocked(n.cell))&&(null!=n||mxClient.IS_VML&&l==this.view.getCanvas()||mxClient.IS_SVG&&l==this.view.getCanvas().ownerSVGElement)&&(e=this.addText(i.x,i.y,n)))}mxGraph.prototype.dblClick.call(this,t,e)}},Graph.prototype.getInsertPoint=function(){var t=this.getGridSize(),e=this.container.scrollLeft/this.view.scale-this.view.translate.x,i=this.container.scrollTop/this.view.scale-this.view.translate.y;if(this.pageVisible){var n=this.getPageLayout(),l=this.getPageSize();e=Math.max(e,n.x*l.width),i=Math.max(i,n.y*l.height)}return new mxPoint(this.snap(e+t),this.snap(i+t))},Graph.prototype.addText=function(t,e,i){var n=new mxCell;if(n.value="Text",n.style="text;html=1;resizable=0;points=[];",n.geometry=new mxGeometry(0,0,0,0),n.vertex=!0,null!=i){n.style+="align=center;verticalAlign=middle;labelBackgroundColor=#ffffff;",n.geometry.relative=!0,n.connectable=!1;var l=this.view.getRelativePoint(i,t,e);n.geometry.x=Math.round(1e4*l.x)/1e4,n.geometry.y=Math.round(l.y),n.geometry.offset=new mxPoint(0,0),l=this.view.getPoint(i,n.geometry);var o=this.view.scale;n.geometry.offset=new mxPoint(Math.round((t-l.x)/o),Math.round((e-l.y)/o))}else{n.style+="autosize=1;align=left;verticalAlign=top;spacingTop=-4;";var r=this.view.translate;n.geometry.width=40,n.geometry.height=20,n.geometry.x=Math.round(t/this.view.scale)-r.x,n.geometry.y=Math.round(e/this.view.scale)-r.y}this.getModel().beginUpdate();try{this.addCells([n],null!=i?i.cell:null),this.fireEvent(new mxEventObject("textInserted","cells",[n])),this.autoSizeCell(n)}finally{this.getModel().endUpdate()}return n},Graph.prototype.getLinkUrl=function(t){return t},Graph.prototype.getAbsoluteUrl=function(t){return null!=t&&this.isRelativeUrl(t)&&(t="/"==t.charAt(0)?this.domainUrl+t:this.domainPathUrl+t),t},Graph.prototype.isBlankLink=function(t){var e=this.domainUrl;return"self"!=urlParams.target&&null!=t&&"#"!=t.charAt(0)&&t.substring(0,e.length)!=e&&!this.isRelativeUrl(t)},Graph.prototype.isRelativeUrl=function(t){return!new RegExp("^(?:[a-z]+:)?//","i").test(t)&&"data:image"!=t.substring(0,10)&&"mailto:"!=t.substring(0,7)},Graph.prototype.addClickHandler=function(t,e,i){var n=mxUtils.bind(this,function(){var t=this.container.getElementsByTagName("a");if(null!=t)for(var i=0;i<t.length;i++){var n=t[i].getAttribute("href");null==n||this.isBlankLink(n)||(window!=window.top?(t[i].setAttribute("target","_top"),n.charAt("#")?t[i].setAttribute("href",this.baseUrl+n):t[i].setAttribute("href",this.getAbsoluteUrl(n))):"_blank"==t[i].getAttribute("target")&&t[i].removeAttribute("target"),null!=e&&mxEvent.addListener(t[i],"click",e))}});this.model.addListener(mxEvent.CHANGE,n),n();var l=this.container.style.cursor,o=this.getTolerance(),r=this,s={currentState:null,currentLink:null,highlight:null!=t&&""!=t&&t!=mxConstants.NONE?new mxCellHighlight(r,t,4):null,startX:0,startY:0,scrollLeft:0,scrollTop:0,updateCurrentState:function(t){var e=r.view.getState(t.getCell());e!=this.currentState&&(null!=this.currentState&&this.clear(),this.currentState=e,null!=this.currentState&&this.activate(this.currentState))},mouseDown:function(t,e){this.startX=e.getGraphX(),this.startY=e.getGraphY(),this.scrollLeft=r.container.scrollLeft,this.scrollTop=r.container.scrollTop,null==this.currentLink&&"auto"==r.container.style.overflow&&(r.container.style.cursor="move"),this.updateCurrentState(e)},mouseMove:function(t,e){if(r.isMouseDown){if(null!=this.currentLink){var i=Math.abs(this.startX-e.getGraphX()),n=Math.abs(this.startY-e.getGraphY());(i>o||n>o)&&this.clear()}}else if("a"==e.getSource().nodeName.toLowerCase())this.clear();else{if(null!=this.currentState&&(e.getState()==this.currentState||null==e.getState())&&r.intersects(this.currentState,e.getGraphX(),e.getGraphY()))return;this.updateCurrentState(e)}},mouseUp:function(t,n){var l=n.getSource(),s=this.currentLink;this.clear(),"a"==l.nodeName.toLowerCase()||n.isConsumed()||null!=n.getState()&&n.isSource(n.getState().control)||!mxEvent.isLeftMouseButton(n.getEvent())&&!mxEvent.isTouchEvent(n.getEvent())||(null!=s?(r.isBlankLink(s)?window.open(s):(null!=e&&e(n.getEvent()),"#"==s.charAt(0)?window!=window.top?window.open(r.baseUrl+s,"_top"):window.location.hash=s:window!=window.top?window.open(r.getAbsoluteUrl(s),"_top"):window.location=s),n.consume()):null!=i&&!n.isConsumed()&&Math.abs(this.scrollLeft-r.container.scrollLeft)<o&&Math.abs(this.scrollTop-r.container.scrollTop)<o&&Math.abs(this.startX-n.getGraphX())<o&&Math.abs(this.startY-n.getGraphY())<o&&i(n.getEvent()))},activate:function(t){this.currentLink=r.getLinkUrl(r.getLinkForCell(t.cell)),null!=this.currentLink&&(r.container.style.cursor="pointer",null!=this.highlight&&this.highlight.highlight(t))},clear:function(){null!=r.container&&(r.container.style.cursor=l),this.currentState=null,this.currentLink=null,null!=this.highlight&&this.highlight.hide()}};r.click=function(t){},r.addMouseListener(s),mxEvent.addListener(document,"mouseleave",function(t){s.clear()})},Graph.prototype.duplicateCells=function(t,e){t=null!=t?t:this.getSelectionCells(),e=null==e||e,t=this.model.getTopmostCells(t);var i=this.getModel(),n=this.gridSize,l=[];i.beginUpdate();try{for(var o=this.cloneCells(t,!1),r=0;r<t.length;r++){var s=i.getParent(t[r]),a=this.moveCells([o[r]],n,n,!1,s)[0];if(l.push(a),e)i.add(s,o[r]);else{var g=s.getIndex(t[r]);i.add(s,o[r],g+1)}}}finally{i.endUpdate()}return l},Graph.prototype.insertImage=function(t,e,i){if(null!=t){for(var n=this.cellEditor.textarea.getElementsByTagName("img"),l=[],o=0;o<n.length;o++)l.push(n[o]);document.execCommand("insertimage",!1,t);var r=this.cellEditor.textarea.getElementsByTagName("img");if(r.length==l.length+1)for(o=r.length-1;o>=0;o--)if(0==o||r[o]!=l[o-1]){r[o].setAttribute("width",e),r[o].setAttribute("height",i);break}}},Graph.prototype.isCellResizable=function(t){var e=mxGraph.prototype.isCellResizable.apply(this,arguments),i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);return e||"0"!=mxUtils.getValue(n,mxConstants.STYLE_RESIZABLE,"1")&&"wrap"==n[mxConstants.STYLE_WHITE_SPACE]},Graph.prototype.distributeCells=function(t,e){if(null==e&&(e=this.getSelectionCells()),null!=e&&e.length>1){for(var i=[],n=null,l=null,o=0;o<e.length;o++)if(this.getModel().isVertex(e[o])){var r=this.view.getState(e[o]);if(null!=r){var s=t?r.getCenterX():r.getCenterY();n=null!=n?Math.max(n,s):s,l=null!=l?Math.min(l,s):s,i.push(r)}}if(i.length>2){i.sort(function(e,i){return t?e.x-i.x:e.y-i.y});var a=this.view.translate,g=this.view.scale;l=l/g-(t?a.x:a.y),n=n/g-(t?a.x:a.y),this.getModel().beginUpdate();try{for(var C=(n-l)/(i.length-1),h=l,o=1;o<i.length-1;o++){var A=this.getCellGeometry(i[o].cell);h+=C,null!=A&&(A=A.clone(),t?A.x=Math.round(h-A.width/2):A.y=Math.round(h-A.height/2),this.getModel().setGeometry(i[o].cell,A))}}finally{this.getModel().endUpdate()}}}return e},Graph.prototype.isCloneEvent=function(t){return mxClient.IS_MAC&&mxEvent.isMetaDown(t)||mxEvent.isControlDown(t)},Graph.prototype.encodeCells=function(t){for(var e=this.cloneCells(t),i=0;i<e.length;i++){var n=this.view.getState(t[i]);if(null!=n){var l=this.getCellGeometry(e[i]);null!=l&&l.relative&&(l.relative=!1,l.x=n.x/n.view.scale-n.view.translate.x,l.y=n.y/n.view.scale-n.view.translate.y)}}for(var o=new mxCodec,r=new mxGraphModel,s=r.getChildAt(r.getRoot(),0),i=0;i<t.length;i++)r.add(s,e[i]);return o.encode(r)},Graph.prototype.createSvgImageExport=function(){var t=new mxImageExport;return t.getLinkForCellState=mxUtils.bind(this,function(t,e){return this.getLinkForCell(t.cell)}),t},Graph.prototype.getSvg=function(t,e,i,n,l,o,r){e=null!=e?e:1,i=null!=i?i:1,l=null==l||l,o=null==o||o,r=null==r||r;var s=n?this.view.getBackgroundPageBounds():o?this.getGraphBounds():this.getBoundingBox(this.getSelectionCells());if(null==s)throw Error(mxResources.get("drawingEmpty"));var a=this.createSvgImageExport(),g=a.drawCellState;a.drawCellState=function(t,e){(o||t.view.graph.isCellSelected(t.cell))&&g.apply(this,arguments)};var C=this.view.scale,h=mxUtils.createXmlDocument(),A=null!=h.createElementNS?h.createElementNS(mxConstants.NS_SVG,"svg"):h.createElement("svg");null!=t&&(null!=A.style?A.style.backgroundColor=t:A.setAttribute("style","background-color:"+t)),null==h.createElementNS?(A.setAttribute("xmlns",mxConstants.NS_SVG),A.setAttribute("xmlns:xlink",mxConstants.NS_XLINK)):A.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",mxConstants.NS_XLINK);var I=e/C;A.setAttribute("width",Math.ceil(s.width*I)+2*i+"px"),A.setAttribute("height",Math.ceil(s.height*I)+2*i+"px"),A.setAttribute("version","1.1");var c=A;if(l){var d=null!=h.createElementNS?h.createElementNS(mxConstants.NS_SVG,"g"):h.createElement("g");d.setAttribute("transform","translate(0.5,0.5)"),A.appendChild(d),h.appendChild(A),c=d}else h.appendChild(A);var u=new mxSvgCanvas2D(c);u.foOffset=l?-.5:0,u.textOffset=l?-.5:0,u.translate(Math.floor((i/e-s.x)/C),Math.floor((i/e-s.y)/C));var p=u.createAlternateContent;u.createAlternateContent=function(t,e,i,n,l,o,r,s,a,g,C,h,A){var I=this.state;if(null!=this.foAltText&&(0==n||0!=I.fontSize&&o.length<5*n/I.fontSize)){var c=this.createElement("text");return c.setAttribute("x",Math.round(n/2)),c.setAttribute("y",Math.round((l+I.fontSize)/2)),c.setAttribute("fill",I.fontColor||"black"),c.setAttribute("text-anchor","middle"),c.setAttribute("font-size",Math.round(I.fontSize)+"px"),c.setAttribute("font-family",I.fontFamily),(I.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&c.setAttribute("font-weight","bold"),(I.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&c.setAttribute("font-style","italic"),(I.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&c.setAttribute("text-decoration","underline"),mxUtils.write(c,o),c}return p.apply(this,arguments)};var m=this.backgroundImage;if(null!=m){var x=C/e,v=this.view.translate,y=new mxRectangle(v.x*x,v.y*x,m.width*x,m.height*x);mxUtils.intersects(s,y)&&u.image(v.x,v.y,m.width,m.height,m.src,!0)}return u.scale(I),u.textEnabled=r,a.drawState(this.getView().getState(this.model.root),u),A},Graph.prototype.getSelectedElement=function(){var t=null;if(window.getSelection){var e=window.getSelection();e.getRangeAt&&e.rangeCount&&(t=e.getRangeAt(0).commonAncestorContainer)}else document.selection&&(t=document.selection.createRange().parentElement());return t},Graph.prototype.getParentByName=function(t,e,i){for(;null!=t;){if(t.nodeName==e)return t;if(t==i)return null;t=t.parentNode}return t},Graph.prototype.selectNode=function(t){var e=null;if(window.getSelection)(e=window.getSelection()).getRangeAt&&e.rangeCount&&((n=document.createRange()).selectNode(t),e.removeAllRanges(),e.addRange(n));else if((e=document.selection)&&"Control"!=e.type){var i=e.createRange();i.collapse(!0);var n=e.createRange();n.setEndPoint("StartToStart",i),n.select()}},Graph.prototype.insertRow=function(t,e){for(var i=t.tBodies[0],n=i.rows.length>0?i.rows[0].cells.length:1,l=i.insertRow(e),o=0;o<n;o++)mxUtils.br(l.insertCell(-1));return l.cells[0]},Graph.prototype.deleteRow=function(t,e){t.tBodies[0].deleteRow(e)},Graph.prototype.insertColumn=function(t,e){var i=t.tHead;if(null!=i)for(var n=0;n<i.rows.length;n++){var l=document.createElement("th");i.rows[n].appendChild(l),mxUtils.br(l)}for(var o=t.tBodies[0],r=0;r<o.rows.length;r++){var s=o.rows[r].insertCell(e);mxUtils.br(s)}return o.rows[0].cells[e>=0?e:o.rows[0].cells.length-1]},Graph.prototype.deleteColumn=function(t,e){if(e>=0)for(var i=t.tBodies[0].rows,n=0;n<i.length;n++)i[n].cells.length>e&&i[n].deleteCell(e)},Graph.prototype.pasteHtmlAtCaret=function(t){var e,i;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(i=e.getRangeAt(0)).deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var l,o=document.createDocumentFragment();l=n.firstChild;)lastNode=o.appendChild(l);i.insertNode(o)}}else(e=document.selection)&&"Control"!=e.type&&e.createRange().pasteHTML(t)},Graph.prototype.initTouch=function(){this.connectionHandler.marker.isEnabled=function(){return null!=this.graph.connectionHandler.first},this.addListener(mxEvent.START_EDITING,function(t,e){this.popupMenuHandler.hideMenu()});var t=this.updateMouseEvent;this.updateMouseEvent=function(e){if(e=t.apply(this,arguments),mxEvent.isTouchEvent(e.getEvent())&&null==e.getState()){var i=this.getCellAt(e.graphX,e.graphY);null!=i&&this.isSwimlane(i)&&this.hitsSwimlaneContent(i,e.graphX,e.graphY)?i=null:(e.state=this.view.getState(i),null!=e.state&&null!=e.state.shape&&(this.container.style.cursor=e.state.shape.node.style.cursor))}return null==e.getState()&&this.isEnabled()&&(this.container.style.cursor="default"),e};var e=!1,i=!1,n=!1,l=this.fireMouseEvent;this.fireMouseEvent=function(t,o,r){t==mxEvent.MOUSE_DOWN&&(o=this.updateMouseEvent(o),e=this.isCellSelected(o.getCell()),i=this.isSelectionEmpty(),n=this.popupMenuHandler.isMenuShowing()),l.apply(this,arguments)},this.popupMenuHandler.mouseUp=mxUtils.bind(this,function(t,l){this.popupMenuHandler.popupTrigger=!this.isEditing()&&this.isEnabled()&&(null==l.getState()||!l.isSource(l.getState().control))&&(this.popupMenuHandler.popupTrigger||!n&&!mxEvent.isMouseEvent(l.getEvent())&&(i&&null==l.getCell()&&this.isSelectionEmpty()||e&&this.isCellSelected(l.getCell()))),mxPopupMenuHandler.prototype.mouseUp.apply(this.popupMenuHandler,arguments)})},mxCellEditor.prototype.isContentEditing=function(){var t=this.graph.view.getState(this.editingCell);return null!=t&&1==t.style.html},mxCellEditor.prototype.saveSelection=function(){if(window.getSelection){if(sel=window.getSelection(),sel.getRangeAt&&sel.rangeCount){for(var t=[],e=0,i=sel.rangeCount;e<i;++e)t.push(sel.getRangeAt(e));return t}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null},mxCellEditor.prototype.restoreSelection=function(t){if(t)if(window.getSelection){sel=window.getSelection(),sel.removeAllRanges();for(var e=0,i=t.length;e<i;++e)sel.addRange(t[e])}else document.selection&&t.select&&t.select()};var l=mxCellRenderer.prototype.initializeLabel;mxCellRenderer.prototype.initializeLabel=function(t){null!=t.text&&(t.text.replaceLinefeeds="0"!=mxUtils.getValue(t.style,"nl2Br","1")),l.apply(this,arguments)};var o=mxConstraintHandler.prototype.update;mxConstraintHandler.prototype.update=function(t,e){this.isKeepFocusEvent(t)||!mxEvent.isAltDown(t.getEvent())?o.apply(this,arguments):this.reset()},mxGuide.prototype.createGuideShape=function(t){return new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH)},mxCellEditor.prototype.escapeCancelsEditing=!1;var r=mxCellEditor.prototype.startEditing;mxCellEditor.prototype.startEditing=function(t,e){r.apply(this,arguments);var i=this.graph.view.getState(t);null!=i&&1==i.style.html?this.textarea.className="mxCellEditor geContentEditable":this.textarea.className="mxCellEditor mxPlainTextEditor",this.codeViewMode=!1,this.switchSelectionState=null,this.graph.setSelectionCell(t),null==this.textarea&&this.init();var n=this.graph.getModel().getParent(t),l=this.graph.getCellGeometry(t);this.graph.getModel().isEdge(n)&&null!=l&&l.relative||this.graph.getModel().isEdge(t)?mxClient.IS_QUIRKS?this.textarea.style.border="gray dotted 1px":mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_FF&&mxClient.IS_WIN?this.textarea.style.outline="gray dotted 1px":this.textarea.style.outline="":mxClient.IS_QUIRKS&&(this.textarea.style.outline="none",this.textarea.style.border="")};var s=mxCellEditor.prototype.installListeners;mxCellEditor.prototype.installListeners=function(t){function e(t,i){i.originalNode=t,t=t.firstChild;for(var n=i.firstChild;null!=t&&null!=n;)e(t,n),t=t.nextSibling,n=n.nextSibling;return i}function i(t,e){if(e.originalNode!=t)n(t);else for(t=t.firstChild,e=e.firstChild;null!=t;){var l=t.nextSibling;null==e?n(t):(i(t,e),e=e.nextSibling),t=l}}function n(t){for(var e=t.firstChild;null!=e;){var i=e.nextSibling;n(e),e=i}1==t.nodeType&&("BR"===t.nodeName||null!=t.firstChild)||3==t.nodeType&&0!=mxUtils.trim(mxUtils.getTextContent(t)).length?(3==t.nodeType&&mxUtils.setTextContent(t,mxUtils.getTextContent(t).replace(/\n|\r/g,"")),1==t.nodeType&&(t.removeAttribute("style"),t.removeAttribute("class"),t.removeAttribute("width"),t.removeAttribute("cellpadding"),t.removeAttribute("cellspacing"),t.removeAttribute("border"))):t.parentNode.removeChild(t)}s.apply(this,arguments),mxClient.IS_QUIRKS||7===document.documentMode||8===document.documentMode||mxEvent.addListener(this.textarea,"paste",mxUtils.bind(this,function(t){var n=e(this.textarea,this.textarea.cloneNode(!0));window.setTimeout(mxUtils.bind(this,function(){i(this.textarea,n)}),0)}))},mxCellEditor.prototype.toggleViewMode=function(){var t=this.graph.view.getState(this.editingCell),e=null!=t&&"0"!=mxUtils.getValue(t.style,"nl2Br","1"),i=this.saveSelection();if(this.codeViewMode){(g=mxUtils.extractTextWithWhitespace(this.textarea.childNodes)).length>0&&"\n"==g.charAt(g.length-1)&&(g=g.substring(0,g.length-1)),g=this.graph.sanitizeHtml(e?g.replace(/\n/g,"<br/>"):g),this.textarea.className="mxCellEditor geContentEditable";var n=mxUtils.getValue(t.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE),l=mxUtils.getValue(t.style,mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY),o=mxUtils.getValue(t.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT),r=(mxUtils.getValue(t.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,s=(mxUtils.getValue(t.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC,a=(mxUtils.getValue(t.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round(n*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT,this.textarea.style.fontSize=Math.round(n)+"px",this.textarea.style.textDecoration=a?"underline":"",this.textarea.style.fontWeight=r?"bold":"normal",this.textarea.style.fontStyle=s?"italic":"",this.textarea.style.fontFamily=l,this.textarea.style.textAlign=o,this.textarea.style.padding="0px",this.textarea.innerHTML!=g&&(this.textarea.innerHTML=g,0==this.textarea.innerHTML.length&&(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=this.textarea.innerHTML.length>0)),this.codeViewMode=!1}else{this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.clearOnChange=!1,this.textarea.innerHTML="");var g=mxUtils.htmlEntities(this.textarea.innerHTML);mxClient.IS_QUIRKS||8==document.documentMode||(g=mxUtils.replaceTrailingNewlines(g,"<div><br></div>")),g=this.graph.sanitizeHtml(e?g.replace(/\n/g,"").replace(/&lt;br\s*.?&gt;/g,"<br>"):g),this.textarea.className="mxCellEditor mxPlainTextEditor";n=mxConstants.DEFAULT_FONTSIZE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round(n*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT,this.textarea.style.fontSize=Math.round(n)+"px",this.textarea.style.textDecoration="",this.textarea.style.fontWeight="normal",this.textarea.style.fontStyle="",this.textarea.style.fontFamily=mxConstants.DEFAULT_FONTFAMILY,this.textarea.style.textAlign="left",this.textarea.style.padding="2px",this.textarea.innerHTML!=g&&(this.textarea.innerHTML=g),this.codeViewMode=!0}this.textarea.focus(),null!=this.switchSelectionState&&this.restoreSelection(this.switchSelectionState),this.switchSelectionState=i,this.resize()};var a=mxCellEditor.prototype.resize;mxCellEditor.prototype.resize=function(t,e){var t=this.graph.getView().getState(this.editingCell);if(this.codeViewMode&&null!=t){var i=t.view.scale;if(this.bounds=mxRectangle.fromRectangle(t),0==this.bounds.width&&0==this.bounds.height){this.bounds.width=160*i,this.bounds.height=60*i;var n=null!=t.text?t.text.margin:null;null==n&&(n=mxUtils.getAlignmentAsPoint(mxUtils.getValue(t.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE))),this.bounds.x+=n.x*this.bounds.width,this.bounds.y+=n.y*this.bounds.height}this.textarea.style.width=Math.round((this.bounds.width-4)/i)+"px",this.textarea.style.height=Math.round((this.bounds.height-4)/i)+"px",this.textarea.style.overflow="auto",this.textarea.clientHeight<this.textarea.offsetHeight&&(this.textarea.style.height=Math.round(this.bounds.height/i)+(this.textarea.offsetHeight-this.textarea.clientHeight)+"px",this.bounds.height=parseInt(this.textarea.style.height)*i),this.textarea.clientWidth<this.textarea.offsetWidth&&(this.textarea.style.width=Math.round(this.bounds.width/i)+(this.textarea.offsetWidth-this.textarea.clientWidth)+"px",this.bounds.width=parseInt(this.textarea.style.width)*i),this.textarea.style.left=Math.round(this.bounds.x)+"px",this.textarea.style.top=Math.round(this.bounds.y)+"px",mxClient.IS_VML?this.textarea.style.zoom=i:mxUtils.setPrefixedStyle(this.textarea.style,"transform","scale("+i+","+i+")")}else this.textarea.style.height="",this.textarea.style.overflow="",a.apply(this,arguments)},mxCellEditorGetInitialValue=mxCellEditor.prototype.getInitialValue,mxCellEditor.prototype.getInitialValue=function(t,e){if("0"==mxUtils.getValue(t.style,"html","0"))return mxCellEditorGetInitialValue.apply(this,arguments);var i=this.graph.getEditingValue(t.cell,e);return"1"==mxUtils.getValue(t.style,"nl2Br","1")&&(i=i.replace(/\n/g,"<br/>")),i=this.graph.sanitizeHtml(i)},mxCellEditorGetCurrentValue=mxCellEditor.prototype.getCurrentValue,mxCellEditor.prototype.getCurrentValue=function(t){if("0"==mxUtils.getValue(t.style,"html","0"))return mxCellEditorGetCurrentValue.apply(this,arguments);var e=this.graph.sanitizeHtml(this.textarea.innerHTML);return e="1"==mxUtils.getValue(t.style,"nl2Br","1")?e.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>"):e.replace(/\r\n/g,"").replace(/\n/g,"")};var g=mxCellEditor.prototype.stopEditing;mxCellEditor.prototype.stopEditing=function(t){this.codeViewMode&&this.toggleViewMode(),g.apply(this,arguments);try{this.graph.container.focus()}catch(t){}};var C=mxCellEditor.prototype.applyValue;mxCellEditor.prototype.applyValue=function(t,e){this.graph.getModel().beginUpdate();try{if(C.apply(this,arguments),this.graph.isCellDeletable(t.cell)){var i=mxUtils.getValue(t.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),n=mxUtils.getValue(t.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);""==mxUtils.trim(e||"")&&i==mxConstants.NONE&&n==mxConstants.NONE&&this.graph.removeCells([t.cell],!1)}}finally{this.graph.getModel().endUpdate()}},mxCellEditor.prototype.getBackgroundColor=function(t){var e=null;return(this.graph.getModel().isEdge(t.cell)||this.graph.getModel().isEdge(this.graph.getModel().getParent(t.cell)))&&(e=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,null))==mxConstants.NONE&&(e=null),e},mxCellEditor.prototype.getMinimumSize=function(t){var e=this.graph.getView().scale;return new mxRectangle(0,0,null==t.text?30:t.text.size*e+20,30)},mxGraphHandler.prototype.updateHint=function(e){if(null!=this.shape){null==this.hint&&(this.hint=t(),this.graph.container.appendChild(this.hint));var i=this.graph.view.translate,n=this.graph.view.scale,l=this.roundLength((this.bounds.x+this.currentDx)/n-i.x),o=this.roundLength((this.bounds.y+this.currentDy)/n-i.y);this.hint.innerHTML=l+", "+o,this.hint.style.left=this.shape.bounds.x+Math.round((this.shape.bounds.width-this.hint.clientWidth)/2)+"px",this.hint.style.top=this.shape.bounds.y+this.shape.bounds.height+12+"px"}},mxGraphHandler.prototype.removeHint=function(){null!=this.hint&&(this.hint.parentNode.removeChild(this.hint),this.hint=null)},mxVertexHandler.prototype.isRecursiveResize=function(t,e){return!this.graph.isSwimlane(t.cell)&&this.graph.model.getChildCount(t.cell)>0&&!mxEvent.isControlDown(e.getEvent())&&!this.graph.isCellCollapsed(t.cell)&&"1"==mxUtils.getValue(t.style,"recursiveResize","1")&&null==mxUtils.getValue(t.style,"childLayout",null)},mxVertexHandler.prototype.isCenteredEvent=function(t,e){return!(!this.graph.isSwimlane(t.cell)&&this.graph.model.getChildCount(t.cell)>0&&!this.graph.isCellCollapsed(t.cell)&&"1"==mxUtils.getValue(t.style,"recursiveResize","1")&&null==mxUtils.getValue(t.style,"childLayout",null))&&mxEvent.isControlDown(e.getEvent())||mxEvent.isMetaDown(e.getEvent())};var h=mxVertexHandler.prototype.getHandlePadding;mxVertexHandler.prototype.getHandlePadding=function(){var t=new mxPoint(0,0),e=this.tolerance;return this.graph.cellEditor.getEditingCell()==this.state.cell&&null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]?(e/=2,t.x=this.sizers[0].bounds.width+e,t.y=this.sizers[0].bounds.height+e):t=h.apply(this,arguments),t},mxVertexHandler.prototype.updateHint=function(e){if(this.index!=mxEvent.LABEL_HANDLE){if(null==this.hint&&(this.hint=t(),this.state.view.graph.container.appendChild(this.hint)),this.index==mxEvent.ROTATION_HANDLE)this.hint.innerHTML=this.currentAlpha+"&deg;";else{var i=this.state.view.scale;this.hint.innerHTML=this.roundLength(this.bounds.width/i)+" x "+this.roundLength(this.bounds.height/i)}var n=null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0",l=mxUtils.getBoundingBox(this.bounds,n);null==l&&(l=this.bounds),this.hint.style.left=l.x+Math.round((l.width-this.hint.clientWidth)/2)+"px",this.hint.style.top=l.y+l.height+12+"px"}},mxVertexHandler.prototype.removeHint=mxGraphHandler.prototype.removeHint,mxEdgeHandler.prototype.updateHint=function(e,i){null==this.hint&&(this.hint=t(),this.state.view.graph.container.appendChild(this.hint));var n=this.graph.view.translate,l=this.graph.view.scale,o=this.roundLength(i.x/l-n.x),r=this.roundLength(i.y/l-n.y);if(this.hint.innerHTML=o+", "+r,this.hint.style.visibility="visible",this.isSource||this.isTarget)if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus){var s=this.constraintHandler.currentConstraint.point;this.hint.innerHTML="["+Math.round(100*s.x)+"%, "+Math.round(100*s.y)+"%]"}else this.marker.hasValidState()&&(this.hint.style.visibility="hidden");this.hint.style.left=Math.round(e.getGraphX()-this.hint.clientWidth/2)+"px",this.hint.style.top=Math.max(e.getGraphY(),i.y)+this.state.view.graph.gridSize+"px",null!=this.hideEdgeHintThread&&window.clearTimeout(this.hideEdgeHintThread),this.hideEdgeHintThread=window.setTimeout(mxUtils.bind(this,function(){null!=this.hint&&(this.hint.style.visibility="hidden")}),500)},mxEdgeHandler.prototype.removeHint=mxGraphHandler.prototype.removeHint;var A=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQ4y61US4rCQBBNeojiRrLSnbMOWWU3V1FPouARcgc9hyLOCSSbYZw5gRCIkM9KbevJaycS4zCOBY+iq6pf1y+xrNtiE6oEY/tVzMUXgSNoCJrUDu3qHpldutwSuIKOoEvt0m7I7DoCvNj2fb8XRdEojuN5lmVraJxhh59xFSLFF9phGL7lef6hRb63R73aHM8aAjv8JHJ47yqLlud5r0VRbHa51sPZQVuT/QU4ww4/4ljaJRubrC5SxouD6TWBQV/sEIkbs0eOIVGssSO1L5D6LQID+BHHZjdMSYpj7KZpun7/uk8CP5rNqTXLJP/OpNyTMWruP9CTP08nCILKdCp7gkCzJ8vPnz2BvW5PKhuLjJBykiQLaWIEjTP3o3Zjn/LtPO0rfvh/cgKu7z6wtPPltQAAAABJRU5ErkJggg==":IMAGE_PATH+"/handle-main.png",17,17),I=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkE1NkU4Njk2QjI1MTFFNEFDMjFGQTcyODkzNTc3NkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkE1NkU4NkE2QjI1MTFFNEFDMjFGQTcyODkzNTc3NkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QTU2RTg2NzZCMjUxMUU0QUMyMUZBNzI4OTM1Nzc2RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QTU2RTg2ODZCMjUxMUU0QUMyMUZBNzI4OTM1Nzc2RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmuk6K8AAAGBSURBVHjarFRBSsNQEM3/atNs6qLowixcKELoqjuXoqfQeoF6BMEj9BCC1YIXcCGlV8hGLNZlBKWlCk1JSs13Xvw/nca6UDrwmMzMy8tk/iTCWmwi52Eq53+QeWwg2bXSSNi1WiRibgRWCTahwEQmhJgw1WJGML2BC6wQnEqlsuH7fr3f7zdHo9EdPGLkUdc8mX8TJNYIpUajsR+G4YMie3pNVKebpB6GPOrgab7kr5F24Hne9ng87r6HStUuP5V1Mc2AGHnUwWMdCck6sVut1onjOHtnt4nV7M0fAuI65VEnXk3PTFq5Eyi4rnvUe1PW9fO3QOdUzvkbyqNOvEM2dMEHK2zbLr98zJ5+cJWkAvDGUC8Wi2X28Gww6bnHcTzYWp+JGAHTCQz1KIoGfFckCyZBELR3N4V1vCOyTrhHHnXw9N5kQn8+nWq1Onc6C/cERLMn7cfZniD/257wbjDxEjqiDT0fDof3tLE+PGK9HyXNy7pYyrez9K/43/+TLwEGAMb7AY6w980DAAAAAElFTkSuQmCC":IMAGE_PATH+"/handle-fixed.png",17,17),c=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEMzRUVERTk2NzU1MTFFNTg5NjNEMjREQ0FFNENFQzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEMzRUVERUE2NzU1MTFFNTg5NjNEMjREQ0FFNENFQzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQzNFRURFNzY3NTUxMUU1ODk2M0QyNERDQUU0Q0VDOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQzNFRURFODY3NTUxMUU1ODk2M0QyNERDQUU0Q0VDOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poj8AGUAAAF6SURBVHjarFTBSsNAEM2u2jSXeCh6sAcPilB6ys2j6Fdo/YH6CYKf0I8QrBb8AQ9S+gu5iMV6jKC0VCEJTalZ54VNnMR4ULrwmJ2Zt5PZmdkIo3yJgsRSBfmDzPUUku2VRsz2qixIehBYJZiECgsyJ0SEhQ6WBkwO8AArBKvZbG64rtsej8dd3/fvIKHDDr/myeJNYFgj2J1OZz8IggdF6+k1VoNhnEgs2OEHT/Mlv0aSQaPR2A7DcPgeKNW6/FTGxSIDdNjhB49lJCTLxOz1eieWZe2d3cZGd5RvAvQ22eEnXkvXTBqFDlTq9frR6E0Z18+qtO83ZIefeIes6IIXVpimWXv5yB8cnMqcDn+1Wq2xj2eFSfoeRdFkaz0f5OAqzunwz2azCZ8VyZS553n93U1hHO+I0uvADj94em6yQH/ujuM4ue6UzgmI6Zz0H7/nBPbf5oRng4rbyIgm9Hw6nd7TxLqQ0PV82JqXZbGUt7P0V/zv/8mXAAMASSz1f9Cd7ycAAAAASUVORK5CYII=":IMAGE_PATH+"/handle-terminal.png",17,17),d=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJBMUVERjNEMkZDMTFFM0I0Qzc5RkE1RTc2NjI0OUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJBMUVERjREMkZDMTFFM0I0Qzc5RkE1RTc2NjI0OUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQkExRURGMUQyRkMxMUUzQjRDNzlGQTVFNzY2MjQ5QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQkExRURGMkQyRkMxMUUzQjRDNzlGQTVFNzY2MjQ5QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvXDOj4AAAFqSURBVHjarFTNToNAEN5FLeiBmDRe7MGLF4IXbp71KapP4CPoO/QdvKiv4ME0PkAvJI2J0SueIHgAAk3b7XxkwSlgE38mmSwz8+3HsPMtUnSbbKww1VhbYB5XbrBnpX3JnlUXSbURvk1ukvcYyYy8IJ9rsoqw3MAJtsh3Xdc98H3/KgzDuyRJHrEiRh51jTOaX4LEDrk9Go1O0zR9UWTL9E0to+dyhSGPOnAab/DPKDtwHOcoy7LXz1SpxeRSzW9F7YiRRx041pGsSMC6Ty1f442LycUawRfRsOyIcDfA632ST6A3GAzOVfYu1PS+c+5q+iBQJ9wZO3TJD1aaptkX+YfYaFS3LKvPXl4fTDn3oigiYR1uJqF6nucR14rBglkQBGO5dyzkybBbxpRHHTitm5rox9PxPK81nZZOAKx1Eo5rnSD/nU54NzhxGx1hjHEcP5FifayItT5sjVvTyJ/vzr/f4l//T1YCDAC4VAdLL1OIRAAAAABJRU5ErkJggg==":IMAGE_PATH+"/handle-secondary.png",17,17),u=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA6ZJREFUeNqM001IY1cUB/D/fYmm2sbR2lC1zYlgoRG6MpEyBlpxM9iFIGKFIm3s0lCKjOByhCLZCFqLBF1YFVJdSRbdFHRhBbULtRuFVBTzYRpJgo2mY5OX5N9Fo2TG+eiFA/dd3vvd8+65ByTxshARTdf1JySp6/oTEdFe9T5eg5lIcnBwkCSZyWS+exX40oyur68/KxaLf5Okw+H4X+A9JBaLfUySZ2dnnJqaosPhIAACeC34DJRKpb7IZrMcHx+nwWCgUopGo/EOKwf9fn/1CzERUevr6+9ls1mOjIwQAH0+H4PBIKPR6D2ofAQCgToRUeVYJUkuLy8TANfW1kiS8/PzCy84Mw4MDBAAZ2dnmc/nub+/X0MSEBF1cHDwMJVKsaGhgV6vl+l0mqOjo1+KyKfl1dze3l4NBoM/PZ+diFSLiIKIGBOJxA9bW1sEwNXVVSaTyQMRaRaRxrOzs+9J8ujoaE5EPhQRq67rcZ/PRwD0+/3Udf03EdEgIqZisZibnJykwWDg4eEhd3Z2xkXELCJvPpdBrYjUiEhL+Xo4HH4sIhUaAKNSqiIcDsNkMqG+vh6RSOQQQM7tdhsAQCkFAHC73UUATxcWFqypVApmsxnDw8OwWq2TADQNgAYAFosF+XweyWQSdru9BUBxcXFRB/4rEgDcPouIIx6P4+bmBi0tLSCpAzBqAIqnp6c/dnZ2IpfLYXNzE62traMADACKNputpr+/v8lms9UAKAAwiMjXe3t7KBQKqKurQy6Xi6K0i2l6evpROp1mbW0t29vbGY/Hb8/IVIqq2zlJXl1dsaOjg2azmefn5wwEAl+JSBVExCgi75PkzMwMlVJsbGxkIpFgPp8PX15ePopEIs3JZPITXdf/iEajbGpqolKKExMT1HWdHo/nIxGpgIgoEXnQ3d39kCTHxsYIgC6Xi3NzcwyHw8xkMozFYlxaWmJbWxuVUuzt7WUul6PX6/1cRN4WEe2uA0SkaWVl5XGpRVhdXU0A1DSNlZWVdz3qdDrZ09PDWCzG4+Pjn0XEWvp9KJKw2WwKwBsA3gHQHAqFfr24uMDGxgZ2d3cRiUQAAHa7HU6nE319fTg5Ofmlq6vrGwB/AngaCoWK6rbsNptNA1AJoA7Aux6Pp3NoaMhjsVg+QNmIRqO/u1yubwFEASRKUAEA7rASqABUAKgC8KAUb5XWCOAfAFcA/gJwDSB7C93DylCtdM8qABhLc5TumV6KQigUeubjfwcAHkQJ94ndWeYAAAAASUVORK5CYII=":IMAGE_PATH+"/handle-rotate.png",19,21);if(mxVertexHandler.prototype.handleImage=A,mxVertexHandler.prototype.secondaryHandleImage=d,mxEdgeHandler.prototype.handleImage=A,mxEdgeHandler.prototype.terminalHandleImage=c,mxEdgeHandler.prototype.fixedHandleImage=I,mxEdgeHandler.prototype.labelHandleImage=d,mxOutline.prototype.sizerImage=A,null!=window.Sidebar&&(Sidebar.prototype.triangleUp=HoverIcons.prototype.triangleUp,Sidebar.prototype.triangleRight=HoverIcons.prototype.triangleRight,Sidebar.prototype.triangleDown=HoverIcons.prototype.triangleDown,Sidebar.prototype.triangleLeft=HoverIcons.prototype.triangleLeft,Sidebar.prototype.refreshTarget=HoverIcons.prototype.refreshTarget,Sidebar.prototype.roundDrop=HoverIcons.prototype.roundDrop),mxClient.IS_SVG||((new Image).src=A.src,(new Image).src=I.src,(new Image).src=c.src,(new Image).src=d.src,(new Image).src=u.src,(new Image).src=HoverIcons.prototype.triangleUp.src,(new Image).src=HoverIcons.prototype.triangleRight.src,(new Image).src=HoverIcons.prototype.triangleDown.src,(new Image).src=HoverIcons.prototype.triangleLeft.src,(new Image).src=HoverIcons.prototype.refreshTarget.src,(new Image).src=HoverIcons.prototype.roundDrop.src),mxVertexHandler.prototype.rotationEnabled=!0,mxVertexHandler.prototype.manageSizers=!0,mxVertexHandler.prototype.livePreview=!0,mxRubberband.prototype.defaultOpacity=30,mxConnectionHandler.prototype.outlineConnect=!0,mxCellHighlight.prototype.keepOnTop=!0,mxVertexHandler.prototype.parentHighlightEnabled=!0,mxVertexHandler.prototype.rotationHandleVSpacing=-20,mxEdgeHandler.prototype.parentHighlightEnabled=!0,mxEdgeHandler.prototype.dblClickRemoveEnabled=!0,mxEdgeHandler.prototype.straightRemoveEnabled=!0,mxEdgeHandler.prototype.virtualBendsEnabled=!0,mxEdgeHandler.prototype.mergeRemoveEnabled=!0,mxEdgeHandler.prototype.manageLabelHandle=!0,mxEdgeHandler.prototype.outlineConnect=!0,mxEdgeHandler.prototype.isAddVirtualBendEvent=function(t){return!mxEvent.isShiftDown(t.getEvent())},mxEdgeHandler.prototype.isCustomHandleEvent=function(t){return!mxEvent.isShiftDown(t.getEvent())},Graph.touchStyle){(mxClient.IS_TOUCH||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(mxShape.prototype.svgStrokeTolerance=18,mxVertexHandler.prototype.tolerance=12,mxEdgeHandler.prototype.tolerance=12,Graph.prototype.tolerance=12,mxVertexHandler.prototype.rotationHandleVSpacing=-24,mxConstraintHandler.prototype.getTolerance=function(t){return mxEvent.isMouseEvent(t.getEvent())?4:this.graph.getTolerance()}),mxPanningHandler.prototype.isPanningTrigger=function(t){var e=t.getEvent();return null==t.getState()&&!mxEvent.isMouseEvent(e)||mxEvent.isPopupTrigger(e)&&(null==t.getState()||mxEvent.isControlDown(e)||mxEvent.isShiftDown(e))};var p=mxGraphHandler.prototype.mouseDown;mxGraphHandler.prototype.mouseDown=function(t,e){p.apply(this,arguments),mxEvent.isTouchEvent(e.getEvent())&&this.graph.isCellSelected(e.getCell())&&this.graph.getSelectionCount()>1&&(this.delayedSelection=!1)}}else mxPanningHandler.prototype.isPanningTrigger=function(t){var e=t.getEvent();return mxEvent.isLeftMouseButton(e)&&(this.useLeftButtonForPanning&&null==t.getState()||mxEvent.isControlDown(e)&&!mxEvent.isShiftDown(e))||this.usePopupTrigger&&mxEvent.isPopupTrigger(e)};mxRubberband.prototype.isSpaceEvent=function(t){return this.graph.isEnabled()&&!this.graph.isCellLocked(this.graph.getDefaultParent())&&mxEvent.isControlDown(t.getEvent())&&mxEvent.isShiftDown(t.getEvent())},mxRubberband.prototype.mouseUp=function(t,e){var i=null!=this.div&&"none"!=this.div.style.display,n=null,l=null,o=null,r=null;if(null!=this.first&&null!=this.currentX&&null!=this.currentY&&(n=this.first.x,l=this.first.y,o=(this.currentX-n)/this.graph.view.scale,r=(this.currentY-l)/this.graph.view.scale,mxEvent.isAltDown(e.getEvent())||(o=this.graph.snap(o),r=this.graph.snap(r))),this.reset(),i){if(this.isSpaceEvent(e)){this.graph.model.beginUpdate();try{for(var s=this.graph.getCellsBeyond(n,l,this.graph.getDefaultParent(),!0,!1),a=this.graph.getCellsBeyond(n,l,this.graph.getDefaultParent(),!1,!0),g=0;g<s.length;g++)if(this.graph.isCellMovable(s[g])){var C=this.graph.view.getState(s[g]),h=this.graph.getCellGeometry(s[g]);null!=C&&null!=h&&((h=h.clone()).translate(o,0),this.graph.model.setGeometry(s[g],h))}for(g=0;g<a.length;g++)if(this.graph.isCellMovable(a[g])){var C=this.graph.view.getState(a[g]),h=this.graph.getCellGeometry(a[g]);null!=C&&null!=h&&((h=h.clone()).translate(0,r),this.graph.model.setGeometry(a[g],h))}}catch(t){null!=window.console&&console.log("Error in rubberband: "+t)}finally{this.graph.model.endUpdate()}}else{var A=new mxRectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion(A,e.getEvent())}e.consume()}},mxRubberband.prototype.mouseMove=function(t,e){if(!e.isConsumed()&&null!=this.first){var i=mxUtils.getScrollOrigin(this.graph.container),n=mxUtils.getOffset(this.graph.container);i.x-=n.x,i.y-=n.y;var l=e.getX()+i.x,o=e.getY()+i.y,r=this.first.x-l,s=this.first.y-o,a=this.graph.tolerance;if(null!=this.div||Math.abs(r)>a||Math.abs(s)>a){if(null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),this.update(l,o),this.isSpaceEvent(e)){var g=this.x+this.width,C=this.y+this.height,h=this.graph.view.scale;mxEvent.isAltDown(e.getEvent())||(this.width=this.graph.snap(this.width/h)*h,this.height=this.graph.snap(this.height/h)*h,this.x<this.first.x&&(this.x=g-this.width),this.y<this.first.y&&(this.y=C-this.height)),this.div.style.left=this.x+"px",this.div.style.top=i.y+n.y+"px",this.div.style.width=Math.max(0,this.width)+"px",this.div.style.height=Math.max(0,this.graph.container.clientHeight)+"px",this.div.style.backgroundColor="white",this.div.style.borderWidth="0px 1px 0px 1px",this.div.style.borderStyle="dashed",null==this.secondDiv&&(this.secondDiv=this.div.cloneNode(!0),this.div.parentNode.appendChild(this.secondDiv)),this.secondDiv.style.left=i.x+n.x+"px",this.secondDiv.style.top=this.y+"px",this.secondDiv.style.width=Math.max(0,this.graph.container.clientWidth)+"px",this.secondDiv.style.height=Math.max(0,this.height)+"px",this.secondDiv.style.borderWidth="1px 0px 1px 0px"}else this.div.style.backgroundColor="",this.div.style.borderWidth="",this.div.style.borderStyle="",null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null);e.consume()}}};var m=mxRubberband.prototype.reset;mxRubberband.prototype.reset=function(){null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null),m.apply(this,arguments)};var x=(new Date).getTime(),v=0,y=mxEdgeHandler.prototype.updatePreviewState;mxEdgeHandler.prototype.updatePreviewState=function(t,e,i,n){y.apply(this,arguments),i!=this.currentTerminalState?(x=(new Date).getTime(),v=0):v=(new Date).getTime()-x,this.currentTerminalState=i};var f=mxEdgeHandler.prototype.isOutlineConnectEvent;mxEdgeHandler.prototype.isOutlineConnectEvent=function(t){return null!=this.currentTerminalState&&t.getState()==this.currentTerminalState&&v>2e3||(null==this.currentTerminalState||"0"!=mxUtils.getValue(this.currentTerminalState.style,"outlineConnect","1"))&&f.apply(this,arguments)},mxVertexHandler.prototype.isCustomHandleEvent=function(t){return!mxEvent.isShiftDown(t.getEvent())},mxEdgeHandler.prototype.createHandleShape=function(t,e){var i=null!=t&&0==t,n=this.state.getVisibleTerminalState(i),l=null!=t&&(0==t||t>=this.state.absolutePoints.length-1||this.constructor==mxElbowEdgeHandler&&2==t)?this.graph.getConnectionConstraint(this.state,n,i):null,o=null!=(null!=l?this.graph.getConnectionPoint(this.state.getVisibleTerminalState(i),l):null)?this.fixedHandleImage:null!=l&&null!=n?this.terminalHandleImage:this.handleImage;if(null!=o){var r=new mxImageShape(new mxRectangle(0,0,o.width,o.height),o.src);return r.preserveImageAspect=!1,r}var s=mxConstants.HANDLE_SIZE;return this.preferHtml&&(s-=1),new mxRectangleShape(new mxRectangle(0,0,s,s),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};var b=mxVertexHandler.prototype.createSizerShape;mxVertexHandler.prototype.createSizerShape=function(t,e,i){return this.handleImage=e==mxEvent.ROTATION_HANDLE?u:e==mxEvent.LABEL_HANDLE?this.secondaryHandleImage:this.handleImage,b.apply(this,arguments)};var w=mxGraphHandler.prototype.getBoundingBox;mxGraphHandler.prototype.getBoundingBox=function(t){if(null!=t&&1==t.length){var e=this.graph.getModel(),i=e.getParent(t[0]),n=this.graph.getCellGeometry(t[0]);if(e.isEdge(i)&&null!=n&&n.relative){var l=this.graph.view.getState(t[0]);if(null!=l&&l.width<2&&l.height<2&&null!=l.text&&null!=l.text.boundingBox)return mxRectangle.fromRectangle(l.text.boundingBox)}}return w.apply(this,arguments)};var E=mxVertexHandler.prototype.getSelectionBounds;mxVertexHandler.prototype.getSelectionBounds=function(t){var e=this.graph.getModel(),i=e.getParent(t.cell),n=this.graph.getCellGeometry(t.cell);if(e.isEdge(i)&&null!=n&&n.relative&&t.width<2&&t.height<2&&null!=t.text&&null!=t.text.boundingBox){var l=t.text.unrotatedBoundingBox||t.text.boundingBox;return new mxRectangle(Math.round(l.x),Math.round(l.y),Math.round(l.width),Math.round(l.height))}return E.apply(this,arguments)};var S=mxVertexHandler.prototype.mouseDown;mxVertexHandler.prototype.mouseDown=function(t,e){var i=this.graph.getModel(),n=i.getParent(this.state.cell),l=this.graph.getCellGeometry(this.state.cell);(this.getHandleForEvent(e)==mxEvent.ROTATION_HANDLE||!i.isEdge(n)||null==l||!l.relative||null==this.state||this.state.width>=2||this.state.height>=2)&&S.apply(this,arguments)},mxVertexHandler.prototype.isRotationHandleVisible=function(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&(mxGraphHandler.prototype.maxCells<=0||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells)},mxVertexHandler.prototype.rotateClick=function(){this.state.view.graph.turnShapes([this.state.cell])};var T=mxVertexHandler.prototype.mouseMove;mxVertexHandler.prototype.mouseMove=function(t,e){T.apply(this,arguments),null!=this.graph.graphHandler.first&&null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display="none")};var G=mxVertexHandler.prototype.mouseUp;mxVertexHandler.prototype.mouseUp=function(t,e){G.apply(this,arguments),null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none")};var R=mxVertexHandler.prototype.init;mxVertexHandler.prototype.init=function(){R.apply(this,arguments);var t=!1;null!=this.rotationShape&&this.rotationShape.node.setAttribute("title",mxResources.get("rotateTooltip"));var e=mxUtils.bind(this,function(){null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none"),null!=this.specialHandle&&(this.specialHandle.node.style.display=this.graph.isEnabled()&&this.graph.getSelectionCount()<this.graph.graphHandler.maxCells?"":"none"),this.redrawHandles()});this.selectionHandler=mxUtils.bind(this,function(t,i){e()}),this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.selectionHandler),this.changeHandler=mxUtils.bind(this,function(t,i){this.updateLinkHint(this.graph.getLinkForCell(this.state.cell)),e()}),this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler),this.editingHandler=mxUtils.bind(this,function(t,e){this.redrawHandles()}),this.graph.addListener(mxEvent.EDITING_STOPPED,this.editingHandler);var i=this.graph.getLinkForCell(this.state.cell);this.updateLinkHint(i),null!=i&&(t=!0),t&&this.redrawHandles()},mxVertexHandler.prototype.updateLinkHint=function(e){if(null==e||this.graph.getSelectionCount()>1)null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);else if(null!=e){null==this.linkHint&&(this.linkHint=t(),this.linkHint.style.padding="4px 10px 6px 10px",this.linkHint.style.fontSize="90%",this.linkHint.style.opacity="1",this.linkHint.style.filter="",this.updateLinkHint(e),this.graph.container.appendChild(this.linkHint));var i=e;i.length>60&&(i=i.substring(0,36)+"..."+i.substring(i.length-20));var n=document.createElement("a");if(n.setAttribute("href",this.graph.getLinkUrl(e)),n.setAttribute("title",e),null!=this.graph.linkTarget&&n.setAttribute("target",this.graph.linkTarget),mxUtils.write(n,i),this.linkHint.innerHTML="",this.linkHint.appendChild(n),this.graph.isEnabled()&&"function"==typeof this.graph.editLink){var l=document.createElement("img");l.setAttribute("src",IMAGE_PATH+"/edit.gif"),l.setAttribute("title",mxResources.get("editLink")),l.setAttribute("width","11"),l.setAttribute("height","11"),l.style.marginLeft="10px",l.style.marginBottom="-1px",l.style.cursor="pointer",this.linkHint.appendChild(l),mxEvent.addListener(l,"click",mxUtils.bind(this,function(t){this.graph.setSelectionCell(this.state.cell),this.graph.editLink(),mxEvent.consume(t)}))}}},mxEdgeHandler.prototype.updateLinkHint=mxVertexHandler.prototype.updateLinkHint;var L=mxEdgeHandler.prototype.init;mxEdgeHandler.prototype.init=function(){L.apply(this,arguments),this.constraintHandler.isEnabled=mxUtils.bind(this,function(){return this.state.view.graph.connectionHandler.isEnabled()});var t=mxUtils.bind(this,function(){null!=this.linkHint&&(this.linkHint.style.display=1==this.graph.getSelectionCount()?"":"none"),null!=this.labelShape&&(this.labelShape.node.style.display=this.graph.isEnabled()&&this.graph.getSelectionCount()<this.graph.graphHandler.maxCells?"":"none")});this.selectionHandler=mxUtils.bind(this,function(e,i){t()}),this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.selectionHandler),this.changeHandler=mxUtils.bind(this,function(e,i){this.updateLinkHint(this.graph.getLinkForCell(this.state.cell)),t(),this.redrawHandles()}),this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler);var e=this.graph.getLinkForCell(this.state.cell);null!=e&&(this.updateLinkHint(e),this.redrawHandles())};var P=mxConnectionHandler.prototype.init;mxConnectionHandler.prototype.init=function(){P.apply(this,arguments),this.constraintHandler.isEnabled=mxUtils.bind(this,function(){return this.graph.connectionHandler.isEnabled()})};var M=mxVertexHandler.prototype.redrawHandles;mxVertexHandler.prototype.redrawHandles=function(){if(M.apply(this),null!=this.state&&null!=this.linkHint){var t=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),e=new mxRectangle(this.state.x,this.state.y-22,this.state.width+24,this.state.height+22),i=mxUtils.getBoundingBox(e,this.state.style[mxConstants.STYLE_ROTATION]||"0",t),n=null!=i?mxUtils.getBoundingBox(this.state,this.state.style[mxConstants.STYLE_ROTATION]||"0"):this.state;null==i&&(i=this.state),this.linkHint.style.left=Math.round(n.x+(n.width-this.linkHint.clientWidth)/2)+"px",this.linkHint.style.top=Math.round(i.y+i.height+this.verticalOffset/2+6+this.state.view.graph.tolerance)+"px"}};var N=mxVertexHandler.prototype.reset;mxVertexHandler.prototype.reset=function(){N.apply(this,arguments),null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none")};var D=mxVertexHandler.prototype.destroy;mxVertexHandler.prototype.destroy=function(){D.apply(this,arguments),null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null),null!=this.selectionHandler&&(this.graph.getSelectionModel().removeListener(this.selectionHandler),this.selectionHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null),null!=this.editingHandler&&(this.graph.removeListener(this.editingHandler),this.editingHandler=null)};var O=mxEdgeHandler.prototype.redrawHandles;mxEdgeHandler.prototype.redrawHandles=function(){if(null!=this.marker&&(O.apply(this),null!=this.state&&null!=this.linkHint)){var t=this.state;null!=this.state.text&&null!=this.state.text.bounds&&(t=new mxRectangle(t.x,t.y,t.width,t.height)).add(this.state.text.bounds),this.linkHint.style.left=Math.round(t.x+(t.width-this.linkHint.clientWidth)/2)+"px",this.linkHint.style.top=Math.round(t.y+t.height+6+this.state.view.graph.tolerance)+"px"}};var U=mxEdgeHandler.prototype.reset;mxEdgeHandler.prototype.reset=function(){U.apply(this,arguments),null!=this.linkHint&&(this.linkHint.style.visibility="")};var k=mxEdgeHandler.prototype.destroy;mxEdgeHandler.prototype.destroy=function(){k.apply(this,arguments),null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null),null!=this.selectionHandler&&(this.graph.getSelectionModel().removeListener(this.selectionHandler),this.selectionHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null)}}(),function(){function t(){mxCylinder.call(this)}function e(){mxActor.call(this)}function i(){mxCylinder.call(this)}function n(){mxCylinder.call(this)}function l(){mxCylinder.call(this)}function o(){mxActor.call(this)}function r(){mxCylinder.call(this)}function s(){mxActor.call(this)}function a(){mxActor.call(this)}function g(){mxActor.call(this)}function C(){mxActor.call(this)}function h(){mxActor.call(this)}function A(){mxActor.call(this)}function I(){mxActor.call(this)}function c(t,e){this.canvas=t,this.canvas.setLineJoin("round"),this.canvas.setLineCap("round"),this.defaultVariation=e,this.originalLineTo=this.canvas.lineTo,this.canvas.lineTo=mxUtils.bind(this,c.prototype.lineTo),this.originalMoveTo=this.canvas.moveTo,this.canvas.moveTo=mxUtils.bind(this,c.prototype.moveTo),this.originalClose=this.canvas.close,this.canvas.close=mxUtils.bind(this,c.prototype.close),this.originalQuadTo=this.canvas.quadTo,this.canvas.quadTo=mxUtils.bind(this,c.prototype.quadTo),this.originalCurveTo=this.canvas.curveTo,this.canvas.curveTo=mxUtils.bind(this,c.prototype.curveTo),this.originalArcTo=this.canvas.arcTo,this.canvas.arcTo=mxUtils.bind(this,c.prototype.arcTo)}function d(){mxRectangleShape.call(this)}function u(){mxActor.call(this)}function p(){mxActor.call(this)}function m(){mxRectangleShape.call(this)}function x(){mxRectangleShape.call(this)}function v(){mxCylinder.call(this)}function y(){mxShape.call(this)}function f(){mxShape.call(this)}function b(){mxEllipse.call(this)}function w(){mxShape.call(this)}function E(){mxShape.call(this)}function S(){mxRectangleShape.call(this)}function T(){mxShape.call(this)}function G(){mxShape.call(this)}function R(){mxShape.call(this)}function L(){mxCylinder.call(this)}function P(){mxDoubleEllipse.call(this)}function M(){P.call(this)}function N(){mxArrowConnector.call(this),this.spacing=0}function D(){mxArrowConnector.call(this),this.spacing=0}function O(){mxActor.call(this)}function U(){mxRectangleShape.call(this)}function k(){mxActor.call(this)}function H(){mxActor.call(this)}function V(){mxActor.call(this)}function Z(){mxActor.call(this)}function Y(){mxActor.call(this)}function F(){mxActor.call(this)}function X(){mxActor.call(this)}function B(){mxActor.call(this)}function W(){mxActor.call(this)}function z(){mxEllipse.call(this)}function _(){mxEllipse.call(this)}function J(){mxEllipse.call(this)}function j(){mxRhombus.call(this)}function K(){mxEllipse.call(this)}function Q(){mxEllipse.call(this)}function q(){mxEllipse.call(this)}function $(){mxEllipse.call(this)}function tt(){mxActor.call(this)}function et(){mxActor.call(this)}function it(){mxActor.call(this)}function nt(t,e,i,n,l,o,r,s,a,g){var r=r+a,C=n.clone();return n.x-=l*(2*r+a),n.y-=o*(2*r+a),l*=r+a,o*=r+a,function(){t.ellipse(C.x-l-r,C.y-o-r,2*r,2*r),g?t.fillAndStroke():t.stroke()}}function lt(t,e,i,n,l){var o=new mxHandle(t,null,mxVertexHandler.prototype.secondaryHandleImage);return o.execute=function(){for(var t=0;t<e.length;t++)this.copyStyle(e[t])},o.getPosition=i,o.setPosition=n,o.ignoreGrid=null==l||l,o}function ot(t,e){return lt(t,[mxConstants.STYLE_ARCSIZE],function(i){var n=Math.max(0,parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)))/100,l=null!=e?e:i.height/8;return new mxPoint(i.x+i.width-Math.min(Math.max(i.width/2,i.height/2),Math.min(i.width,i.height)*n),i.y+l)},function(t,e,i){var n=Math.min(50,Math.max(0,100*(t.width-e.x+t.x)/Math.min(t.width,t.height)));this.state.style[mxConstants.STYLE_ARCSIZE]=Math.round(n)})}function rt(){return function(t){var e=[];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(ot(t)),e}}function st(t){return function(e){var i=[lt(e,["size"],function(e){var i=Math.max(0,Math.min(t,parseFloat(mxUtils.getValue(this.state.style,"size",h.prototype.size))));return new mxPoint(e.x+i*e.width*.75,e.y+e.height/4)},function(e,i){this.state.style.size=Math.max(0,Math.min(t,(i.x-e.x)/(.75*e.width)))})];return mxUtils.getValue(e.style,mxConstants.STYLE_ROUNDED,!1)&&i.push(ot(e)),i}}function at(t,e,i){return i=null!=i?i:1,function(n){var l=[lt(n,["size"],function(e){var i=parseFloat(mxUtils.getValue(this.state.style,"size",t));return new mxPoint(e.x+i*e.width,e.getCenterY())},function(t,e){this.state.style.size=Math.max(0,Math.min(i,(e.x-t.x)/t.width))})];return e&&mxUtils.getValue(n.style,mxConstants.STYLE_ROUNDED,!1)&&l.push(ot(n)),l}}function gt(t,e,i){return function(n){var l=[lt(n,["size"],function(i){var n=Math.max(0,Math.min(i.width,Math.min(i.height,parseFloat(mxUtils.getValue(this.state.style,"size",e)))))*t;return new mxPoint(i.x+n,i.y+n)},function(e,i){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min(e.width,i.x-e.x),Math.min(e.height,i.y-e.y)))/t)})];return i&&mxUtils.getValue(n.style,mxConstants.STYLE_ROUNDED,!1)&&l.push(ot(n)),l}}function Ct(t){return function(e){return[lt(e,["arrowWidth","arrowSize"],function(e){var i=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"arrowWidth",V.prototype.arrowWidth))),n=Math.max(0,Math.min(t,mxUtils.getValue(this.state.style,"arrowSize",V.prototype.arrowSize)));return new mxPoint(e.x+(1-n)*e.width,e.y+(1-i)*e.height/2)},function(e,i){this.state.style.arrowWidth=Math.max(0,Math.min(1,Math.abs(e.y+e.height/2-i.y)/e.height*2)),this.state.style.arrowSize=Math.max(0,Math.min(t,(e.x+e.width-i.x)/e.width))})]}}function ht(t,e,i,n,l){var o=t.absolutePoints,r=o.length-1,s=t.view.translate,a=t.view.scale,g=i?o[0]:o[r],C=i?o[1]:o[r-1],h=C.x-g.x,A=C.y-g.y,I=Math.sqrt(h*h+A*A);return lt(t,e,function(t){var e=n.call(this,I,h/I,A/I,g,C);return new mxPoint(e.x/a-s.x,e.y/a-s.y)},function(t,e,i){var n=Math.sqrt(h*h+A*A);e.x=(e.x+s.x)*a,e.y=(e.y+s.y)*a,l.call(this,n,h/n,A/n,g,C,e,i)})}function At(t,e,i){return ht(t,["width"],e,function(e,n,l,o,r){var s=t.shape.getEdgeWidth()*t.view.scale+i;return new mxPoint(o.x+n*e/4+l*s/2,o.y+l*e/4-n*s/2)},function(e,n,l,o,r,s){var a=Math.sqrt(mxUtils.ptSegDistSq(o.x,o.y,r.x,r.y,s.x,s.y));t.style.width=Math.round(2*a)/t.view.scale-i})}mxUtils.extend(t,mxCylinder),t.prototype.size=20,t.prototype.redrawPath=function(t,e,i,n,l,o){var r=Math.max(0,Math.min(n,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));o?(t.moveTo(r,l),t.lineTo(r,r),t.lineTo(0,0),t.moveTo(r,r),t.lineTo(n,r),t.end()):(t.moveTo(0,0),t.lineTo(n-r,0),t.lineTo(n,r),t.lineTo(n,l),t.lineTo(r,l),t.lineTo(0,l-r),t.lineTo(0,0),t.close(),t.end())},mxCellRenderer.prototype.defaultShapes.cube=t;var It=Math.tan(mxUtils.toRadians(30)),ct=(.5-It)/2;mxUtils.extend(e,mxActor),e.prototype.size=20,e.prototype.redrawPath=function(t,e,i,n,l){var o=Math.min(n,l/It);t.translate((n-o)/2,(l-o)/2+o/4),t.moveTo(0,.25*o),t.lineTo(.5*o,o*ct),t.lineTo(o,.25*o),t.lineTo(.5*o,(.5-ct)*o),t.lineTo(0,.25*o),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.isoRectangle=e,mxUtils.extend(i,mxCylinder),i.prototype.size=20,i.prototype.redrawPath=function(t,e,i,n,l,o){var r=Math.min(n,l/(.5+It));o?(t.moveTo(0,.25*r),t.lineTo(.5*r,(.5-ct)*r),t.lineTo(r,.25*r),t.moveTo(.5*r,(.5-ct)*r),t.lineTo(.5*r,(1-ct)*r),t.end()):(t.translate((n-r)/2,(l-r)/2),t.moveTo(0,.25*r),t.lineTo(.5*r,r*ct),t.lineTo(r,.25*r),t.lineTo(r,.75*r),t.lineTo(.5*r,(1-ct)*r),t.lineTo(0,.75*r),t.close(),t.end())},mxCellRenderer.prototype.defaultShapes.isoCube=i,mxUtils.extend(n,mxCylinder),n.prototype.redrawPath=function(t,e,i,n,l,o){var r=Math.min(l/2,Math.round(l/8)+this.strokewidth-1);(o&&null!=this.fill||!o&&null==this.fill)&&(t.moveTo(0,r),t.curveTo(0,2*r,n,2*r,n,r),o||(t.stroke(),t.begin()),t.translate(0,r/2),t.moveTo(0,r),t.curveTo(0,2*r,n,2*r,n,r),o||(t.stroke(),t.begin()),t.translate(0,r/2),t.moveTo(0,r),t.curveTo(0,2*r,n,2*r,n,r),o||(t.stroke(),t.begin()),t.translate(0,-r)),o||(t.moveTo(0,r),t.curveTo(0,-r/3,n,-r/3,n,r),t.lineTo(n,l-r),t.curveTo(n,l+r/3,0,l+r/3,0,l-r),t.close())},n.prototype.getLabelBounds=function(t){var e=2.5*Math.min(t.height/2,Math.round(t.height/8)+this.strokewidth-1);return!this.flipV&&(null==this.direction||this.direction==mxConstants.DIRECTION_EAST)||this.flipV&&this.direction==mxConstants.DIRECTION_WEST?(t.y+=e,t.height-=e):!this.flipV&&this.direction==mxConstants.DIRECTION_SOUTH||this.flipV&&this.direction==mxConstants.DIRECTION_NORTH?t.width-=e:!this.flipV&&this.direction==mxConstants.DIRECTION_WEST||this.flipV&&(null==this.direction||this.direction==mxConstants.DIRECTION_EAST)?t.height-=e:(!this.flipV&&this.direction==mxConstants.DIRECTION_NORTH||this.flipV&&this.direction==mxConstants.DIRECTION_SOUTH)&&(t.x+=e,t.width-=e),t},mxCellRenderer.prototype.defaultShapes.datastore=n,mxUtils.extend(l,mxCylinder),l.prototype.size=30,l.prototype.redrawPath=function(t,e,i,n,l,o){var r=Math.max(0,Math.min(n,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));o?(t.moveTo(n-r,0),t.lineTo(n-r,r),t.lineTo(n,r),t.end()):(t.moveTo(0,0),t.lineTo(n-r,0),t.lineTo(n,r),t.lineTo(n,l),t.lineTo(0,l),t.lineTo(0,0),t.close(),t.end())},mxCellRenderer.prototype.defaultShapes.note=l,mxUtils.extend(o,mxActor),o.prototype.redrawPath=function(t,e,i,n,l){t.moveTo(0,0),t.quadTo(n/2,.5*l,n,0),t.quadTo(.5*n,l/2,n,l),t.quadTo(n/2,.5*l,0,l),t.quadTo(.5*n,l/2,0,0),t.end()},mxCellRenderer.prototype.defaultShapes.switch=o,mxUtils.extend(r,mxCylinder),r.prototype.tabWidth=60,r.prototype.tabHeight=20,r.prototype.tabPosition="right",r.prototype.redrawPath=function(t,e,i,n,l,o){var r=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth)))),s=Math.max(0,Math.min(l,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight)))),a=mxUtils.getValue(this.style,"tabPosition",this.tabPosition);o?("left"==a?(t.moveTo(0,s),t.lineTo(r,s)):(t.moveTo(n-r,s),t.lineTo(n,s)),t.end()):("left"==a?(t.moveTo(0,0),t.lineTo(r,0),t.lineTo(r,s),t.lineTo(n,s)):(t.moveTo(0,s),t.lineTo(n-r,s),t.lineTo(n-r,0),t.lineTo(n,0)),t.lineTo(n,l),t.lineTo(0,l),t.lineTo(0,s),t.close(),t.end())},mxCellRenderer.prototype.defaultShapes.folder=r,mxUtils.extend(s,mxActor),s.prototype.size=30,s.prototype.redrawPath=function(t,e,i,n,l){var o=Math.max(0,Math.min(n,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(o,0),new mxPoint(n,0),new mxPoint(n,l),new mxPoint(0,l),new mxPoint(0,o)],this.isRounded,r,!0),t.end()},mxCellRenderer.prototype.defaultShapes.card=s,mxUtils.extend(a,mxActor),a.prototype.size=.4,a.prototype.redrawPath=function(t,e,i,n,l){var o=l*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));t.moveTo(0,o/2),t.quadTo(n/4,1.4*o,n/2,o/2),t.quadTo(3*n/4,o*(1-1.4),n,o/2),t.lineTo(n,l-o/2),t.quadTo(3*n/4,l-1.4*o,n/2,l-o/2),t.quadTo(n/4,l-o*(1-1.4),0,l-o/2),t.lineTo(0,o/2),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.tape=a,mxUtils.extend(g,mxActor),g.prototype.size=.3,g.prototype.redrawPath=function(t,e,i,n,l){var o=l*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));t.moveTo(0,0),t.lineTo(n,0),t.lineTo(n,l-o/2),t.quadTo(3*n/4,l-1.4*o,n/2,l-o/2),t.quadTo(n/4,l-o*(1-1.4),0,l-o/2),t.lineTo(0,o/2),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.document=g,mxUtils.extend(C,mxActor),C.prototype.size=.2,C.prototype.redrawPath=function(t,e,i,n,l){var o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,l),new mxPoint(o,0),new mxPoint(n,0),new mxPoint(n-o,l)],this.isRounded,r,!0),t.end()},mxCellRenderer.prototype.defaultShapes.parallelogram=C,mxUtils.extend(h,mxActor),h.prototype.size=.2,h.prototype.redrawPath=function(t,e,i,n,l){var o=n*Math.max(0,Math.min(.5,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,l),new mxPoint(o,0),new mxPoint(n-o,0),new mxPoint(n,l)],this.isRounded,r,!0)},mxCellRenderer.prototype.defaultShapes.trapezoid=h,mxUtils.extend(A,mxActor),A.prototype.size=.5,A.prototype.redrawPath=function(t,e,i,n,l){t.setFillColor(null);var o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(n,0),new mxPoint(o,0),new mxPoint(o,l/2),new mxPoint(0,l/2),new mxPoint(o,l/2),new mxPoint(o,l),new mxPoint(n,l)],this.isRounded,r,!1),t.end()},mxCellRenderer.prototype.defaultShapes.curlyBracket=A,mxUtils.extend(I,mxActor),I.prototype.redrawPath=function(t,e,i,n,l){t.setStrokeWidth(1),t.setFillColor(this.stroke);var o=n/5;t.rect(0,0,o,l),t.fillAndStroke(),t.rect(2*o,0,o,l),t.fillAndStroke(),t.rect(4*o,0,o,l),t.fillAndStroke()},mxCellRenderer.prototype.defaultShapes.parallelMarker=I,c.prototype.moveTo=function(t,e){this.originalMoveTo.apply(this.canvas,arguments),this.lastX=t,this.lastY=e,this.firstX=t,this.firstY=e},c.prototype.close=function(){null!=this.firstX&&null!=this.firstY&&(this.lineTo(this.firstX,this.firstY),this.originalClose.apply(this.canvas,arguments)),this.originalClose.apply(this.canvas,arguments)},c.prototype.quadTo=function(t,e,i,n){this.originalQuadTo.apply(this.canvas,arguments),this.lastX=i,this.lastY=n},c.prototype.curveTo=function(t,e,i,n,l,o){this.originalCurveTo.apply(this.canvas,arguments),this.lastX=l,this.lastY=o},c.prototype.arcTo=function(t,e,i,n,l,o,r){this.originalArcTo.apply(this.canvas,arguments),this.lastX=o,this.lastY=r},c.prototype.lineTo=function(t,e){function i(t){return"number"==typeof t?t?t<0?-1:1:t===t?0:NaN:NaN}if(null!=this.lastX&&null!=this.lastY){var n=Math.abs(t-this.lastX),l=Math.abs(e-this.lastY),o=Math.sqrt(n*n+l*l);if(o<2)return this.originalLineTo.apply(this.canvas,arguments),this.lastX=t,void(this.lastY=e);var r=Math.round(o/10),s=this.defaultVariation;r<5&&(r=5,s/=3);for(var a=i(t-this.lastX)*n/r,g=i(e-this.lastY)*l/r,C=n/o,h=l/o,A=0;A<r;A++){var I=a*A+this.lastX,c=g*A+this.lastY,d=(Math.random()-.5)*s;this.originalLineTo.call(this.canvas,I-d*h,c-d*C)}this.originalLineTo.call(this.canvas,t,e),this.lastX=t,this.lastY=e}else this.originalLineTo.apply(this.canvas,arguments),this.lastX=t,this.lastY=e},c.prototype.destroy=function(){this.canvas.lineTo=this.originalLineTo,this.canvas.moveTo=this.originalMoveTo,this.canvas.close=this.originalClose,this.canvas.quadTo=this.originalQuadTo,this.canvas.curveTo=this.originalCurveTo,this.canvas.arcTo=this.originalArcTo};var dt=mxShape.prototype.paint;mxShape.prototype.defaultJiggle=1.5,mxShape.prototype.paint=function(t){null!=this.style&&"0"!=mxUtils.getValue(this.style,"comic","0")&&null==t.handHiggle&&(t.handJiggle=new c(t,mxUtils.getValue(this.style,"jiggle",this.defaultJiggle))),dt.apply(this,arguments),null!=t.handJiggle&&(t.handJiggle.destroy(),delete t.handJiggle)},mxRhombus.prototype.defaultJiggle=2;var ut=mxRectangleShape.prototype.isHtmlAllowed;mxRectangleShape.prototype.isHtmlAllowed=function(){return(null==this.style||"0"==mxUtils.getValue(this.style,"comic","0"))&&ut.apply(this,arguments)};var pt=mxRectangleShape.prototype.paintBackground;mxRectangleShape.prototype.paintBackground=function(t,e,i,n,l){if(null==t.handJiggle)pt.apply(this,arguments);else{var o=!0;if(null!=this.style&&(o="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),o||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE){if(o||null!=this.fill&&this.fill!=mxConstants.NONE||(t.pointerEvents=!1),t.begin(),this.isRounded){var r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,s=Math.min(n*r,l*r);t.moveTo(e+s,i),t.lineTo(e+n-s,i),t.quadTo(e+n,i,e+n,i+s),t.lineTo(e+n,i+l-s),t.quadTo(e+n,i+l,e+n-s,i+l),t.lineTo(e+s,i+l),t.quadTo(e,i+l,e,i+l-s),t.lineTo(e,i+s),t.quadTo(e,i,e+s,i)}else t.moveTo(e,i),t.lineTo(e+n,i),t.lineTo(e+n,i+l),t.lineTo(e,i+l),t.lineTo(e,i);t.close(),t.end(),t.fillAndStroke()}}};var mt=mxRectangleShape.prototype.paintForeground;mxRectangleShape.prototype.paintForeground=function(t,e,i,n,l){null==t.handJiggle&&mt.apply(this,arguments)},mxUtils.extend(d,mxRectangleShape),d.prototype.size=.1,d.prototype.isHtmlAllowed=function(){return!1},d.prototype.getLabelBounds=function(t){if(mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,!0)==(null==this.direction||this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST)){var e=t.width,i=t.height,n=new mxRectangle(t.x,t.y,e,i),l=e*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));if(this.isRounded){var o=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;l=Math.max(l,Math.min(e*o,i*o))}return n.x+=l,n.width-=2*l,n}return t},d.prototype.paintForeground=function(t,e,i,n,l){var o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));if(this.isRounded){var r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;o=Math.max(o,Math.min(n*r,l*r))}t.begin(),t.moveTo(e+o,i),t.lineTo(e+o,i+l),t.moveTo(e+n-o,i),t.lineTo(e+n-o,i+l),t.end(),t.stroke(),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.prototype.defaultShapes.process=d,mxUtils.extend(u,mxActor),u.prototype.size=.2,u.prototype.redrawPath=function(t,e,i,n,l){var o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,0),new mxPoint(n-o,0),new mxPoint(n,l/2),new mxPoint(n-o,l),new mxPoint(0,l),new mxPoint(o,l/2)],this.isRounded,r,!0),t.end()},mxCellRenderer.prototype.defaultShapes.step=u,mxUtils.extend(p,mxHexagon),p.prototype.size=.25,p.prototype.redrawPath=function(t,e,i,n,l){var o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(o,0),new mxPoint(n-o,0),new mxPoint(n,.5*l),new mxPoint(n-o,l),new mxPoint(o,l),new mxPoint(0,.5*l)],this.isRounded,r,!0)},mxCellRenderer.prototype.defaultShapes.hexagon=p,mxUtils.extend(m,mxRectangleShape),m.prototype.isHtmlAllowed=function(){return!1},m.prototype.paintForeground=function(t,e,i,n,l){var o=Math.min(n/5,l/5)+1;t.begin(),t.moveTo(e+n/2,i+o),t.lineTo(e+n/2,i+l-o),t.moveTo(e+o,i+l/2),t.lineTo(e+n-o,i+l/2),t.end(),t.stroke(),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.prototype.defaultShapes.plus=m;var xt=mxRhombus.prototype.paintVertexShape;if(mxRhombus.prototype.getLabelBounds=function(t){if(1==this.style.double){var e=(2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle(t.x+e,t.y+e,t.width-2*e,t.height-2*e)}return t},mxRhombus.prototype.paintVertexShape=function(t,e,i,n,l){if(xt.apply(this,arguments),!this.outline&&1==this.style.double){var o=2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);e+=o,i+=o,l-=2*o,(n-=2*o)>0&&l>0&&(t.setShadow(!1),xt.apply(this,[t,e,i,n,l]))}},mxUtils.extend(x,mxRectangleShape),x.prototype.isHtmlAllowed=function(){return!1},x.prototype.getLabelBounds=function(t){if(1==this.style.double){var e=(Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle(t.x+e,t.y+e,t.width-2*e,t.height-2*e)}return t},x.prototype.paintForeground=function(t,e,i,n,l){if(null!=this.style){if(!this.outline&&1==this.style.double){var o=Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);e+=o,i+=o,l-=2*o,(n-=2*o)>0&&l>0&&mxRectangleShape.prototype.paintBackground.apply(this,arguments)}t.setDashed(!1);var r=0,s=null;do{if(null!=(s=mxCellRenderer.prototype.defaultShapes[this.style["symbol"+r]])){var a=this.style["symbol"+r+"Align"],g=this.style["symbol"+r+"VerticalAlign"],C=this.style["symbol"+r+"Width"],h=this.style["symbol"+r+"Height"],A=this.style["symbol"+r+"Spacing"]||0,I=this.style["symbol"+r+"ArcSpacing"];null!=I&&(A+=this.getArcSize(n+this.strokewidth,l+this.strokewidth)*I);var c=e,d=i;a==mxConstants.ALIGN_CENTER?c+=(n-C)/2:a==mxConstants.ALIGN_RIGHT?c+=n-C-A:c+=A,g==mxConstants.ALIGN_MIDDLE?d+=(l-h)/2:g==mxConstants.ALIGN_BOTTOM?d+=l-h-A:d+=A,t.save();var u=new s;u.style=this.style,s.prototype.paintVertexShape.call(u,t,c,d,C,h),t.restore()}r++}while(null!=s)}mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.prototype.defaultShapes.ext=x,mxUtils.extend(v,mxCylinder),v.prototype.redrawPath=function(t,e,i,n,l,o){o?(t.moveTo(0,0),t.lineTo(n/2,l/2),t.lineTo(n,0),t.end()):(t.moveTo(0,0),t.lineTo(n,0),t.lineTo(n,l),t.lineTo(0,l),t.close())},mxCellRenderer.prototype.defaultShapes.message=v,mxUtils.extend(y,mxShape),y.prototype.paintBackground=function(t,e,i,n,l){t.translate(e,i),t.ellipse(n/4,0,n/2,l/4),t.fillAndStroke(),t.begin(),t.moveTo(n/2,l/4),t.lineTo(n/2,2*l/3),t.moveTo(n/2,l/3),t.lineTo(0,l/3),t.moveTo(n/2,l/3),t.lineTo(n,l/3),t.moveTo(n/2,2*l/3),t.lineTo(0,l),t.moveTo(n/2,2*l/3),t.lineTo(n,l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.umlActor=y,mxUtils.extend(f,mxShape),f.prototype.getLabelBounds=function(t){return new mxRectangle(t.x+t.width/6,t.y,5*t.width/6,t.height)},f.prototype.paintBackground=function(t,e,i,n,l){t.translate(e,i),t.begin(),t.moveTo(0,l/4),t.lineTo(0,3*l/4),t.end(),t.stroke(),t.begin(),t.moveTo(0,l/2),t.lineTo(n/6,l/2),t.end(),t.stroke(),t.ellipse(n/6,0,5*n/6,l),t.fillAndStroke()},mxCellRenderer.prototype.defaultShapes.umlBoundary=f,mxUtils.extend(b,mxEllipse),b.prototype.paintVertexShape=function(t,e,i,n,l){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.begin(),t.moveTo(e+n/8,i+l),t.lineTo(e+7*n/8,i+l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.umlEntity=b,mxUtils.extend(w,mxShape),w.prototype.paintVertexShape=function(t,e,i,n,l){t.translate(e,i),t.begin(),t.moveTo(n,0),t.lineTo(0,l),t.moveTo(0,0),t.lineTo(n,l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.umlDestroy=w,mxUtils.extend(E,mxShape),E.prototype.getLabelBounds=function(t){return new mxRectangle(t.x,t.y+t.height/8,t.width,7*t.height/8)},E.prototype.paintBackground=function(t,e,i,n,l){t.translate(e,i),t.begin(),t.moveTo(3*n/8,l/8*1.1),t.lineTo(5*n/8,0),t.end(),t.stroke(),t.ellipse(0,l/8,n,7*l/8),t.fillAndStroke()},E.prototype.paintForeground=function(t,e,i,n,l){t.begin(),t.moveTo(3*n/8,l/8*1.1),t.lineTo(5*n/8,l/4),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.umlControl=E,mxUtils.extend(S,mxRectangleShape),S.prototype.size=40,S.prototype.isHtmlAllowed=function(){return!1},S.prototype.getLabelBounds=function(t){var e=Math.max(0,Math.min(t.height,parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale));return new mxRectangle(t.x,t.y,t.width,e)},S.prototype.paintBackground=function(t,e,i,n,l){var o=Math.max(0,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,"participant");if(null==r||null==this.state)mxRectangleShape.prototype.paintBackground.call(this,t,e,i,n,o);else{var s=this.state.view.graph.cellRenderer.getShape(r);if(null!=s&&s!=S){var a=new s;a.apply(this.state),t.save(),a.paintVertexShape(t,e,i,n,o),t.restore()}}o<l&&(t.setDashed(!0),t.begin(),t.moveTo(e+n/2,i+o),t.lineTo(e+n/2,i+l),t.end(),t.stroke())},S.prototype.paintForeground=function(t,e,i,n,l){var o=Math.max(0,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size))));mxRectangleShape.prototype.paintForeground.call(this,t,e,i,n,Math.min(l,o))},mxCellRenderer.prototype.defaultShapes.umlLifeline=S,mxUtils.extend(T,mxShape),T.prototype.width=60,T.prototype.height=30,T.prototype.corner=10,T.prototype.getLabelBounds=function(t){var e=Math.max(0,Math.min(t.width,parseFloat(mxUtils.getValue(this.style,"width",this.width))*this.scale)),i=Math.max(0,Math.min(t.height,parseFloat(mxUtils.getValue(this.style,"height",this.height))*this.scale));return new mxRectangle(t.x,t.y,e,i)},T.prototype.paintBackground=function(t,e,i,n,l){var o=this.corner,r=Math.min(n,Math.max(o,parseFloat(mxUtils.getValue(this.style,"width",this.width)))),s=Math.min(l,Math.max(1.5*o,parseFloat(mxUtils.getValue(this.style,"height",this.height))));t.begin(),t.moveTo(e,i),t.lineTo(e+r,i),t.lineTo(e+r,i+Math.max(0,s-1.5*o)),t.lineTo(e+Math.max(0,r-o),i+s),t.lineTo(e,i+s),t.close(),t.fillAndStroke(),t.begin(),t.moveTo(e+r,i),t.lineTo(e+n,i),t.lineTo(e+n,i+l),t.lineTo(e,i+l),t.lineTo(e,i+s),t.stroke()},mxCellRenderer.prototype.defaultShapes.umlFrame=T,mxPerimeter.LifelinePerimeter=function(t,e,i,n){var l=S.prototype.size;null!=e&&(l=mxUtils.getValue(e.style,"size",l)*e.view.scale);var o=parseFloat(e.style[mxConstants.STYLE_STROKEWIDTH]||1)*e.view.scale/2-1;return i.x<t.getCenterX()&&(o+=1,o*=-1),new mxPoint(t.getCenterX()+o,Math.min(t.y+t.height,Math.max(t.y+l,i.y)))},mxStyleRegistry.putValue("lifelinePerimeter",mxPerimeter.LifelinePerimeter),mxPerimeter.OrthogonalPerimeter=function(t,e,i,n){return!0,mxPerimeter.RectanglePerimeter.apply(this,arguments)},mxStyleRegistry.putValue("orthogonalPerimeter",mxPerimeter.OrthogonalPerimeter),mxPerimeter.BackbonePerimeter=function(t,e,i,n){var l=parseFloat(e.style[mxConstants.STYLE_STROKEWIDTH]||1)*e.view.scale/2-1;return null!=e.style.backboneSize&&(l+=parseFloat(e.style.backboneSize)*e.view.scale/2-1),"south"==e.style[mxConstants.STYLE_DIRECTION]||"north"==e.style[mxConstants.STYLE_DIRECTION]?(i.x<t.getCenterX()&&(l+=1,l*=-1),new mxPoint(t.getCenterX()+l,Math.min(t.y+t.height,Math.max(t.y,i.y)))):(i.y<t.getCenterY()&&(l+=1,l*=-1),new mxPoint(Math.min(t.x+t.width,Math.max(t.x,i.x)),t.getCenterY()+l))},mxStyleRegistry.putValue("backbonePerimeter",mxPerimeter.BackbonePerimeter),mxUtils.extend(G,mxShape),G.prototype.size=10,G.prototype.paintBackground=function(t,e,i,n,l){var o=parseFloat(mxUtils.getValue(this.style,"size",this.size));t.translate(e,i),t.ellipse((n-o)/2,0,o,o),t.fillAndStroke(),t.begin(),t.moveTo(n/2,o),t.lineTo(n/2,l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.lollipop=G,mxUtils.extend(R,mxShape),R.prototype.size=10,R.prototype.inset=2,R.prototype.paintBackground=function(t,e,i,n,l){var o=parseFloat(mxUtils.getValue(this.style,"size",this.size)),r=parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;t.translate(e,i),t.begin(),t.moveTo(n/2,o+r),t.lineTo(n/2,l),t.end(),t.stroke(),t.begin(),t.moveTo((n-o)/2-r,o/2),t.quadTo((n-o)/2-r,o+r,n/2,o+r),t.quadTo((n+o)/2+r,o+r,(n+o)/2+r,o/2),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.requires=R,mxUtils.extend(L,mxCylinder),L.prototype.jettyWidth=32,L.prototype.jettyHeight=12,L.prototype.redrawPath=function(t,e,i,n,l,o){var r=parseFloat(mxUtils.getValue(this.style,"jettyWidth",this.jettyWidth)),s=parseFloat(mxUtils.getValue(this.style,"jettyHeight",this.jettyHeight)),a=r/2,g=a+r/2,C=.3*l-s/2,h=.7*l-s/2;o?(t.moveTo(a,C),t.lineTo(g,C),t.lineTo(g,C+s),t.lineTo(a,C+s),t.moveTo(a,h),t.lineTo(g,h),t.lineTo(g,h+s),t.lineTo(a,h+s),t.end()):(t.moveTo(a,0),t.lineTo(n,0),t.lineTo(n,l),t.lineTo(a,l),t.lineTo(a,h+s),t.lineTo(0,h+s),t.lineTo(0,h),t.lineTo(a,h),t.lineTo(a,C+s),t.lineTo(0,C+s),t.lineTo(0,C),t.lineTo(a,C),t.close(),t.end())},mxCellRenderer.prototype.defaultShapes.component=L,mxUtils.extend(P,mxDoubleEllipse),P.prototype.outerStroke=!0,P.prototype.paintVertexShape=function(t,e,i,n,l){var o=Math.min(4,Math.min(n/5,l/5));n>0&&l>0&&(t.ellipse(e+o,i+o,n-2*o,l-2*o),t.fillAndStroke()),t.setShadow(!1),this.outerStroke&&(t.ellipse(e,i,n,l),t.stroke())},mxCellRenderer.prototype.defaultShapes.endState=P,mxUtils.extend(M,P),M.prototype.outerStroke=!1,mxCellRenderer.prototype.defaultShapes.startState=M,mxUtils.extend(N,mxArrowConnector),N.prototype.defaultWidth=4,N.prototype.isOpenEnded=function(){return!0},N.prototype.getEdgeWidth=function(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)},N.prototype.isArrowRounded=function(){return this.isRounded},mxCellRenderer.prototype.defaultShapes.link=N,mxUtils.extend(D,mxArrowConnector),D.prototype.defaultWidth=10,D.prototype.defaultArrowWidth=20,D.prototype.getStartArrowWidth=function(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"startWidth",this.defaultArrowWidth)},D.prototype.getEndArrowWidth=function(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"endWidth",this.defaultArrowWidth)},D.prototype.getEdgeWidth=function(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)},mxCellRenderer.prototype.defaultShapes.flexArrow=D,mxUtils.extend(O,mxActor),O.prototype.size=30,O.prototype.redrawPath=function(t,e,i,n,l){var o=Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,l),new mxPoint(0,o),new mxPoint(n,0),new mxPoint(n,l)],this.isRounded,r,!0),t.end()},mxCellRenderer.prototype.defaultShapes.manualInput=O,mxUtils.extend(U,mxRectangleShape),U.prototype.dx=20,U.prototype.dy=20,U.prototype.isHtmlAllowed=function(){return!1},U.prototype.paintForeground=function(t,e,i,n,l){mxRectangleShape.prototype.paintForeground.apply(this,arguments);var o=0;if(this.isRounded){var r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;o=Math.max(o,Math.min(n*r,l*r))}var s=Math.max(o,Math.min(n,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),a=Math.max(o,Math.min(l,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));t.begin(),t.moveTo(e,i+a),t.lineTo(e+n,i+a),t.end(),t.stroke(),t.begin(),t.moveTo(e+s,i),t.lineTo(e+s,i+l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.internalStorage=U,mxUtils.extend(k,mxActor),k.prototype.dx=20,k.prototype.dy=20,k.prototype.redrawPath=function(t,e,i,n,l){var o=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),r=Math.max(0,Math.min(l,parseFloat(mxUtils.getValue(this.style,"dy",this.dy)))),s=(Math.min(n/2,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2);this.addPoints(t,[new mxPoint(0,0),new mxPoint(n,0),new mxPoint(n,r),new mxPoint(o,r),new mxPoint(o,l),new mxPoint(0,l)],this.isRounded,s,!0),t.end()},mxCellRenderer.prototype.defaultShapes.corner=k,mxUtils.extend(H,mxActor),H.prototype.dx=20,H.prototype.dy=20,H.prototype.redrawPath=function(t,e,i,n,l){var o=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),r=Math.max(0,Math.min(l,parseFloat(mxUtils.getValue(this.style,"dy",this.dy)))),s=(Math.abs(n-o),Math.min(n/2,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),
mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2);this.addPoints(t,[new mxPoint(0,0),new mxPoint(n,0),new mxPoint(n,r),new mxPoint((n+o)/2,r),new mxPoint((n+o)/2,l),new mxPoint((n-o)/2,l),new mxPoint((n-o)/2,r),new mxPoint(0,r)],this.isRounded,s,!0),t.end()},mxCellRenderer.prototype.defaultShapes.tee=H,mxUtils.extend(V,mxActor),V.prototype.arrowWidth=.3,V.prototype.arrowSize=.2,V.prototype.redrawPath=function(t,e,i,n,l){var o=l*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth)))),r=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize)))),s=(l-o)/2,a=s+o,g=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,s),new mxPoint(n-r,s),new mxPoint(n-r,0),new mxPoint(n,l/2),new mxPoint(n-r,l),new mxPoint(n-r,a),new mxPoint(0,a)],this.isRounded,g,!0),t.end()},mxCellRenderer.prototype.defaultShapes.singleArrow=V,mxUtils.extend(Z,mxActor),Z.prototype.redrawPath=function(t,e,i,n,l){var o=l*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",V.prototype.arrowWidth)))),r=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",V.prototype.arrowSize)))),s=(l-o)/2,a=s+o,g=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,l/2),new mxPoint(r,0),new mxPoint(r,s),new mxPoint(n-r,s),new mxPoint(n-r,0),new mxPoint(n,l/2),new mxPoint(n-r,l),new mxPoint(n-r,a),new mxPoint(r,a),new mxPoint(r,l)],this.isRounded,g,!0),t.end()},mxCellRenderer.prototype.defaultShapes.doubleArrow=Z,mxUtils.extend(Y,mxActor),Y.prototype.size=.1,Y.prototype.redrawPath=function(t,e,i,n,l){var o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));t.moveTo(o,0),t.lineTo(n,0),t.quadTo(n-2*o,l/2,n,l),t.lineTo(o,l),t.quadTo(o-2*o,l/2,o,0),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.dataStorage=Y,mxUtils.extend(F,mxActor),F.prototype.redrawPath=function(t,e,i,n,l){t.moveTo(0,0),t.quadTo(n,0,n,l/2),t.quadTo(n,l,0,l),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.or=F,mxUtils.extend(X,mxActor),X.prototype.redrawPath=function(t,e,i,n,l){t.moveTo(0,0),t.quadTo(n,0,n,l/2),t.quadTo(n,l,0,l),t.quadTo(n/2,l/2,0,0),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.xor=X,mxUtils.extend(B,mxActor),B.prototype.size=20,B.prototype.redrawPath=function(t,e,i,n,l){var o=Math.min(n/2,Math.min(l,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(o,0),new mxPoint(n-o,0),new mxPoint(n,.8*o),new mxPoint(n,l),new mxPoint(0,l),new mxPoint(0,.8*o)],this.isRounded,r,!0),t.end()},mxCellRenderer.prototype.defaultShapes.loopLimit=B,mxUtils.extend(W,mxActor),W.prototype.size=3/8,W.prototype.redrawPath=function(t,e,i,n,l){var o=l*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,0),new mxPoint(n,0),new mxPoint(n,l-o),new mxPoint(n/2,l),new mxPoint(0,l-o)],this.isRounded,r,!0),t.end()},mxCellRenderer.prototype.defaultShapes.offPageConnector=W,mxUtils.extend(z,mxEllipse),z.prototype.paintVertexShape=function(t,e,i,n,l){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.begin(),t.moveTo(e+n/2,i+l),t.lineTo(e+n,i+l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.tapeData=z,mxUtils.extend(_,mxEllipse),_.prototype.paintVertexShape=function(t,e,i,n,l){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.setShadow(!1),t.begin(),t.moveTo(e,i+l/2),t.lineTo(e+n,i+l/2),t.end(),t.stroke(),t.begin(),t.moveTo(e+n/2,i),t.lineTo(e+n/2,i+l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.orEllipse=_,mxUtils.extend(J,mxEllipse),J.prototype.paintVertexShape=function(t,e,i,n,l){mxEllipse.prototype.paintVertexShape.apply(this,arguments);var o=.145;t.setShadow(!1),t.begin(),t.moveTo(e+n*o,i+l*o),t.lineTo(e+.855*n,i+.855*l),t.end(),t.stroke(),t.begin(),t.moveTo(e+.855*n,i+l*o),t.lineTo(e+n*o,i+.855*l),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.sumEllipse=J,mxUtils.extend(j,mxRhombus),j.prototype.paintVertexShape=function(t,e,i,n,l){mxRhombus.prototype.paintVertexShape.apply(this,arguments),t.setShadow(!1),t.begin(),t.moveTo(e,i+l/2),t.lineTo(e+n,i+l/2),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.sortShape=j,mxUtils.extend(K,mxEllipse),K.prototype.paintVertexShape=function(t,e,i,n,l){t.begin(),t.moveTo(e,i),t.lineTo(e+n,i),t.lineTo(e+n/2,i+l/2),t.close(),t.fillAndStroke(),t.begin(),t.moveTo(e,i+l),t.lineTo(e+n,i+l),t.lineTo(e+n/2,i+l/2),t.close(),t.fillAndStroke()},mxCellRenderer.prototype.defaultShapes.collate=K,mxUtils.extend(Q,mxEllipse),Q.prototype.paintVertexShape=function(t,e,i,n,l){var o=i+l-5;t.begin(),t.moveTo(e,i),t.lineTo(e,i+l),t.moveTo(e,o),t.lineTo(e+10,o-5),t.moveTo(e,o),t.lineTo(e+10,o+5),t.moveTo(e,o),t.lineTo(e+n,o),t.moveTo(e+n,i),t.lineTo(e+n,i+l),t.moveTo(e+n,o),t.lineTo(e+n-10,o-5),t.moveTo(e+n,o),t.lineTo(e+n-10,o+5),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.dimension=Q,mxUtils.extend(q,mxEllipse),q.prototype.paintVertexShape=function(t,e,i,n,l){this.outline||t.setStrokeColor(null),mxRectangleShape.prototype.paintBackground.apply(this,arguments),null!=this.style&&(t.setStrokeColor(this.stroke),t.rect(e,i,n,l),t.fill(),"1"==mxUtils.getValue(this.style,"top","1")&&(t.begin(),t.moveTo(e,i),t.lineTo(e+n,i),t.end(),t.stroke()),"1"==mxUtils.getValue(this.style,"right","1")&&(t.begin(),t.moveTo(e+n,i),t.lineTo(e+n,i+l),t.end(),t.stroke()),"1"==mxUtils.getValue(this.style,"bottom","1")&&(t.begin(),t.moveTo(e+n,i+l),t.lineTo(e,i+l),t.end(),t.stroke()),"1"==mxUtils.getValue(this.style,"left","1")&&(t.begin(),t.moveTo(e,i+l),t.lineTo(e,i),t.end(),t.stroke()))},mxCellRenderer.prototype.defaultShapes.partialRectangle=q,mxUtils.extend($,mxEllipse),$.prototype.paintVertexShape=function(t,e,i,n,l){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.setShadow(!1),t.begin(),"vertical"==mxUtils.getValue(this.style,"line")?(t.moveTo(e+n/2,i),t.lineTo(e+n/2,i+l)):(t.moveTo(e,i+l/2),t.lineTo(e+n,i+l/2)),t.end(),t.stroke()},mxCellRenderer.prototype.defaultShapes.lineEllipse=$,mxUtils.extend(tt,mxActor),tt.prototype.redrawPath=function(t,e,i,n,l){var o=Math.min(n,l/2);t.moveTo(0,0),t.lineTo(n-o,0),t.quadTo(n,0,n,l/2),t.quadTo(n,l,n-o,l),t.lineTo(0,l),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.delay=tt,mxUtils.extend(et,mxActor),et.prototype.size=.2,et.prototype.redrawPath=function(t,e,i,n,l){var o=Math.min(l,n),r=Math.max(0,Math.min(o,o*parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=(l-r)/2,a=s+r,g=(n-r)/2,C=g+r;t.moveTo(0,s),t.lineTo(g,s),t.lineTo(g,0),t.lineTo(C,0),t.lineTo(C,s),t.lineTo(n,s),t.lineTo(n,a),t.lineTo(C,a),t.lineTo(C,l),t.lineTo(g,l),t.lineTo(g,a),t.lineTo(0,a),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.cross=et,mxUtils.extend(it,mxActor),it.prototype.size=.25,it.prototype.redrawPath=function(t,e,i,n,l){var o=Math.min(n,l/2),r=Math.min(n-o,Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size)))*n);t.moveTo(0,l/2),t.lineTo(r,0),t.lineTo(n-o,0),t.quadTo(n,0,n,l/2),t.quadTo(n,l,n-o,l),t.lineTo(r,l),t.close(),t.end()},mxCellRenderer.prototype.defaultShapes.display=it,mxMarker.addMarker("dash",function(t,e,i,n,l,o,r,s,a,g){var C=l*(r+a+1),h=o*(r+a+1);return function(){t.begin(),t.moveTo(n.x-C/2-h/2,n.y-h/2+C/2),t.lineTo(n.x+h/2-3*C/2,n.y-3*h/2-C/2),t.stroke()}}),mxMarker.addMarker("cross",function(t,e,i,n,l,o,r,s,a,g){var C=l*(r+a+1),h=o*(r+a+1);return function(){t.begin(),t.moveTo(n.x-C/2-h/2,n.y-h/2+C/2),t.lineTo(n.x+h/2-3*C/2,n.y-3*h/2-C/2),t.moveTo(n.x-C/2+h/2,n.y-h/2-C/2),t.lineTo(n.x-h/2-3*C/2,n.y-3*h/2+C/2),t.stroke()}}),mxMarker.addMarker("circle",nt),mxMarker.addMarker("circlePlus",function(t,e,i,n,l,o,r,s,a,g){var C=n.clone(),h=nt.apply(this,arguments),A=l*(r+2*a),I=o*(r+2*a);return function(){h.apply(this,arguments),t.begin(),t.moveTo(C.x-l*a,C.y-o*a),t.lineTo(C.x-2*A+l*a,C.y-2*I+o*a),t.moveTo(C.x-A-I+o*a,C.y-I+A-l*a),t.lineTo(C.x+I-A-o*a,C.y-I-A+l*a),t.stroke()}}),mxMarker.addMarker("async",function(t,e,i,n,l,o,r,s,a,g){var C=l*a*1.118,h=o*a*1.118;l*=r+a,o*=r+a;var A=n.clone();A.x-=C,A.y-=h;return n.x+=1*-l-C,n.y+=1*-o-h,function(){t.begin(),t.moveTo(A.x,A.y),s?t.lineTo(A.x-l-o/2,A.y-o+l/2):t.lineTo(A.x+o/2-l,A.y-o-l/2),t.lineTo(A.x-l,A.y-o),t.close(),g?t.fillAndStroke():t.stroke()}}),mxMarker.addMarker("openAsync",function(t){return t=null!=t?t:2,function(e,i,n,l,o,r,s,a,g,C){o*=s+g,r*=s+g;var h=l.clone();return function(){e.begin(),e.moveTo(h.x,h.y),a?e.lineTo(h.x-o-r/t,h.y-r+o/t):e.lineTo(h.x+r/t-o,h.y-r-o/t),e.stroke()}}}(2)),void 0!==mxVertexHandler){var vt={link:function(t){return[At(t,!0,10),At(t,!1,10)]},flexArrow:function(t){var e=t.view.graph.gridSize/t.view.scale,i=[];return mxUtils.getValue(t.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&(i.push(ht(t,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,function(e,i,n,l,o){var r=(t.shape.getEdgeWidth()-t.shape.strokewidth)*t.view.scale,s=3*mxUtils.getNumber(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(l.x+i*(s+t.shape.strokewidth*t.view.scale)+n*r/2,l.y+n*(s+t.shape.strokewidth*t.view.scale)-i*r/2)},function(i,n,l,o,r,s,a){var g=Math.sqrt(mxUtils.ptSegDistSq(o.x,o.y,r.x,r.y,s.x,s.y)),C=mxUtils.ptLineDist(o.x,o.y,o.x+l,o.y-n,s.x,s.y);t.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*(C-t.shape.strokewidth)/3)/100/t.view.scale,t.style.width=Math.round(2*g)/t.view.scale,mxEvent.isControlDown(a.getEvent())&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE]),mxEvent.isAltDown(a.getEvent())||Math.abs(parseFloat(t.style[mxConstants.STYLE_STARTSIZE])-parseFloat(t.style[mxConstants.STYLE_ENDSIZE]))<e/6&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE])})),i.push(ht(t,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,function(e,i,n,l,o){var r=(t.shape.getStartArrowWidth()-t.shape.strokewidth)*t.view.scale,s=3*mxUtils.getNumber(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(l.x+i*(s+t.shape.strokewidth*t.view.scale)+n*r/2,l.y+n*(s+t.shape.strokewidth*t.view.scale)-i*r/2)},function(i,n,l,o,r,s,a){var g=Math.sqrt(mxUtils.ptSegDistSq(o.x,o.y,r.x,r.y,s.x,s.y)),C=mxUtils.ptLineDist(o.x,o.y,o.x+l,o.y-n,s.x,s.y);t.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*(C-t.shape.strokewidth)/3)/100/t.view.scale,t.style.startWidth=Math.max(0,Math.round(2*g)-t.shape.getEdgeWidth())/t.view.scale,mxEvent.isControlDown(a.getEvent())&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE],t.style.endWidth=t.style.startWidth),mxEvent.isAltDown(a.getEvent())||(Math.abs(parseFloat(t.style[mxConstants.STYLE_STARTSIZE])-parseFloat(t.style[mxConstants.STYLE_ENDSIZE]))<e/6&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE]),Math.abs(parseFloat(t.style.startWidth)-parseFloat(t.style.endWidth))<e&&(t.style.startWidth=t.style.endWidth))}))),mxUtils.getValue(t.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&(i.push(ht(t,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,function(e,i,n,l,o){var r=(t.shape.getEdgeWidth()-t.shape.strokewidth)*t.view.scale,s=3*mxUtils.getNumber(t.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(l.x+i*(s+t.shape.strokewidth*t.view.scale)-n*r/2,l.y+n*(s+t.shape.strokewidth*t.view.scale)+i*r/2)},function(i,n,l,o,r,s,a){var g=Math.sqrt(mxUtils.ptSegDistSq(o.x,o.y,r.x,r.y,s.x,s.y)),C=mxUtils.ptLineDist(o.x,o.y,o.x+l,o.y-n,s.x,s.y);t.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*(C-t.shape.strokewidth)/3)/100/t.view.scale,t.style.width=Math.round(2*g)/t.view.scale,mxEvent.isControlDown(a.getEvent())&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE]),mxEvent.isAltDown(a.getEvent())||Math.abs(parseFloat(t.style[mxConstants.STYLE_ENDSIZE])-parseFloat(t.style[mxConstants.STYLE_STARTSIZE]))<e/6&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE])})),i.push(ht(t,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,function(e,i,n,l,o){var r=(t.shape.getEndArrowWidth()-t.shape.strokewidth)*t.view.scale,s=3*mxUtils.getNumber(t.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(l.x+i*(s+t.shape.strokewidth*t.view.scale)-n*r/2,l.y+n*(s+t.shape.strokewidth*t.view.scale)+i*r/2)},function(i,n,l,o,r,s,a){var g=Math.sqrt(mxUtils.ptSegDistSq(o.x,o.y,r.x,r.y,s.x,s.y)),C=mxUtils.ptLineDist(o.x,o.y,o.x+l,o.y-n,s.x,s.y);t.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*(C-t.shape.strokewidth)/3)/100/t.view.scale,t.style.endWidth=Math.max(0,Math.round(2*g)-t.shape.getEdgeWidth())/t.view.scale,mxEvent.isControlDown(a.getEvent())&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE],t.style.startWidth=t.style.endWidth),mxEvent.isAltDown(a.getEvent())||(Math.abs(parseFloat(t.style[mxConstants.STYLE_ENDSIZE])-parseFloat(t.style[mxConstants.STYLE_STARTSIZE]))<e/6&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE]),Math.abs(parseFloat(t.style.endWidth)-parseFloat(t.style.startWidth))<e&&(t.style.endWidth=t.style.startWidth))}))),i},swimlane:function(t){var e=[lt(t,[mxConstants.STYLE_STARTSIZE],function(e){var i=parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));return 1==mxUtils.getValue(t.style,mxConstants.STYLE_HORIZONTAL,1)?new mxPoint(e.getCenterX(),e.y+Math.max(0,Math.min(e.height,i))):new mxPoint(e.x+Math.max(0,Math.min(e.width,i)),e.getCenterY())},function(e,i){t.style[mxConstants.STYLE_STARTSIZE]=1==mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,1)?Math.round(Math.max(0,Math.min(e.height,i.y-e.y))):Math.round(Math.max(0,Math.min(e.width,i.x-e.x)))})];if(mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED)){var i=parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));e.push(ot(t,i/2))}return e},label:rt(),ext:rt(),rectangle:rt(),triangle:rt(),rhombus:rt(),hexagon:rt(),umlLifeline:function(t){return[lt(t,["size"],function(t){var e=Math.max(0,Math.min(t.height,parseFloat(mxUtils.getValue(this.state.style,"size",S.prototype.size))));return new mxPoint(t.getCenterX(),t.y+e)},function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))},!1)]},umlFrame:function(t){var e=[lt(t,["width","height"],function(t){var e=Math.max(T.prototype.corner,Math.min(t.width,mxUtils.getValue(this.state.style,"width",T.prototype.width))),i=Math.max(1.5*T.prototype.corner,Math.min(t.height,mxUtils.getValue(this.state.style,"height",T.prototype.height)));return new mxPoint(t.x+e,t.y+i)},function(t,e){this.state.style.width=Math.round(Math.max(T.prototype.corner,Math.min(t.width,e.x-t.x))),this.state.style.height=Math.round(Math.max(1.5*T.prototype.corner,Math.min(t.height,e.y-t.y)))},!1)];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(ot(t)),e},process:function(t){var e=[lt(t,["size"],function(t){var e=Math.max(0,Math.min(.5,parseFloat(mxUtils.getValue(this.state.style,"size",d.prototype.size))));return new mxPoint(t.x+t.width*e,t.y+t.height/4)},function(t,e){this.state.style.size=Math.max(0,Math.min(.5,(e.x-t.x)/t.width))})];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(ot(t)),e},cross:function(t){return[lt(t,["size"],function(t){var e=Math.min(t.width,t.height),i=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"size",et.prototype.size)))*e/2;return new mxPoint(t.getCenterX()-i,t.getCenterY()-i)},function(t,e){var i=Math.min(t.width,t.height);this.state.style.size=Math.max(0,Math.min(1,Math.min(Math.max(0,t.getCenterY()-e.y)/i*2,Math.max(0,t.getCenterX()-e.x)/i*2)))})]},note:function(t){return[lt(t,["size"],function(t){var e=Math.max(0,Math.min(t.width,Math.min(t.height,parseFloat(mxUtils.getValue(this.state.style,"size",l.prototype.size)))));return new mxPoint(t.x+t.width-e,t.y+e)},function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min(t.width,t.x+t.width-e.x),Math.min(t.height,e.y-t.y))))})]},manualInput:function(t){var e=[lt(t,["size"],function(t){var e=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"size",O.prototype.size)));return new mxPoint(t.x+t.width/4,t.y+3*e/4)},function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(t.height,4*(e.y-t.y)/3)))})];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(ot(t)),e},dataStorage:function(t){return[lt(t,["size"],function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",Y.prototype.size))));return new mxPoint(t.x+(1-e)*t.width,t.getCenterY())},function(t,e){this.state.style.size=Math.max(0,Math.min(1,(t.x+t.width-e.x)/t.width))})]},internalStorage:function(t){var e=[lt(t,["dx","dy"],function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"dx",U.prototype.dx))),i=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"dy",U.prototype.dy)));return new mxPoint(t.x+e,t.y+i)},function(t,e){this.state.style.dx=Math.round(Math.max(0,Math.min(t.width,e.x-t.x))),this.state.style.dy=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))})];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(ot(t)),e},corner:function(t){return[lt(t,["dx","dy"],function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"dx",k.prototype.dx))),i=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"dy",k.prototype.dy)));return new mxPoint(t.x+e,t.y+i)},function(t,e){this.state.style.dx=Math.round(Math.max(0,Math.min(t.width,e.x-t.x))),this.state.style.dy=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))})]},tee:function(t){return[lt(t,["dx","dy"],function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"dx",H.prototype.dx))),i=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"dy",H.prototype.dy)));return new mxPoint(t.x+(t.width+e)/2,t.y+i)},function(t,e){this.state.style.dx=Math.round(Math.max(0,2*Math.min(t.width/2,e.x-t.x-t.width/2))),this.state.style.dy=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))})]},singleArrow:Ct(1),doubleArrow:Ct(.5),folder:function(t){return[lt(t,["tabWidth","tabHeight"],function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"tabWidth",r.prototype.tabWidth))),i=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"tabHeight",r.prototype.tabHeight)));return mxUtils.getValue(this.state.style,"tabPosition",r.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&(e=t.width-e),new mxPoint(t.x+e,t.y+i)},function(t,e){var i=Math.max(0,Math.min(t.width,e.x-t.x));mxUtils.getValue(this.state.style,"tabPosition",r.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&(i=t.width-i),this.state.style.tabWidth=Math.round(i),this.state.style.tabHeight=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))})]},document:function(t){return[lt(t,["size"],function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",g.prototype.size))));return new mxPoint(t.x+3*t.width/4,t.y+(1-e)*t.height)},function(t,e){this.state.style.size=Math.max(0,Math.min(1,(t.y+t.height-e.y)/t.height))})]},tape:function(t){return[lt(t,["size"],function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",a.prototype.size))));return new mxPoint(t.getCenterX(),t.y+e*t.height/2)},function(t,e){this.state.style.size=Math.max(0,Math.min(1,(e.y-t.y)/t.height*2))})]},offPageConnector:function(t){return[lt(t,["size"],function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",W.prototype.size))));return new mxPoint(t.getCenterX(),t.y+(1-e)*t.height)},function(t,e){this.state.style.size=Math.max(0,Math.min(1,(t.y+t.height-e.y)/t.height))})]},step:at(u.prototype.size,!0),hexagon:at(p.prototype.size,!0,.5),curlyBracket:at(A.prototype.size,!1),display:at(it.prototype.size,!1),cube:gt(1,t.prototype.size,!1),card:gt(.5,s.prototype.size,!0),loopLimit:gt(.5,B.prototype.size,!0),trapezoid:st(.5),parallelogram:st(1)};Graph.createHandle=lt,Graph.handleFactory=vt,mxVertexHandler.prototype.createCustomHandles=function(){if(1==this.state.view.graph.getSelectionCount()&&this.graph.isCellRotatable(this.state.cell)){var t=vt[this.state.style.shape];if(null!=t)return t(this.state)}return null},mxEdgeHandler.prototype.createCustomHandles=function(){if(1==this.state.view.graph.getSelectionCount()){var t=vt[this.state.style.shape];if(null!=t)return t(this.state)}return null}}else Graph.createHandle=function(){},Graph.handleFactory={};var yt=new mxPoint(1,0),ft=new mxPoint(1,0),bt=mxUtils.toRadians(-30),wt=Math.cos(bt),Et=Math.sin(bt);yt=mxUtils.getRotatedPoint(yt,wt,Et);var St=mxUtils.toRadians(-150),Tt=Math.cos(St),Gt=Math.sin(St);ft=mxUtils.getRotatedPoint(ft,Tt,Gt),mxEdgeStyle.IsometricConnector=function(t,e,i,n,l){function o(t,e,i){var n=t-u.x,o=e-u.y,r=(c*n-I*o)/(h*c-A*I),s=(A*n-h*o)/(A*I-h*c);d?(i&&(u=new mxPoint(u.x+h*r,u.y+A*r),l.push(u)),u=new mxPoint(u.x+I*s,u.y+c*s),l.push(u)):(i&&(u=new mxPoint(u.x+I*s,u.y+c*s),l.push(u)),u=new mxPoint(u.x+h*r,u.y+A*r),l.push(u))}var r=t.view,s=null!=n&&n.length>0?n[0]:null,a=t.absolutePoints,g=a[0],C=a[a.length-1];null!=s&&(s=r.transformControlPoint(t,s)),null==g&&null!=e&&(g=new mxPoint(e.getCenterX(),e.getCenterY())),null==C&&null!=i&&(C=new mxPoint(i.getCenterX(),i.getCenterY()));var h=yt.x,A=yt.y,I=ft.x,c=ft.y,d="horizontal"==mxUtils.getValue(t.style,"elbow","horizontal");if(null!=C&&null!=g){var u=g;null==s&&(s=new mxPoint(g.x+(C.x-g.x)/2,g.y+(C.y-g.y)/2)),o(s.x,s.y,!0),o(C.x,C.y,!1)}},mxStyleRegistry.putValue("isometricEdgeStyle",mxEdgeStyle.IsometricConnector);var Rt=Graph.prototype.createEdgeHandler;Graph.prototype.createEdgeHandler=function(t,e){if(e==mxEdgeStyle.IsometricConnector){var i=new mxElbowEdgeHandler(t);return i.snapToTerminals=!1,i}return Rt.apply(this,arguments)},e.prototype.constraints=[],i.prototype.constraints=[],mxRectangleShape.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)],mxEllipse.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(0,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(1,.5))],mxLabel.prototype.constraints=mxRectangleShape.prototype.constraints,mxImageShape.prototype.constraints=mxRectangleShape.prototype.constraints,mxSwimlane.prototype.constraints=mxRectangleShape.prototype.constraints,m.prototype.constraints=mxRectangleShape.prototype.constraints,l.prototype.constraints=mxRectangleShape.prototype.constraints,s.prototype.constraints=mxRectangleShape.prototype.constraints,t.prototype.constraints=mxRectangleShape.prototype.constraints,r.prototype.constraints=mxRectangleShape.prototype.constraints,U.prototype.constraints=mxRectangleShape.prototype.constraints,Y.prototype.constraints=mxRectangleShape.prototype.constraints,z.prototype.constraints=mxEllipse.prototype.constraints,_.prototype.constraints=mxEllipse.prototype.constraints,J.prototype.constraints=mxEllipse.prototype.constraints,$.prototype.constraints=mxEllipse.prototype.constraints,O.prototype.constraints=mxRectangleShape.prototype.constraints,tt.prototype.constraints=mxRectangleShape.prototype.constraints,it.prototype.constraints=mxRectangleShape.prototype.constraints,B.prototype.constraints=mxRectangleShape.prototype.constraints,W.prototype.constraints=mxRectangleShape.prototype.constraints,mxCylinder.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.15,.05),!1),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.85,.05),!1),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.3),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.7),!0),new mxConnectionConstraint(new mxPoint(.15,.95),!1),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.85,.95),!1)],y.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.1),!1),new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.75,.1),!1),new mxConnectionConstraint(new mxPoint(0,1/3),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(1,1/3),!1),new mxConnectionConstraint(new mxPoint(1,1),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1)],L.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)],mxActor.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.25,.2),!1),new mxConnectionConstraint(new mxPoint(.1,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.75,.25),!1),new mxConnectionConstraint(new mxPoint(.9,.5),!1),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)],o.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(.5,.25),!1),new mxConnectionConstraint(new mxPoint(1,0),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.5,.75),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)],a.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.35),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.65),!1),new mxConnectionConstraint(new mxPoint(1,.35),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,.65),!1),new mxConnectionConstraint(new mxPoint(.25,1),!1),new mxConnectionConstraint(new mxPoint(.75,0),!1)],u.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0),new mxConnectionConstraint(new mxPoint(.1,.25),!1),new mxConnectionConstraint(new mxPoint(.2,.5),!1),new mxConnectionConstraint(new mxPoint(.1,.75),!1),new mxConnectionConstraint(new mxPoint(.9,.25),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.9,.75),!1)],mxLine.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)],G.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.5,1),!1)],mxDoubleEllipse.prototype.constraints=mxEllipse.prototype.constraints,mxRhombus.prototype.constraints=mxEllipse.prototype.constraints,mxTriangle.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0)],mxHexagon.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.375,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.625,0),!0),new mxConnectionConstraint(new mxPoint(.125,.25),!1),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(.125,.75),!1),new mxConnectionConstraint(new mxPoint(.875,.25),!1),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(.875,.75),!1),new mxConnectionConstraint(new mxPoint(.375,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.625,1),!0)],mxCloud.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.25),!1),new mxConnectionConstraint(new mxPoint(.4,.1),!1),new mxConnectionConstraint(new mxPoint(.16,.55),!1),new mxConnectionConstraint(new mxPoint(.07,.4),!1),new mxConnectionConstraint(new mxPoint(.31,.8),!1),new mxConnectionConstraint(new mxPoint(.13,.77),!1),new mxConnectionConstraint(new mxPoint(.8,.8),!1),new mxConnectionConstraint(new mxPoint(.55,.95),!1),new mxConnectionConstraint(new mxPoint(.875,.5),!1),new mxConnectionConstraint(new mxPoint(.96,.7),!1),new mxConnectionConstraint(new mxPoint(.625,.2),!1),new mxConnectionConstraint(new mxPoint(.88,.25),!1)],C.prototype.constraints=mxRectangleShape.prototype.constraints,h.prototype.constraints=mxRectangleShape.prototype.constraints,g.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)],mxArrow.prototype.constraints=null,H.prototype.constraints=null,k.prototype.constraints=null,V.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)],Z.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)],et.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.5,1),!1)],S.prototype.constraints=null,F.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)],X.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.175,.25),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.175,.75),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)]}(),Actions.prototype.init=function(){function t(t){n.escape();var e=n.getDeletableCells(n.getSelectionCells());if(null!=e&&e.length>0){var i=n.model.getParents(e);if(n.removeCells(e,t),null!=i){for(var l=[],o=0;o<i.length;o++)(n.model.isVertex(i[o])||n.model.isEdge(i[o]))&&l.push(i[o]);n.setSelectionCells(l)}}}var e=this.editorUi,i=e.editor,n=i.graph,l=function(){return Action.prototype.isEnabled.apply(this,arguments)&&n.isEnabled()};this.addAction("new...",mxUtils.bind(this,function(){e.editor.graph.selectAll(null,!0);if(!(n.getSelectionCount()>0)||mxUtils.confirm(mxResources.get("sureNew"))){e.editor.graph.model.nextId=0,e.attributeNameIndex=1,e.cellNumber=0;var i=[];i.operator="new",i.id="",e.initInterfaceParams(i),t(!0);var l=n.getModel().getRoot(),o=n.getModel().getValue(l);mxUtils.isNode(o)||(o=mxUtils.createXmlDocument().createElement("object")),o.setAttribute("label",""),e.setInitAttributes();for(var r in e.initAttributes)o.setAttribute(r,JSON.stringify(e.initAttributes[r]));"model"==e.interfaceParams.type?o.setAttribute("image",mxGraph.prototype.collapsedImage.src):"topology"==e.interfaceParams.type&&o.removeAttribute("image"),n.setSelectionCells([]),e.format.refresh(),e.footwall.reset();var s="Create new "+e.interfaceParams.type;document.title=s,this.get("resetView").funct()}}),null,null,null,this.editorUi.interfaceParams.type),this.addAction("open...",function(){window.openNew=!0,window.openKey="open",e.openFile()}),this.addAction("import...",function(){window.openNew=!1,window.openKey="import",window.openFile=new OpenFile(mxUtils.bind(this,function(){e.hideDialog()})),window.openFile.setConsumer(mxUtils.bind(this,function(t,e){try{var n=mxUtils.parseXml(t),l=new mxGraphModel;new mxCodec(n).decode(n.documentElement,l);var o=l.getChildren(l.getChildAt(l.getRoot(),0));i.graph.setSelectionCells(i.graph.importCells(o))}catch(t){mxUtils.alert(mxResources.get("invalidOrMissingFile")+": "+t.message)}})),e.showDialog(new OpenDialog(this).container,320,220,!0,!0,function(){window.openFile=null})}).isEnabled=l,this.addAction("save",function(){e.saveFile(!1)},null,null,"Ctrl+S",this.editorUi.interfaceParams.type).isEnabled=l,this.addAction("saveAs...",function(){e.saveFile(!0)},null,null,"Ctrl+Shift+S").isEnabled=l,this.addAction("export...",function(){e.showDialog(new ExportDialog(e).container,300,210,!0,!0)}),this.addAction("editDiagramXML",function(){var t=new EditDiagramDialog(e,"XML");e.showDialog(t.container,620,420,!0,!0),t.init()}),this.addAction("editDiagramJSON",function(){var t=new EditDiagramDialog(e,"JSON");e.showDialog(t.container,620,420,!0,!0),t.init()}),this.addAction("pageSetup...",function(){e.showDialog(new PageSetupDialog(e).container,320,220,!0,!0)}).isEnabled=l,this.addAction("print...",function(){e.showDialog(new PrintDialog(e).container,300,180,!0,!0)},null,"sprite-print","Ctrl+P"),this.addAction("preview",function(){mxUtils.show(n,null,10,10)}),this.addAction("undo",function(){e.undo()},null,"sprite-undo","Ctrl+Z"),this.addAction("redo",function(){e.redo()},null,"sprite-redo",mxClient.IS_WIN?"Ctrl+Y":"Ctrl+Shift+Z"),this.addAction("cut",function(){mxClipboard.cut(n)},null,"sprite-cut","Ctrl+X"),this.addAction("copy",function(){mxClipboard.copy(n)},null,"sprite-copy","Ctrl+C"),this.addAction("paste",function(){n.isEnabled()&&!n.isCellLocked(n.getDefaultParent())&&mxClipboard.paste(n)},!1,"sprite-paste","Ctrl+V"),this.addAction("pasteHere",function(t){if(n.isEnabled()&&!n.isCellLocked(n.getDefaultParent())){n.getModel().beginUpdate();try{var e=mxClipboard.paste(n);if(null!=e){var i=n.getBoundingBoxFromGeometry(e);if(null!=i){var l=n.view.translate,o=n.view.scale,r=l.x,s=l.y,a=Math.round(n.snap(n.popupMenuHandler.triggerX/o-r)),g=Math.round(n.snap(n.popupMenuHandler.triggerY/o-s));n.cellsMoved(e,a-i.x,g-i.y)}}}finally{n.getModel().endUpdate()}}}),this.addAction("delete",function(){t(!1)},null,null,"Delete"),this.addAction("deleteAll",function(){t(!0)},null,null,"Ctrl+Delete"),this.addAction("duplicate",function(){n.setSelectionCells(n.duplicateCells())},null,null,"Ctrl+D"),this.addAction("turn",function(){n.setSelectionCells(n.turnShapes(n.getSelectionCells()))},null,null,"Ctrl+R"),this.addAction("selectVertices",function(){n.selectVertices()},null,null,"Ctrl+Shift+I"),this.addAction("selectEdges",function(){n.selectEdges()},null,null,"Ctrl+Shift+E"),this.addAction("selectAll",function(){n.selectAll(null,!0)},null,null,"Ctrl+A"),this.addAction("selectNone",function(){n.clearSelection()},null,null,"Ctrl+Shift+A"),this.addAction("lockUnlock",function(){if(!n.isSelectionEmpty()){n.getModel().beginUpdate();try{var t=n.isCellMovable(n.getSelectionCell())?1:0;n.toggleCellStyles(mxConstants.STYLE_MOVABLE,t),n.toggleCellStyles(mxConstants.STYLE_RESIZABLE,t),n.toggleCellStyles(mxConstants.STYLE_ROTATABLE,t),n.toggleCellStyles(mxConstants.STYLE_DELETABLE,t),n.toggleCellStyles(mxConstants.STYLE_EDITABLE,t),n.toggleCellStyles("connectable",t);var e=document.getElementsByClassName("geSprite-lockunlock")[0];e.style.backgroundPosition="1"==t?"0 -6179px":"0 -6226px"}finally{n.getModel().endUpdate()}}},null,null,"Ctrl+L"),this.addAction("home",function(){n.home()},null,null,"Home"),this.addAction("exitGroup",function(){n.exitGroup()},null,null,"Ctrl+Shift+Page Up"),this.addAction("enterGroup",function(){n.enterGroup()},null,null,"Ctrl+Shift+Page Down"),this.addAction("expand",function(){n.foldCells(!1)},null,null,"Ctrl+Page Down"),this.addAction("collapse",function(){n.foldCells(!0)},null,null,"Ctrl+Page Up"),this.addAction("toFront",function(){n.orderCells(!1)},null,null,"Ctrl+Shift+F"),this.addAction("toBack",function(){n.orderCells(!0)},null,null,"Ctrl+Shift+B"),this.addAction("group",function(){1==n.getSelectionCount()?n.setCellStyles("container","1"):n.setSelectionCell(n.groupCells(null,0))},null,null,"Ctrl+G"),this.addAction("ungroup",function(){1==n.getSelectionCount()&&0==n.getModel().getChildCount(n.getSelectionCell())?n.setCellStyles("container","0"):n.setSelectionCells(n.ungroupCells())},null,null,"Ctrl+Shift+U"),this.addAction("removeFromGroup",function(){n.removeCellsFromParent()}),this.addAction("editData...",function(){},null,null,"Ctrl+M"),this.addAction("editTooltip...",function(){var t=e.editor.graph;if(t.isEnabled()&&!t.isSelectionEmpty()){var i=t.getSelectionCell(),n="";if(mxUtils.isNode(i.value)){var l=i.value.getAttribute("tooltip");null!=l&&(n=l)}var o=new TextareaDialog(e,mxResources.get("editTooltip")+":",n,function(e){t.setTooltipForCell(i,e)});e.showDialog(o.container,320,200,!0,!0),o.init()}}),this.addAction("openLink",function(){var t=n.getLinkForCell(n.getSelectionCell());null!=t&&window.open(t)}),this.addAction("editLink...",function(){var t=e.editor.graph;if(t.isEnabled()&&!t.isSelectionEmpty()){var i=t.getSelectionCell(),n=t.getLinkForCell(i)||"";e.showLinkDialog(n,mxResources.get("apply"),function(e){e=mxUtils.trim(e),t.setLinkForCell(i,e.length>0?e:null)})}}),this.addAction("insertLink",function(){if(n.isEnabled()&&!n.isCellLocked(n.getDefaultParent())){var t=new LinkDialog(e,"",mxResources.get("insert"),function(t,e){if((t=mxUtils.trim(t)).length>0){var i=t.substring(t.lastIndexOf("/")+1),l=null;null!=e&&e.length>0&&(l=e[0].iconUrl,(i=(i=e[0].name||e[0].type).charAt(0).toUpperCase()+i.substring(1)).length>30&&(i=i.substring(0,30)+"..."));var o=n.getInsertPoint(),r=new mxCell(i,new mxGeometry(o.x,o.y,100,40),"fontColor=#0000EE;fontStyle=4;rounded=1;overflow=hidden;"+(null!=l?"shape=label;imageWidth=16;imageHeight=16;spacingLeft=26;align=left;image="+l:"spacing=10;"));r.vertex=!0,n.setLinkForCell(r,t),n.cellSizeUpdated(r,!0),n.setSelectionCell(n.addCell(r))}});e.showDialog(t.container,420,90,!0,!0),t.init()}}).isEnabled=l,this.addAction("link...",mxUtils.bind(this,function(){var t=e.editor.graph;if(t.isEnabled())if(t.cellEditor.isContentEditing()){var i=t.getParentByName(t.getSelectedElement(),"A",t.cellEditor.textarea),n="";null!=i&&(n=i.getAttribute("href")||"");var l=t.cellEditor.saveSelection();e.showLinkDialog(n,mxResources.get("apply"),mxUtils.bind(this,function(e){if(t.cellEditor.restoreSelection(l),null!=e)if(0==e.length)document.execCommand("unlink",!1);else{for(var i=t.cellEditor.textarea.getElementsByTagName("a"),n=[],o=0;o<i.length;o++)n.push(i[o]);document.execCommand("createlink",!1,mxUtils.trim(e));var r=t.cellEditor.textarea.getElementsByTagName("a");if(r.length==n.length+1)for(o=r.length-1;o>=0;o--)if(0==o||r[o]!=n[o-1]){r[o].setAttribute("target","_blank");break}}}))}else t.isSelectionEmpty()?this.get("insertLink").funct():this.get("editLink").funct()})).isEnabled=l,this.addAction("autosize",function(){var t=n.getSelectionCells();if(null!=t){n.getModel().beginUpdate();try{for(var e=0;e<t.length;e++){var i=t[e];if(n.getModel().getChildCount(i))n.updateGroupBounds([i],20);else{var l=n.view.getState(i),o=n.getCellGeometry(i);n.getModel().isVertex(i)&&null!=l&&null!=l.text&&null!=o&&n.isWrapping(i)?((o=o.clone()).height=l.text.boundingBox.height/n.view.scale,n.getModel().setGeometry(i,o)):n.updateCellSize(i)}}}finally{n.getModel().endUpdate()}}},null,null,"Ctrl+Shift+Y"),this.addAction("formattedText",function(){var t=n.getView().getState(n.getSelectionCell());if(null!=t){var i="1";n.stopEditing(),n.getModel().beginUpdate();try{if("1"==t.style.html)i=null,"0"!=mxUtils.getValue(t.style,"nl2Br","1")&&n.cellLabelChanged(t.cell,n.convertValueToString(t.cell).replace(/\n/g,"").replace(/<br\s*.?>/g,"\n"));else{var l=n.convertValueToString(t.cell);"0"!=mxUtils.getValue(t.style,"nl2Br","1")&&(l=l.replace(/\n/g,"<br/>")),n.cellLabelChanged(t.cell,n.sanitizeHtml(l))}n.setCellStyles("html",i),e.fireEvent(new mxEventObject("styleChanged","keys",["html"],"values",[null!=i?i:"0"],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}}),this.addAction("wordWrap",function(){var t=n.getView().getState(n.getSelectionCell()),e="wrap";n.stopEditing(),null!=t&&"wrap"==t.style[mxConstants.STYLE_WHITE_SPACE]&&(e=null),n.setCellStyles(mxConstants.STYLE_WHITE_SPACE,e)}),this.addAction("rotation",function(){var t="0",i=n.getView().getState(n.getSelectionCell());null!=i&&(t=i.style[mxConstants.STYLE_ROTATION]||t);var l=new FilenameDialog(e,t,mxResources.get("apply"),function(t){null!=t&&t.length>0&&n.setCellStyles(mxConstants.STYLE_ROTATION,t)},mxResources.get("enterValue")+" ("+mxResources.get("rotation")+" 0-360)");e.showDialog(l.container,300,80,!0,!0),l.init()}),this.addAction("resetView",function(){n.zoomTo(1),e.resetScrollbars()},null,null,"Ctrl+H"),this.addAction("zoomIn",function(t){n.zoomIn()},null,null,"Ctrl + / Alt+Mousewheel"),this.addAction("zoomOut",function(t){n.zoomOut()},null,null,"Ctrl - / Alt+Mousewheel"),this.addAction("fitWindow",function(){n.fit(null,null,10,null,null,null,!0,!1)},null,null,"Ctrl+Shift+H"),this.addAction("fitPage",mxUtils.bind(this,function(){n.pageVisible||this.get("pageView").funct();var t=n.pageFormat,e=n.pageScale,i=n.container.clientWidth-10,l=n.container.clientHeight-10,o=Math.floor(20*Math.min(i/t.width/e,l/t.height/e))/20;if(n.zoomTo(o),mxUtils.hasScrollbars(n.container)){var r=n.getPagePadding();n.container.scrollTop=r.y*n.view.scale,n.container.scrollLeft=Math.min(r.x*n.view.scale,(n.container.scrollWidth-n.container.clientWidth)/2)}}),null,null,"Ctrl+J"),this.addAction("fitTwoPages",mxUtils.bind(this,function(){n.pageVisible||this.get("pageView").funct();var t=n.pageFormat,e=n.pageScale,i=n.container.clientWidth-10,l=n.container.clientHeight-10,o=Math.floor(20*Math.min(i/(2*t.width)/e,l/t.height/e))/20;if(n.zoomTo(o),mxUtils.hasScrollbars(n.container)){var r=n.getPagePadding();n.container.scrollTop=Math.min(r.y,(n.container.scrollHeight-n.container.clientHeight)/2),n.container.scrollLeft=Math.min(r.x,(n.container.scrollWidth-n.container.clientWidth)/2)}}),null,null,"Ctrl+Shift+J"),this.addAction("fitPageWidth",mxUtils.bind(this,function(){n.pageVisible||this.get("pageView").funct();var t=n.pageFormat,e=n.pageScale,i=n.container.clientWidth-10,l=Math.floor(20*i/t.width/e)/20;if(n.zoomTo(l),mxUtils.hasScrollbars(n.container)){var o=n.getPagePadding();n.container.scrollLeft=Math.min(o.x*n.view.scale,(n.container.scrollWidth-n.container.clientWidth)/2)}})),this.put("customZoom",new Action(mxResources.get("custom")+"...",mxUtils.bind(this,function(){var t=new FilenameDialog(this.editorUi,parseInt(100*n.getView().getScale()),mxResources.get("apply"),mxUtils.bind(this,function(t){var e=parseInt(t);!isNaN(e)&&e>0&&n.zoomTo(e/100)}),mxResources.get("zoom")+" (%)");this.editorUi.showDialog(t.container,300,80,!0,!0),t.init()}),null,null,"Ctrl+0")),this.addAction("pageScale",mxUtils.bind(this,function(){var t=new FilenameDialog(this.editorUi,parseInt(100*n.pageScale),mxResources.get("apply"),mxUtils.bind(this,function(t){var i=parseInt(t);!isNaN(i)&&i>0&&e.setPageScale(i/100)}),mxResources.get("pageScale")+" (%)");this.editorUi.showDialog(t.container,300,80,!0,!0),t.init()}));var o=null;(o=this.addAction("grid",function(){n.setGridEnabled(!n.isGridEnabled()),e.fireEvent(new mxEventObject("gridEnabledChanged"))},null,null,"Ctrl+Shift+G")).setToggleAction(!0),o.setSelectedCallback(function(){return n.isGridEnabled()}),o.setEnabled(!1),(o=this.addAction("guides",function(){n.graphHandler.guidesEnabled=!n.graphHandler.guidesEnabled,e.fireEvent(new mxEventObject("guidesEnabledChanged"))})).setToggleAction(!0),o.setSelectedCallback(function(){return n.graphHandler.guidesEnabled}),o.setEnabled(!1),(o=this.addAction("tooltips",function(){n.tooltipHandler.setEnabled(!n.tooltipHandler.isEnabled())})).setToggleAction(!0),o.setSelectedCallback(function(){return n.tooltipHandler.isEnabled()}),(o=this.addAction("collapseExpand",function(){e.setFoldingEnabled(!n.foldingEnabled)})).setToggleAction(!0),o.setSelectedCallback(function(){return n.foldingEnabled}),o.isEnabled=l,(o=this.addAction("scrollbars",function(){e.setScrollbars(!e.hasScrollbars())})).setToggleAction(!0),o.setSelectedCallback(function(){return n.scrollbars}),(o=this.addAction("pageView",mxUtils.bind(this,function(){var t=mxUtils.hasScrollbars(n.container),i=0,l=0;if(t&&(i=n.view.translate.x*n.view.scale-n.container.scrollLeft,l=n.view.translate.y*n.view.scale-n.container.scrollTop),n.pageVisible=!n.pageVisible,n.pageBreaksVisible=n.pageVisible,n.preferPageSize=n.pageBreaksVisible,n.view.validateBackground(),t){var o=n.getSelectionCells();n.clearSelection(),n.setSelectionCells(o)}n.sizeDidChange(),t&&(n.container.scrollLeft=n.view.translate.x*n.view.scale-i,n.container.scrollTop=n.view.translate.y*n.view.scale-l),e.fireEvent(new mxEventObject("pageViewChanged"))}))).setToggleAction(!0),o.setSelectedCallback(function(){return n.pageVisible}),this.put("pageBackgroundColor",new Action(mxResources.get("backgroundColor")+"...",function(){e.pickColor(n.background||"none",function(t){e.setBackgroundColor(t)})})),(o=this.addAction("connectionArrows",function(){n.connectionArrowsEnabled=!n.connectionArrowsEnabled,e.fireEvent(new mxEventObject("connectionArrowsChanged"))},null,null,"Ctrl+Q")).setToggleAction(!0),o.setSelectedCallback(function(){return n.connectionArrowsEnabled}),(o=this.addAction("connectionPoints",function(){n.setConnectable(!n.connectionHandler.isEnabled()),e.fireEvent(new mxEventObject("connectionPointsChanged"))},null,null,"Ctrl+Shift+Q")).setToggleAction(!0),o.setSelectedCallback(function(){return n.connectionHandler.isEnabled()}),(o=this.addAction("copyConnect",function(){n.connectionHandler.setCreateTarget(!n.connectionHandler.isCreateTarget()),e.fireEvent(new mxEventObject("copyConnectChanged"))})).setToggleAction(!0),o.setSelectedCallback(function(){return n.connectionHandler.isCreateTarget()}),o.isEnabled=l,(o=this.addAction("autosave",function(){e.editor.setAutosave(!e.editor.autosave)})).setToggleAction(!0),o.setSelectedCallback(function(){return e.editor.autosave}),o.isEnabled=l,o.visible=!1,this.addAction("help",function(){var t="";mxResources.isLanguageSupported(mxClient.language)&&(t="_"+mxClient.language),window.open(RESOURCES_PATH+"/help"+t+".html")}),this.put("about",new Action(mxResources.get("about")+" Graph Editor...",function(){e.showDialog(new AboutDialog(e).container,320,280,!0,!0)},null,null,"F1"));var r=mxUtils.bind(this,function(t,e,i,l){return this.addAction(t,function(){null!=i&&n.cellEditor.isContentEditing()?i():(n.stopEditing(!1),n.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,e))},null,null,l)});r("bold",mxConstants.FONT_BOLD,function(){document.execCommand("bold",!1,null)},"Ctrl+B"),r("italic",mxConstants.FONT_ITALIC,function(){document.execCommand("italic",!1,null)},"Ctrl+I"),r("underline",mxConstants.FONT_UNDERLINE,function(){document.execCommand("underline",!1,null)},"Ctrl+U"),this.addAction("fontColor...",function(){e.menus.pickColor(mxConstants.STYLE_FONTCOLOR,"forecolor","000000")}),this.addAction("strokeColor...",function(){e.menus.pickColor(mxConstants.STYLE_STROKECOLOR)}),this.addAction("fillColor...",function(){e.menus.pickColor(mxConstants.STYLE_FILLCOLOR)}),this.addAction("gradientColor...",function(){e.menus.pickColor(mxConstants.STYLE_GRADIENTCOLOR)}),this.addAction("backgroundColor...",function(){e.menus.pickColor(mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,"backcolor")}),this.addAction("borderColor...",function(){e.menus.pickColor(mxConstants.STYLE_LABEL_BORDERCOLOR)}),this.addAction("vertical",function(){e.menus.toggleStyle(mxConstants.STYLE_HORIZONTAL,!0)}),this.addAction("shadow",function(){e.menus.toggleStyle(mxConstants.STYLE_SHADOW)}),this.addAction("solid",function(){n.getModel().beginUpdate();try{n.setCellStyles(mxConstants.STYLE_DASHED,null),n.setCellStyles(mxConstants.STYLE_DASH_PATTERN,null),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",[null,null],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}),this.addAction("dashed",function(){n.getModel().beginUpdate();try{n.setCellStyles(mxConstants.STYLE_DASHED,"1"),n.setCellStyles(mxConstants.STYLE_DASH_PATTERN,null),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",["1",null],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}),this.addAction("dotted",function(){n.getModel().beginUpdate();try{n.setCellStyles(mxConstants.STYLE_DASHED,"1"),n.setCellStyles(mxConstants.STYLE_DASH_PATTERN,"1 4"),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",["1","1 4"],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}),this.addAction("sharp",function(){n.getModel().beginUpdate();try{n.setCellStyles(mxConstants.STYLE_ROUNDED,"0"),n.setCellStyles(mxConstants.STYLE_CURVED,"0"),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["0","0"],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}),this.addAction("rounded",function(){n.getModel().beginUpdate();try{n.setCellStyles(mxConstants.STYLE_ROUNDED,"1"),n.setCellStyles(mxConstants.STYLE_CURVED,"0"),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["1","0"],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}),this.addAction("toggleRounded",function(){if(!n.isSelectionEmpty()&&n.isEnabled()){n.getModel().beginUpdate();try{var t=n.getSelectionCells(),i=n.view.getState(t[0]),l=null!=i?i.style:n.getCellStyle(t[0]),o="1"==mxUtils.getValue(l,mxConstants.STYLE_ROUNDED,"0")?"0":"1";n.setCellStyles(mxConstants.STYLE_ROUNDED,o),n.setCellStyles(mxConstants.STYLE_CURVED,null),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",[o,"0"],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}}),this.addAction("curved",function(){n.getModel().beginUpdate();try{n.setCellStyles(mxConstants.STYLE_ROUNDED,"0"),n.setCellStyles(mxConstants.STYLE_CURVED,"1"),e.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["0","1"],"cells",n.getSelectionCells()))}finally{n.getModel().endUpdate()}}),this.addAction("collapsible",function(){var t=n.getSelectionCell(),i=n.view.getState(t),l="1";null!=i&&null!=n.getFoldingImage(i)&&(l="0");var o=t.geometry,r=t.children;if("1"==l){o.x-=20,o.y-=20,o.width+=20,o.height+=20;for(var s in r)r[s].geometry.x+=20,r[s].geometry.y+=20}else{o.x+=20,o.y+=20,o.width-=20,o.height-=20;for(var s in r)r[s].geometry.x-=20,r[s].geometry.y-=20}n.setCellStyles("collapsible",l),e.fireEvent(new mxEventObject("styleChanged","keys",["collapsible"],"values",[l],"cells",n.getSelectionCells()))}),this.addAction("editStyle...",mxUtils.bind(this,function(){var t=n.getSelectionCells();if(null!=t&&t.length>0){var e=n.getModel(),i=new TextareaDialog(this.editorUi,mxResources.get("editStyle")+":",e.getStyle(t[0])||"",function(e){null!=e&&n.setCellStyle(mxUtils.trim(e),t)},null,null,400,220);this.editorUi.showDialog(i.container,420,300,!0,!0),i.init()}}),null,null,"Ctrl+E"),this.addAction("setAsDefaultStyle",function(){n.isEnabled()&&!n.isSelectionEmpty()&&e.setDefaultStyle(n.getSelectionCell())},null,null,"Ctrl+Shift+D"),this.addAction("clearDefaultStyle",function(){n.isEnabled()&&e.clearDefaultStyle()},null,null,"Ctrl+Shift+R"),this.addAction("addWaypoint",function(){var t=n.getSelectionCell();if(null!=t&&n.getModel().isEdge(t)){var e=i.graph.selectionCellsHandler.getHandler(t);if(e instanceof mxEdgeHandler){for(var l=n.view.translate,o=n.view.scale,r=l.x,s=l.y,a=n.getModel().getParent(t),g=n.getCellGeometry(a);n.getModel().isVertex(a)&&null!=g;)r+=g.x,s+=g.y,a=n.getModel().getParent(a),g=n.getCellGeometry(a);var C=Math.round(n.snap(n.popupMenuHandler.triggerX/o-r)),h=Math.round(n.snap(n.popupMenuHandler.triggerY/o-s));e.addPointAt(e.state,C,h)}}}),this.addAction("removeWaypoint",function(){var t=e.actions.get("removeWaypoint");null!=t.handler&&t.handler.removePoint(t.handler.state,t.index)}),this.addAction("clearWaypoints",function(){var t=n.getSelectionCells();if(null!=t){n.getModel().beginUpdate();try{for(var e=0;e<t.length;e++){var i=t[e];if(n.getModel().isEdge(i)){var l=n.getCellGeometry(i);null!=l&&((l=l.clone()).points=null,n.getModel().setGeometry(i,l))}}}finally{n.getModel().endUpdate()}}}),o=this.addAction("subscript",mxUtils.bind(this,function(){n.cellEditor.isContentEditing()&&document.execCommand("subscript",!1,null)}),null,null,"Ctrl+,"),o=this.addAction("superscript",mxUtils.bind(this,function(){n.cellEditor.isContentEditing()&&document.execCommand("superscript",!1,null)}),null,null,"Ctrl+.");var s=function(t,e,n){var l=i.graph;if(l.cellEditor.isContentEditing())l.cellEditor.restoreSelection(selectionState),l.insertImage(t,e,n);else{var o=l.getSelectionCells();if(null!=t){var r=null;l.getModel().beginUpdate();try{if(0==o.length){var s=l.getInsertPoint();r=o=[l.insertVertex(l.getDefaultParent(),null,"",s.x,s.y,e,n,"shape=image;verticalLabelPosition=bottom;verticalAlign=top;")]}l.setCellStyles(mxConstants.STYLE_IMAGE,t,o);var a=l.view.getState(o[0]),g=null!=a?a.style:l.getCellStyle(o[0]);if("image"!=g[mxConstants.STYLE_SHAPE]&&"label"!=g[mxConstants.STYLE_SHAPE]&&l.setCellStyles(mxConstants.STYLE_SHAPE,"image",o),1==l.getSelectionCount()&&null!=e&&null!=n){var C=o[0],h=l.getModel().getGeometry(C);null!=h&&((h=h.clone()).width=e,h.height=n,l.getModel().setGeometry(C,h))}}finally{l.getModel().endUpdate()}null!=r&&(l.setSelectionCells(r),l.scrollCellToVisible(r[0]))}}};this.addAction("image...",function(){if(n.isEnabled()&&!n.isCellLocked(n.getDefaultParent())){var t=mxResources.get("image")+" ("+mxResources.get("url")+"):",i=n.getView().getState(n.getSelectionCell()),l="";null!=i&&(l=i.style[mxConstants.STYLE_IMAGE]||l);n.cellEditor.saveSelection();e.showImageDialog(t,l,s,n.cellEditor.isContentEditing(),!n.cellEditor.isContentEditing())}}).isEnabled=l,this.addAction("insertImage",function(){n.isEnabled()&&!n.isCellLocked(n.getDefaultParent())&&(n.clearSelection(),e.actions.get("image").funct())}).isEnabled=l,this.addAction("insertLocal",function(){if(n.isEnabled()&&!n.isCellLocked(n.getDefaultParent())){n.clearSelection();var t=new LocalImgDialog(e,mxResources.get("insert"),s);e.showDialog(t.container,420,90,!0,!0)}}).isEnabled=l,(o=this.addAction("layers",mxUtils.bind(this,function(){null==this.layersWindow?(this.layersWindow=new LayersWindow(e,e.container.offsetWidth-280,120,220,180),this.layersWindow.window.addListener("show",function(){e.fireEvent(new mxEventObject("layers"))}),this.layersWindow.window.addListener("hide",function(){e.fireEvent(new mxEventObject("layers"))}),this.layersWindow.window.setVisible(!0),e.fireEvent(new mxEventObject("layers"))):this.layersWindow.window.setVisible(!this.layersWindow.window.isVisible())}),null,null,"Ctrl+Shift+L")).setToggleAction(!0),o.setSelectedCallback(mxUtils.bind(this,function(){return null!=this.layersWindow&&this.layersWindow.window.isVisible()})),(o=this.addAction("formatPanel",mxUtils.bind(this,function(){e.toggleFormatPanel()}),null,null,"Ctrl+Shift+P")).setToggleAction(!0),o.setSelectedCallback(mxUtils.bind(this,function(){return e.formatWidth>0})),(o=this.addAction("outline",mxUtils.bind(this,function(){null==this.outlineWindow?(this.outlineWindow=new OutlineWindow(e,e.container.offsetWidth-260,100,180,180),this.outlineWindow.window.addListener("show",function(){e.fireEvent(new mxEventObject("outline"))}),this.outlineWindow.window.addListener("hide",function(){e.fireEvent(new mxEventObject("outline"))}),this.outlineWindow.window.setVisible(!0),e.fireEvent(new mxEventObject("outline"))):this.outlineWindow.window.setVisible(!this.outlineWindow.window.isVisible()),e.fireEvent(new mxEventObject("outline"))}),null,null,"Ctrl+Shift+O")).setToggleAction(!0),o.setSelectedCallback(mxUtils.bind(this,function(){return null!=this.outlineWindow&&this.outlineWindow.window.isVisible()}))},Actions.prototype.addAction=function(t,e,i,n,l,o){var r;return"..."==t.substring(t.length-3)?(t=t.substring(0,t.length-3),r=null!=o?mxResources.get(t,[o])+"...":mxResources.get(t)+"..."):r=null!=o?mxResources.get(t,[o]):mxResources.get(t),this.put(t,new Action(r,e,i,n,l))},Actions.prototype.put=function(t,e){return this.actions[t]=e,e},Actions.prototype.get=function(t){return this.actions[t]},mxUtils.extend(Action,mxEventSource),Action.prototype.setEnabled=function(t){this.enabled!=t&&(this.enabled=t,this.fireEvent(new mxEventObject("stateChanged")))},Action.prototype.isEnabled=function(){return this.enabled},Action.prototype.setToggleAction=function(t){this.toggleAction=t},Action.prototype.setSelectedCallback=function(t){this.selectedCallback=t},Action.prototype.isSelected=function(){return this.selectedCallback()},Menus=function(t){this.editorUi=t,this.menus=new Object,this.init(),mxClient.IS_SVG||((new Image).src=this.checkmarkImage)},Menus.prototype.defaultFont="Verdana",Menus.prototype.defaultFontSize="12",Menus.prototype.defaultMenuItems=["file","arrange"],Menus.prototype.defaultFonts=["Verdana","Helvetica","Times New Roman","Garamond","Comic Sans MS","Courier New","Georgia","Lucida Console","Tahoma"],Menus.prototype.init=function(){var t=this.editorUi.editor.graph,e=mxUtils.bind(t,t.isEnabled);this.customFonts=[],this.customFontSizes=[],this.put("fontFamily",new Menu(mxUtils.bind(this,function(t,e){for(var i=mxUtils.bind(this,function(i){this.styleChange(t,i,[mxConstants.STYLE_FONTFAMILY],[i],null,e,function(){document.execCommand("fontname",!1,i)}).firstChild.nextSibling.style.fontFamily=i}),n=0;n<this.defaultFonts.length;n++)i(this.defaultFonts[n]);if(t.addSeparator(e),this.customFonts.length>0){for(n=0;n<this.customFonts.length;n++)i(this.customFonts[n]);t.addSeparator(e),t.addItem(mxResources.get("reset"),null,mxUtils.bind(this,function(){this.customFonts=[]}),e),t.addSeparator(e)}this.promptChange(t,mxResources.get("custom")+"...","",mxConstants.DEFAULT_FONTFAMILY,mxConstants.STYLE_FONTFAMILY,e,!0,mxUtils.bind(this,function(t){this.customFonts.push(t)}))}))),this.put("formatBlock",new Menu(mxUtils.bind(this,function(e,i){function n(n,l){return e.addItem(n,null,mxUtils.bind(this,function(){t.cellEditor.textarea.focus(),document.execCommand("formatBlock",!1,"<"+l+">")}),i)}n(mxResources.get("normal"),"p"),n("","h1").firstChild.nextSibling.innerHTML='<h1 style="margin:0px;">'+mxResources.get("heading")+" 1</h1>",n("","h2").firstChild.nextSibling.innerHTML='<h2 style="margin:0px;">'+mxResources.get("heading")+" 2</h2>",n("","h3").firstChild.nextSibling.innerHTML='<h3 style="margin:0px;">'+mxResources.get("heading")+" 3</h3>",n("","h4").firstChild.nextSibling.innerHTML='<h4 style="margin:0px;">'+mxResources.get("heading")+" 4</h4>",n("","h5").firstChild.nextSibling.innerHTML='<h5 style="margin:0px;">'+mxResources.get("heading")+" 5</h5>",n("","h6").firstChild.nextSibling.innerHTML='<h6 style="margin:0px;">'+mxResources.get("heading")+" 6</h6>",n("","pre").firstChild.nextSibling.innerHTML='<pre style="margin:0px;">'+mxResources.get("formatted")+"</pre>",n("","blockquote").firstChild.nextSibling.innerHTML='<blockquote style="margin-top:0px;margin-bottom:0px;">'+mxResources.get("blockquote")+"</blockquote>"}))),this.put("fontSize",new Menu(mxUtils.bind(this,function(e,i){for(var n=[6,8,9,10,11,12,14,18,24,36,48,72],l=mxUtils.bind(this,function(n){this.styleChange(e,n,[mxConstants.STYLE_FONTSIZE],[n],null,i,function(){document.execCommand("fontSize",!1,"3");for(var e=t.cellEditor.textarea.getElementsByTagName("font"),i=0;i<e.length;i++)if("3"==e[i].getAttribute("size")){e[i].removeAttribute("size"),e[i].style.fontSize=n+"px";break}})}),o=0;o<n.length;o++)l(n[o]);if(e.addSeparator(i),this.customFontSizes.length>0){for(o=0;o<this.customFontSizes.length;o++)l(this.customFontSizes[o]);e.addSeparator(i),e.addItem(mxResources.get("reset"),null,mxUtils.bind(this,function(){this.customFontSizes=[]}),i),e.addSeparator(i)}this.promptChange(e,mxResources.get("custom")+"...","(pt)","12",mxConstants.STYLE_FONTSIZE,i,!0,mxUtils.bind(this,function(t){this.customFontSizes.push(t)}))}))),this.put("direction",new Menu(mxUtils.bind(this,function(e,i){e.addItem(mxResources.get("flipH"),null,function(){t.toggleCellStyles(mxConstants.STYLE_FLIPH,!1)},i),e.addItem(mxResources.get("flipV"),null,function(){t.toggleCellStyles(mxConstants.STYLE_FLIPV,!1)},i),this.addMenuItems(e,["-","rotation"],i)}))),this.put("align",new Menu(mxUtils.bind(this,function(e,i){e.addItem(mxResources.get("leftAlign"),null,function(){t.alignCells(mxConstants.ALIGN_LEFT)},i),e.addItem(mxResources.get("center"),null,function(){t.alignCells(mxConstants.ALIGN_CENTER)},i),e.addItem(mxResources.get("rightAlign"),null,function(){t.alignCells(mxConstants.ALIGN_RIGHT)},i),e.addSeparator(i),e.addItem(mxResources.get("topAlign"),null,function(){t.alignCells(mxConstants.ALIGN_TOP)},i),e.addItem(mxResources.get("middle"),null,function(){t.alignCells(mxConstants.ALIGN_MIDDLE)},i),e.addItem(mxResources.get("bottomAlign"),null,function(){t.alignCells(mxConstants.ALIGN_BOTTOM)},i)}))),this.put("distribute",new Menu(mxUtils.bind(this,function(e,i){e.addItem(mxResources.get("horizontal"),null,function(){t.distributeCells(!0)},i),e.addItem(mxResources.get("vertical"),null,function(){t.distributeCells(!1)},i)}))),this.put("layout",new Menu(mxUtils.bind(this,function(e,i){e.addItem(mxResources.get("horizontalFlow"),null,mxUtils.bind(this,function(){var e=new mxHierarchicalLayout(t,mxConstants.DIRECTION_WEST);e.filterChildFlag=!0,this.editorUi.executeLayout(function(){var i=t.getSelectionCells();e.execute(t.getDefaultParent(),0==i.length?null:i)},!0)}),i),e.addItem(mxResources.get("verticalFlow"),null,mxUtils.bind(this,function(){var e=new mxHierarchicalLayout(t,mxConstants.DIRECTION_NORTH);e.filterChildFlag=!0,this.editorUi.executeLayout(function(){var i=t.getSelectionCells();e.execute(t.getDefaultParent(),0==i.length?null:i)},!0)}),i),e.addSeparator(i),e.addItem(mxResources.get("horizontalTree"),null,mxUtils.bind(this,function(){var e=new mxCompactTreeLayout(t,!0);e.edgeRouting=!1,e.levelDistance=30,e.filterChildFlag=!0,this.editorUi.executeLayout(function(){e.execute(t.getDefaultParent())},!0)}),i),e.addItem(mxResources.get("verticalTree"),null,mxUtils.bind(this,function(){var e=new mxCompactTreeLayout(t,!1);e.edgeRouting=!1,e.levelDistance=30,e.filterChildFlag=!0,this.editorUi.executeLayout(function(){e.execute(t.getDefaultParent())},!0)}),i),e.addItem(mxResources.get("radialTree"),null,mxUtils.bind(this,function(){var e=new mxRadialTreeLayout(t,!1);e.levelDistance=60,e.autoRadius=!0,e.filterChildFlag=!0,this.editorUi.executeLayout(function(){e.execute(t.getDefaultParent())},!0)}),i),e.addSeparator(i),e.addItem(mxResources.get("organic"),null,mxUtils.bind(this,function(){var e=new mxFastOrganicLayout(t);e.filterChildFlag=!0,this.editorUi.executeLayout(function(){e.execute(t.getDefaultParent())},!0)}),i),e.addItem(mxResources.get("circle"),null,mxUtils.bind(this,function(){var e=new mxCircleLayout(t);this.editorUi.executeLayout(function(){e.execute(t.getDefaultParent())},!0)}),i)}))),this.put("navigation",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["home","-","exitGroup","enterGroup","-","expand","collapse","-","collapsible"],e)}))),this.put("arrange",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["toFront","toBack","-"],e),this.addSubmenu("direction",t,e),this.addMenuItems(t,["turn","-"],e),this.addSubmenu("align",t,e),this.addSubmenu("distribute",t,e),t.addSeparator(e),this.addSubmenu("navigation",t,e),this.addSubmenu("insert",t,e),this.addSubmenu("layout",t,e),this.addMenuItems(t,["-","group","ungroup","removeFromGroup","-","clearWaypoints","autosize"],e)}))).isEnabled=e,this.put("insert",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["insertLink","insertImage","insertLocal"],e)}))),this.put("view",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,(null!=this.editorUi.format?["formatPanel"]:[]).concat(["outline","layers","-","pageView","pageScale","-","scrollbars","tooltips","-","grid","guides","-","connectionArrows","connectionPoints","-","resetView","zoomIn","zoomOut"],e))}))),this.put("viewPanels",new Menu(mxUtils.bind(this,function(t,e){null!=this.editorUi.format&&this.addMenuItems(t,["formatPanel"],e),this.addMenuItems(t,["outline","layers"],e)}))),this.put("viewZoom",new Menu(mxUtils.bind(this,function(e,i){this.addMenuItems(e,["resetView","-"],i);for(var n=[.25,.5,.75,1,1.25,1.5,2,3,4],l=0;l<n.length;l++)!function(n){e.addItem(100*n+"%",null,function(){t.zoomTo(n)},i)}(n[l]);this.addMenuItems(e,["-","fitWindow","customZoom"],i)}))),this.put("file",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["new","-","save","-","import","export"],e)}))),this.put("edit",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["undo","redo","-","cut","copy","paste","delete","-","duplicate","-","editData","editTooltip","editStyle","-","editLink","openLink","-","selectVertices","selectEdges","selectAll","selectNone","-","lockUnlock"])}))),this.put("extras",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["copyConnect","collapseExpand"])}))),this.put("help",new Menu(mxUtils.bind(this,function(t,e){this.addMenuItems(t,["help","-","about"])})))},Menus.prototype.put=function(t,e){return this.menus[t]=e,e},Menus.prototype.get=function(t){return this.menus[t]},Menus.prototype.addSubmenu=function(t,e,i){var n=this.get(t).isEnabled();if(e.showDisabled||n){var l=e.addItem(mxResources.get(t),null,null,i,null,n);this.addMenu(t,e,l)}},Menus.prototype.addMenu=function(t,e,i){var n=this.get(t);null!=n&&(e.showDisabled||n.isEnabled())&&this.get(t).execute(e,i)},Menus.prototype.addInsertTableItem=function(t){function e(t,e){for(var i=["<table>"],n=0;n<t;n++){i.push("<tr>");for(var l=0;l<e;l++)i.push("<td><br></td>");i.push("</tr>")}return i.push("</table>"),i.join("")}function i(t,e,i){for(r=t.rows.length;r<e;r++)for(var n=t.insertRow(r),l=0;l<t.rows[0].cells.length;l++){s=n.insertCell(-1);mxClient.IS_QUIRKS&&(s.innerHTML=o)}for(var r=0;r<t.rows.length;r++)for(l=(n=t.rows[r]).cells.length;l<i;l++){var s=n.insertCell(-1);mxClient.IS_QUIRKS&&(s.innerHTML=o)}}var n=this.editorUi.editor.graph,l=t.addItem("",null,mxUtils.bind(this,function(t){var i=n.getParentByName(mxEvent.getSource(t),"TD");if(null!=i){for(var l=n.getParentByName(i,"TR"),o=n.cellEditor.textarea.getElementsByTagName("table"),r=[],s=0;s<o.length;s++)r.push(o[s]);n.container.focus(),n.pasteHtmlAtCaret(e(l.sectionRowIndex+1,i.cellIndex+1));var a=n.cellEditor.textarea.getElementsByTagName("table");if(a.length==r.length+1)for(s=a.length-1;s>=0;s--)if(0==s||a[s]!=r[s-1]){n.selectNode(a[s].rows[0].cells[0]);break}}})),o='<img src="'+mxClient.imageBasePath+'/transparent.gif" width="16" height="16"/>';l.firstChild.innerHTML="";var r=function(t,e){var i=document.createElement("table");i.setAttribute("border","1"),i.style.borderCollapse="collapse",mxClient.IS_QUIRKS||i.setAttribute("cellPadding","8");for(var n=0;n<t;n++)for(var l=i.insertRow(n),r=0;r<e;r++){var s=l.insertCell(-1);mxClient.IS_QUIRKS&&(s.innerHTML=o)}return i}(5,5);l.firstChild.appendChild(r);var s=document.createElement("div");s.style.padding="4px",s.style.fontSize=Menus.prototype.defaultFontSize+"px",s.innerHTML="1x1",l.firstChild.appendChild(s),mxEvent.addListener(r,"mouseover",function(t){var e=n.getParentByName(mxEvent.getSource(t),"TD");if(null!=e){var l=n.getParentByName(e,"TR");i(r,Math.min(20,l.sectionRowIndex+2),Math.min(20,e.cellIndex+2)),s.innerHTML=e.cellIndex+1+"x"+(l.sectionRowIndex+1);for(var o=0;o<r.rows.length;o++)for(var a=r.rows[o],g=0;g<a.cells.length;g++){var C=a.cells[g];o<=l.sectionRowIndex&&g<=e.cellIndex?C.style.backgroundColor="blue":C.style.backgroundColor="white"}mxEvent.consume(t)}})},Menus.prototype.edgeStyleChange=function(t,e,i,n,l,o,r){return t.addItem(e,null,mxUtils.bind(this,function(){var t=this.editorUi.editor.graph;t.stopEditing(!1),t.getModel().beginUpdate();try{for(var e=t.getSelectionCells(),l=[],o=0;o<e.length;o++){var s=e[o];if(t.getModel().isEdge(s)){if(r){var a=t.getCellGeometry(s);null!=a&&((a=a.clone()).points=null,t.getModel().setGeometry(s,a))}for(var g=0;g<i.length;g++)t.setCellStyles(i[g],n[g],[s]);l.push(s)}}this.editorUi.fireEvent(new mxEventObject("styleChanged","keys",i,"values",n,"cells",l))}finally{t.getModel().endUpdate()}}),o,l)},Menus.prototype.styleChange=function(t,e,i,n,l,o,r){var s=this.createStyleChangeFunction(i,n);return t.addItem(e,null,mxUtils.bind(this,function(){var t=this.editorUi.editor.graph;null!=r&&t.cellEditor.isContentEditing()?r():s()}),o,l)},Menus.prototype.createStyleChangeFunction=function(t,e){return mxUtils.bind(this,function(){var i=this.editorUi.editor.graph;i.stopEditing(!1),i.getModel().beginUpdate();try{for(var n=0;n<t.length;n++)i.setCellStyles(t[n],e[n]);this.editorUi.fireEvent(new mxEventObject("styleChanged","keys",t,"values",e,"cells",i.getSelectionCells()))}finally{i.getModel().endUpdate()}})},Menus.prototype.promptChange=function(t,e,i,n,l,o,r,s,a){return t.addItem(e,null,mxUtils.bind(this,function(){var t=this.editorUi.editor.graph,e=n,o=t.getView().getState(t.getSelectionCell());null!=o&&(e=o.style[l]||e);var r=new FilenameDialog(this.editorUi,e,mxResources.get("apply"),mxUtils.bind(this,function(e){if(null!=e&&e.length>0){t.getModel().beginUpdate();try{t.stopEditing(!1),t.setCellStyles(l,e)}finally{t.getModel().endUpdate()}null!=s&&s(e)}}),mxResources.get("enterValue")+(i.length>0?" "+i:""));this.editorUi.showDialog(r.container,300,80,!0,!0),r.init()}),o,a,r)},Menus.prototype.pickColor=function(t,e,i){var n=this.editorUi.editor.graph;if(null!=e&&n.cellEditor.isContentEditing()){var l=n.cellEditor.saveSelection(),o=new ColorDialog(this.editorUi,i||"000000",mxUtils.bind(this,function(t){n.cellEditor.restoreSelection(l),document.execCommand(e,!1,t!=mxConstants.NONE?t:"transparent")}),function(){n.cellEditor.restoreSelection(l)});this.editorUi.showDialog(o.container,220,430,!0,!0),o.init()}else{null==this.colorDialog&&(this.colorDialog=new ColorDialog(this.editorUi)),this.colorDialog.currentColorKey=t;var r=n.getView().getState(n.getSelectionCell()),s="none";null!=r&&(s=r.style[t]||s),"none"==s?(s="ffffff",this.colorDialog.picker.fromString("ffffff"),this.colorDialog.colorInput.value="none"):this.colorDialog.picker.fromString(s),this.editorUi.showDialog(this.colorDialog.container,220,430,!0,!0),this.colorDialog.init()}},Menus.prototype.toggleStyle=function(t,e){var i=this.editorUi.editor.graph,n=i.toggleCellStyles(t,e);this.editorUi.fireEvent(new mxEventObject("styleChanged","keys",[t],"values",[n],"cells",i.getSelectionCells()))},Menus.prototype.addMenuItem=function(t,e,i,n,l){var o=this.editorUi.actions.get(e);if(null!=o&&(t.showDisabled||o.isEnabled())&&o.visible){var r=t.addItem(o.label,null,function(){o.funct(n)},i,l,o.isEnabled());return o.toggleAction&&o.isSelected()&&t.addCheckmark(r,Editor.checkmarkImage),this.addShortcut(r,o),r}return null},Menus.prototype.addShortcut=function(t,e){if(null!=e.shortcut){var i=t.firstChild.nextSibling.nextSibling,n=document.createElement("span");n.style.color="gray",mxUtils.write(n,e.shortcut),i.appendChild(n)}},Menus.prototype.addMenuItems=function(t,e,i,n,l){for(var o=0;o<e.length;o++)"-"==e[o]?t.addSeparator(i):this.addMenuItem(t,e[o],i,n,null!=l?l[o]:null)},Menus.prototype.createPopupMenu=function(t,e,i){var n=this.editorUi.editor.graph;if(t.smartSeparators=!0,n.isSelectionEmpty()?this.addMenuItems(t,["undo","redo","-","pasteHere"],null,i):this.addMenuItems(t,["delete","-","cut","copy","-","duplicate"],null,i),n.getSelectionCount()>0){1==n.getSelectionCount()&&this.addMenuItems(t,["setAsDefaultStyle"],null,i),t.addSeparator(),e=n.getSelectionCell();var l=n.view.getState(e);if(null!=l){if(1==n.getSelectionCount()&&this.addMenuItems(t,["toFront","toBack","-"],null,i),n.getModel().isEdge(e)&&"entityRelationEdgeStyle"!=mxUtils.getValue(l.style,mxConstants.STYLE_EDGE,null)&&"arrow"!=mxUtils.getValue(l.style,mxConstants.STYLE_SHAPE,null)){var o=n.selectionCellsHandler.getHandler(e),r=!1;if(o instanceof mxEdgeHandler&&null!=o.bends&&o.bends.length>2){var s=o.getHandleForEvent(n.updateMouseEvent(new mxMouseEvent(i))),a=this.editorUi.actions.get("removeWaypoint");a.handler=o,a.index=s,r=s>0&&s<o.bends.length-1}this.addMenuItems(t,["-",r?"removeWaypoint":"addWaypoint"],null,i);var g=n.getModel().getGeometry(e);null!=g&&null!=g.points&&g.points.length>0&&this.addMenuItems(t,["clearWaypoints"],null,i)}n.getSelectionCount()>1?(t.addSeparator(),this.addMenuItems(t,["group"],null,i)):1==n.getSelectionCount()&&!n.getModel().isEdge(e)&&!n.isSwimlane(e)&&n.getModel().getChildCount(e)>0&&(t.addSeparator(),this.addMenuItems(t,["ungroup"],null,i)),1==n.getSelectionCount()&&(t.addSeparator(),this.addMenuItems(t,["editLink"],null,i),n.getModel().isVertex(e)&&null!=mxUtils.getValue(l.style,mxConstants.STYLE_IMAGE,null)&&(t.addSeparator(),this.addMenuItem(t,"image",null,i).firstChild.nextSibling.innerHTML=mxResources.get("editImage")+"..."))}}else this.addMenuItems(t,["-","selectVertices","selectEdges","-","selectAll"],null,i)},Menus.prototype.createSidebarPopupMenu=function(t,e,i){this.addMenuItems(t,["edit"],null,i)},Menus.prototype.createMenubar=function(t){for(var e=new Menubar(this.editorUi,t),i=this.defaultMenuItems,n=0;n<i.length;n++)!function(t){var l=e.addMenu("",t.funct,i[n]);null!=l&&t.addListener("stateChanged",function(){l.enabled=t.enabled,t.enabled?(l.className="geItem",8==document.documentMode&&(l.style.color="")):(l.className="geItem mxDisabled",8==document.documentMode&&(l.style.color="#c3c3c3"))})}(this.get(i[n]));return e},Menubar.prototype.hideMenu=function(){this.editorUi.hideCurrentMenu()},Menubar.prototype.dropdownImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAHt7e////yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCREM1NkJFMjE0NEMxMUU1ODk1Q0M5MjQ0MTA4QjNDMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCREM1NkJFMzE0NEMxMUU1ODk1Q0M5MjQ0MTA4QjNDMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQzOUMzMjZCMTQ0QjExRTU4OTVDQzkyNDQxMDhCM0MxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQzOUMzMjZDMTQ0QjExRTU4OTVDQzkyNDQxMDhCM0MxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7":IMAGE_PATH+"/dropdown.gif",Menubar.prototype.initElement=function(t,e){null!=e&&t.setAttribute("title",e)},Menubar.prototype.addMenu=function(t,e,i){var n=document.createElement("a");n.style.opacity="0.6";var l=document.createElement("div");l.className="geMenuImage ge"+i,n.appendChild(l);var o=document.createElement("img");return o.src="images/dropdown.gif",o.style.position="absolute",o.style.right="0",o.style.top="6px",n.appendChild(o),n.setAttribute("href","javascript:void(0);"),n.style.padding="1px 5px 3px 1px",n.style.position="relative",n.style.width="30px",n.className="geLabel",this.initElement(n,i),this.addMenuHandler(n,e),this.container.appendChild(n),n},Menubar.prototype.addMenuHandler=function(t,e){if(null!=e){var i=!0,n=mxUtils.bind(this,function(n){if(i&&null==t.enabled||t.enabled){this.editorUi.editor.graph.popupMenuHandler.hideMenu();var l=new mxPopupMenu(e);l.smartSeparators=!0,l.showDisabled=!0,l.autoExpand=!0,l.hideMenu=mxUtils.bind(this,function(){mxPopupMenu.prototype.hideMenu.apply(l,arguments),this.editorUi.resetCurrentMenu(),l.destroy()});mxUtils.getOffset(t);l.popup(t.offsetLeft,t.offsetHeight+2,null,n),this.editorUi.setCurrentMenu(l,t)}mxEvent.consume(n)});mxEvent.addListener(t,"mousemove",mxUtils.bind(this,function(e){null!=this.editorUi.currentMenu&&this.editorUi.currentMenuElt!=t&&(this.editorUi.hideCurrentMenu(),n(e))})),mxEvent.addListener(t,"mousedown",mxUtils.bind(this,function(){i=this.currentElt!=t})),mxEvent.addListener(t,"click",mxUtils.bind(this,function(t){n(t),i=!0}))}},Menubar.prototype.destroy=function(){},mxUtils.extend(Menu,mxEventSource),Menu.prototype.isEnabled=function(){return this.enabled},Menu.prototype.setEnabled=function(t){this.enabled!=t&&(this.enabled=t,this.fireEvent(new mxEventObject("stateChanged")))},Menu.prototype.execute=function(t,e){this.funct(t,e)},EditorUi.prototype.createMenus=function(){return new Menus(this)},Format=function(t,e){this.editorUi=t,this.container=e},
Format.prototype.leftOpen=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAYAAABLcGxfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAC5j2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTctMDQtMjRUMTA6MTY6NTUrMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE3LTA0LTI0VDEwOjE2OjU1KzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo2NTI2MzZlNy00YzlkLWVlNDItOWQ4MC05ZGJjNjgzOTc1ZGY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmE3ZmVmZDAyLTNkOTItN2Y0NC04OGZhLTg4MzFiMGMwMDRkZDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NGRlYTU5MmYtMTQyMy0yNDQ0LWI4NDMtOWQ1OTNjYzc0ZjZjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTAzLTMxVDE3OjM5OjMzKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo4MDViNjA0OC03ODFiLTBkNDQtODM1Yi05NWQ0MDBjM2YyYmQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDQtMjRUMTA6MTY6NTUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY1MjYzNmU3LTRjOWQtZWU0Mi05ZDgwLTlkYmM2ODM5NzVkZjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wNC0yNFQxMDoxNjo1NSswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjgwNWI2MDQ4LTc4MWItMGQ0NC04MzViLTk1ZDQwMGMzZjJiZDwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgICAgIDxzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD41NTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT41NTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTUgPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjMzMzM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjMzMzM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MjIyMjI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjIyMjIyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0xPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0yPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC05PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC0zPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC00PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC01PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC02PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTY8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC03PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5tb2RlbDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bW9kZWw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YXR0cmlidXRlIG9mIE1PREVMPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hdHRyaWJ1dGUgb2YgTU9ERUw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPiEgPTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ISA9PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmNhdGVnb3J5PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPnR5cGU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PnR5cGU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jYXRlZ29yeTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+dHlwZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+dHlwZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmltYWdlPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5pbWFnZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlcjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUgPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lIDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZSDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDEwPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA5PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QmFnPgogICAgICAgICA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xMTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+EPN7XwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAWUlEQVR42pSRUQqAMAxDX4r3v7HEnylzZhsG+vOa0pLKNqMk2bYSrwQJuvnRgQLOlRmg37A1PwO7M14MiOaZKqUBMOMAatF6qMwb/DRnvOi6Q2qR6++nrwEAknVG9qANtTEAAAAASUVORK5CYII=":IMAGE_PATH+"/leftOpen.png",
Format.prototype.rightClose=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAYAAABLcGxfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAC5j2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTctMDQtMjFUMTA6NTQ6MTkrMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE3LTA0LTIxVDEwOjU0OjE5KzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDphODRhMjI3YS1iM2Y1LTY1NDMtODgyMy1hNTdjZWYyMDgwMzU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmE3ZmVmZDAyLTNkOTItN2Y0NC04OGZhLTg4MzFiMGMwMDRkZDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NGRlYTU5MmYtMTQyMy0yNDQ0LWI4NDMtOWQ1OTNjYzc0ZjZjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTAzLTMxVDE3OjM5OjMzKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowZWE4MGZkMy0xZmI2LTQ1NDctODY3OS1lYTg1OGZkYTExZmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDQtMjFUMTA6NTQ6MTkrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmE4NGEyMjdhLWIzZjUtNjU0My04ODIzLWE1N2NlZjIwODAzNTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wNC0yMVQxMDo1NDoxOSswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjBlYTgwZmQzLTFmYjYtNDU0Ny04Njc5LWVhODU4ZmRhMTFmYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgICAgIDxzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD41NTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT41NTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTUgPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjMzMzM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjMzMzM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MjIyMjI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjIyMjIyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0xPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0yPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC05PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC0zPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC00PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC01PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC02PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTY8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC03PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5tb2RlbDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bW9kZWw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YXR0cmlidXRlIG9mIE1PREVMPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hdHRyaWJ1dGUgb2YgTU9ERUw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPiEgPTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ISA9PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmNhdGVnb3J5PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPnR5cGU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PnR5cGU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jYXRlZ29yeTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+dHlwZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+dHlwZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmltYWdlPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5pbWFnZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlcjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUgPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lIDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZSDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDEwPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA5PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QmFnPgogICAgICAgICA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xMTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+Px4eSQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAVUlEQVR42mL8+e3LfwYGBkYGTIBVnAmfJDZxJiT2PyiNrhFFnAmLidhsg4sz4XDGf1zi2DQw4NDAgE8DIy5xJlIUY/M0LsXMMAYLsSajxwMjsX4BDACmTRL9UP8i0gAAAABJRU5ErkJggg==":IMAGE_PATH+"/rightClose.png",
Format.prototype.sureImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAC5j2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTctMDQtMjFUMTA6NTk6MzErMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE3LTA0LTIxVDEwOjU5OjMxKzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpjMjQ1NmY0Yi1iNGM3LTlmNDMtODlkZS04ZWY4ZGQ3OTZkMjU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmE3ZmVmZDAyLTNkOTItN2Y0NC04OGZhLTg4MzFiMGMwMDRkZDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NGRlYTU5MmYtMTQyMy0yNDQ0LWI4NDMtOWQ1OTNjYzc0ZjZjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTAzLTMxVDE3OjM5OjMzKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDplMWVmMTE0My01ZTRhLWRmNDYtYjA2MS02NDVkNjJmNjRhZjI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDQtMjFUMTA6NTk6MzErMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmMyNDU2ZjRiLWI0YzctOWY0My04OWRlLThlZjhkZDc5NmQyNTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wNC0yMVQxMDo1OTozMSswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmUxZWYxMTQzLTVlNGEtZGY0Ni1iMDYxLTY0NWQ2MmY2NGFmMjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgICAgIDxzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD41NTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT41NTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTUgPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjMzMzM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjMzMzM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MjIyMjI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjIyMjIyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0xPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0yPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC05PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC0zPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC00PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC01PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC02PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTY8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC03PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5tb2RlbDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bW9kZWw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YXR0cmlidXRlIG9mIE1PREVMPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hdHRyaWJ1dGUgb2YgTU9ERUw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPiEgPTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ISA9PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmNhdGVnb3J5PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPnR5cGU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PnR5cGU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jYXRlZ29yeTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+dHlwZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+dHlwZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmltYWdlPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5pbWFnZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlcjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUgPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lIDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZSDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDEwPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA5PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QmFnPgogICAgICAgICA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xODwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xODwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+wTvCzgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAABGElEQVR42qyUsUoDQRCGvwRjYZHK9kCwsbVKK9gLloKIpbZ2EbEWQYJPYZFCsLURUgUrKy+FL5A3kAifhXN6OffgxBsY2J2d/5+dnZntqCRkE9gH9oCtsOXAA3APvP1CqFU9Vxfqh5qr49A8bIvwWcKVNz31yS+5UrNEkCzODN9eimiqvquDBEFVB+E7rRJdRJQmJGUyA0txXdXRH0gKHQU2Qx3Gpt8QfKpux7of2CHqRJ01JLkN4G7JNlMnqPMob3GwonYTJDdBclCxj9V5N9GMO8BrqREBroEz4BC4S3VwKrV19SWib6iXsT6qSfc7tdRjr6nP/shxDcnSY9eVf1V9VE+alr+1hmx1RFod2n99I522PrbPAQDBfYNRWU63FwAAAABJRU5ErkJggg==":IMAGE_PATH+"/sure.png",
Format.prototype.addproCon=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAC5jWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTctMDQtMjFUMTA6NTY6NDcrMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE3LTA0LTIxVDEwOjU2OjQ3KzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo0MDNhNDk2ZS04NzRmLTBiNDctYWM1Zi04NzNhYzBjZjhlNDg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YTdmZWZkMDItM2Q5Mi03ZjQ0LTg4ZmEtODgzMWIwYzAwNGRkPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmE3ZmVmZDAyLTNkOTItN2Y0NC04OGZhLTg4MzFiMGMwMDRkZDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wMy0zMFQxODo1MjozNyswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NGRlYTU5MmYtMTQyMy0yNDQ0LWI4NDMtOWQ1OTNjYzc0ZjZjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTAzLTMxVDE3OjM5OjMzKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozZDkwNDhiOC1lNWJmLWMwNGYtYjJhYy00MDY0YjQwNTdlYjA8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDQtMjFUMTA6NTY6NDcrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjQwM2E0OTZlLTg3NGYtMGI0Ny1hYzVmLTg3M2FjMGNmOGU0ODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wNC0yMVQxMDo1Njo0NyswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjNkOTA0OGI4LWU1YmYtYzA0Zi1iMmFjLTQwNjRiNDA1N2ViMDwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgICAgIDxzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDphN2ZlZmQwMi0zZDkyLTdmNDQtODhmYS04ODMxYjBjMDA0ZGQ8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pmx0ZS10ZGQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MzMzMzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MzMzMzwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4zMzMzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4zMzMzPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD41NTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT41NTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjU1IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NTUgPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjMzMzM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjMzMzM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MjIyMjI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjIyMjIyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjIyMjIyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4yMjIyMjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT4yMjIyMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+MjIyMjI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+MTExMTExPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD4xMTExMTE8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+NTU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PjU1PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPjQ0NDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+NDQ0PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0xPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC0yPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC05PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PndsLXVuaXQtMTA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC0zPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC00PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC01PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC02PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTY8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC03PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD53bC11bml0LTc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+d2wtdW5pdC04IDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5tb2RlbDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bW9kZWw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YXR0cmlidXRlIG9mIE1PREVMPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hdHRyaWJ1dGUgb2YgTU9ERUw8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPiEgPTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ISA9PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+YW5kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5hbmQ8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmluaGVyZW50IHByb3BlcnRpZXM8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZXh0ZW5kZWQgcHJvcGVydGllczwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXI8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmNhdGVnb3J5PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPnR5cGU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PnR5cGU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jYXRlZ29yeTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+Y2F0ZWdvcnk8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+dHlwZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+dHlwZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5jdXN0b20gbWV0aG9kPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmltYWdlPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5pbWFnZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+c3RyaW5nPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5zdHJpbmc8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT08L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlcjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDQ8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDY8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA1PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIDwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZSA8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDc8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmUgPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lIDwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gNzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA3PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZSDmi7fotJ0gNTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSAyPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gMjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gNjwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+PT08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bm9uZTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bm9uZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5kZXNjcmlwdGlvbiDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+ZGVzY3JpcHRpb248L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bnVtYmVyIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5udW1iZXI8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+bmFtZSDmi7fotJ0gOTwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bmFtZTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT49PSDmi7fotJ0gMTA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pj09PC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5vbmU8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5vbmU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+ZGVzY3JpcHRpb24g5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PmRlc2NyaXB0aW9uPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm51bWJlciDmi7fotJ0gODwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+bnVtYmVyPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPm5hbWUg5ou36LSdIDk8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm5hbWU8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+PT0g5ou36LSdIDEwPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSA4PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSA5PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPj09IOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD49PTwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5ub25lIOaLt+i0nSA2PC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5ub25lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPmRlc2NyaXB0aW9uIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5kZXNjcmlwdGlvbjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5udW1iZXIg5ou36LSdIDM8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Pm51bWJlcjwvcGhvdG9zaG9wOkxheWVyVGV4dD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyTmFtZT5uYW1lIOaLt+i0nSAzPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5uYW1lPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QmFnPgogICAgICAgICA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj44PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjg8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PgRXu4wAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAACxJREFUeNpiLC8vZ0AC/6E0I0yAiYEAIKiABclYbFYRZwIjbR0JAAAA//8DAPEEBXgmwiwJAAAAAElFTkSuQmCC":IMAGE_PATH+"/add.png",Format.prototype.titleColImg=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhCQAJAPcAAAAAABAICHuUrXuctYSMlISUnISUpYSUrYScrYyUnIyUpYycpZScnJScpaXG3q3G1q3G3rW1vbW9xrW9zsbGzsbO3sbW3s7Oztbe3tbe597e3t7e597n7+fn7+/v7+/3/+////f39/f//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////ywAAAAACQAJAAAIUgAdCDBQoAADAgseCADBUIRDEAYMgPggAkCIDx8QKMA4AsCIEBwKEKgIIAAAABgMMNjgwYNFDRYMEOCAQQOACxQqFFBQQUIEnz8NPIhINOKDgAAAOw==":IMAGE_PATH+"/collapsed.gif",Format.prototype.titleExpImg=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxREY3NzBERjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxREY3NzBFMDZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MERENkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MERFNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7":IMAGE_PATH+"/expanded.gif",Format.prototype.labelIndex=[0,0],Format.prototype.currentIndex=[0,0],Format.prototype.init=function(){var t=this.editorUi.editor.graph;this.update=mxUtils.bind(this,function(t,e){this.clearSelectionState(),this.refresh()}),t.getSelectionModel().addListener(mxEvent.CHANGE,this.update),t.addListener(mxEvent.EDITING_STARTED,this.update),t.addListener(mxEvent.EDITING_STOPPED,this.update),t.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.clearSelectionState()})),t.addListener(mxEvent.ROOT,mxUtils.bind(this,function(){this.refresh()})),this.refresh()},Format.prototype.clearSelectionState=function(){this.selectionState=null},Format.prototype.getSelectionState=function(){return null==this.selectionState&&(this.selectionState=this.createSelectionState()),this.selectionState},Format.prototype.createSelectionState=function(){for(var t=this.editorUi.editor.graph.getSelectionCells(),e=this.initSelectionState(),i=0;i<t.length;i++)this.updateSelectionStateForCell(e,t[i],t);return e},Format.prototype.initSelectionState=function(){return{vertices:[],edges:[],x:null,y:null,width:null,height:null,style:{},containsImage:!1,containsLabel:!1,fill:!0,glass:!0,rounded:!0,comic:!0,autoSize:!1,image:!0,shadow:!0}},Format.prototype.updateSelectionStateForCell=function(t,e,i){var n=this.editorUi.editor.graph;if(n.getModel().isVertex(e)){t.vertices.push(e);var l=n.getCellGeometry(e);if(null!=l&&(l.width>0?null==t.width?t.width=l.width:t.width!=l.width&&(t.width=""):t.containsLabel=!0,l.height>0?null==t.height?t.height=l.height:t.height!=l.height&&(t.height=""):t.containsLabel=!0,!l.relative||null!=l.offset)){var o=l.relative?l.offset.x:l.x,r=l.relative?l.offset.y:l.y;null==t.x?t.x=o:t.x!=o&&(t.x=""),null==t.y?t.y=r:t.y!=r&&(t.y="")}}else n.getModel().isEdge(e)&&t.edges.push(e);var s=n.view.getState(e);if(null!=s){t.autoSize=t.autoSize||this.isAutoSizeState(s),t.glass=t.glass&&this.isGlassState(s),t.rounded=t.rounded&&this.isRoundedState(s),t.comic=t.comic&&this.isComicState(s),t.image=t.image&&this.isImageState(s),t.shadow=t.shadow&&this.isShadowState(s),t.fill=t.fill&&this.isFillState(s);var a=mxUtils.getValue(s.style,mxConstants.STYLE_SHAPE,null);t.containsImage=t.containsImage||"image"==a;for(var g in s.style){var C=s.style[g];null!=C&&(null==t.style[g]?t.style[g]=C:t.style[g]!=C&&(t.style[g]=""))}}},Format.prototype.isFillState=function(t){return t.view.graph.model.isVertex(t.cell)||"arrow"==mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null)||"flexArrow"==mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null)},Format.prototype.isGlassState=function(t){var e=mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null);return"label"==e||"rectangle"==e||"internalStorage"==e||"ext"==e||"umlLifeline"==e||"swimlane"==e||"process"==e},Format.prototype.isRoundedState=function(t){var e=mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null);return"label"==e||"rectangle"==e||"internalStorage"==e||"corner"==e||"parallelogram"==e||"swimlane"==e||"triangle"==e||"trapezoid"==e||"ext"==e||"step"==e||"tee"==e||"process"==e||"link"==e||"rhombus"==e||"offPageConnector"==e||"loopLimit"==e||"hexagon"==e||"manualInput"==e||"curlyBracket"==e||"singleArrow"==e||"doubleArrow"==e||"flexArrow"==e||"card"==e||"umlLifeline"==e},Format.prototype.isComicState=function(t){var e=mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null);return mxUtils.indexOf(["label","rectangle","internalStorage","corner","parallelogram","note","collate","swimlane","triangle","trapezoid","ext","step","tee","process","link","rhombus","offPageConnector","loopLimit","hexagon","manualInput","singleArrow","doubleArrow","flexArrow","card","umlLifeline","connector","folder","component","sortShape","cross","umlFrame","cube","isoCube","isoRectangle"],e)>=0},Format.prototype.isAutoSizeState=function(t){return"1"==mxUtils.getValue(t.style,mxConstants.STYLE_AUTOSIZE,null)},Format.prototype.isImageState=function(t){var e=mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null);return"label"==e||"image"==e},Format.prototype.isShadowState=function(t){return"image"!=mxUtils.getValue(t.style,mxConstants.STYLE_SHAPE,null)},Format.prototype.clear=function(){if(this.container.innerHTML="",null!=this.panels)for(var t=0;t<this.panels.length;t++)this.panels[t].destroy();this.panels=[]},Format.prototype.refresh=function(){this.clear();var t=this.editorUi,e=t.editor.graph,i=document.createElement("div");i.className="formatTabDiv",this.container.appendChild(i);var n=document.createElement("div");n.className="formatPanel";var l=document.createElement("div");l.className="formatTab",l.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",l.style.height=mxClient.IS_QUIRKS?"34px":"20px";var o=null,r=null,s=null,a=mxUtils.bind(this,function(t,e,i,n){var l=mxUtils.bind(this,function(l){r!=t&&(o?this.labelIndex[i]=n:this.currentIndex[i]=n,null!=r&&(r.className="formatTab"),(r=t).className="formatTab codeSelected",s!=e&&(null!=s&&(s.style.display="none"),(s=e).style.display=""))});mxEvent.addListener(t,"click",l),n==(o?this.labelIndex[i]:this.currentIndex[i])&&l()});if(e.isSelectionEmpty()){o=null,r=null,s=null;var g=0,C=l.cloneNode(!1);mxUtils.write(l,mxResources.get("attribute")),i.appendChild(l),(c=n.cloneNode(!1)).style.display="none",this.panels.push(new AttributePanel(this,t,c)),this.container.appendChild(c),a(l,c,0,g++),mxUtils.write(C,mxResources.get("diagram")),i.appendChild(C);var h=n.cloneNode(!1);h.style.display="none",this.panels.push(new DiagramFormatPanel(this,t,h)),this.container.appendChild(h),a(C,h,0,g++)}else if(e.isEditing())mxUtils.write(l,mxResources.get("text")),i.appendChild(l),this.panels.push(new TextFormatPanel(this,t,n)),this.container.appendChild(n);else{o=this.getSelectionState().containsLabel,r=null,s=null;var g=0,A=(C=l.cloneNode(!1)).cloneNode(!1),I=A.cloneNode(!1);mxUtils.write(l,mxResources.get("attribute")),i.appendChild(l);var c=n.cloneNode(!1);if(c.style.display="none",this.panels.push(new AttributePanel(this,t,c)),this.container.appendChild(c),a(l,c,1,g++),o)A.style.borderLeftWidth="0px";else{C.style.borderLeftWidth="0px",mxUtils.write(C,mxResources.get("style")),i.appendChild(C);var d=n.cloneNode(!1);d.style.display="none",this.panels.push(new StyleFormatPanel(this,t,d)),this.container.appendChild(d),a(C,d,1,g++)}mxUtils.write(A,mxResources.get("text")),i.appendChild(A);var u=n.cloneNode(!1);u.style.display="none",this.panels.push(new TextFormatPanel(this,t,u)),this.container.appendChild(u),mxUtils.write(I,mxResources.get("arrange")),i.appendChild(I);var p=n.cloneNode(!1);p.style.display="none",this.panels.push(new ArrangePanel(this,t,p)),this.container.appendChild(p),a(A,u,1,g++),a(I,p,1,g++)}},Format.prototype.createAttributePanel=function(){var t=document.createElement("div");t.id="attributePanel",t.style.whiteSpace="nowrap",t.style.color="rgb(112, 112, 112)",t.style.textAlign="left",t.style.cursor="default",t.style.width="100%",t.style.position="absolute",t.style.top="0",t.style.bottom="0",t.style.marginLeft="5px",t.style.backgroundColor="#FFF";var e=document.createElement("div");e.style.borderBottom="1px solid #d9d9d9",e.style.textAlign="center",e.style.fontWeight="bold",e.style.overflow="hidden",e.style.display="inline-block",e.style.paddingTop="8px",e.style.height="25px",e.style.width="100%",e.style.color="#3a3e55",e.style.fontSize="14px";var i=this.editorUi.editor.graph,n=i.getSelectionCell()||i.getModel().getRoot(),l=mxResources.get("attribute");"0"==n.getId()?(l+=" of "+this.editorUi.interfaceParams.type,e.style.color="#0000c6"):n.getStyle()&&n.getStyle().indexOf("group")>=0&&(l+=" of group"),mxUtils.write(e,l);var o=document.createElement("span");return o.setAttribute("border","0"),o.setAttribute("title",mxResources.get("hide")),o.style.position="absolute",o.style.display="block",o.style.right="10px",o.style.top="4px",o.style.cursor="pointer",o.style.opacity=.5,o.className="icon-24 icon-right-arrow",e.appendChild(o),mxEvent.addListener(o,"click",function(){t.style.display="none"}),t.appendChild(e),t},BaseFormatPanel=function(t,e,i){this.format=t,this.editorUi=e,this.container=i,this.listeners=[]},BaseFormatPanel.prototype.getSelectionState=function(){for(var t=this.editorUi.editor.graph,e=t.getSelectionCells(),i=null,n=0;n<e.length;n++){var l=t.view.getState(e[n]);if(null!=l){var o=mxUtils.getValue(l.style,mxConstants.STYLE_SHAPE,null);if(null!=o)if(null==i)i=o;else if(i!=o)return null}}return i},BaseFormatPanel.prototype.installInputHandler=function(t,e,i,n,l,o,r,s){o=null!=o?o:"",s=null!=s&&s;var a=this.editorUi,g=a.editor.graph;n=null!=n?n:1,l=null!=l?l:999;var C=null,h=!1,A=mxUtils.bind(this,function(A){var I=s?parseFloat(t.value):parseInt(t.value);if(isNaN(I)||e!=mxConstants.STYLE_ROTATION||(I=mxUtils.mod(Math.round(100*I),36e3)/100),I=Math.min(l,Math.max(n,isNaN(I)?i:I)),g.cellEditor.isContentEditing()&&r)h||(h=!0,null!=C&&(g.cellEditor.restoreSelection(C),C=null),r(I),t.value=I+o,h=!1);else if(I!=mxUtils.getValue(this.format.getSelectionState().style,e,i)){g.isEditing()&&g.stopEditing(!0),g.getModel().beginUpdate();try{if(g.setCellStyles(e,I,g.getSelectionCells()),e==mxConstants.STYLE_FONTSIZE)for(var c=g.getSelectionCells(),d=0;d<c.length;d++){var u=c[d];if(g.isHtmlLabel(u)){var p=document.createElement("div");p.innerHTML=g.convertValueToString(u);for(var m=p.getElementsByTagName("font"),x=0;x<m.length;x++)m[x].removeAttribute("size"),m[x].style.fontSize=I+"px";g.cellLabelChanged(u,p.innerHTML)}}}finally{g.getModel().endUpdate()}a.fireEvent(new mxEventObject("styleChanged","keys",[e],"values",[I],"cells",g.getSelectionCells()))}t.value=I+o,mxEvent.consume(A)});return r&&g.cellEditor.isContentEditing()&&(mxEvent.addListener(t,"mousedown",function(){C=g.cellEditor.saveSelection()}),mxEvent.addListener(t,"touchstart",function(){C=g.cellEditor.saveSelection()})),mxEvent.addListener(t,"change",A),mxEvent.addListener(t,"blur",A),A},BaseFormatPanel.prototype.createPanel=function(){var t=document.createElement("div");return t.style.padding="12px 0px 12px 18px",t.style.borderBottom="1px solid #d9d9d9",t},BaseFormatPanel.prototype.createTitle=function(t){var e=document.createElement("div");return e.style.padding="0px 0px 6px 0px",e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.style.width="200px",e.style.fontWeight="bold",mxUtils.write(e,t),e},BaseFormatPanel.prototype.createStepper=function(t,e,i,n,l,o){i=null!=i?i:1,n=null!=n?n:8,mxClient.IS_QUIRKS?n-=2:(mxClient.IS_MT||document.documentMode>=8)&&(n+=1);var r=document.createElement("div");mxUtils.setPrefixedStyle(r.style,"borderRadius","3px"),r.style.border="1px solid rgb(192, 192, 192)",r.style.position="absolute";var s=document.createElement("div");s.style.borderBottom="1px solid rgb(192, 192, 192)",s.style.position="relative",s.style.height=n+"px",s.style.width="10px",s.className="geBtnUp",r.appendChild(s);var a=s.cloneNode(!1);if(a.style.border="none",a.style.height=n+"px",a.className="geBtnDown",r.appendChild(a),mxEvent.addListener(a,"click",function(n){""==t.value&&(t.value=o||"2");var l=parseInt(t.value);isNaN(l)||(t.value=l-i,null!=e&&e(n)),mxEvent.consume(n)}),mxEvent.addListener(s,"click",function(n){""==t.value&&(t.value=o||"0");var l=parseInt(t.value);isNaN(l)||(t.value=l+i,null!=e&&e(n)),mxEvent.consume(n)}),l){var g=null;mxEvent.addGestureListeners(r,function(t){(mxClient.IS_QUIRKS||8==document.documentMode)&&(g=document.selection.createRange()),mxEvent.consume(t)},null,function(t){if(null!=g){try{g.select()}catch(t){}g=null,mxEvent.consume(t)}})}return r},BaseFormatPanel.prototype.createOption=function(t,e,i,n){var l=document.createElement("div");l.style.padding="6px 0px 1px 0px",l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.style.width="200px",l.style.height=mxClient.IS_QUIRKS?"27px":"18px";var o=document.createElement("input");o.setAttribute("type","checkbox"),o.style.margin="0px 6px 0px 0px",l.appendChild(o);var r=document.createElement("span");r.style.position="relative",r.style.top="-2px",mxUtils.write(r,t),l.appendChild(r);var s=!1,a=e(),g=function(t){s||(s=!0,t?(o.setAttribute("checked","checked"),o.defaultChecked=!0,o.checked=!0):(o.removeAttribute("checked"),o.defaultChecked=!1,o.checked=!1),a!=t&&(a=t,e()!=a&&i(a)),s=!1)};return mxEvent.addListener(l,"click",function(t){var e=mxEvent.getSource(t);e!=l&&e!=r||(o.checked=!o.checked),g(o.checked)}),g(a),null!=n&&(n.install(g),this.listeners.push(n)),l},BaseFormatPanel.prototype.createCellOption=function(t,e,i,n,l,o,r,s){n=null!=n?"null"==n?null:n:"1",l=null!=l?"null"==l?null:l:"0";var a=this.editorUi,g=a.editor.graph;return this.createOption(t,function(){var t=g.view.getState(g.getSelectionCell());return null!=t?mxUtils.getValue(t.style,e,i)!=l:null},function(t){if(s&&g.stopEditing(),null!=r)r.funct();else{g.getModel().beginUpdate();try{var i=t?n:l;g.setCellStyles(e,i,g.getSelectionCells()),null!=o&&o(g.getSelectionCells(),i),a.fireEvent(new mxEventObject("styleChanged","keys",[e],"values",[i],"cells",g.getSelectionCells()))}finally{g.getModel().endUpdate()}}},{install:function(t){this.listener=function(){var n=g.view.getState(g.getSelectionCell());null!=n&&t(mxUtils.getValue(n.style,e,i)!=l)},g.getModel().addListener(mxEvent.CHANGE,this.listener)},destroy:function(){g.getModel().removeListener(this.listener)}})},BaseFormatPanel.prototype.createColorOption=function(t,e,i,n,l,o,r){var s=document.createElement("div");s.style.padding="6px 0px 1px 0px",s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.width="200px",s.style.height=mxClient.IS_QUIRKS?"27px":"18px";var a=document.createElement("input");a.setAttribute("type","checkbox"),a.style.margin="0px 6px 0px 0px",r||s.appendChild(a);var g=document.createElement("span");g.style.position="relative",g.style.top="-2px",mxUtils.write(g,t),s.appendChild(g);var C=!1,h=e(),A=null,I=function(t,l){C||(C=!0,A.innerHTML='<div style="width:'+(mxClient.IS_QUIRKS?"30":"36")+"px;height:12px;margin:3px;border:1px solid black;background-color:"+(null!=t&&t!=mxConstants.NONE?t:n)+';"></div>',(mxClient.IS_MT||mxClient.IS_QUIRKS||8==document.documentMode)&&(A.firstChild.style.margin="0px"),null!=t&&t!=mxConstants.NONE?(a.setAttribute("checked","checked"),a.defaultChecked=!0,a.checked=!0):(a.removeAttribute("checked"),a.defaultChecked=!1,a.checked=!1),A.style.display=a.checked||r?"":"none",null!=o&&o(t),l||!r&&h==t||(h=t,(r||e()!=h)&&i(h)),C=!1)};return A=mxUtils.button("",mxUtils.bind(this,function(t){this.editorUi.pickColor(h,I),mxEvent.consume(t)})),A.style.position="absolute",A.style.marginTop="-4px",A.style.right=mxClient.IS_QUIRKS?"0px":"20px",A.style.height="22px",A.className="geColorBtn",A.style.display=a.checked||r?"":"none",s.appendChild(A),mxEvent.addListener(s,"click",function(t){mxEvent.getSource(t)!=a&&(a.checked=!a.checked),a.checked||null==h||h==mxConstants.NONE||n==mxConstants.NONE||(n=h),I(a.checked?n:mxConstants.NONE)}),I(h,!0),null!=l&&(l.install(I),this.listeners.push(l)),s},BaseFormatPanel.prototype.createCellColorOption=function(t,e,i,n,l){var o=this.editorUi,r=o.editor.graph;return this.createColorOption(t,function(){var t=r.view.getState(r.getSelectionCell());return null!=t?mxUtils.getValue(t.style,e,null):null},function(t){r.getModel().beginUpdate();try{null!=l&&l(t),r.setCellStyles(e,t,r.getSelectionCells()),o.fireEvent(new mxEventObject("styleChanged","keys",[e],"values",[t],"cells",r.getSelectionCells()))}finally{r.getModel().endUpdate()}},i||mxConstants.NONE,{install:function(t){this.listener=function(){var i=r.view.getState(r.getSelectionCell());null!=i&&t(mxUtils.getValue(i.style,e,null))},r.getModel().addListener(mxEvent.CHANGE,this.listener)},destroy:function(){r.getModel().removeListener(this.listener)}},n)},BaseFormatPanel.prototype.addArrow=function(t,e){e=null!=e?e:10;var i=document.createElement("div");i.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",i.style.padding="6px",i.style.paddingRight="4px";var n=10-e;2==n?i.style.paddingTop="6px":n>0?i.style.paddingTop=6-n+"px":i.style.marginTop="-2px",i.style.height=e+"px",i.style.borderLeft="1px solid #a0a0a0",i.innerHTML='<img border="0" src="'+(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUeNpidHB2ZyAGsACxDRBPIKCuA6TwCBB/h2rABu4A8SYmKCcXiP/iUFgAxL9gCi8A8SwsirZCMQMTkmANEH9E4v+CmsaArvAdyNFI/FlQ92EoBIE+qCRIUz168DBgsU4OqhinQpgHMABAgAEALY4XLIsJ20oAAAAASUVORK5CYII=":IMAGE_PATH+"/dropdown.png")+'" style="margin-bottom:4px;">',mxUtils.setOpacity(i,70);var l=t.getElementsByTagName("div")[0];return null!=l&&(l.style.paddingRight="6px",l.style.marginLeft="4px",l.style.marginTop="-1px",l.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",mxUtils.setOpacity(l,60)),mxUtils.setOpacity(t,100),t.style.border="1px solid #a0a0a0",t.style.backgroundColor="white",t.style.backgroundImage="none",t.style.width="auto",t.className+=" geColorBtn",mxUtils.setPrefixedStyle(t.style,"borderRadius","3px"),t.appendChild(i),l},BaseFormatPanel.prototype.addUnitInput=function(t,e,i,n,l,o,r,s){r=null!=r?r:0;var a=document.createElement("input");a.style.position="absolute",a.style.textAlign="right",a.style.marginTop="-2px",a.style.right=i+12+"px",a.style.width=n+"px",t.appendChild(a);var g=this.createStepper(a,l,o,null,s);return g.style.marginTop=r-3+"px",g.style.right=i+"px",t.appendChild(g),a},BaseFormatPanel.prototype.createRelativeOption=function(t,e,i,n,l){function o(t){if(null!=n)n(a);else{var i=parseInt(a.value);i=Math.min(100,Math.max(0,isNaN(i)?100:i));var l=r.view.getState(r.getSelectionCell());null!=l&&i!=mxUtils.getValue(l.style,e,100)&&(100==i&&(i=null),r.setCellStyles(e,i,r.getSelectionCells())),a.value=(null!=i?i:"100")+" %"}mxEvent.consume(t)}i=null!=i?i:44;var r=this.editorUi.editor.graph,s=this.createPanel();s.style.paddingTop="10px",s.style.paddingBottom="10px",mxUtils.write(s,t),s.style.fontWeight="bold";var a=this.addUnitInput(s,"%",20,i,o,10,-16,null!=n);if(null!=e){var g=mxUtils.bind(this,function(t,i,n){if(n||a!=document.activeElement){var l=this.format.getSelectionState(),o=parseInt(mxUtils.getValue(l.style,e,100));a.value=isNaN(o)?"":o+" %"}});mxEvent.addListener(a,"keydown",function(t){13==t.keyCode?(r.container.focus(),mxEvent.consume(t)):27==t.keyCode&&(g(null,null,!0),r.container.focus(),mxEvent.consume(t))}),r.getModel().addListener(mxEvent.CHANGE,g),this.listeners.push({destroy:function(){r.getModel().removeListener(g)}}),g()}return mxEvent.addListener(a,"blur",o),mxEvent.addListener(a,"change",o),null!=l&&l(a),s},BaseFormatPanel.prototype.addLabel=function(t,e,i,n){n=null!=n?n:61;var l=document.createElement("div");mxUtils.write(l,e),l.style.position="absolute",l.style.right=i+"px",l.style.width=n+"px",l.style.marginTop="6px",l.style.textAlign="center",t.appendChild(l)},BaseFormatPanel.prototype.addKeyHandler=function(t,e){mxEvent.addListener(t,"keydown",mxUtils.bind(this,function(t){13==t.keyCode?(this.editorUi.editor.graph.container.focus(),mxEvent.consume(t)):27==t.keyCode&&(null!=e&&e(null,null,!0),this.editorUi.editor.graph.container.focus(),mxEvent.consume(t))}))},BaseFormatPanel.prototype.styleButtons=function(t){for(var e=0;e<t.length;e++)mxUtils.setPrefixedStyle(t[e].style,"borderRadius","3px"),mxUtils.setOpacity(t[e],100),t[e].style.border="1px solid #a0a0a0",t[e].style.padding="4px",t[e].style.paddingTop="3px",t[e].style.paddingRight="1px",t[e].style.margin="1px",t[e].style.width="24px",t[e].style.height="20px",t[e].className+=" geColorBtn"},BaseFormatPanel.prototype.destroy=function(){if(null!=this.listeners){for(var t=0;t<this.listeners.length;t++)this.listeners[t].destroy();this.listeners=null}},AttributePanel=function(t,e,i){BaseFormatPanel.call(this,t,e,i),this.init()},mxUtils.extend(AttributePanel,BaseFormatPanel),ArrangePanel=function(t,e,i){BaseFormatPanel.call(this,t,e,i),this.init()},mxUtils.extend(ArrangePanel,BaseFormatPanel),ArrangePanel.prototype.init=function(){this.editorUi.editor.graph;var t=this.format.getSelectionState();this.container.appendChild(this.addLayerOps(this.createPanel())),this.addGeometry(this.container),this.addEdgeGeometry(this.container),this.container.appendChild(this.addAngle(this.createPanel())),t.containsLabel||this.container.appendChild(this.addFlip(this.createPanel())),t.vertices.length>1&&(this.container.appendChild(this.addAlign(this.createPanel())),this.container.appendChild(this.addDistribute(this.createPanel()))),this.container.appendChild(this.addGroupOps(this.createPanel()))},ArrangePanel.prototype.addLayerOps=function(t){t.style.padding="10px 0",t.style.textAlign="center";var e=this.editorUi,i=mxUtils.button(mxResources.get("toFront"),function(t){e.actions.get("toFront").funct()});return i.setAttribute("title",mxResources.get("toFront")+" ("+this.editorUi.actions.get("toFront").shortcut+")"),i.style.width="36%",i.style.height="22px",i.className="geColorBtn",t.appendChild(i),(i=mxUtils.button(mxResources.get("toBack"),function(t){e.actions.get("toBack").funct()})).setAttribute("title",mxResources.get("toBack")+" ("+this.editorUi.actions.get("toBack").shortcut+")"),i.style.width="36%",i.style.height="22px",i.style.marginLeft="3%",i.className="geColorBtn",t.appendChild(i),t},ArrangePanel.prototype.addGroupOps=function(t){var e=this.editorUi,i=e.editor.graph,n=i.getSelectionCell(),l=this.format.getSelectionState(),o=0;return t.style.padding="10px 0",t.style.textAlign="center",i.getSelectionCount()>1?(btn=mxUtils.button(mxResources.get("group"),function(t){e.actions.get("group").funct()}),btn.setAttribute("title",mxResources.get("group")+" ("+this.editorUi.actions.get("group").shortcut+")"),btn.style.width="75%",btn.style.marginBottom="5px",btn.style.height="22px",btn.className="geColorBtn",t.appendChild(btn),o++):1==i.getSelectionCount()&&!i.getModel().isEdge(n)&&!i.isSwimlane(n)&&i.getModel().getChildCount(n)>0&&(btn=mxUtils.button(mxResources.get("ungroup"),function(t){e.actions.get("ungroup").funct()}),btn.setAttribute("title",mxResources.get("ungroup")+" ("+this.editorUi.actions.get("ungroup").shortcut+")"),btn.style.width="75%",btn.style.marginBottom="5px",btn.style.height="22px",btn.className="geColorBtn",t.appendChild(btn),o++),1==i.getSelectionCount()&&i.getModel().isVertex(n)&&i.getModel().isVertex(i.getModel().getParent(n))?(o>0&&mxUtils.br(t),btn=mxUtils.button(mxResources.get("removeFromGroup"),function(t){e.actions.get("removeFromGroup").funct()}),btn.setAttribute("title",mxResources.get("removeFromGroup")),btn.style.width="75%",btn.style.marginBottom="5px",btn.style.height="22px",btn.className="geColorBtn",t.appendChild(btn),o++):l.edges.length>0&&(o>0&&mxUtils.br(t),btn=mxUtils.button(mxResources.get("clearWaypoints"),mxUtils.bind(this,function(t){this.editorUi.actions.get("clearWaypoints").funct()})),btn.setAttribute("title",mxResources.get("clearWaypoints")),btn.style.width="75%",btn.style.marginBottom="5px",btn.style.height="22px",btn.className="geColorBtn",t.appendChild(btn),o++),1==i.getSelectionCount()&&(o>0&&mxUtils.br(t),btn=mxUtils.button(mxResources.get("editLink"),mxUtils.bind(this,function(t){this.editorUi.actions.get("editLink").funct()})),btn.setAttribute("title",mxResources.get("editLink")),btn.style.width="75%",btn.style.marginBottom="2px",btn.style.height="22px",btn.className="geColorBtn",t.appendChild(btn),o++),0==o&&(t.style.display="none"),t},ArrangePanel.prototype.addAlign=function(t){var e=this.editorUi.editor.graph;t.style.paddingTop="6px",t.style.paddingBottom="12px",t.appendChild(this.createTitle(mxResources.get("align")));var i=document.createElement("div");i.style.position="relative",i.style.paddingLeft="9%",i.style.borderWidth="0",i.className="geToolbarContainer",mxClient.IS_QUIRKS&&(t.style.height="60px");var n=this.editorUi.toolbar.addButton("geSprite-alignleft",mxResources.get("left"),function(){e.alignCells(mxConstants.ALIGN_LEFT)},i),l=this.editorUi.toolbar.addButton("geSprite-aligncenter",mxResources.get("center"),function(){e.alignCells(mxConstants.ALIGN_CENTER)},i),o=this.editorUi.toolbar.addButton("geSprite-alignright",mxResources.get("right"),function(){e.alignCells(mxConstants.ALIGN_RIGHT)},i),r=this.editorUi.toolbar.addButton("geSprite-aligntop",mxResources.get("top"),function(){e.alignCells(mxConstants.ALIGN_TOP)},i),s=this.editorUi.toolbar.addButton("geSprite-alignmiddle",mxResources.get("middle"),function(){e.alignCells(mxConstants.ALIGN_MIDDLE)},i),a=this.editorUi.toolbar.addButton("geSprite-alignbottom",mxResources.get("bottom"),function(){e.alignCells(mxConstants.ALIGN_BOTTOM)},i);return this.styleButtons([n,l,o,r,s,a]),o.style.marginRight="6px",t.appendChild(i),t},ArrangePanel.prototype.addFlip=function(t){var e=this.editorUi.editor.graph;t.style.padding="10px 0",t.style.textAlign="center";var i=document.createElement("div");i.style.marginBottom="6px",i.style.marginLeft="18px",i.style.fontWeight="bold",i.style.textAlign="left",mxUtils.write(i,mxResources.get("flip")),t.appendChild(i);var n=mxUtils.button(mxResources.get("horizontal"),function(t){e.toggleCellStyles(mxConstants.STYLE_FLIPH,!1)});return n.setAttribute("title",mxResources.get("horizontal")),n.style.width="36%",n.style.height="22px",n.className="geColorBtn",t.appendChild(n),(n=mxUtils.button(mxResources.get("vertical"),function(t){e.toggleCellStyles(mxConstants.STYLE_FLIPV,!1)})).setAttribute("title",mxResources.get("vertical")),n.style.width="36%",n.style.marginLeft="3%",n.style.height="22px",n.className="geColorBtn",t.appendChild(n),t},ArrangePanel.prototype.addDistribute=function(t){var e=this.editorUi.editor.graph;t.style.padding="10px 0",t.style.textAlign="center";var i=document.createElement("div");i.style.marginBottom="6px",i.style.marginLeft="18px",i.style.fontWeight="bold",i.style.textAlign="left",mxUtils.write(i,mxResources.get("distribute")),t.appendChild(i);var n=mxUtils.button(mxResources.get("horizontal"),function(t){e.distributeCells(!0)});return n.setAttribute("title",mxResources.get("horizontal")),n.style.width="36%",n.style.height="22px",n.className="geColorBtn",t.appendChild(n),(n=mxUtils.button(mxResources.get("vertical"),function(t){e.distributeCells(!1)})).setAttribute("title",mxResources.get("vertical")),n.style.width="36%",n.style.marginLeft="3%",n.style.height="22px",n.className="geColorBtn",t.appendChild(n),t},ArrangePanel.prototype.addAngle=function(t){var e=this.editorUi,i=e.editor.graph,n=this.format.getSelectionState();t.style.paddingBottom="28px";var l=document.createElement("div");l.style.position="absolute",l.style.width="70px",l.style.marginTop="0px",l.style.fontWeight="bold",mxUtils.write(l,mxResources.get("angle")),t.appendChild(l);var o=null,r=this.addUnitInput(t,"Â°",84,44,function(){o.apply(this,arguments)});if(!n.containsLabel){var s=mxUtils.button(mxResources.get("turn"),function(t){e.actions.get("turn").funct()});s.setAttribute("title",mxResources.get("turn")+" ("+this.editorUi.actions.get("turn").shortcut+")"),s.style.position="absolute",s.style.marginTop="-4px",s.style.right="20px",s.style.width="56px",s.style.height="22px",s.style.fontSize="12px",s.className="geColorBtn",t.appendChild(s)}var a=mxUtils.bind(this,function(t,e,i){if(i||document.activeElement!=r){n=this.format.getSelectionState();var l=parseFloat(mxUtils.getValue(n.style,mxConstants.STYLE_ROTATION,0));r.value=isNaN(l)?"":l+"Â°"}});return o=this.installInputHandler(r,mxConstants.STYLE_ROTATION,0,0,360,"Â°",null,!0),this.addKeyHandler(r,a),i.getModel().addListener(mxEvent.CHANGE,a),this.listeners.push({destroy:function(){i.getModel().removeListener(a)}}),a(),t},ArrangePanel.prototype.addGeometry=function(t){var e=this.editorUi,i=e.editor.graph,n=this.format.getSelectionState(),l=this.createPanel();l.style.paddingBottom="8px";var o=document.createElement("div");o.style.position="absolute",o.style.width="50px",o.style.marginTop="0px",o.style.fontWeight="bold",mxUtils.write(o,mxResources.get("size")),l.appendChild(o);var r,s,a,g,C=this.addUnitInput(l,"pt",84,44,function(){r.apply(this,arguments)}),h=this.addUnitInput(l,"pt",16,44,function(){s.apply(this,arguments)}),A=document.createElement("div");A.className="geSprite geSprite-fit",A.setAttribute("title",mxResources.get("autosize")+" ("+this.editorUi.actions.get("autosize").shortcut+")"),A.style.position="relative",A.style.cursor="pointer",A.style.marginTop="-3px",A.style.border="0px",A.style.left="32px",mxUtils.setOpacity(A,50),mxEvent.addListener(A,"mouseenter",function(){mxUtils.setOpacity(A,100)}),mxEvent.addListener(A,"mouseleave",function(){mxUtils.setOpacity(A,50)}),mxEvent.addListener(A,"click",function(){e.actions.get("autosize").funct()}),l.appendChild(A),this.addLabel(l,mxResources.get("width"),84),this.addLabel(l,mxResources.get("height"),16),mxUtils.br(l);var I=document.createElement("div");I.style.paddingTop="8px",I.style.paddingRight="20px",I.style.whiteSpace="nowrap",I.style.textAlign="right";var c=this.createCellOption(mxResources.get("constrainProportions"),mxConstants.STYLE_ASPECT,null,"fixed","null");c.style.width="100%",I.appendChild(c),l.appendChild(I),this.addKeyHandler(C,m),this.addKeyHandler(h,m),r=this.addGeometryHandler(C,function(t,e){t.width>0&&(t.width=Math.max(1,e))}),s=this.addGeometryHandler(h,function(t,e){t.height>0&&(t.height=Math.max(1,e))}),t.appendChild(l);var d=this.createPanel();d.style.paddingBottom="30px",(o=document.createElement("div")).style.position="absolute",o.style.width="70px",o.style.marginTop="0px",o.style.fontWeight="bold",mxUtils.write(o,mxResources.get("position")),d.appendChild(o);var u=this.addUnitInput(d,"pt",84,44,function(){a.apply(this,arguments)}),p=this.addUnitInput(d,"pt",16,44,function(){g.apply(this,arguments)});mxUtils.br(d),this.addLabel(d,mxResources.get("left"),84),this.addLabel(d,mxResources.get("top"),16);var m=mxUtils.bind(this,function(t,e,o){(n=this.format.getSelectionState()).containsLabel||n.vertices.length!=i.getSelectionCount()||null==n.width||null==n.height?l.style.display="none":(l.style.display="",
(o||document.activeElement!=C)&&(C.value=n.width+(""==n.width?"":" pt")),(o||document.activeElement!=h)&&(h.value=n.height+(""==n.height?"":" pt"))),n.vertices.length==i.getSelectionCount()&&null!=n.x&&null!=n.y?(d.style.display="",(o||document.activeElement!=u)&&(u.value=n.x+(""==n.x?"":" pt")),(o||document.activeElement!=p)&&(p.value=n.y+(""==n.y?"":" pt"))):d.style.display="none"});this.addKeyHandler(u,m),this.addKeyHandler(p,m),i.getModel().addListener(mxEvent.CHANGE,m),this.listeners.push({destroy:function(){i.getModel().removeListener(m)}}),m(),a=this.addGeometryHandler(u,function(t,e){t.relative?t.offset.x=e:t.x=e}),g=this.addGeometryHandler(p,function(t,e){t.relative?t.offset.y=e:t.y=e}),t.appendChild(d)},ArrangePanel.prototype.addGeometryHandler=function(t,e){function i(i){if(""!=t.value){var o=parseFloat(t.value);if(o!=l){n.getModel().beginUpdate();try{for(var r=n.getSelectionCells(),s=0;s<r.length;s++)if(n.getModel().isVertex(r[s])){var a=n.getCellGeometry(r[s]);null!=a&&(a=a.clone(),e(a,o),n.getModel().setGeometry(r[s],a))}}finally{n.getModel().endUpdate()}l=o,t.value=o+" pt"}else isNaN(o)&&(t.value=l+" pt")}mxEvent.consume(i)}var n=this.editorUi.editor.graph,l=null;return mxEvent.addListener(t,"blur",i),mxEvent.addListener(t,"change",i),mxEvent.addListener(t,"focus",function(){l=t.value}),i},ArrangePanel.prototype.addEdgeGeometry=function(t){function e(t){var e=parseInt(s.value);(e=Math.min(999,Math.max(1,isNaN(e)?1:e)))!=mxUtils.getValue(l.style,"width",mxCellRenderer.prototype.defaultShapes.flexArrow.prototype.defaultWidth)&&(n.setCellStyles("width",e,n.getSelectionCells()),i.fireEvent(new mxEventObject("styleChanged","keys",["width"],"values",[e],"cells",n.getSelectionCells()))),s.value=e+" pt",mxEvent.consume(t)}var i=this.editorUi,n=i.editor.graph,l=this.format.getSelectionState(),o=this.createPanel(),r=document.createElement("div");r.style.position="absolute",r.style.width="70px",r.style.marginTop="0px",r.style.fontWeight="bold",mxUtils.write(r,mxResources.get("width")),o.appendChild(r);var e,s=this.addUnitInput(o,"pt",20,44,function(){e.apply(this,arguments)});mxUtils.br(o),this.addKeyHandler(s,a),mxEvent.addListener(s,"blur",e),mxEvent.addListener(s,"change",e),t.appendChild(o);var a=mxUtils.bind(this,function(t,e,i){if("link"==(l=this.format.getSelectionState()).style.shape||"flexArrow"==l.style.shape){if(o.style.display="",i||document.activeElement!=s){var n=mxUtils.getValue(l.style,"width",mxCellRenderer.prototype.defaultShapes.flexArrow.prototype.defaultWidth);s.value=n+" pt"}}else o.style.display="none"});n.getModel().addListener(mxEvent.CHANGE,a),this.listeners.push({destroy:function(){n.getModel().removeListener(a)}}),a()},TextFormatPanel=function(t,e,i){BaseFormatPanel.call(this,t,e,i),this.init()},mxUtils.extend(TextFormatPanel,BaseFormatPanel),TextFormatPanel.prototype.init=function(){this.container.style.borderBottom="none",this.addFont(this.container)},TextFormatPanel.prototype.addFont=function(t){function e(t,e){mxClient.IS_IE&&(mxClient.IS_QUIRKS||document.documentMode<10)?t.style.filter=e?"progid:DXImageTransform.Microsoft.Gradient(StartColorStr='#c5ecff', EndColorStr='#87d4fb', GradientType=0)":"":t.style.backgroundImage=e?"linear-gradient(#c5ecff 0px,#87d4fb 100%)":""}var i=this.editorUi,n=i.editor.graph,l=this.format.getSelectionState(),o=this.createTitle(mxResources.get("font"));o.style.paddingLeft="18px",o.style.paddingTop="10px",o.style.paddingBottom="6px",t.appendChild(o);var r=this.createPanel();if(r.style.paddingTop="2px",r.style.paddingBottom="2px",r.style.position="relative",r.style.marginLeft="-2px",r.style.borderWidth="0px",r.className="geToolbarContainer",mxClient.IS_QUIRKS&&(r.style.display="block"),n.cellEditor.isContentEditing()){var s=r.cloneNode(),a=this.editorUi.toolbar.addMenu(mxResources.get("style"),mxResources.get("style"),!0,"formatBlock",s);a.style.color="rgb(112, 112, 112)",a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.margin="0px",this.addArrow(a),a.style.width="192px",a.style.height="15px",(W=a.getElementsByTagName("div")[0]).style.cssFloat="right",t.appendChild(s)}t.appendChild(r);var g=this.createPanel();g.style.marginTop="8px",g.style.borderTop="1px solid #c0c0c0",g.style.paddingTop="6px",g.style.paddingBottom="6px";var C=this.editorUi.toolbar.addMenu("Verdana",mxResources.get("fontFamily"),!0,"fontFamily",r);C.style.color="rgb(112, 112, 112)",C.style.whiteSpace="nowrap",C.style.overflow="hidden",C.style.margin="0px",this.addArrow(C),C.style.width="192px",C.style.height="15px";var h=r.cloneNode(!1);h.style.marginLeft="-3px";var A=this.editorUi.toolbar.addItems(["bold","italic","underline"],h,!0);A[0].setAttribute("title",mxResources.get("bold")+" ("+this.editorUi.actions.get("bold").shortcut+")"),A[1].setAttribute("title",mxResources.get("italic")+" ("+this.editorUi.actions.get("italic").shortcut+")"),A[2].setAttribute("title",mxResources.get("underline")+" ("+this.editorUi.actions.get("underline").shortcut+")");var I=this.editorUi.toolbar.addItems(["vertical"],h,!0)[0];mxClient.IS_QUIRKS&&mxUtils.br(t),t.appendChild(h),this.styleButtons(A),this.styleButtons([I]);var c=r.cloneNode(!1);c.style.marginLeft="-3px",c.style.paddingBottom="0px";var d=this.editorUi.toolbar.addButton("geSprite-left",mxResources.get("left"),n.cellEditor.isContentEditing()?function(){document.execCommand("justifyleft",!1,null)}:this.editorUi.menus.createStyleChangeFunction([mxConstants.STYLE_ALIGN],[mxConstants.ALIGN_LEFT]),c),u=this.editorUi.toolbar.addButton("geSprite-center",mxResources.get("center"),n.cellEditor.isContentEditing()?function(){document.execCommand("justifycenter",!1,null)}:this.editorUi.menus.createStyleChangeFunction([mxConstants.STYLE_ALIGN],[mxConstants.ALIGN_CENTER]),c),p=this.editorUi.toolbar.addButton("geSprite-right",mxResources.get("right"),n.cellEditor.isContentEditing()?function(){document.execCommand("justifyright",!1,null)}:this.editorUi.menus.createStyleChangeFunction([mxConstants.STYLE_ALIGN],[mxConstants.ALIGN_RIGHT]),c);if(this.styleButtons([d,u,p]),n.cellEditor.isContentEditing()){var m=this.editorUi.toolbar.addButton("geSprite-removeformat",mxResources.get("removeFormat"),function(){document.execCommand("removeformat",!1,null)},h);this.styleButtons([m])}var x=this.editorUi.toolbar.addButton("geSprite-top",mxResources.get("top"),this.editorUi.menus.createStyleChangeFunction([mxConstants.STYLE_VERTICAL_ALIGN],[mxConstants.ALIGN_TOP]),c),v=this.editorUi.toolbar.addButton("geSprite-middle",mxResources.get("middle"),this.editorUi.menus.createStyleChangeFunction([mxConstants.STYLE_VERTICAL_ALIGN],[mxConstants.ALIGN_MIDDLE]),c),y=this.editorUi.toolbar.addButton("geSprite-bottom",mxResources.get("bottom"),this.editorUi.menus.createStyleChangeFunction([mxConstants.STYLE_VERTICAL_ALIGN],[mxConstants.ALIGN_BOTTOM]),c);this.styleButtons([x,v,y]),mxClient.IS_QUIRKS&&mxUtils.br(t),t.appendChild(c);var f,b,w,E,S,T,G;if(n.cellEditor.isContentEditing()){x.style.display="none",v.style.display="none",y.style.display="none",I.style.display="none",w=this.editorUi.toolbar.addButton("geSprite-justifyfull",null,function(){document.execCommand("justifyfull",!1,null)},c),this.styleButtons([w,f=this.editorUi.toolbar.addButton("geSprite-subscript",mxResources.get("subscript")+" (Ctrl+,)",function(){document.execCommand("subscript",!1,null)},c),b=this.editorUi.toolbar.addButton("geSprite-superscript",mxResources.get("superscript")+" (Ctrl+.)",function(){document.execCommand("superscript",!1,null)},c)]),w.style.marginRight="9px";var R=c.cloneNode(!1);R.style.paddingTop="4px";mt=[this.editorUi.toolbar.addButton("geSprite-orderedlist",mxResources.get("numberedList"),function(){document.execCommand("insertorderedlist",!1,null)},R),this.editorUi.toolbar.addButton("geSprite-unorderedlist",mxResources.get("bulletedList"),function(){document.execCommand("insertunorderedlist",!1,null)},R),this.editorUi.toolbar.addButton("geSprite-outdent",mxResources.get("decreaseIndent"),function(){document.execCommand("outdent",!1,null)},R),this.editorUi.toolbar.addButton("geSprite-indent",mxResources.get("increaseIndent"),function(){document.execCommand("indent",!1,null)},R),this.editorUi.toolbar.addButton("geSprite-code",mxResources.get("html"),function(){n.cellEditor.toggleViewMode()},R)];this.styleButtons(mt),mt[mt.length-1].style.marginLeft="9px",mxClient.IS_QUIRKS&&(mxUtils.br(t),R.style.height="40"),t.appendChild(R)}else A[2].style.marginRight="9px",p.style.marginRight="9px";var L=r.cloneNode(!1);L.style.marginLeft="0px",L.style.paddingTop="8px",L.style.paddingBottom="4px",L.style.fontWeight="normal",mxUtils.write(L,mxResources.get("position"));var P=document.createElement("select");P.style.position="absolute",P.style.right="20px",P.style.width="97px",P.style.marginTop="-2px";for(var M=["topLeft","top","topRight","left","center","right","bottomLeft","bottom","bottomRight"],N={topLeft:[mxConstants.ALIGN_LEFT,mxConstants.ALIGN_TOP,mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_BOTTOM],top:[mxConstants.ALIGN_CENTER,mxConstants.ALIGN_TOP,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_BOTTOM],topRight:[mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_TOP,mxConstants.ALIGN_LEFT,mxConstants.ALIGN_BOTTOM],left:[mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_MIDDLE],center:[mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE],right:[mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_MIDDLE,mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE],bottomLeft:[mxConstants.ALIGN_LEFT,mxConstants.ALIGN_BOTTOM,mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_TOP],bottom:[mxConstants.ALIGN_CENTER,mxConstants.ALIGN_BOTTOM,mxConstants.ALIGN_CENTER,mxConstants.ALIGN_TOP],bottomRight:[mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_BOTTOM,mxConstants.ALIGN_LEFT,mxConstants.ALIGN_TOP]},D=0;D<M.length;D++){var O=document.createElement("option");O.setAttribute("value",M[D]),mxUtils.write(O,mxResources.get(M[D])),P.appendChild(O)}L.appendChild(P);var U=r.cloneNode(!1);U.style.marginLeft="0px",U.style.paddingTop="4px",U.style.paddingBottom="4px",U.style.fontWeight="normal",mxUtils.write(U,mxResources.get("writingDirection"));var k=document.createElement("select");k.style.position="absolute",k.style.right="20px",k.style.width="97px",k.style.marginTop="-2px";for(var H=["automatic","leftToRight","rightToLeft"],V={automatic:null,leftToRight:mxConstants.TEXT_DIRECTION_LTR,rightToLeft:mxConstants.TEXT_DIRECTION_RTL},D=0;D<H.length;D++){var Z=document.createElement("option");Z.setAttribute("value",H[D]),mxUtils.write(Z,mxResources.get(H[D])),k.appendChild(Z)}U.appendChild(k),n.isEditing()||(t.appendChild(L),mxEvent.addListener(P,"change",function(t){n.getModel().beginUpdate();try{var e=N[P.value];null!=e&&(n.setCellStyles(mxConstants.STYLE_LABEL_POSITION,e[0],n.getSelectionCells()),n.setCellStyles(mxConstants.STYLE_VERTICAL_LABEL_POSITION,e[1],n.getSelectionCells()),n.setCellStyles(mxConstants.STYLE_ALIGN,e[2],n.getSelectionCells()),n.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,e[3],n.getSelectionCells()))}finally{n.getModel().endUpdate()}mxEvent.consume(t)}),t.appendChild(U),mxEvent.addListener(k,"change",function(t){n.setCellStyles(mxConstants.STYLE_TEXT_DIRECTION,V[k.value],n.getSelectionCells()),mxEvent.consume(t)}));var Y=document.createElement("input");Y.style.textAlign="right",Y.style.marginTop="4px",mxClient.IS_QUIRKS||(Y.style.position="absolute",Y.style.right="32px"),Y.style.width="46px",Y.style.height=mxClient.IS_QUIRKS?"21px":"17px",h.appendChild(Y);var F=null,X=this.installInputHandler(Y,mxConstants.STYLE_FONTSIZE,Menus.prototype.defaultFontSize,1,999," pt",function(t){F=t,document.execCommand("fontSize",!1,"4");for(var e=n.cellEditor.textarea.getElementsByTagName("font"),i=0;i<e.length;i++)if("4"==e[i].getAttribute("size")){e[i].removeAttribute("size"),e[i].style.fontSize=F+"px",window.setTimeout(function(){Y.value=F+" pt",F=null},0);break}},!0),B=this.createStepper(Y,X,1,10,!0,Menus.prototype.defaultFontSize);B.style.display=Y.style.display,B.style.marginTop="2px",mxClient.IS_QUIRKS||(B.style.right="20px"),h.appendChild(B);var W=C.getElementsByTagName("div")[0];W.style.cssFloat="right";var z=null,_="#ffffff",J=null,j="#000000",K=n.cellEditor.isContentEditing()?this.createColorOption(mxResources.get("backgroundColor"),function(){return _},function(t){document.execCommand("backcolor",!1,t!=mxConstants.NONE?t:"transparent")},"#ffffff",{install:function(t){z=t},destroy:function(){z=null}},null,!0):this.createCellColorOption(mxResources.get("backgroundColor"),mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,"#ffffff");K.style.fontWeight="bold";var Q=this.createCellColorOption(mxResources.get("borderColor"),mxConstants.STYLE_LABEL_BORDERCOLOR,"#000000");Q.style.fontWeight="bold";var q=n.cellEditor.isContentEditing()?this.createColorOption(mxResources.get("fontColor"),function(){return j},function(t){document.execCommand("forecolor",!1,t!=mxConstants.NONE?t:"transparent")},"#000000",{install:function(t){J=t},destroy:function(){J=null}},null,!0):this.createCellColorOption(mxResources.get("fontColor"),mxConstants.STYLE_FONTCOLOR,"#000000",function(t){null==t||t==mxConstants.NONE?K.style.display="none":K.style.display="",Q.style.display=K.style.display},function(t){null==t||t==mxConstants.NONE?n.setCellStyles(mxConstants.STYLE_NOLABEL,"1",n.getSelectionCells()):n.setCellStyles(mxConstants.STYLE_NOLABEL,null,n.getSelectionCells())});q.style.fontWeight="bold",g.appendChild(q),g.appendChild(K),n.cellEditor.isContentEditing()||g.appendChild(Q),t.appendChild(g);var $=this.createPanel();$.style.paddingTop="2px",$.style.paddingBottom="4px";var tt=this.createCellOption(mxResources.get("wordWrap"),mxConstants.STYLE_WHITE_SPACE,null,"wrap","null",null,null,!0);tt.style.fontWeight="bold",l.containsLabel||l.autoSize||0!=l.edges.length||$.appendChild(tt);var et=this.createCellOption(mxResources.get("formattedText"),"html","0",null,null,null,i.actions.get("formattedText"));et.style.fontWeight="bold",$.appendChild(et);var it=this.createPanel();it.style.paddingTop="10px",it.style.paddingBottom="28px",it.style.fontWeight="normal";var nt=document.createElement("div");nt.style.position="absolute",nt.style.width="70px",nt.style.marginTop="0px",nt.style.fontWeight="bold",mxUtils.write(nt,mxResources.get("spacing")),it.appendChild(nt);var lt,ot,rt,st,at,gt=this.addUnitInput(it,"pt",91,44,function(){lt.apply(this,arguments)}),Ct=this.addUnitInput(it,"pt",20,44,function(){ot.apply(this,arguments)});mxUtils.br(it),this.addLabel(it,mxResources.get("top"),91),this.addLabel(it,mxResources.get("global"),20),mxUtils.br(it),mxUtils.br(it);var ht=this.addUnitInput(it,"pt",162,44,function(){rt.apply(this,arguments)}),At=this.addUnitInput(it,"pt",91,44,function(){st.apply(this,arguments)}),It=this.addUnitInput(it,"pt",20,44,function(){at.apply(this,arguments)});if(mxUtils.br(it),this.addLabel(it,mxResources.get("left"),162),this.addLabel(it,mxResources.get("bottom"),91),this.addLabel(it,mxResources.get("right"),20),n.cellEditor.isContentEditing()){var ct=null,dt=null;t.appendChild(this.createRelativeOption(mxResources.get("lineheight"),null,null,function(t){var e=""==t.value?120:parseInt(t.value);e=Math.max(120,isNaN(e)?120:e),null!=ct&&(n.cellEditor.restoreSelection(ct),ct=null);for(var i=n.getSelectedElement();null!=i&&i.nodeType!=mxConstants.NODETYPE_ELEMENT;)i=i.parentNode;i==n.cellEditor.textarea&&null!=n.cellEditor.textarea.firstChild&&("FONT"!=n.cellEditor.textarea.firstChild.nodeName&&(n.cellEditor.textarea.innerHTML="<font>"+n.cellEditor.textarea.innerHTML+"</font>"),i=n.cellEditor.textarea.firstChild),null!=i&&i!=n.cellEditor.textarea&&(i.style.lineHeight=e+"%"),t.value=e+" %"},function(t){dt=t,mxEvent.addListener(t,"mousedown",function(){ct=n.cellEditor.saveSelection()}),mxEvent.addListener(t,"touchstart",function(){ct=n.cellEditor.saveSelection()}),t.value="120 %"}));var ut=r.cloneNode(!1);ut.style.paddingLeft="0px";var pt=this.editorUi.toolbar.addItems(["link","image"],ut,!0),mt=[this.editorUi.toolbar.addButton("geSprite-horizontalrule",mxResources.get("insertHorizontalRule"),function(){document.execCommand("inserthorizontalrule",!1,null)},ut),this.editorUi.toolbar.addMenuFunctionInContainer(ut,"geSprite-table",mxResources.get("table"),!1,mxUtils.bind(this,function(t){this.editorUi.menus.addInsertTableItem(t)}))];this.styleButtons(pt),this.styleButtons(mt);var xt=this.createPanel();xt.style.paddingTop="10px",xt.style.paddingBottom="10px",xt.appendChild(this.createTitle(mxResources.get("insert"))),xt.appendChild(ut),t.appendChild(xt),mxClient.IS_QUIRKS&&(xt.style.height="70");var vt=r.cloneNode(!1);vt.style.paddingLeft="0px";mt=[this.editorUi.toolbar.addButton("geSprite-insertcolumnbefore",mxResources.get("insertColumnBefore"),function(){try{null!=S&&n.selectNode(n.insertColumn(S,null!=T?T.cellIndex:0))}catch(t){alert(t)}},vt),this.editorUi.toolbar.addButton("geSprite-insertcolumnafter",mxResources.get("insertColumnAfter"),function(){try{null!=S&&n.selectNode(n.insertColumn(S,null!=T?T.cellIndex+1:-1))}catch(t){alert(t)}},vt),this.editorUi.toolbar.addButton("geSprite-deletecolumn",mxResources.get("deleteColumn"),function(){try{null!=S&&null!=T&&n.deleteColumn(S,T.cellIndex)}catch(t){alert(t)}},vt),this.editorUi.toolbar.addButton("geSprite-insertrowbefore",mxResources.get("insertRowBefore"),function(){try{null!=S&&null!=G&&n.selectNode(n.insertRow(S,G.sectionRowIndex))}catch(t){alert(t)}},vt),this.editorUi.toolbar.addButton("geSprite-insertrowafter",mxResources.get("insertRowAfter"),function(){try{null!=S&&null!=G&&n.selectNode(n.insertRow(S,G.sectionRowIndex+1))}catch(t){alert(t)}},vt),this.editorUi.toolbar.addButton("geSprite-deleterow",mxResources.get("deleteRow"),function(){try{null!=S&&null!=G&&n.deleteRow(S,G.sectionRowIndex)}catch(t){alert(t)}},vt)];this.styleButtons(mt),mt[2].style.marginRight="9px";var yt=this.createPanel();yt.style.paddingTop="10px",yt.style.paddingBottom="10px",yt.appendChild(this.createTitle(mxResources.get("table"))),yt.appendChild(vt),mxClient.IS_QUIRKS&&(mxUtils.br(t),yt.style.height="70");var ft=r.cloneNode(!1);ft.style.paddingLeft="0px";mt=[this.editorUi.toolbar.addButton("geSprite-strokecolor",mxResources.get("borderColor"),mxUtils.bind(this,function(){if(null!=S){var t=S.style.borderColor.replace(/\brgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,function(t,e,i,n){return"#"+("0"+Number(e).toString(16)).substr(-2)+("0"+Number(i).toString(16)).substr(-2)+("0"+Number(n).toString(16)).substr(-2)});this.editorUi.pickColor(t,function(t){null==t||t==mxConstants.NONE?(S.removeAttribute("border"),S.style.border="",S.style.borderCollapse=""):(S.setAttribute("border","1"),S.style.border="1px solid "+t,S.style.borderCollapse="collapse")})}}),ft),this.editorUi.toolbar.addButton("geSprite-fillcolor",mxResources.get("backgroundColor"),mxUtils.bind(this,function(){if(null!=S){var t=S.style.backgroundColor.replace(/\brgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,function(t,e,i,n){return"#"+("0"+Number(e).toString(16)).substr(-2)+("0"+Number(i).toString(16)).substr(-2)+("0"+Number(n).toString(16)).substr(-2)});this.editorUi.pickColor(t,function(t){null==t||t==mxConstants.NONE?S.style.backgroundColor="":S.style.backgroundColor=t})}}),ft),this.editorUi.toolbar.addButton("geSprite-fit",mxResources.get("spacing"),function(){if(null!=S){var t=S.getAttribute("cellPadding")||0,e=new FilenameDialog(i,t,mxResources.get("apply"),mxUtils.bind(this,function(t){null!=t&&t.length>0?S.setAttribute("cellPadding",t):S.removeAttribute("cellPadding")}),mxResources.get("spacing"));i.showDialog(e.container,300,80,!0,!0),e.init()}},ft),this.editorUi.toolbar.addButton("geSprite-left",mxResources.get("left"),function(){null!=S&&S.setAttribute("align","left")},ft),this.editorUi.toolbar.addButton("geSprite-center",mxResources.get("center"),function(){null!=S&&S.setAttribute("align","center")},ft),this.editorUi.toolbar.addButton("geSprite-right",mxResources.get("right"),function(){null!=S&&S.setAttribute("align","right")},ft)];this.styleButtons(mt),mt[2].style.marginRight="9px",mxClient.IS_QUIRKS&&(mxUtils.br(yt),mxUtils.br(yt)),yt.appendChild(ft),t.appendChild(yt),E=yt}else t.appendChild($),t.appendChild(this.createRelativeOption(mxResources.get("opacity"),mxConstants.STYLE_TEXT_OPACITY)),t.appendChild(it);var bt=mxUtils.bind(this,function(t,i,n){l=this.format.getSelectionState();var o=mxUtils.getValue(l.style,mxConstants.STYLE_FONTSTYLE,0);if(e(A[0],(o&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD),e(A[1],(o&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC),e(A[2],(o&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE),C.firstChild.nodeValue=mxUtils.htmlEntities(mxUtils.getValue(l.style,mxConstants.STYLE_FONTFAMILY,Menus.prototype.defaultFont)),e(I,"0"==mxUtils.getValue(l.style,mxConstants.STYLE_HORIZONTAL,"1")),n||document.activeElement!=Y){c=parseFloat(mxUtils.getValue(l.style,mxConstants.STYLE_FONTSIZE,Menus.prototype.defaultFontSize));Y.value=isNaN(c)?"":c+" pt"}var r=mxUtils.getValue(l.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER);e(d,r==mxConstants.ALIGN_LEFT),e(u,r==mxConstants.ALIGN_CENTER),e(p,r==mxConstants.ALIGN_RIGHT);var s=mxUtils.getValue(l.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE);e(x,s==mxConstants.ALIGN_TOP),e(v,s==mxConstants.ALIGN_MIDDLE),e(y,s==mxConstants.ALIGN_BOTTOM);var a=mxUtils.getValue(l.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),g=mxUtils.getValue(l.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);a==mxConstants.ALIGN_LEFT&&g==mxConstants.ALIGN_TOP?P.value="topLeft":a==mxConstants.ALIGN_CENTER&&g==mxConstants.ALIGN_TOP?P.value="top":a==mxConstants.ALIGN_RIGHT&&g==mxConstants.ALIGN_TOP?P.value="topRight":a==mxConstants.ALIGN_LEFT&&g==mxConstants.ALIGN_BOTTOM?P.value="bottomLeft":a==mxConstants.ALIGN_CENTER&&g==mxConstants.ALIGN_BOTTOM?P.value="bottom":a==mxConstants.ALIGN_RIGHT&&g==mxConstants.ALIGN_BOTTOM?P.value="bottomRight":a==mxConstants.ALIGN_LEFT?P.value="left":a==mxConstants.ALIGN_RIGHT?P.value="right":P.value="center";var h=mxUtils.getValue(l.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION);if(h==mxConstants.TEXT_DIRECTION_RTL?k.value="rightToLeft":h==mxConstants.TEXT_DIRECTION_LTR?k.value="leftToRight":h==mxConstants.TEXT_DIRECTION_AUTO&&(k.value="automatic"),n||document.activeElement!=Ct){c=parseFloat(mxUtils.getValue(l.style,mxConstants.STYLE_SPACING,2));Ct.value=isNaN(c)?"":c+" pt"}if(n||document.activeElement!=gt){c=parseFloat(mxUtils.getValue(l.style,mxConstants.STYLE_SPACING_TOP,0));gt.value=isNaN(c)?"":c+" pt"}if(n||document.activeElement!=It){c=parseFloat(mxUtils.getValue(l.style,mxConstants.STYLE_SPACING_RIGHT,0));It.value=isNaN(c)?"":c+" pt"}if(n||document.activeElement!=At){c=parseFloat(mxUtils.getValue(l.style,mxConstants.STYLE_SPACING_BOTTOM,0));At.value=isNaN(c)?"":c+" pt"}if(n||document.activeElement!=ht){var c=parseFloat(mxUtils.getValue(l.style,mxConstants.STYLE_SPACING_LEFT,0));ht.value=isNaN(c)?"":c+" pt"}});if(ot=this.installInputHandler(Ct,mxConstants.STYLE_SPACING,2,-999,999," pt"),lt=this.installInputHandler(gt,mxConstants.STYLE_SPACING_TOP,0,-999,999," pt"),at=this.installInputHandler(It,mxConstants.STYLE_SPACING_RIGHT,0,-999,999," pt"),st=this.installInputHandler(At,mxConstants.STYLE_SPACING_BOTTOM,0,-999,999," pt"),rt=this.installInputHandler(ht,mxConstants.STYLE_SPACING_LEFT,0,-999,999," pt"),this.addKeyHandler(Y,bt),this.addKeyHandler(Ct,bt),this.addKeyHandler(gt,bt),this.addKeyHandler(It,bt),this.addKeyHandler(At,bt),this.addKeyHandler(ht,bt),n.getModel().addListener(mxEvent.CHANGE,bt),this.listeners.push({destroy:function(){n.getModel().removeListener(bt)}}),bt(),n.cellEditor.isContentEditing()){var wt=!1,Et=function(){wt||(wt=!0,window.setTimeout(function(){for(var t=n.getSelectedElement();null!=t&&t.nodeType!=mxConstants.NODETYPE_ELEMENT;)t=t.parentNode;if(null!=t){var i=mxUtils.getCurrentStyle(t);if(null!=i){if(e(A[0],"bold"==i.fontWeight||null!=n.getParentByName(t,"B",n.cellEditor.textarea)),e(A[1],"italic"==i.fontStyle||null!=n.getParentByName(t,"I",n.cellEditor.textarea)),e(A[2],null!=n.getParentByName(t,"U",n.cellEditor.textarea)),e(d,"left"==i.textAlign),e(u,"center"==i.textAlign),e(p,"right"==i.textAlign),e(w,"justify"==i.textAlign),e(b,null!=n.getParentByName(t,"SUP",n.cellEditor.textarea)),e(f,null!=n.getParentByName(t,"SUB",n.cellEditor.textarea)),S=n.getParentByName(t,"TABLE",n.cellEditor.textarea),G=null==S?null:n.getParentByName(t,"TR",S),T=null==S?null:n.getParentByName(t,"TD",S),E.style.display=null!=S?"":"none",document.activeElement!=Y){"FONT"==t.nodeName&&"4"==t.getAttribute("size")&&null!=F?(t.removeAttribute("size"),t.style.fontSize=F+"px",F=null):Y.value=parseFloat(i.fontSize)+" pt";var l=t.style.lineHeight||i.lineHeight,o=parseFloat(l);"px"==l.substring(l.length-2)&&(o/=parseFloat(i.fontSize)),"%"!=l.substring(l.length-1)&&(o*=100),dt.value=o+" %"}var r=i.color.replace(/\brgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,function(t,e,i,n){return"#"+("0"+Number(e).toString(16)).substr(-2)+("0"+Number(i).toString(16)).substr(-2)+("0"+Number(n).toString(16)).substr(-2)}),s=i.backgroundColor.replace(/\brgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,function(t,e,i,n){return"#"+("0"+Number(e).toString(16)).substr(-2)+("0"+Number(i).toString(16)).substr(-2)+("0"+Number(n).toString(16)).substr(-2)});if(null!=J&&(j="#"==r.charAt(0)?r:"#000000",J(j,!0)),null!=z&&(_="#"==s.charAt(0)?s:null,z(_,!0)),null!=C.firstChild){var a=i.fontFamily;"'"==a.charAt(0)&&(a=a.substring(1)),"'"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),C.firstChild.nodeValue=a}}}wt=!1},0))};mxEvent.addListener(n.cellEditor.textarea,"input",Et),mxEvent.addListener(n.cellEditor.textarea,"touchend",Et),mxEvent.addListener(n.cellEditor.textarea,"mouseup",Et),mxEvent.addListener(n.cellEditor.textarea,"keyup",Et),this.listeners.push({destroy:function(){}}),Et()}return t},StyleFormatPanel=function(t,e,i){BaseFormatPanel.call(this,t,e,i),this.init()},mxUtils.extend(StyleFormatPanel,BaseFormatPanel),StyleFormatPanel.prototype.init=function(){this.editorUi.editor.graph;var t=this.format.getSelectionState();t.containsImage&&"image"!=t.style.shape||this.container.appendChild(this.addFill(this.createPanel())),this.container.appendChild(this.addStroke(this.createPanel()));var e=this.createRelativeOption(mxResources.get("opacity"),mxConstants.STYLE_OPACITY,41);e.style.paddingTop="8px",e.style.paddingBottom="8px",this.container.appendChild(e),this.container.appendChild(this.addEffects(this.createPanel()));var i=this.addEditOps(this.createPanel());i.style.textAlign="center",null!=i.firstChild&&mxUtils.br(i),this.container.appendChild(this.addStyleOps(i))},StyleFormatPanel.prototype.addEditOps=function(t){var e=this.format.getSelectionState(),i=null;if(1==this.editorUi.editor.graph.getSelectionCount()&&((i=mxUtils.button(mxResources.get("editStyle"),mxUtils.bind(this,function(t){this.editorUi.actions.get("editStyle").funct()}))).setAttribute("title",mxResources.get("editStyle")+" ("+this.editorUi.actions.get("editStyle").shortcut+")"),i.style.width="75%",i.style.marginBottom="5px",i.style.height="22px",i.className="geColorBtn",i.style.display="none",t.appendChild(i)),e.image){var n=mxUtils.button(mxResources.get("editImage"),mxUtils.bind(this,function(t){this.editorUi.actions.get("image").funct()}));n.setAttribute("title",mxResources.get("editImage")),n.style.marginBottom="2px",n.style.height="22px",n.className="geColorBtn",n.style.display="none",null==i?n.style.width="75%":(i.style.width="36%",n.style.width="36%",n.style.marginLeft="3%"),t.appendChild(n)}return t},StyleFormatPanel.prototype.addFill=function(t){var e=this.editorUi.editor.graph,i=this.format.getSelectionState();t.style.paddingTop="6px",t.style.paddingBottom="6px";var n=document.createElement("select");n.style.position="absolute",n.style.marginTop="-2px",n.style.right=mxClient.IS_QUIRKS?"52px":"72px",n.style.width="70px",mxEvent.addListener(n,"click",function(t){mxEvent.consume(t)});var l=this.createCellColorOption(mxResources.get("gradient"),mxConstants.STYLE_GRADIENTCOLOR,"#ffffff",function(t){null==t||t==mxConstants.NONE?n.style.display="none":n.style.display=""}),o="image"==i.style.shape?mxConstants.STYLE_IMAGE_BACKGROUND:mxConstants.STYLE_FILLCOLOR,r=this.createCellColorOption(mxResources.get("fill"),o,"#ffffff");r.style.fontWeight="bold";var s=mxUtils.getValue(i.style,o,null);l.style.display=null!=s&&s!=mxConstants.NONE&&i.fill&&"image"!=i.style.shape?"":"none";for(var a=[mxConstants.DIRECTION_NORTH,mxConstants.DIRECTION_EAST,mxConstants.DIRECTION_SOUTH,mxConstants.DIRECTION_WEST],g=0;g<a.length;g++){var C=document.createElement("option");C.setAttribute("value",a[g]),mxUtils.write(C,mxResources.get(a[g])),n.appendChild(C)}l.appendChild(n);var h=mxUtils.bind(this,function(){i=this.format.getSelectionState();var e=mxUtils.getValue(i.style,mxConstants.STYLE_GRADIENT_DIRECTION,mxConstants.DIRECTION_SOUTH);""==e&&(e=mxConstants.DIRECTION_SOUTH),n.value=e,t.style.display=i.fill?"":"none";var o=mxUtils.getValue(i.style,mxConstants.STYLE_FILLCOLOR,null);!i.fill||i.containsImage||null==o||o==mxConstants.NONE?l.style.display="none":l.style.display=""});return e.getModel().addListener(mxEvent.CHANGE,h),this.listeners.push({destroy:function(){e.getModel().removeListener(h)}}),h(),mxEvent.addListener(n,"change",function(t){e.setCellStyles(mxConstants.STYLE_GRADIENT_DIRECTION,n.value,e.getSelectionCells()),mxEvent.consume(t)}),t.appendChild(r),t.appendChild(l),"swimlane"==i.style.shape&&t.appendChild(this.createCellColorOption(mxResources.get("laneColor"),"swimlaneFillColor","#ffffff")),t},StyleFormatPanel.prototype.addStroke=function(t){function e(t){var e=parseInt(v.value);(e=Math.min(999,Math.max(1,isNaN(e)?1:e)))!=mxUtils.getValue(o.style,mxConstants.STYLE_STROKEWIDTH,1)&&(l.setCellStyles(mxConstants.STYLE_STROKEWIDTH,e,l.getSelectionCells()),n.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_STROKEWIDTH],"values",[e],"cells",l.getSelectionCells()))),v.value=e+" pt",mxEvent.consume(t)}function i(t){var e=parseInt(y.value);(e=Math.min(999,Math.max(1,isNaN(e)?1:e)))!=mxUtils.getValue(o.style,mxConstants.STYLE_STROKEWIDTH,1)&&(l.setCellStyles(mxConstants.STYLE_STROKEWIDTH,e,l.getSelectionCells()),n.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_STROKEWIDTH],"values",[e],"cells",l.getSelectionCells()))),y.value=e+" pt",mxEvent.consume(t)}var n=this.editorUi,l=n.editor.graph,o=this.format.getSelectionState();t.style.paddingTop="4px",t.style.paddingBottom="4px",t.style.whiteSpace="normal";var r=document.createElement("div");r.style.fontWeight="bold";var s=document.createElement("select");s.style.position="absolute",s.style.marginTop="-2px",s.style.right="72px",s.style.width="80px";for(var a=["sharp","rounded","curved"],g=0;g<a.length;g++){var C=document.createElement("option");C.setAttribute("value",a[g]),mxUtils.write(C,mxResources.get(a[g])),s.appendChild(C)}mxEvent.addListener(s,"change",function(t){l.getModel().beginUpdate();try{var e=[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],i=["0",null];"rounded"==s.value?i=["1",null]:"curved"==s.value&&(i=[null,"1"]);for(var o=0;o<e.length;o++)l.setCellStyles(e[o],i[o],l.getSelectionCells());n.fireEvent(new mxEventObject("styleChanged","keys",e,"values",i,"cells",l.getSelectionCells()))}finally{l.getModel().endUpdate()}mxEvent.consume(t)}),mxEvent.addListener(s,"click",function(t){mxEvent.consume(t)});var h="image"==o.style.shape?mxConstants.STYLE_IMAGE_BORDER:mxConstants.STYLE_STROKECOLOR,A=this.createCellColorOption(mxResources.get("line"),h,"#000000");A.appendChild(s),r.appendChild(A);var I=r.cloneNode(!1);I.style.fontWeight="normal",I.style.whiteSpace="nowrap",I.style.position="relative",I.style.paddingLeft="16px",I.style.marginBottom="2px",I.style.marginTop="2px",I.className="geToolbarContainer";var c=mxUtils.bind(this,function(t,e,i,n,l){var o=this.editorUi.menus.styleChange(t,"",n,l,"geIcon",null),r=document.createElement("div");return r.style.width=e+"px",r.style.height="1px",r.style.borderBottom="1px "+i+" black",r.style.paddingTop="6px",o.firstChild.firstChild.style.padding="0px 4px 0px 4px",o.firstChild.firstChild.style.width=e+"px",o.firstChild.firstChild.appendChild(r),o}),d=this.editorUi.toolbar.addMenuFunctionInContainer(I,"geSprite-orthogonal",mxResources.get("pattern"),!1,mxUtils.bind(this,function(t){c(t,75,"solid",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],[null,null]).setAttribute("title",mxResources.get("solid")),c(t,75,"dashed",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1",null]).setAttribute("title",mxResources.get("dashed")),c(t,75,"dotted",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1","1 1"]).setAttribute("title",mxResources.get("dotted")+" (1)"),c(t,75,"dotted",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1","1 2"]).setAttribute("title",mxResources.get("dotted")+" (2)"),c(t,75,"dotted",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1","1 4"]).setAttribute("title",mxResources.get("dotted")+" (3)")})),u=I.cloneNode(!1),p=this.editorUi.toolbar.addMenuFunctionInContainer(u,"geSprite-connection",mxResources.get("connection"),!1,mxUtils.bind(this,function(t){this.editorUi.menus.styleChange(t,"",[mxConstants.STYLE_SHAPE,mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE,"width"],[null,null,null,null],"geIcon geSprite geSprite-connection",null,!0).setAttribute("title",mxResources.get("line")),this.editorUi.menus.styleChange(t,"",[mxConstants.STYLE_SHAPE,mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE,"width"],["link",null,null,null],"geIcon geSprite geSprite-linkedge",null,!0).setAttribute("title",mxResources.get("link")),this.editorUi.menus.styleChange(t,"",[mxConstants.STYLE_SHAPE,mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE,"width"],["flexArrow",null,null,null],"geIcon geSprite geSprite-arrow",null,!0).setAttribute("title",mxResources.get("arrow")),this.editorUi.menus.styleChange(t,"",[mxConstants.STYLE_SHAPE,mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE,"width"],["arrow",null,null,null],"geIcon geSprite geSprite-simplearrow",null,!0).setAttribute("title",mxResources.get("simpleArrow"))})),m=this.editorUi.toolbar.addMenuFunctionInContainer(u,"geSprite-orthogonal",mxResources.get("pattern"),!1,mxUtils.bind(this,function(t){c(t,33,"solid",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],[null,null]).setAttribute("title",mxResources.get("solid")),c(t,33,"dashed",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1",null]).setAttribute("title",mxResources.get("dashed")),c(t,33,"dotted",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1","1 1"]).setAttribute("title",mxResources.get("dotted")+" (1)"),c(t,33,"dotted",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1","1 2"]).setAttribute("title",mxResources.get("dotted")+" (2)"),c(t,33,"dotted",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],["1","1 4"]).setAttribute("title",mxResources.get("dotted")+" (3)")})),x=I.cloneNode(!1),v=document.createElement("input");v.style.textAlign="right",v.style.marginTop="2px",v.style.width="41px",v.style.className="edgeMenu",v.setAttribute("title",mxResources.get("linewidth")),I.appendChild(v);var y=v.cloneNode(!0);u.appendChild(y);var f=this.createStepper(v,e,1,9);f.style.display=v.style.display,f.style.marginTop="1px",I.appendChild(f);var b=this.createStepper(y,i,1,9);b.style.display=y.style.display,b.style.marginTop="1px",u.appendChild(b),mxClient.IS_QUIRKS?(v.style.height="17px",y.style.height="17px"):(v.style.position="absolute",v.style.right="32px",v.style.height="15px",f.style.right="20px",y.style.position="absolute",y.style.right="32px",y.style.height="15px",b.style.right="20px"),mxEvent.addListener(v,"blur",e),mxEvent.addListener(v,"change",e),mxEvent.addListener(y,"blur",i),mxEvent.addListener(y,"change",i),mxClient.IS_QUIRKS&&(mxUtils.br(x),mxUtils.br(x));var w=this.editorUi.toolbar.addMenuFunctionInContainer(x,"geSprite-orthogonal",mxResources.get("waypoints"),!1,mxUtils.bind(this,function(t){"arrow"!=o.style.shape&&(this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],[null,null,null],"geIcon geSprite geSprite-straight",null,!0).setAttribute("title",mxResources.get("straight")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["orthogonalEdgeStyle",null,null],"geIcon geSprite geSprite-orthogonal",null,!0).setAttribute("title",mxResources.get("orthogonal")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["elbowEdgeStyle",null,null,null],"geIcon geSprite geSprite-horizontalelbow",null,!0).setAttribute("title",mxResources.get("simple")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["elbowEdgeStyle","vertical",null,null],"geIcon geSprite geSprite-verticalelbow",null,!0).setAttribute("title",mxResources.get("simple")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["isometricEdgeStyle",null,null,null],"geIcon geSprite geSprite-horizontalisometric",null,!0).setAttribute("title",mxResources.get("isometric")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["isometricEdgeStyle","vertical",null,null],"geIcon geSprite geSprite-verticalisometric",null,!0).setAttribute("title",mxResources.get("isometric")),"connector"==o.style.shape&&this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["orthogonalEdgeStyle","1",null],"geIcon geSprite geSprite-curved",null,!0).setAttribute("title",mxResources.get("curved")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["entityRelationEdgeStyle",null,null],"geIcon geSprite geSprite-entity",null,!0).setAttribute("title",mxResources.get("entityRelation")))})),E=this.editorUi.toolbar.addMenuFunctionInContainer(x,"geSprite-startclassic",mxResources.get("linestart"),!1,mxUtils.bind(this,function(t){"connector"!=o.style.shape&&"flexArrow"!=o.style.shape||(this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.NONE,0],"geIcon geSprite geSprite-noarrow",null,!1).setAttribute("title",mxResources.get("none")),"connector"==o.style.shape?(this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_CLASSIC,1],"geIcon geSprite geSprite-startclassic",null,!1).setAttribute("title",mxResources.get("classic")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_CLASSIC_THIN,1],"geIcon geSprite geSprite-startclassicthin",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_OPEN,0],"geIcon geSprite geSprite-startopen",null,!1).setAttribute("title",mxResources.get("openArrow")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_OPEN_THIN,0],"geIcon geSprite geSprite-startopenthin",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["openAsync",0],"geIcon geSprite geSprite-startopenasync",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_BLOCK,1],"geIcon geSprite geSprite-startblock",null,!1).setAttribute("title",mxResources.get("block")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_BLOCK_THIN,1],"geIcon geSprite geSprite-startblockthin",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["async",1],"geIcon geSprite geSprite-startasync",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_OVAL,1],"geIcon geSprite geSprite-startoval",null,!1).setAttribute("title",mxResources.get("oval")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_DIAMOND,1],"geIcon geSprite geSprite-startdiamond",null,!1).setAttribute("title",mxResources.get("diamond")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_DIAMOND_THIN,1],"geIcon geSprite geSprite-startthindiamond",null,!1).setAttribute("title",mxResources.get("diamondThin")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_CLASSIC,0],"geIcon geSprite geSprite-startclassictrans",null,!1).setAttribute("title",mxResources.get("classic")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_CLASSIC_THIN,0],"geIcon geSprite geSprite-startclassicthintrans",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_BLOCK,0],"geIcon geSprite geSprite-startblocktrans",null,!1).setAttribute("title",mxResources.get("block")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_BLOCK_THIN,0],"geIcon geSprite geSprite-startblockthintrans",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["async",0],"geIcon geSprite geSprite-startasynctrans",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_OVAL,0],"geIcon geSprite geSprite-startovaltrans",null,!1).setAttribute("title",mxResources.get("oval")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_DIAMOND,0],"geIcon geSprite geSprite-startdiamondtrans",null,!1).setAttribute("title",mxResources.get("diamond")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],[mxConstants.ARROW_DIAMOND_THIN,0],"geIcon geSprite geSprite-startthindiamondtrans",null,!1).setAttribute("title",mxResources.get("diamondThin")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["dash",0],"geIcon geSprite geSprite-startdash",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["cross",0],"geIcon geSprite geSprite-startcross",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["circlePlus",0],"geIcon geSprite geSprite-startcircleplus",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["circle",1],"geIcon geSprite geSprite-startcircle",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["ERone",0],"geIcon geSprite geSprite-starterone",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["ERmandOne",0],"geIcon geSprite geSprite-starteronetoone",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["ERmany",0],"geIcon geSprite geSprite-startermany",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["ERoneToMany",0],"geIcon geSprite geSprite-starteronetomany",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["ERzeroToOne",1],"geIcon geSprite geSprite-starteroneopt",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW,"startFill"],["ERzeroToMany",1],"geIcon geSprite geSprite-startermanyopt",null,!1)):this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_STARTARROW],[mxConstants.ARROW_BLOCK],"geIcon geSprite geSprite-startblocktrans",null,!1).setAttribute("title",mxResources.get("block")))})),S=this.editorUi.toolbar.addMenuFunctionInContainer(x,"geSprite-endclassic",mxResources.get("lineend"),!1,mxUtils.bind(this,function(t){"connector"!=o.style.shape&&"flexArrow"!=o.style.shape||(this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.NONE,0],"geIcon geSprite geSprite-noarrow",null,!1).setAttribute("title",mxResources.get("none")),"connector"==o.style.shape?(this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_CLASSIC,1],"geIcon geSprite geSprite-endclassic",null,!1).setAttribute("title",mxResources.get("classic")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_CLASSIC_THIN,1],"geIcon geSprite geSprite-endclassicthin",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_OPEN,0],"geIcon geSprite geSprite-endopen",null,!1).setAttribute("title",mxResources.get("openArrow")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_OPEN_THIN,0],"geIcon geSprite geSprite-endopenthin",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["openAsync",0],"geIcon geSprite geSprite-endopenasync",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_BLOCK,1],"geIcon geSprite geSprite-endblock",null,!1).setAttribute("title",mxResources.get("block")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_BLOCK_THIN,1],"geIcon geSprite geSprite-endblockthin",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["async",1],"geIcon geSprite geSprite-endasync",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_OVAL,1],"geIcon geSprite geSprite-endoval",null,!1).setAttribute("title",mxResources.get("oval")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_DIAMOND,1],"geIcon geSprite geSprite-enddiamond",null,!1).setAttribute("title",mxResources.get("diamond")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_DIAMOND_THIN,1],"geIcon geSprite geSprite-endthindiamond",null,!1).setAttribute("title",mxResources.get("diamondThin")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_CLASSIC,0],"geIcon geSprite geSprite-endclassictrans",null,!1).setAttribute("title",mxResources.get("classic")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_CLASSIC_THIN,0],"geIcon geSprite geSprite-endclassicthintrans",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_BLOCK,0],"geIcon geSprite geSprite-endblocktrans",null,!1).setAttribute("title",mxResources.get("block")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_BLOCK_THIN,0],"geIcon geSprite geSprite-endblockthintrans",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["async",0],"geIcon geSprite geSprite-endasynctrans",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_OVAL,0],"geIcon geSprite geSprite-endovaltrans",null,!1).setAttribute("title",mxResources.get("oval")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_DIAMOND,0],"geIcon geSprite geSprite-enddiamondtrans",null,!1).setAttribute("title",mxResources.get("diamond")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],[mxConstants.ARROW_DIAMOND_THIN,0],"geIcon geSprite geSprite-endthindiamondtrans",null,!1).setAttribute("title",mxResources.get("diamondThin")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["dash",0],"geIcon geSprite geSprite-enddash",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["cross",0],"geIcon geSprite geSprite-endcross",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["circlePlus",0],"geIcon geSprite geSprite-endcircleplus",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["circle",1],"geIcon geSprite geSprite-endcircle",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["ERone",0],"geIcon geSprite geSprite-enderone",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["ERmandOne",0],"geIcon geSprite geSprite-enderonetoone",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["ERmany",0],"geIcon geSprite geSprite-endermany",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["ERoneToMany",0],"geIcon geSprite geSprite-enderonetomany",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["ERzeroToOne",1],"geIcon geSprite geSprite-enderoneopt",null,!1),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW,"endFill"],["ERzeroToMany",1],"geIcon geSprite geSprite-endermanyopt",null,!1)):this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_ENDARROW],[mxConstants.ARROW_BLOCK],"geIcon geSprite geSprite-endblocktrans",null,!1).setAttribute("title",mxResources.get("block")))}));this.addArrow(p,8),this.addArrow(w),this.addArrow(E),this.addArrow(S);var T=this.addArrow(d,9);T.className="geIcon",T.style.width="84px";var G=this.addArrow(m,9);G.className="geIcon",G.style.width="22px";var R=document.createElement("div");R.style.width="85px",R.style.height="1px",R.style.borderBottom="1px solid black",R.style.marginBottom="9px",T.appendChild(R);var L=document.createElement("div");L.style.width="23px",L.style.height="1px",L.style.borderBottom="1px solid black",L.style.marginBottom="9px",G.appendChild(L),d.style.height="15px",m.style.height="15px",p.style.height="15px",w.style.height="17px",E.style.marginLeft="3px",E.style.height="17px",S.style.marginLeft="3px",S.style.height="17px",t.appendChild(r),t.appendChild(u),t.appendChild(I);var P=I.cloneNode(!1);P.style.paddingBottom="6px",P.style.paddingTop="4px",P.style.fontWeight="normal";var M=document.createElement("div");M.style.position="absolute",M.style.marginLeft="3px",M.style.marginBottom="12px",M.style.marginTop="2px",M.style.fontWeight="normal",M.style.width="76px",mxUtils.write(M,mxResources.get("lineend")),P.appendChild(M);var N,D,O=this.addUnitInput(P,"pt",74,33,function(){N.apply(this,arguments)}),U=this.addUnitInput(P,"pt",20,33,function(){D.apply(this,arguments)});mxUtils.br(P);var k=document.createElement("div");k.style.height="8px",P.appendChild(k),M=M.cloneNode(!1),mxUtils.write(M,mxResources.get("linestart")),P.appendChild(M);var H,V,Z=this.addUnitInput(P,"pt",74,33,function(){H.apply(this,arguments)}),Y=this.addUnitInput(P,"pt",20,33,function(){V.apply(this,arguments)});mxUtils.br(P),this.addLabel(P,mxResources.get("spacing"),74,50),this.addLabel(P,mxResources.get("size"),20,50),mxUtils.br(P);var F=r.cloneNode(!1);F.style.fontWeight="normal",F.style.position="relative",F.style.paddingLeft="16px",F.style.marginBottom="2px",F.style.marginTop="6px",F.style.borderWidth="0px",F.style.paddingBottom="18px",F.style.display="none",(M=document.createElement("div")).style.position="absolute",M.style.marginLeft="3px",M.style.marginBottom="12px",M.style.marginTop="1px",M.style.fontWeight="normal",M.style.width="120px",mxUtils.write(M,mxResources.get("perimeter")),F.appendChild(M);var X,B=this.addUnitInput(F,"pt",20,41,function(){X.apply(this,arguments)});o.edges.length==l.getSelectionCount()?(t.appendChild(x),mxClient.IS_QUIRKS&&(mxUtils.br(t),mxUtils.br(t)),t.appendChild(P)):o.vertices.length==l.getSelectionCount()&&(mxClient.IS_QUIRKS&&mxUtils.br(t),t.appendChild(F));var W=mxUtils.bind(this,function(t,e,i){function r(t,e,i,l){var r=i.getElementsByTagName("div")[0];return r.className=n.getCssClassForMarker(l,o.style.shape,t,e),r}o=this.format.getSelectionState();mxUtils.getValue(o.style,h,null);if(i||document.activeElement!=v){d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_STROKEWIDTH,1));v.value=isNaN(d)?"":d+" pt"}if(i||document.activeElement!=y){d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_STROKEWIDTH,1));y.value=isNaN(d)?"":d+" pt"}s.style.visibility="connector"==o.style.shape?"":"hidden","1"==mxUtils.getValue(o.style,mxConstants.STYLE_CURVED,null)?s.value="curved":"1"==mxUtils.getValue(o.style,mxConstants.STYLE_ROUNDED,null)&&(s.value="rounded"),"1"==mxUtils.getValue(o.style,mxConstants.STYLE_DASHED,null)?null==mxUtils.getValue(o.style,mxConstants.STYLE_DASH_PATTERN,null)?R.style.borderBottom="1px dashed black":R.style.borderBottom="1px dotted black":R.style.borderBottom="1px solid black",L.style.borderBottom=R.style.borderBottom;var a=w.getElementsByTagName("div")[0],g=mxUtils.getValue(o.style,mxConstants.STYLE_EDGE,null);"1"==mxUtils.getValue(o.style,mxConstants.STYLE_NOEDGESTYLE,null)&&(g=null),"orthogonalEdgeStyle"==g&&"1"==mxUtils.getValue(o.style,mxConstants.STYLE_CURVED,null)?a.className="geSprite geSprite-curved":a.className="straight"==g||"none"==g||null==g?"geSprite geSprite-straight":"entityRelationEdgeStyle"==g?"geSprite geSprite-entity":"elbowEdgeStyle"==g?"geSprite "+("vertical"==mxUtils.getValue(o.style,mxConstants.STYLE_ELBOW,null)?"geSprite-verticalelbow":"geSprite-horizontalelbow"):"isometricEdgeStyle"==g?"geSprite "+("vertical"==mxUtils.getValue(o.style,mxConstants.STYLE_ELBOW,null)?"geSprite-verticalisometric":"geSprite-horizontalisometric"):"geSprite geSprite-orthogonal";var C=p.getElementsByTagName("div")[0];"link"==o.style.shape?C.className="geSprite geSprite-linkedge":"flexArrow"==o.style.shape?C.className="geSprite geSprite-arrow":"arrow"==o.style.shape?C.className="geSprite geSprite-simplearrow":C.className="geSprite geSprite-connection",o.edges.length==l.getSelectionCount()?(u.style.display="",I.style.display="none"):(u.style.display="none",I.style.display="");var A=r(mxUtils.getValue(o.style,mxConstants.STYLE_STARTARROW,null),mxUtils.getValue(o.style,"startFill","1"),E,"start"),c=r(mxUtils.getValue(o.style,mxConstants.STYLE_ENDARROW,null),mxUtils.getValue(o.style,"endFill","1"),S,"end");if("arrow"==o.style.shape?(A.className="geSprite geSprite-noarrow",c.className="geSprite geSprite-endblocktrans"):"link"==o.style.shape&&(A.className="geSprite geSprite-noarrow",c.className="geSprite geSprite-noarrow"),mxUtils.setOpacity(w,"arrow"==o.style.shape?30:100),"connector"!=o.style.shape&&"flexArrow"!=o.style.shape?(mxUtils.setOpacity(E,30),mxUtils.setOpacity(S,30)):(mxUtils.setOpacity(E,100),mxUtils.setOpacity(S,100)),i||document.activeElement!=Y){d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_MARKERSIZE));Y.value=isNaN(d)?"":d+" pt"}if(i||document.activeElement!=Z){d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_SOURCE_PERIMETER_SPACING,0));Z.value=isNaN(d)?"":d+" pt"}if(i||document.activeElement!=U){d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE));U.value=isNaN(d)?"":d+" pt"}if(i||document.activeElement!=Z){d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_TARGET_PERIMETER_SPACING,0));O.value=isNaN(d)?"":d+" pt"}if(i||document.activeElement!=B){var d=parseInt(mxUtils.getValue(o.style,mxConstants.STYLE_PERIMETER_SPACING,0));B.value=isNaN(d)?"":d+" pt"}});return V=this.installInputHandler(Y,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_MARKERSIZE,0,999," pt"),H=this.installInputHandler(Z,mxConstants.STYLE_SOURCE_PERIMETER_SPACING,0,-999,999," pt"),D=this.installInputHandler(U,mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE,0,999," pt"),N=this.installInputHandler(O,mxConstants.STYLE_TARGET_PERIMETER_SPACING,0,-999,999," pt"),X=this.installInputHandler(B,mxConstants.STYLE_PERIMETER_SPACING,0,0,999," pt"),this.addKeyHandler(v,W),this.addKeyHandler(Y,W),this.addKeyHandler(Z,W),this.addKeyHandler(U,W),this.addKeyHandler(O,W),this.addKeyHandler(B,W),l.getModel().addListener(mxEvent.CHANGE,W),this.listeners.push({destroy:function(){l.getModel().removeListener(W)}}),W(),t},StyleFormatPanel.prototype.addEffects=function(t){var e=this.editorUi.editor.graph,i=this.format.getSelectionState();t.style.paddingTop="0px",t.style.paddingBottom="2px";var n=document.createElement("table");mxClient.IS_QUIRKS&&(n.style.fontSize="1em"),n.style.width="100%",n.style.fontWeight="bold",n.style.paddingRight="20px";var l=document.createElement("tbody"),o=document.createElement("tr");o.style.padding="0px";var r=document.createElement("td");r.style.padding="0px",r.style.width="50%",r.setAttribute("valign","top");var s=r.cloneNode(!0);s.style.paddingLeft="8px",o.appendChild(r),o.appendChild(s),l.appendChild(o),n.appendChild(l),t.appendChild(n);var a=r,g=0,C=mxUtils.bind(this,function(t,e,i){var n=this.createCellOption(t,e,i);n.style.width="100%",a.appendChild(n),a=a==r?s:r,g++}),h=mxUtils.bind(this,function(e,n,l){i=this.format.getSelectionState(),r.innerHTML="",s.innerHTML="",a=r,i.rounded&&C(mxResources.get("rounded"),mxConstants.STYLE_ROUNDED,0),"swimlane"==i.style.shape&&C(mxResources.get("divider"),"swimlaneLine",1),i.containsImage||C(mxResources.get("shadow"),mxConstants.STYLE_SHADOW,0),i.glass&&C(mxResources.get("glass"),mxConstants.STYLE_GLASS,0),i.comic&&C(mxResources.get("comic"),"comic",0),0==g&&(t.style.display="none")});return e.getModel().addListener(mxEvent.CHANGE,h),this.listeners.push({destroy:function(){e.getModel().removeListener(h)}}),h(),t},StyleFormatPanel.prototype.addStyleOps=function(t){t.style.padding="10px 0";var e=mxUtils.button(mxResources.get("setAsDefaultStyle"),mxUtils.bind(this,function(t){this.editorUi.actions.get("setAsDefaultStyle").funct()}));return e.setAttribute("title",mxResources.get("setAsDefaultStyle")+" ("+this.editorUi.actions.get("setAsDefaultStyle").shortcut+")"),e.style.width="75%",e.style.height="22px",e.className="geColorBtn",t.appendChild(e),t},DiagramFormatPanel=function(t,e,i){BaseFormatPanel.call(this,t,e,i),this.init()},mxUtils.extend(DiagramFormatPanel,BaseFormatPanel),DiagramFormatPanel.prototype.showBackgroundImageOption=!0,DiagramFormatPanel.prototype.init=function(){var t=this.editorUi.editor.graph;this.container.appendChild(this.addView(this.createPanel())),t.isEnabled()&&(this.container.appendChild(this.addOptions(this.createPanel())),this.container.appendChild(this.addStyleOps(this.createPanel())))},DiagramFormatPanel.prototype.addView=function(t){var e=this.editorUi,i=e.editor.graph;if(t.appendChild(this.createTitle(mxResources.get("view"))),this.addGridOption(t),i.isEnabled()){var n=this.createColorOption(mxResources.get("background"),function(){return i.background},function(t){e.setBackgroundColor(t)},"#ffffff",{install:function(t){this.listener=function(){t(i.background)},e.addListener("backgroundColorChanged",this.listener)},destroy:function(){e.removeListener(this.listener)}});if(this.showBackgroundImageOption){var l=mxUtils.button(mxResources.get("image"),function(t){e.showBackgroundImageDialog(),mxEvent.consume(t)});l.style.position="absolute",l.className="geColorBtn",l.style.marginTop="-4px",l.style.paddingBottom=11==document.documentMode||mxClient.IS_MT?"0px":"2px",l.style.height="22px",l.style.right=mxClient.IS_QUIRKS?"52px":"72px",l.style.width="56px",n.appendChild(l)}t.appendChild(n)}return t},DiagramFormatPanel.prototype.addOptions=function(t){var e=this.editorUi,i=e.editor.graph;return t.appendChild(this.createTitle(mxResources.get("options"))),i.isEnabled()&&(t.appendChild(this.createOption(mxResources.get("connectionArrows"),function(){return i.connectionArrowsEnabled},function(t){e.actions.get("connectionArrows").funct()},{install:function(t){this.listener=function(){t(i.connectionArrowsEnabled)},e.addListener("connectionArrowsChanged",this.listener)},destroy:function(){e.removeListener(this.listener)}})),t.appendChild(this.createOption(mxResources.get("connectionPoints"),function(){return i.connectionHandler.isEnabled()},function(t){e.actions.get("connectionPoints").funct()},{install:function(t){this.listener=function(){t(i.connectionHandler.isEnabled())},e.addListener("connectionPointsChanged",this.listener)},destroy:function(){e.removeListener(this.listener)}}))),t},DiagramFormatPanel.prototype.addGridOption=function(t){function e(t){var e=parseInt(l.value);(e=Math.max(1,isNaN(e)?10:e))!=n.getGridSize()&&n.setGridSize(e),l.value=e+" pt",mxEvent.consume(t)}var i=this.editorUi,n=i.editor.graph,l=document.createElement("input");l.style.position="absolute",l.style.textAlign="right",l.style.width="38px",l.value=n.getGridSize()+" pt";var o=this.createStepper(l,e);if(l.style.display=n.isGridEnabled()?"":"none",o.style.display=l.style.display,mxEvent.addListener(l,"keydown",function(t){13==t.keyCode?(n.container.focus(),mxEvent.consume(t)):27==t.keyCode&&(l.value=n.getGridSize(),n.container.focus(),mxEvent.consume(t))}),mxEvent.addListener(l,"blur",e),mxEvent.addListener(l,"change",e),mxClient.IS_SVG){l.style.marginTop="-2px",l.style.right="84px",o.style.marginTop="-20px",o.style.right="72px";var r=this.createColorOption(mxResources.get("grid"),function(){var t=n.view.gridColor;return n.isGridEnabled()?t:null},function(t){t==mxConstants.NONE?(n.setGridEnabled(!1),i.fireEvent(new mxEventObject("gridEnabledChanged"))):(n.setGridEnabled(!0),i.setGridColor(t)),l.style.display=n.isGridEnabled()?"":"none",o.style.display=l.style.display},"#e0e0e0",{install:function(t){this.listener=function(){t(n.isGridEnabled()?n.view.gridColor:null)},i.addListener("gridColorChanged",this.listener),i.addListener("gridEnabledChanged",this.listener)},destroy:function(){i.removeListener(this.listener)}});r.appendChild(l),r.appendChild(o),t.appendChild(r)}else l.style.marginTop="2px",l.style.right="32px",o.style.marginTop="2px",o.style.right="20px",t.appendChild(l),t.appendChild(o),t.appendChild(this.createOption(mxResources.get("grid"),function(){return n.isGridEnabled()},function(t){n.setGridEnabled(t),n.isGridEnabled()&&(n.view.gridColor="#e0e0e0"),i.fireEvent(new mxEventObject("gridEnabledChanged"))},{install:function(t){this.listener=function(){l.style.display=n.isGridEnabled()?"":"none",o.style.display=l.style.display,t(n.isGridEnabled())},i.addListener("gridEnabledChanged",this.listener)},destroy:function(){i.removeListener(this.listener)}}))},DiagramFormatPanel.prototype.addDocumentProperties=function(t){this.editorUi.editor.graph;return t.appendChild(this.createTitle(mxResources.get("options"))),t},DiagramFormatPanel.prototype.addPaperSize=function(t){function e(t,e,i){if(i||I!=document.activeElement&&c!=document.activeElement){for(var l=!1,o=0;o<u.length;o++){var C=u[o];v?"custom"==C.key&&(a.value=C.key,v=!1):null!=C.format&&(n.pageFormat.width==C.format.width&&n.pageFormat.height==C.format.height?(a.value=C.key,r.setAttribute("checked","checked"),r.defaultChecked=!0,r.checked=!0,s.removeAttribute("checked"),s.defaultChecked=!1,s.checked=!1,l=!0):n.pageFormat.width==C.format.height&&n.pageFormat.height==C.format.width&&(a.value=C.key,r.removeAttribute("checked"),r.defaultChecked=!1,r.checked=!1,s.setAttribute("checked","checked"),s.defaultChecked=!0,s.checked=!0,l=!0))}l?(g.style.display="",A.style.display="none"):(I.value=n.pageFormat.width,c.value=n.pageFormat.height,x.setAttribute("selected","selected"),r.setAttribute("checked","checked"),r.defaultChecked=!0,g.style.display="none",A.style.display="")}}var i=this.editorUi,n=i.editor.graph;t.appendChild(this.createTitle(mxResources.get("paperSize")));var l=document.createElement("label");l.className="radio";var o=l.cloneNode(!1),r=document.createElement("input");r.setAttribute("name","format"),r.setAttribute("type","radio"),r.setAttribute("value","portrait");var s=document.createElement("input");s.setAttribute("name","format"),s.setAttribute("type","radio"),s.setAttribute("value","landscape");var a=document.createElement("select");a.style.marginBottom="8px",a.style.width="202px";var g=document.createElement("div");g.style.marginLeft="4px",g.style.width="210px",g.style.height="24px",r.style.marginRight="6px",l.appendChild(r);var C=document.createElement("span");C.style.maxWidth="100px",mxUtils.write(C,mxResources.get("portrait")),l.appendChild(C),g.appendChild(l),s.style.marginLeft="10px",s.style.marginRight="6px",o.appendChild(s);var h=document.createElement("span");h.style.width="100px",mxUtils.write(h,mxResources.get("landscape")),o.appendChild(h),g.appendChild(o);var A=document.createElement("div");A.style.marginLeft="4px",A.style.width="210px",A.style.height="24px";var I=document.createElement("input");I.setAttribute("size","6"),I.setAttribute("value",n.pageFormat.width),A.appendChild(I),mxUtils.write(A," x ");var c=document.createElement("input");c.setAttribute("size","6"),c.setAttribute("value",n.pageFormat.height),A.appendChild(c),mxUtils.write(A," pt"),g.style.display="none",A.style.display="none";for(var d=new Object,u=PageSetupDialog.getFormats(),p=0;p<u.length;p++){var m=u[p];d[m.key]=m;var x=document.createElement("option");x.setAttribute("value",m.key),mxUtils.write(x,m.title),a.appendChild(x)}var v=!1;e(),t.appendChild(a),mxUtils.br(t),t.appendChild(g),t.appendChild(A);var y=function(){var t=d[a.value];null!=t.format?(I.value=t.format.width,c.value=t.format.height,A.style.display="none",g.style.display=""):(g.style.display="none",A.style.display="");var e=new mxRectangle(0,0,parseInt(I.value),parseInt(c.value));"custom"!=a.value&&s.checked&&(e=new mxRectangle(0,0,e.height,e.width)),null!=n.pageFormat&&n.pageFormat.width==e.width&&n.pageFormat.height==e.height||i.setPageFormat(e)};return this.addKeyHandler(I,e),this.addKeyHandler(c,e),mxEvent.addListener(C,"click",function(t){r.checked=!0,y(),mxEvent.consume(t)}),mxEvent.addListener(h,"click",function(t){s.checked=!0,y(),mxEvent.consume(t)}),mxEvent.addListener(I,"blur",y),mxEvent.addListener(I,"click",y),mxEvent.addListener(c,"blur",y),mxEvent.addListener(c,"click",y),mxEvent.addListener(s,"change",y),mxEvent.addListener(r,"change",y),mxEvent.addListener(a,"change",function(){v="custom"==a.value,y()}),i.addListener("pageFormatChanged",e),this.listeners.push({destroy:function(){i.removeListener(e)}}),n.getModel().addListener(mxEvent.CHANGE,e),this.listeners.push({destroy:function(){n.getModel().removeListener(e)}}),y(),t},DiagramFormatPanel.prototype.addStyleOps=function(t){var e=mxUtils.button(mxResources.get("clearDefaultStyle"),mxUtils.bind(this,function(t){this.editorUi.actions.get("clearDefaultStyle").funct()}));return e.setAttribute("title",mxResources.get("clearDefaultStyle")+" ("+this.editorUi.actions.get("clearDefaultStyle").shortcut+")"),e.style.width="75%",e.className="btn-purple",t.style.padding="10px 0",t.style.textAlign="center",t.appendChild(e),t},DiagramFormatPanel.prototype.destroy=function(){BaseFormatPanel.prototype.destroy.apply(this,arguments),this.gridEnabledListener&&(this.editorUi.removeListener(this.gridEnabledListener),this.gridEnabledListener=null)},AttributePanel.prototype.init=function(){var t=this.editorUi,e=t.editor.graph,i=e.getSelectionCell()||e.getModel().getRoot(),n=e.getModel().getValue(i);if(!mxUtils.isNode(n)){var l=mxUtils.createXmlDocument().createElement("object");if(l.setAttribute("label",n||""),"new"==t.interfaceParams.operator&&"model"==t.interfaceParams.type&&"0"==i.getId()){for(var o in t.initAttributes)l.setAttribute(o,JSON.stringify(t.initAttributes[o]));e.getModel().setValue(i,l)}n=l}for(var r=n.attributes,s={},a=[],g=0;g<r.length;g++)if("intrinsic"==r[g].nodeName||"extended"==r[g].nodeName||"userFunc"==r[g].nodeName){s[r[g].nodeName]=JSON.parse(r[g].nodeValue);for(var C in s[r[g].nodeName])a.push(s[r[g].nodeName][C].name)}Object.keys(s).length<2&&(s.intrinsic=null!=s.intrinsic?s.intrinsic:[],s.extended=null!=s.extended?s.extended:[]),s.extended&&"model"!=t.interfaceParams.type&&"0"==i.getId()&&delete s.extended,this.createEnhancedPanel();for(var o in s)this.createAttrsPanel(i,n,s[o],o,a);((i.getStyle()&&i.getStyle().indexOf("group"))>=0||"0"==i.getId()&&"model"==t.interfaceParams.type)&&this.collapsedImage(i,n)},AttributePanel.prototype.collapsedImage=function(t,e){this.editorUi;var i=this.container,n=this.createTitle(mxResources.get("image"));n.style.paddingLeft="18px",n.style.paddingTop="10px",n.style.paddingBottom="6px",i.appendChild(n);var l=this.createPanel();this.container.appendChild(l);var o=new mxForm("properties");o.table.style.width="95%",o.table.className="properties table-def";var r=document.createElement("tr"),s=document.createElement("td"),a=document.createElement("img");a.style.maxWidth="60px",a.style.maxHeight="60px",a.style.border="1px solid white",a.src=e.getAttribute("image")&&"null"!=e.getAttribute("image")?e.getAttribute("image"):mxGraph.prototype.collapsedImage.src,s.appendChild(a);var g=document.createElement("td");g.style.minWidth="5px";var C=document.createElement("td"),h=document.createElement("a");h.className="fileA btn-purple",mxUtils.write(h,mxResources.get("selectThumbnail"));var A=document.createElement("input");A.className="fileInput",A.setAttribute("type","file"),A.setAttribute("accept","image/png,image/jpeg"),h.appendChild(A),C.appendChild(h);var I=mxUtils.createImage(IMAGE_PATH+"/delete.png");I.style.height="15px",I.style.opacity=".6",I.style.marginTop="5px",I.style.marginLeft="15px",I.style.cursor="pointer",I.setAttribute("title",mxResources.get("delete")),C.appendChild(I),r.appendChild(s),r.appendChild(g),r.appendChild(C),o.table.appendChild(r),l.appendChild(o.table),mxEvent.addListener(A,"change",mxUtils.bind(this,function(){this.uploadImg(A,a,t,e)})),mxEvent.addListener(I,"click",mxUtils.bind(this,function(){mxUtils.confirm(mxResources.get("sureToDelete",["thumbnail?"]))&&this.deleteImg(a,t,e)}))},AttributePanel.prototype.uploadImg=function(t,e,i,n){var l=this.editorUi,o=l.editor.graph;if(t.files.length>0){if(t.files[0].size>1024*l.maxUploadImgSize*1024)return void mxUtils.alert(mxResources.get("maxFileSize",[l.maxUploadImgSize]));var r=new Image,s=new FileReader;s.onload=function(t){r.src=t.target.result;var l=BASE_URL+SAVE_IMG,s="data="+encodeURIComponent(r.src);mxUtils.post(l,s,mxUtils.bind(this,function(t){var l=JSON.parse(t.getText());if(0==l.status){var r=UPLOADIMAGE_PATH+"/"+l.data.url;e.src=r,n.setAttribute("image",r);var s=o.getModel();o.isUploadImage=!0,s.setValue(i,n),o.isCellCollapsed(i)&&(o.foldCells(!1),o.foldCells(!0))}else mxUtils.alert(l.data.msg)}))},s.readAsDataURL(t.files[0])}},AttributePanel.prototype.deleteImg=function(t,e,i){var n=this.editorUi.editor.graph,l=mxGraph.prototype.collapsedImage.src;t.src=l,i.removeAttribute("image"),n.getModel().setValue(e,i),n.isCellCollapsed(e)&&(n.foldCells(!1),n.foldCells(!0))},AttributePanel.prototype.createAttrsPanel=function(t,e,i,n,l){function o(){var t=d.body.getElementsByClassName(n+"EditAttributes");if(t.length>0)for(var e=t.length-1;e>=0;e--)d.body.removeChild(t[e])}function r(t){var e=t.sort(),i={};i.status=!1;for(var n in t)if(e[n]==e[parseInt(n)+1])return i.status=!0,i.data=e[n],i;return i}function s(i,o){var s=[];if(null!=o){var a=mxUtils.trim(i.name.value," ");if(""==a)return window.alert(mxResources.get("propertyNameIsEmpty")),!1;for(var g in l)if(p[o].name==l[g]){l[g]=a;var C=r(mxUtils.clone(l));if(C.status)return l[g]=p[o].name,window.alert(mxResources.get("duplicateName")+': "'+C.data+'"'),!1;break}for(var A in i)if(i[A]instanceof Array){p[o][A]=[];for(var I in i[A])p[o][A].push(mxUtils.trim(i[A][I].value," "))}else p[o][A]=mxUtils.trim(i[A].value," ")}for(var g in p)null!=p[g]&&s.push(p[g]);return e.setAttribute(n,JSON.stringify(s)),h.getModel().setValue(t,e),!0}function a(t,e,i,l){var o=[];if("intrinsic"!=n){t=t||"string",o.operator=document.createElement("select"),o.operator.style.width="26%",o.operator.style.float="left";for(var r in C.attributeOperator[t])(a=document.createElement("option")).setAttribute("value",C.attributeOperator[t][r]),mxUtils.write(a,C.attributeOperator[t][r]),o.operator.appendChild(a),e==C.attributeOperator[t][r]&&a.setAttribute("selected","true")}if(o.value=document.createElement("input"),o.value.style.width="intrinsic"==n?"90%":"29%",o.value.style.height="15px",o.value.style.float="left",o.value.value=null!=i?i:"","intrinsic"!=n){o.logic=document.createElement("select"),o.logic.style.width="35%",o.logic.style.float="left";for(var s in C.attributeLogic){var a=document.createElement("option");a.setAttribute("value",C.attributeLogic[s]),mxUtils.write(a,C.attributeLogic[s]),o.logic.appendChild(a),l==C.attributeLogic[s]&&a.setAttribute("selected","true")}}return o}function g(e,i,n,l){function r(){var t=c.dataType.value;for(var i in c.operator){c.operator[i].options.length=0;for(var n in C.attributeOperator[t]){var l=document.createElement("option");l.setAttribute("value",C.attributeOperator[t][n]),mxUtils.write(l,C.attributeOperator[t][n]),c.operator[i].appendChild(l),e.operator[i]==C.attributeOperator[t][n]&&l.setAttribute("selected","true")}}}function g(){var t=parseInt(c.logic.length);for(var e in c.logic){var i=c.logic[e].value;if("none"==i&&e<t-1){for(l=parseInt(t-1);l>e;l--)I.removeChild(c.operator[l]),I.removeChild(c.value[l]),I.removeChild(c.logic[l]),mxEvent.removeListener(c.logic[l],"change",g),delete c.operator[l],c.operator.length--,delete c.value[l],c.value.length--,delete c.logic[l],c.logic.length--;break}if("none"!=i&&e==t-1){var n=a(c.dataType.value);for(var l in n)c[l].push(n[l]),I.appendChild(c[l][t]);mxEvent.addListener(c.logic[t],"change",g)}}}var h=d.body.insertRow(i);h.className=n+"EditAttributes";var A=document.createElement("td");A.style.color="#788da3",A.style.fontSize="12px",A.style.borderTop="0";var I=document.createElement("td");I.style.borderTop="0",I.setAttribute("colspan",3);document.createElement("br");var c={},m=mxUtils.button("",function(){o()});m.style.display="block",m.style.opacity=".5",m.title=mxResources.get("cancel"),m.className="icon-24 icon-delete";var x=mxUtils.button("",function(){try{if(!s(c,l))return;var t=d.body.getElementsByClassName(n+"EditAttributes");if(u[l]=p[l].name,"intrinsic"==n)t[0].previousSibling.childNodes[0].innerText=p[l].name,t[0].previousSibling.childNodes[0].setAttribute("title","Key:"+p[l].name),t[0].previousSibling.childNodes[1].innerText=p[l].value[0],t[0].previousSibling.childNodes[1].setAttribute("title",mxResources.get("value")+":"+p[l].value[0]);else{t[0].previousSibling.childNodes[0].innerText=p[l].name,t[0].previousSibling.childNodes[0].setAttribute("title",mxResources.get("name")+":"+p[l].name),t[0].previousSibling.childNodes[1].innerText=p[l].description,t[0].previousSibling.childNodes[1].setAttribute("title",mxResources.get("description")+":"+p[l].description);var e=[];for(var i in p[l].value)e.push(p[l].operator[i]+p[l].value[i]+(null!=p[l].logic[i]&&"none"!=p[l].logic[i]?" "+p[l].logic[i]:""));t[0].previousSibling.childNodes[2].innerText=e.join(" "),t[0].previousSibling.childNodes[2].setAttribute("title",mxResources.get("value")+":"+e.join(" "))}o()}catch(t){mxUtils.alert(t)}});x.style.display="block",x.style.marginBottom="10px",x.style.cursor="pointer",x.style.opacity=".5",x.title=mxResources.get("save",[""]),x.className="icon-24 icon-tick";for(var v in e)if("operator"!=v&&"logic"!=v&&("intrinsic"!=n||"description"!=v&&"dataType"!=v)){var y=document.createElement("div");if(y.innerText=mxResources.get(v)+":",y.style.height="20px",y.style.paddingBottom="0",A.appendChild(y),"name"==v||"description"==v)c[v]=document.createElement("input"),c[v].style.width="90%",c[v].style.height="15px",c[v].style.display="block",c[v].style.marginBottom="2px","model"!=C.interfaceParams.type||"0"!=t.getId()||"name"!=v||"name"!=e[v]&&"category"!=e[v]&&"type"!=e[v]||(c[v].disabled="disabled"),c[v].value=e[v],I.appendChild(c[v]);else if("dataType"==v){c[v]=document.createElement("select"),c[v].style.width="97%",c[v].style.display="block",c[v].style.marginBottom="2px";for(var f in C.attributeDataType){var b=document.createElement("option");b.setAttribute("value",C.attributeDataType[f]),mxUtils.write(b,mxResources.get(C.attributeDataType[f])),c[v].appendChild(b),e[v]==C.attributeDataType[f]&&b.setAttribute("selected","true")}I.appendChild(c[v]),A.style.verticalAlign="top",I.style.verticalAlign="top"}else if("value"==v){c.operator=[],c.value=[],c.logic=[];for(var f in e.value){var w=a(e.dataType,e.operator[f],e.value[f],e.logic[f]);for(var E in w)c[E].push(w[E]),I.appendChild(c[E][f])}}}h.appendChild(A),h.appendChild(I);var S=document.createElement("td");S.style.paddingLeft="5px",S.style.borderTop="0",S.setAttribute("colspan",2),S.appendChild(x),S.appendChild(m),h.appendChild(S),null!=c.dataType&&mxEvent.addListener(c.dataType,"change",r);for(var T in c.logic)mxEvent.addListener(c.logic[T],"change",g)}var C=this.editorUi,h=C.editor.graph,A=this.container,I=this.createTitle(mxResources.get(n));I.style.paddingLeft="18px",I.style.paddingTop="10px",I.style.paddingBottom="6px",A.appendChild(I);var c=this.createPanel();this.container.appendChild(c);var d=new mxForm("properties");d.table.style.width="95%",d.table.style.paddingRight="20px";for(var u=[],p=[],m=0,x=function(t,e){var i=document.createElement("td"),n=document.createElement("a"),r=mxUtils.createImage(IMAGE_PATH+"/delete.png");r.style.height="15px",r.style.opacity=".6",n.className="geButton",n.setAttribute("title",mxResources.get("delete")),n.style.fontSize="14px",n.style.cursor="pointer",n.style.marginLeft="6px",n.appendChild(r);var a=function(t){return function(){for(var e=t.childNodes[0].innerText,i=0,n=0;n<u.length;n++){if(u[n]==e){if(!window.confirm(mxResources.get("sureToDelete",['"'+e+'"'])+"?"))break;delete p[n];for(var r in l)if(l[r]==e){delete l[r];break}o(),d.table.deleteRow(i),s();break}null!=p[n]&&i++}}}(t);mxEvent.addListener(n,"click",a),i.appendChild(n),t.appendChild(i)},v=function(t,e){var i=document.createElement("td"),l=document.createElement("a"),r=mxUtils.createImage(Dialog.prototype.editImage);r.style.height="15px",r.style.opacity=".7",l.className="geButton",l.setAttribute("title",mxResources.get("edit")),l.style.fontSize="14px",l.style.cursor="pointer",l.style.marginLeft="6px",l.appendChild(r);var s=function(t){return function(){o();for(var e=0,i=0;i<u.length&&u[i]!=t.name;i++)null!=p[i]&&e++;g(t,e+1,n,i)}}(e);mxEvent.addListener(l,"click",s),i.appendChild(l),t.appendChild(i)},y=function(e,i,o){if(null!=e){var r=e.name,s=[];s.name=r,"new"==o&&l.push(r),s.description=e.description;var a=[];for(var g in e.value)"intrinsic"==n?a.push(e.value[g]):a.push(e.operator[g]+e.value[g]+(null!=e.logic[g]&&"none"!=e.logic[g]?" "+e.logic[g]:""));s.value=a.join(" "),u[i]=r;var h=d.addListAttributeElements(s,n);p[i]=e,v(h,e);var A="0"==t.getId(),I=null==t.getCategory()||"general"==t.getCategory();("intrinsic"!=n||"intrinsic"==n&&"model"==C.interfaceParams.type&&(!A||A&&"name"!=e.name&&"category"!=e.name&&"type"!=e.name)||"intrinsic"==n&&"model"!=C.interfaceParams.type&&(A||!A&&I))&&x(h)}},f=0;f<i.length;f++)y(i[f],m),m++;if(c.appendChild(d.table),"intrinsic"!=n||null==t.getCategory()||"general"==t.getCategory()||"intrinsic"==n&&("model"==C.interfaceParams.type||"model"!=C.interfaceParams.type&&0==t.getId())){var b=document.createElement("div");b.style.whiteSpace="nowrap",b.style.marginTop="16px",b.style.textAlign="center",c.appendChild(b);var w=mxUtils.button(mxResources.get("addProperty"),function(){var t=C.defaultAttributesStructure();y(t,m,"new"),m++;for(var e=0,i=0;i<u.length;i++)null!=p[i]&&e++;o(),g(t,e,n,i-1)});w.style.width="62%",w.className="btn-purple",b.appendChild(w)}},AttributePanel.prototype.createEnhancedPanel=function(){function t(){var t=document.getElementsByClassName("geEnhanced")[0];t&&t.parentNode.removeChild(t),e()}function e(){function t(t){var n=t.value;if(!mxUtils.isNode(n)){var l=mxUtils.createXmlDocument().createElement("object");if(l.setAttribute("label",n||""),"new"==i.interfaceParams.operator&&"model"==i.interfaceParams.type&&"0"==e.getId()){for(var o in i.initAttributes)l.setAttribute(o,JSON.stringify(i.initAttributes[o]));p.getModel().setValue(e,l)}n=l}return n}var e,l=document.getElementsByClassName("geEditor")[0],o=document.getElementsByClassName("geSidebarContainer")[1],r=document.createElement("div");r.style.width=.7*document.body.clientWidth+"px",r.style.height=o.style.height,r.className="geEnhanced";var s=document.createElement("div"),a=document.createElement("div");s.className="geEnhancedLeftDiv",a.className="geEnhancedRightDiv";var g=document.createElement("div");g.className="geEnhancedTitle";var C=document.createElement("label");C.className="geEnhancedLabel",C.innerHTML=mxResources.get("resourceList"),g.appendChild(C);var h=document.createElement("img");h.setAttribute("src",Format.prototype.rightClose),h.className="geEnhancedCloseImg",g.appendChild(h),s.appendChild(g),mxEvent.addListener(h,"click",function(){r.parentNode.removeChild(r),i.format.refresh()});var A=document.createElement("div");A.className="geEnhancedTitle",(C=document.createElement("label")).className="geEnhancedLabel",C.innerHTML=mxResources.get("attribute"),A.appendChild(C);var I=document.createElement("div");I.className="geEnhancedList",s.appendChild(I),r.appendChild(s),r.appendChild(a);var c=document.createElement("div");c.className="geEnhancedFoot";var d=mxUtils.button("",function(){for(var i=document.getElementsByClassName("geEnhancedInputN"),n=[],l=0;l<i.length;l++){if(""==i[l].value)return mxUtils.alert(mxResources.get("propertyNameIsEmpty")),!1;n.push(mxUtils.trim(i[l].value," "))}var o=mxUtils.checkArrayIfDuplicateValues(n);if(o.status)return window.alert(mxResources.get("duplicateName")+': "'+o.data+'"'),!1;for(var r=t(e),s=document.getElementsByClassName("geEnhancedIntrinsic"),a=[],l=0;l<s.length;l++)(C={}).name=mxUtils.trim(s[l].getElementsByClassName("geEnhancedInputN")[0].value," "),C.description="",C.dataType="",C.value=[mxUtils.trim(s[l].getElementsByClassName("geEnhancedValueInput")[0].value," ")],C.operator=[""],C.logic=[""],a.push(C);r.setAttribute("intrinsic",JSON.stringify(a));var g=document.getElementsByClassName("geEnhancedExtended");a=[];for(l=0;l<g.length;l++){var C={};C.name=mxUtils.trim(g[l].getElementsByClassName("geEnhancedInputN")[0].value," "),C.description=mxUtils.trim(g[l].getElementsByClassName("geEnhancedDefInput")[0].value," "),C.dataType=mxUtils.trim(g[l].getElementsByClassName("geEnhancedSelectType")[0].value," ");for(var h=g[l].getElementsByClassName("geEnhancedValueInput"),A=[],I=0;I<h.length;I++)A.push(mxUtils.trim(h[I].value," "));C.value=A,h=g[l].getElementsByClassName("geEnhancedSelectOpr"),A=[];for(I=0;I<h.length;I++)A.push(mxUtils.trim(h[I].value," "));C.operator=A,h=g[l].getElementsByClassName("geEnhancedSelectLgc"),A=[];for(I=0;I<h.length;I++)A.push(mxUtils.trim(h[I].value," "));C.logic=A,a.push(C)}return r.setAttribute("extended",JSON.stringify(a)),p.getModel().setValue(e,r),mxUtils.alert(mxResources.get("saved")),!0});d.style.marginRight="30px",d.style.cursor="pointer",d.title=mxResources.get("save",[""]),d.className="icon-24 icon-tick";var u=mxUtils.button("",function(){window.confirm(mxResources.get("sureToClose"))&&(r.parentNode.removeChild(r),i.format.refresh())});u.title=mxResources.get("close"),u.className="icon-24 icon-delete",c.appendChild(d),c.appendChild(u),r.appendChild(c),l.appendChild(r);var p=i.editor.graph,m=p.getModel().getRoot(),x=1,v=null,y=function(t){v&&(v.style.backgroundColor=""),v=t,t.style.backgroundColor="#ebebeb"},f=function(n){p.setSelectionCell(n),e=n;var l=document.getElementsByClassName("geEnhancedRightDiv1");if(l&&l.length>0)for(g=0;g<l.length;g++)l[g].parentNode.removeChild(l[g]);var o=document.createElement("div");o.className="geEnhancedRightDiv1",a.appendChild(A),a.appendChild(o);var r=t(n).attributes,s={};if(r)for(var g=0;g<r.length;g++)"intrinsic"!=r[g].nodeName&&"extended"!=r[g].nodeName&&"userFunc"!=r[g].nodeName||(s[r[g].nodeName]=JSON.parse(r[g].nodeValue));Object.keys(s).length<2&&(s.intrinsic=null!=s.intrinsic?s.intrinsic:[],s.extended=null!=s.extended?s.extended:[]),s.extended&&"model"!=i.interfaceParams.type&&"0"==n.getId()&&delete s.extended,b(o,n,s)},b=function(l,o,r){function s(t,e){e=e||{name:"",description:"",dataType:"",value:[""],operator:[""],logic:[""]};var i=document.createElement("div");i.className="geEnhancedProDiv geEnhancedIntrinsic",t.appendChild(i);var l=document.createElement("input");l.className="geEnhancedInputN",l.placeholder="Key",l.value=e.name,"model"!=n||"0"!=C||"name"!=e.name&&"category"!=e.name&&"type"!=e.name||(l.disabled="disabled"),i.appendChild(l);var o=document.createElement("input");if(o.className="geEnhancedValueInput",o.placeholder="Value",o.value=e.value[0],i.appendChild(o),"model"!=n||"model"==n&&("0"!=C||"0"==C&&"name"!=e.name&&"category"!=e.name&&"type"!=e.name)){var r=document.createElement("img");r.className="geEnhancedDel",r.setAttribute("src",Dialog.prototype.closeImage),i.appendChild(r);var s=document.createElement("br");i.appendChild(s),mxEvent.addListener(r,"click",function(){mxUtils.confirm(mxResources.get("sureToDelete",['"'+this.parentNode.firstChild.value+'"'])+"?")&&this.parentNode.parentNode.removeChild(this.parentNode)})}}function a(t,e){e=e||{name:"",description:"",dataType:"",value:[""],operator:[""],logic:[""]};var n=document.createElement("div");n.className="geEnhancedProDiv geEnhancedExtended",t.appendChild(n);var l=document.createElement("div");l.style.display="inline-block",l.style.verticalAlign="top",n.appendChild(l);var o=document.createElement("input");o.className="geEnhancedInputN",o.placeholder="Name",o.value=e.name,l.appendChild(o);var r=document.createElement("input");r.className="geEnhancedDefInput",r.placeholder="Description",r.value=e.description,l.appendChild(r);var s=document.createElement("select");s.className="geEnhancedSelectType";for(var a in i.attributeDataType){var C=document.createElement("option");C.setAttribute("value",i.attributeDataType[a]),mxUtils.write(C,mxResources.get(i.attributeDataType[a])),s.appendChild(C),e.dataType==i.attributeDataType[a]&&C.setAttribute("selected","true")}l.appendChild(s);var h=document.createElement("div");h.style.display="inline-block",n.appendChild(h),g(h,e);var A=document.createElement("div");A.style.display="inline-block",A.style.verticalAlign="top",n.appendChild(A);var I=document.createElement("img");I.className="geEnhancedDel",I.setAttribute("src",Dialog.prototype.closeImage),A.appendChild(I),mxEvent.addListener(s,"change",function(){for(var t=this.value,e=this.parentNode.nextSibling.getElementsByClassName("geEnhancedSelectOpr"),n=0;n<e.length;n++){e[n].options.length=0;for(var l in i.attributeOperator[t]){var o=document.createElement("option");o.setAttribute("value",i.attributeOperator[t][l]),mxUtils.write(o,i.attributeOperator[t][l]),e[n].appendChild(o)}}}),mxEvent.addListener(I,"click",function(){mxUtils.confirm(mxResources.get("sureToDelete",['"'+this.parentNode.parentNode.firstChild.firstChild.value+'"'])+"?")&&this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode)})}function g(t,e){var n=e.dataType||"string";for(var l in e.value){var o=e.operator[l],r=e.value[l],s=e.logic[l],a=document.createElement("select");a.className="geEnhancedSelectOpr";for(var C in i.attributeOperator[n])(I=document.createElement("option")).setAttribute("value",i.attributeOperator[n][C]),mxUtils.write(I,i.attributeOperator[n][C]),a.appendChild(I),o==i.attributeOperator[n][C]&&I.setAttribute("selected","true");t.appendChild(a);var h=document.createElement("input");h.className="geEnhancedValueInput",h.placeholder="Value",h.value=r,t.appendChild(h);var A=document.createElement("select");A.className="geEnhancedSelectLgc";for(var C in i.attributeLogic){var I=document.createElement("option");I.setAttribute("value",i.attributeLogic[C]),mxUtils.write(I,i.attributeLogic[C]),A.appendChild(I),s==i.attributeLogic[C]&&I.setAttribute("selected","true")}t.appendChild(A);var c=document.createElement("br");t.appendChild(c),mxEvent.addListener(A,"change",function(){var e=this.parentNode.getElementsByClassName("geEnhancedSelectLgc"),i=e.length;if(i>0&&e[i-1]==this&&"none"!=this.value){var n=this.parentNode.previousSibling.getElementsByClassName("geEnhancedSelectType")[0].value;g(t,{name:"",description:"",dataType:n,value:[""],operator:[""],logic:[""]})}if("none"==this.value)for(var l=e.length-1;l>=0&&e[l]!=this;l--)e[l].parentNode.removeChild(e[l].previousSibling),e[l].parentNode.removeChild(e[l].previousSibling),e[l].parentNode.removeChild(e[l].nextSibling),e[l].parentNode.removeChild(e[l])})}}var C=o.getId();for(var h in r){var A=function(t,e){var i=mxResources.get(e),n=document.createElement("div");n.className="geEnhancedSideTitle",n.style.backgroundImage="url('"+IMAGE_PATH+"/expanded.gif')",mxEvent.addListener(n,"click",function(){var t=n.nextSibling;"block"==t.style.display||""==t.style.display?(t.style.display="none",n.style.backgroundImage="url('"+IMAGE_PATH+"/collapsed.gif')"):(t.style.display="block",n.style.backgroundImage="url('"+IMAGE_PATH+"/expanded.gif')")});var l=document.createElement("label");l.className="geEnhancedTitleLab",l.innerHTML=i,n.appendChild(l);var o=document.createElement("span");o.className="geEnhancedAddCon icon-24 icon-add",n.appendChild(o),t.appendChild(n);var r=document.createElement("div");return r.className="geEnhancedTitleCon",t.appendChild(r),mxEvent.addListener(o,"click",function(t){var i=this.parentNode.nextSibling;"none"==i.style.display&&(i.style.display="block"),"intrinsic"==e?s(r):"extended"==e&&a(r),window.event?window.event.cancelBubble=!0:t.stopPropagation()}),r}(l,h);if("intrinsic"==h)for(var I in r[h])s(A,r[h][I]);else if("extended"==h)for(var I in r[h])a(A,r[h][I])}((o.getStyle()&&o.getStyle().indexOf("group"))>=0||"0"==C&&"model"==i.interfaceParams.type)&&function(n,l){var o=t(e),r=document.createElement("div");r.className="geEnhancedSideTitle",r.style.backgroundImage="url('"+IMAGE_PATH+"/expanded.gif')";var s=document.createElement("label");s.className="geEnhancedTitleLab",s.innerHTML=mxResources.get(l),r.appendChild(s),n.appendChild(r);var a=document.createElement("div");a.className="geEnhancedTitleCon",n.appendChild(a),mxEvent.addListener(r,"click",function(){var t=r.nextSibling;"block"==t.style.display||""==t.style.display?(t.style.display="none",r.style.backgroundImage="url('"+IMAGE_PATH+"/collapsed.gif')"):(t.style.display="block",r.style.backgroundImage="url('"+IMAGE_PATH+"/expanded.gif')")});var g=document.createElement("div");g.className="geEnhancedProDiv",a.appendChild(g);var C=document.createElement("div");C.style.float="left",C.style.height="60px",C.style.lineHeight="40px";var h=document.createElement("img");h.style.maxWidth="60px",h.style.maxHeight="60px",h.style.padding="0 10px",h.style.verticalAlign="middle",h.src=o.getAttribute("image")&&"null"!=o.getAttribute("image")?o.getAttribute("image"):mxGraph.prototype.collapsedImage.src,C.appendChild(h),g.appendChild(C);var A=document.createElement("div");A.style.float="left",A.style.height="60px",A.style.lineHeight="60px";var I=document.createElement("a");I.className="fileA btn-purple",mxUtils.write(I,mxResources.get("selectThumbnail"));var c=document.createElement("input");c.className="fileInput",c.setAttribute("type","file"),c.setAttribute("accept","image/png,image/jpeg"),I.appendChild(c),A.appendChild(I);var d=mxUtils.createImage(IMAGE_PATH+"/delete.png");d.style.height="15px",d.style.opacity=".6",d.style.marginTop="15px",d.style.marginLeft="15px",d.style.cursor="pointer",d.setAttribute("title",mxResources.get("delete")),A.appendChild(d),g.appendChild(A),mxEvent.addListener(c,"change",mxUtils.bind(this,function(){i.format.panels[0].uploadImg(c,h,e,o)})),mxEvent.addListener(d,"click",function(){mxUtils.confirm(mxResources.get("sureToDelete",["thumbnail?"]))&&i.format.panels[0].deleteImg(h,e,o)})}(l,"image")},w=function(t,e){mxEvent.addListener(t,"click",function(){v!=t&&f(e),y(t)})},E=function(t,e,i,l){l&&mxEvent.addListener(l,"click",function(){"block"==i.style.display?(i.style.display="none",l.setAttribute("src",Sidebar.prototype.collapsedImage)):(i.style.display="block",l.setAttribute("src",Sidebar.prototype.expandedImage))});var o=16*x+"px";x=e?x:x+1;for(var r=e?1:t.length,s=0;s<r;s++){var a,g=e?t:t[s],C=e?g.children[0].children?g.children[0].children:null:g.children?g.children:null,h=C?C.length:0,A=mxUtils.getCellAttributeValue(g,"name");a=e?"Root of "+n+(A?":"+A:""):"ID:"+g.getId()+","+(A?"name:"+A+",":"")+"("+g.style.split(";")[0]+")";var I=document.createElement("div");I.className=e?"geEnhancedRoot":"geEnhancedItem",w(I,g),i.appendChild(I),!e&&g.style.split(";")[0].indexOf("group")<0&&(p.getModel().isEdge(g)?((d=mxUtils.createImage(IMAGE_PATH+"/line.png")).className="geEnhancedListImg",d.style.marginLeft=o,I.appendChild(d)):p.getModel().isVertex(g)&&((d=mxUtils.createImage(IMAGE_PATH+"/model.png")).className="geEnhancedListImg",d.style.marginLeft=o,I.appendChild(d)));var c=document.createElement("label");if(c.innerHTML=a,c.style.marginLeft="5px",h>0){var d=document.createElement("img");d.setAttribute("src",Sidebar.prototype.collapsedImage),d.className="geEnhancedListImg",e||(d.style.marginLeft=o),I.appendChild(d),I.appendChild(c);var u=document.createElement("div");u.className="geEnhancedListItem",i.appendChild(u),E(C,!1,u,d)}else I.appendChild(c)}x=e?x:x-1};E(m,!0,I),f(e=m)}var i=this.editorUi,n=i.interfaceParams.type,l=this.createTitle(mxResources.get("enhancedPanel"));l.style.paddingLeft="18px",l.style.paddingTop="10px",l.style.paddingBottom="6px",this.container.appendChild(l);var o=this.createPanel();this.container.appendChild(o);var r=document.createElement("div");r.style.whiteSpace="nowrap",r.style.marginTop="10px",r.style.textAlign="center",o.appendChild(r);var s=mxUtils.button(mxResources.get("open"),t);s.style.width="62%",s.className="btn-purple",r.appendChild(s)},Footwall.prototype.dropdownImageHtml='<img border="0" style="position:absolute;right:4px;top:'+(EditorUi.compactUi?6:8)+'px;" src="'+Footwall.prototype.dropdownImage+'" valign="middle"/>',Footwall.prototype.staticElements=null,Footwall.prototype.textarea=null,Footwall.prototype.code=null,Footwall.prototype.codeType=null,Footwall.prototype.codeChange={},Footwall.prototype.init=function(){var t=document.createElement("div");t.id="textBoard",t.style.height="100%",t.style.width="100%",t.style.backgroundColor="#ebebeb",this.editorUi.footwallContainer.appendChild(t);var e=document.createElement("div");e.style.height="25px",e.style.width="100%",e.style.backgroundColor="#ffffff",t.appendChild(e);var i=document.createElement("div");i.style.height="1px",i.style.width="100%",i.style.backgroundColor="#cccccc",t.appendChild(i);var n=document.createElement("div");n.style.position="absolute",n.id="conDiv",n.style.width="99%",n.style.left="1%",n.style.top="26px",n.style.height="calc(100% - 28px)",n.style.border="0px",t.appendChild(n);var l=document.createElement("div");l.className="gecodeTab codeSelected",l.innerHTML="XML",e.appendChild(l),this.codeChange.xml=l;var o=document.createElement("div");o.className="gecodeTab",o.innerHTML="JSON",e.appendChild(o),this.codeChange.json=o;var r=document.createElement("div");r.className="gecodeTab",r.innerHTML="YAML",e.appendChild(r),this.codeChange.yaml=r;var s=document.createElement("div");s.className="gecodeTab",s.innerHTML="Transcode(Json)",e.appendChild(s),this.codeChange.transcode=s;var a=this.editorUi.editor;this.codeType="xml";var g=mxUtils.bind(this,function(t){mxEvent.addListener(this.codeChange[t],"click",mxUtils.bind(this,function(){this.codeType=t,n.innerHTML="",this.textarea=document.createElement("textarea"),n.appendChild(this.textarea);var e,i,l=a.getGraphXml(this.editorUi);if(c.removeAttribute("disabled"),"xml"==t)e=mxUtils.getPrettyXml(l),i="xml";else if("json"==t){o=mxUtils.parseXml(mxUtils.getXml(l));e=(e=CodeTranslator.xml2json(o,"  ")).replace(/\\&quot;/g,'\\\\\\"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'\\"'),i="javascript"}else if("yaml"==t){o=mxUtils.parseXml(mxUtils.getXml(l));e=(e=CodeTranslator.xml2json(o,"  ")).replace(/\\&quot;/g,'\\\\\\"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'\\"'),e=jsyaml.dump(JSON.parse(e)),i="yaml"}else if("transcode"==t){c.setAttribute("disabled","disabled");var o=mxUtils.parseXml(mxUtils.getXml(l)),r=CodeTranslator.xml2json(o,"  ").replace(/\\&quot;/g,'\\\\\\"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'\\"'),s=js2data(JSON.parse(r).mxGraphModel.root,this.editorUi.interfaceParams.type);this.editorUi.interfaceParams.name&&(s.properties.name=this.editorUi.interfaceParams.name),this.editorUi.interfaceParams.id&&(s.properties.id=this.editorUi.interfaceParams.id);var g=this.editorUi.interfaceParams.user||this.editorUi.interfaceParams.author;g&&(s.properties.author=g),this.editorUi.interfaceParams.from&&(s.properties.from=this.editorUi.interfaceParams.from),"model"!==this.editorUi.interfaceParams.type?(s.properties.type="topology",this.editorUi.interfaceParams.designLibraryId&&(s.properties.designLibraryId=this.editorUi.interfaceParams.designLibraryId)):(s.properties.type="model",this.editorUi.interfaceParams.designLibraryId&&(s.properties.productLine=this.editorUi.interfaceParams.designLibraryId)),e=mxUtils.getPrettyJSON(s),i="javascript"}this.textarea.value=e.replace(/&quot;/gi,"'"),this.codeChange[t].className="gecodeTab codeSelected";for(var C in this.codeChange)C!=t&&(this.codeChange[C].className="gecodeTab");this.code=CodeMirror.fromTextArea(this.textarea,{lineNumbers:!0,smartIndent:!0,mode:i}),this.code.on("change",mxUtils.bind(this,function(){this.textarea.value=this.code.getValue()}))}))});for(var C in this.codeChange)g(C);var h=document.createElement("select");h.style.width="180px",h.style.height="20px",h.style.marginLeft="40px",h.style.float="left",h.style.marginTop="3px";var A=document.createElement("option");A.setAttribute("value","replace"),mxUtils.write(A,mxResources.get("replaceExistingDrawing")),h.appendChild(A);var I=document.createElement("option");I.setAttribute("value","import"),mxUtils.write(I,mxResources.get("addToExistingDrawing")),h.appendChild(I),e.appendChild(h);var c=mxUtils.button(mxResources.get("ok"),mxUtils.bind(this,function(){var t=this.editorUi.editor.graph.zapGremlins(mxUtils.trim(this.textarea.value)),e=null;if("replace"==h.value){this.editorUi.editor.graph.model.beginUpdate();try{"json"==this.codeType?(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\\"/g,"&quot;"),t=CodeTranslator.json2xml(t)):"yaml"==this.codeType&&(t=(t=JSON.stringify(jsyaml.load(t))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\\"/g,"&quot;"),t=CodeTranslator.json2xml(t)),t=t.replace(/'/g,"&quot;"),this.editorUi.editor.setGraphXml(mxUtils.parseXml(t).documentElement)}catch(t){e=t}finally{this.editorUi.editor.graph.model.endUpdate()}}else if("import"==h.value){this.editorUi.editor.graph.model.beginUpdate();try{"json"==this.codeType?(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\\"/g,"&quot;"),t=CodeTranslator.json2xml(t)):"yaml"==this.codeType&&(t=(t=JSON.stringify(jsyaml.load(t))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\\"/g,"&quot;"),t=CodeTranslator.json2xml(t)),t=t.replace(/'/g,"&quot;");var i=mxUtils.parseXml(t),n=new mxGraphModel;new mxCodec(i).decode(i.documentElement,n)
;var l=n.getChildren(n.getChildAt(n.getRoot(),0));this.editorUi.editor.graph.setSelectionCells(this.editorUi.editor.graph.importCells(l))}catch(t){e=t}finally{this.editorUi.editor.graph.model.endUpdate()}}null!=e&&mxUtils.alert(e.message)}));c.className="btn-purple",c.style.width="50px",c.style.height="18px",c.style.marginTop="4px",c.style.float="left",c.style.marginLeft="15px",e.appendChild(c)},Footwall.prototype.reset=function(){this.codeChange.xml.click()},Toolbar.prototype.dropdownImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAHt7e////yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCREM1NkJFMjE0NEMxMUU1ODk1Q0M5MjQ0MTA4QjNDMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCREM1NkJFMzE0NEMxMUU1ODk1Q0M5MjQ0MTA4QjNDMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQzOUMzMjZCMTQ0QjExRTU4OTVDQzkyNDQxMDhCM0MxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQzOUMzMjZDMTQ0QjExRTU4OTVDQzkyNDQxMDhCM0MxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7":IMAGE_PATH+"/dropdown.gif",Toolbar.prototype.dropdownImageHtml='<img border="0" style="position:absolute;right:4px;top:'+(EditorUi.compactUi?6:8)+'px;" src="'+Toolbar.prototype.dropdownImage+'" valign="middle"/>',Toolbar.prototype.selectedBackground="#d0d0d0",Toolbar.prototype.unselectedBackground="none",Toolbar.prototype.staticElements=null,Toolbar.prototype.init=function(){var t=screen.width;if((t-=screen.height>740?56:0)>=700){var e=this.addMenu("",mxResources.get("view")+" ("+mxResources.get("panTooltip")+")",!0,"viewPanels",null,!0);this.addDropDownArrow(e,"geSprite-formatpanel",38,50,-4,-3,36,-8),this.addSeparator(),this.addItems(["new","save","-"])}var i=this.addMenu("",mxResources.get("zoom")+" (Alt+Mousewheel)",!0,"viewZoom",null,!0);if(i.showDisabled=!0,i.style.whiteSpace="nowrap",i.style.position="relative",i.style.overflow="hidden",EditorUi.compactUi?i.style.width=mxClient.IS_QUIRKS?"58px":"50px":i.style.width=mxClient.IS_QUIRKS?"62px":"36px",t>=420){this.addSeparator();var n=this.addMenu("",mxResources.get("layout"),!0,"layout",null,!0);this.addDropDownArrow(n,"geSprite-arrange",38,50,-4,-3,36,-8),(o=this.addItems(["fitWindow","zoomIn","zoomOut"]))[0].setAttribute("title",mxResources.get("fitWindow")+" ("+this.editorUi.actions.get("fitWindow").shortcut+")"),o[1].setAttribute("title",mxResources.get("zoomIn")+" ("+this.editorUi.actions.get("zoomIn").shortcut+")"),o[2].setAttribute("title",mxResources.get("zoomOut")+" ("+this.editorUi.actions.get("zoomOut").shortcut+")")}var l=mxUtils.bind(this,function(){i.innerHTML=Math.round(100*this.editorUi.editor.graph.view.scale)+"%"+this.dropdownImageHtml,EditorUi.compactUi&&(i.getElementsByTagName("img")[0].style.right="1px",i.getElementsByTagName("img")[0].style.top="5px")});this.editorUi.editor.graph.view.addListener(mxEvent.EVENT_SCALE,l),this.editorUi.editor.addListener("resetGraphView",l);var o=this.addItems(["-","undo","redo"]);o[1].setAttribute("title",mxResources.get("undo")+" ("+this.editorUi.actions.get("undo").shortcut+")"),o[2].setAttribute("title",mxResources.get("redo")+" ("+this.editorUi.actions.get("redo").shortcut+")"),t>=470&&((o=this.addItems(["-","delete"]))[1].setAttribute("title",mxResources.get("delete")+" ("+this.editorUi.actions.get("delete").shortcut+")"),this.addItems(["-","lockUnlock"]),this.addItems(["-","collapsible","expand","collapse"])),t>=550&&this.addItems(["-","toFront","toBack"]),t>=640&&this.addItems(["-","fillColor","strokeColor","shadow"]),t>=320&&(this.addSeparator(),this.edgeShapeMenu=this.addMenuFunction("",mxResources.get("connection"),!1,mxUtils.bind(this,function(t){this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_SHAPE,"width"],[null,null],"geIcon geSprite geSprite-connection",null,!0).setAttribute("title",mxResources.get("line")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_SHAPE,"width"],["link",null],"geIcon geSprite geSprite-linkedge",null,!0).setAttribute("title",mxResources.get("link")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_SHAPE,"width"],["flexArrow",null],"geIcon geSprite geSprite-arrow",null,!0).setAttribute("title",mxResources.get("arrow")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_SHAPE,"width"],["arrow",null],"geIcon geSprite geSprite-simplearrow",null,!0).setAttribute("title",mxResources.get("simpleArrow"))})),this.addDropDownArrow(this.edgeShapeMenu,"geSprite-connection",44,50,0,0,22,-4),this.edgeStyleMenu=this.addMenuFunction("geSprite-orthogonal",mxResources.get("waypoints"),!1,mxUtils.bind(this,function(t){this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],[null,null,null],"geIcon geSprite geSprite-straight",null,!0).setAttribute("title",mxResources.get("straight")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["orthogonalEdgeStyle",null,null],"geIcon geSprite geSprite-orthogonal",null,!0).setAttribute("title",mxResources.get("orthogonal")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["elbowEdgeStyle",null,null,null],"geIcon geSprite geSprite-horizontalelbow",null,!0).setAttribute("title",mxResources.get("simple")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["elbowEdgeStyle","vertical",null,null],"geIcon geSprite geSprite-verticalelbow",null,!0).setAttribute("title",mxResources.get("simple")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["isometricEdgeStyle",null,null,null],"geIcon geSprite geSprite-horizontalisometric",null,!0).setAttribute("title",mxResources.get("isometric")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_ELBOW,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["isometricEdgeStyle","vertical",null,null],"geIcon geSprite geSprite-verticalisometric",null,!0).setAttribute("title",mxResources.get("isometric")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["orthogonalEdgeStyle","1",null],"geIcon geSprite geSprite-curved",null,!0).setAttribute("title",mxResources.get("curved")),this.editorUi.menus.edgeStyleChange(t,"",[mxConstants.STYLE_EDGE,mxConstants.STYLE_CURVED,mxConstants.STYLE_NOEDGESTYLE],["entityRelationEdgeStyle",null,null],"geIcon geSprite geSprite-entity",null,!0).setAttribute("title",mxResources.get("entityRelation"))})),this.addDropDownArrow(this.edgeStyleMenu,"geSprite-orthogonal",44,50,0,0,22,-4)),this.addSeparator();var r=this.addMenu("",mxResources.get("insert"),!0,"insert",null,!0);this.addDropDownArrow(r,"geSprite-plus",38,48,-4,-3,36,-8)},Toolbar.prototype.addDropDownArrow=function(t,e,i,n,l,o,r,s){r=null!=r?r:32,l=EditorUi.compactUi?l:s,t.style.whiteSpace="nowrap",t.style.overflow="hidden",t.style.position="relative",t.innerHTML='<div class="geSprite '+e+'" style="margin-left:'+l+"px;margin-top:"+o+'px;"></div>'+this.dropdownImageHtml,t.style.width=mxClient.IS_QUIRKS?n+"px":n-r+"px",mxClient.IS_QUIRKS&&(t.style.height=EditorUi.compactUi?"24px":"26px"),EditorUi.compactUi&&(t.getElementsByTagName("img")[0].style.left="24px",t.getElementsByTagName("img")[0].style.top="5px",t.style.width=mxClient.IS_QUIRKS?i+"px":i-10+"px")},Toolbar.prototype.setFontName=function(t){null!=this.fontMenu&&(this.fontMenu.innerHTML='<div style="width:60px;overflow:hidden;display:inline-block;">'+mxUtils.htmlEntities(t)+"</div>"+this.dropdownImageHtml)},Toolbar.prototype.setFontSize=function(t){null!=this.sizeMenu&&(this.sizeMenu.innerHTML='<div style="width:24px;overflow:hidden;display:inline-block;">'+t+"</div>"+this.dropdownImageHtml)},Toolbar.prototype.createTextToolbar=function(){var t=this.editorUi.editor.graph,e=this.addMenu("",mxResources.get("style"),!0,"formatBlock");e.style.position="relative",e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.innerHTML=mxResources.get("style")+this.dropdownImageHtml,EditorUi.compactUi&&(e.style.paddingRight="18px",e.getElementsByTagName("img")[0].style.right="1px",e.getElementsByTagName("img")[0].style.top="5px"),this.addSeparator(),this.fontMenu=this.addMenu("",mxResources.get("fontFamily"),!0,"fontFamily"),this.fontMenu.style.position="relative",this.fontMenu.style.whiteSpace="nowrap",this.fontMenu.style.overflow="hidden",this.fontMenu.style.width=mxClient.IS_QUIRKS?"80px":"60px",this.setFontName(Menus.prototype.defaultFont),EditorUi.compactUi&&(this.fontMenu.style.paddingRight="18px",this.fontMenu.getElementsByTagName("img")[0].style.right="1px",this.fontMenu.getElementsByTagName("img")[0].style.top="5px"),this.addSeparator(),this.sizeMenu=this.addMenu(Menus.prototype.defaultFontSize,mxResources.get("fontSize"),!0,"fontSize"),this.sizeMenu.style.position="relative",this.sizeMenu.style.whiteSpace="nowrap",this.sizeMenu.style.overflow="hidden",this.sizeMenu.style.width=mxClient.IS_QUIRKS?"44px":"24px",this.setFontSize(Menus.prototype.defaultFontSize),EditorUi.compactUi&&(this.sizeMenu.style.paddingRight="18px",this.sizeMenu.getElementsByTagName("img")[0].style.right="1px",this.sizeMenu.getElementsByTagName("img")[0].style.top="5px");var i=this.addItems(["-","undo","redo","-","bold","italic","underline"]);i[1].setAttribute("title",mxResources.get("undo")+" ("+this.editorUi.actions.get("undo").shortcut+")"),i[2].setAttribute("title",mxResources.get("redo")+" ("+this.editorUi.actions.get("redo").shortcut+")"),i[4].setAttribute("title",mxResources.get("bold")+" ("+this.editorUi.actions.get("bold").shortcut+")"),i[5].setAttribute("title",mxResources.get("italic")+" ("+this.editorUi.actions.get("italic").shortcut+")"),i[6].setAttribute("title",mxResources.get("underline")+" ("+this.editorUi.actions.get("underline").shortcut+")");var n=this.addMenuFunction("",mxResources.get("align"),!1,mxUtils.bind(this,function(t){(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("justifyleft",!1,null)}),null,"geIcon geSprite geSprite-left")).setAttribute("title",mxResources.get("left")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("justifycenter",!1,null)}),null,"geIcon geSprite geSprite-center")).setAttribute("title",mxResources.get("center")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("justifyright",!1,null)}),null,"geIcon geSprite geSprite-right")).setAttribute("title",mxResources.get("right")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("justifyfull",!1,null)}),null,"geIcon geSprite geSprite-justifyfull")).setAttribute("title",mxResources.get("justifyfull")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("insertorderedlist",!1,null)}),null,"geIcon geSprite geSprite-orderedlist")).setAttribute("title",mxResources.get("numberedList")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("insertunorderedlist",!1,null)}),null,"geIcon geSprite geSprite-unorderedlist")).setAttribute("title",mxResources.get("bulletedList")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("outdent",!1,null)}),null,"geIcon geSprite geSprite-outdent")).setAttribute("title",mxResources.get("decreaseIndent")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("indent",!1,null)}),null,"geIcon geSprite geSprite-indent")).setAttribute("title",mxResources.get("increaseIndent"))}));n.style.position="relative",n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.innerHTML='<div class="geSprite geSprite-left" style="margin-left:-2px;"></div>'+this.dropdownImageHtml,n.style.width=mxClient.IS_QUIRKS?"50px":"30px",EditorUi.compactUi&&(n.getElementsByTagName("img")[0].style.left="22px",n.getElementsByTagName("img")[0].style.top="5px");var l=this.addMenuFunction("",mxResources.get("format"),!1,mxUtils.bind(this,function(t){(r=t.addItem("",null,this.editorUi.actions.get("subscript").funct,null,"geIcon geSprite geSprite-subscript")).setAttribute("title",mxResources.get("subscript")+" (Ctrl+,)"),(r=t.addItem("",null,this.editorUi.actions.get("superscript").funct,null,"geIcon geSprite geSprite-superscript")).setAttribute("title",mxResources.get("superscript")+" (Ctrl+.)"),(r=t.addItem("",null,this.editorUi.actions.get("fontColor").funct,null,"geIcon geSprite geSprite-fontcolor")).setAttribute("title",mxResources.get("fontColor")),(r=t.addItem("",null,this.editorUi.actions.get("backgroundColor").funct,null,"geIcon geSprite geSprite-fontbackground")).setAttribute("title",mxResources.get("backgroundColor")),(r=t.addItem("",null,mxUtils.bind(this,function(){document.execCommand("removeformat",!1,null)}),null,"geIcon geSprite geSprite-removeformat")).setAttribute("title",mxResources.get("removeFormat"))}));l.style.position="relative",l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.innerHTML='<div class="geSprite geSprite-dots" style="margin-left:-2px;"></div>'+this.dropdownImageHtml,l.style.width=mxClient.IS_QUIRKS?"50px":"30px",EditorUi.compactUi&&(l.getElementsByTagName("img")[0].style.left="22px",l.getElementsByTagName("img")[0].style.top="5px"),this.addSeparator(),this.addButton("geIcon geSprite geSprite-code",mxResources.get("html"),function(){t.cellEditor.toggleViewMode(),t.cellEditor.textarea.innerHTML.length>0&&("&nbsp;"!=t.cellEditor.textarea.innerHTML||!t.cellEditor.clearOnChange)&&window.setTimeout(function(){document.execCommand("selectAll",!1,null)})}),this.addSeparator();var o=this.addMenuFunction("",mxResources.get("insert"),!0,mxUtils.bind(this,function(t){t.addItem(mxResources.get("insertLink"),null,mxUtils.bind(this,function(){this.editorUi.actions.get("link").funct()})),t.addItem(mxResources.get("insertImage"),null,mxUtils.bind(this,function(){this.editorUi.actions.get("image").funct()})),t.addItem(mxResources.get("insertHorizontalRule"),null,mxUtils.bind(this,function(){document.execCommand("inserthorizontalrule",!1,null)}))}));o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.position="relative",o.innerHTML='<div class="geSprite geSprite-plus" style="margin-left:-4px;margin-top:-3px;"></div>'+this.dropdownImageHtml,o.style.width=mxClient.IS_QUIRKS?"36px":"16px",EditorUi.compactUi&&(o.getElementsByTagName("img")[0].style.left="24px",o.getElementsByTagName("img")[0].style.top="5px",o.style.width=mxClient.IS_QUIRKS?"50px":"30px"),this.addSeparator();var r=this.addMenuFunction("geIcon geSprite geSprite-table",mxResources.get("table"),!1,mxUtils.bind(this,function(e){var i=t.getSelectedElement(),n=t.getParentByName(i,"TD",t.cellEditor.text2),l=t.getParentByName(i,"TR",t.cellEditor.text2);if(null==l)this.editorUi.menus.addInsertTableItem(e);else{var o=t.getParentByName(l,"TABLE",t.cellEditor.text2);(i=e.addItem("",null,mxUtils.bind(this,function(){try{t.selectNode(t.insertColumn(o,null!=n?n.cellIndex:0))}catch(t){mxUtils.alert(mxResources.get("error")+": "+t.message)}}),null,"geIcon geSprite geSprite-insertcolumnbefore")).setAttribute("title",mxResources.get("insertColumnBefore")),(i=e.addItem("",null,mxUtils.bind(this,function(){try{t.selectNode(t.insertColumn(o,null!=n?n.cellIndex+1:-1))}catch(t){mxUtils.alert(mxResources.get("error")+": "+t.message)}}),null,"geIcon geSprite geSprite-insertcolumnafter")).setAttribute("title",mxResources.get("insertColumnAfter")),(i=e.addItem("Delete column",null,mxUtils.bind(this,function(){if(null!=n)try{t.deleteColumn(o,n.cellIndex)}catch(t){mxUtils.alert(mxResources.get("error")+": "+t.message)}}),null,"geIcon geSprite geSprite-deletecolumn")).setAttribute("title",mxResources.get("deleteColumn")),(i=e.addItem("",null,mxUtils.bind(this,function(){try{t.selectNode(t.insertRow(o,l.sectionRowIndex))}catch(t){mxUtils.alert(mxResources.get("error")+": "+t.message)}}),null,"geIcon geSprite geSprite-insertrowbefore")).setAttribute("title",mxResources.get("insertRowBefore")),(i=e.addItem("",null,mxUtils.bind(this,function(){try{t.selectNode(t.insertRow(o,l.sectionRowIndex+1))}catch(t){mxUtils.alert(mxResources.get("error")+": "+t.message)}}),null,"geIcon geSprite geSprite-insertrowafter")).setAttribute("title",mxResources.get("insertRowAfter")),(i=e.addItem("",null,mxUtils.bind(this,function(){try{t.deleteRow(o,l.sectionRowIndex)}catch(t){mxUtils.alert(mxResources.get("error")+": "+t.message)}}),null,"geIcon geSprite geSprite-deleterow")).setAttribute("title",mxResources.get("deleteRow")),(i=e.addItem("",null,mxUtils.bind(this,function(){var t=o.style.borderColor.replace(/\brgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,function(t,e,i,n){return"#"+("0"+Number(e).toString(16)).substr(-2)+("0"+Number(i).toString(16)).substr(-2)+("0"+Number(n).toString(16)).substr(-2)});this.editorUi.pickColor(t,function(t){null==t||t==mxConstants.NONE?(o.removeAttribute("border"),o.style.border="",o.style.borderCollapse=""):(o.setAttribute("border","1"),o.style.border="1px solid "+t,o.style.borderCollapse="collapse")})}),null,"geIcon geSprite geSprite-strokecolor")).setAttribute("title",mxResources.get("borderColor")),(i=e.addItem("",null,mxUtils.bind(this,function(){var t=o.style.backgroundColor.replace(/\brgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,function(t,e,i,n){return"#"+("0"+Number(e).toString(16)).substr(-2)+("0"+Number(i).toString(16)).substr(-2)+("0"+Number(n).toString(16)).substr(-2)});this.editorUi.pickColor(t,function(t){null==t||t==mxConstants.NONE?o.style.backgroundColor="":o.style.backgroundColor=t})}),null,"geIcon geSprite geSprite-fillcolor")).setAttribute("title",mxResources.get("backgroundColor")),(i=e.addItem("",null,mxUtils.bind(this,function(){var t=o.getAttribute("cellPadding")||0,e=new FilenameDialog(this.editorUi,t,mxResources.get("apply"),mxUtils.bind(this,function(t){null!=t&&t.length>0?o.setAttribute("cellPadding",t):o.removeAttribute("cellPadding")}),mxResources.get("spacing"));this.editorUi.showDialog(e.container,300,80,!0,!0),e.init()}),null,"geIcon geSprite geSprite-fit")).setAttribute("title",mxResources.get("spacing")),(i=e.addItem("",null,mxUtils.bind(this,function(){o.setAttribute("align","left")}),null,"geIcon geSprite geSprite-left")).setAttribute("title",mxResources.get("left")),(i=e.addItem("",null,mxUtils.bind(this,function(){o.setAttribute("align","center")}),null,"geIcon geSprite geSprite-center")).setAttribute("title",mxResources.get("center")),(i=e.addItem("",null,mxUtils.bind(this,function(){o.setAttribute("align","right")}),null,"geIcon geSprite geSprite-right")).setAttribute("title",mxResources.get("right"))}}));r.style.position="relative",r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.innerHTML='<div class="geSprite geSprite-table" style="margin-left:-2px;"></div>'+this.dropdownImageHtml,r.style.width=mxClient.IS_QUIRKS?"50px":"30px",EditorUi.compactUi&&(r.getElementsByTagName("img")[0].style.left="22px",r.getElementsByTagName("img")[0].style.top="5px")},Toolbar.prototype.hideMenu=function(){this.editorUi.hideCurrentMenu()},Toolbar.prototype.addMenu=function(t,e,i,n,l,o){var r=this.editorUi.menus.get(n),s=this.addMenuFunction(t,e,i,r.funct,l,o);return r.addListener("stateChanged",function(){s.setEnabled(r.enabled)}),s},Toolbar.prototype.addMenuFunction=function(t,e,i,n,l,o){return this.addMenuFunctionInContainer(null!=l?l:this.container,t,e,i,n,o)},Toolbar.prototype.addMenuFunctionInContainer=function(t,e,i,n,l,o){var r=n?this.createLabel(e):this.createButton(e);return this.initElement(r,i),this.addMenuHandler(r,n,l,o),t.appendChild(r),r},Toolbar.prototype.addSeparator=function(t){t=null!=t?t:this.container;var e=document.createElement("div");return e.className="geSeparator",t.appendChild(e),e},Toolbar.prototype.addItems=function(t,e,i){for(var n=[],l=0;l<t.length;l++){var o=t[l];"-"==o?n.push(this.addSeparator(e)):n.push(this.addItem("geSprite-"+o.toLowerCase(),o,e,i))}return n},Toolbar.prototype.addItem=function(t,e,i,n){var l=this.editorUi.actions.get(e),o=null;return null!=l&&(o=this.addButton(t,l.label,l.funct,i),n||(o.setEnabled(l.enabled),l.addListener("stateChanged",function(){o.setEnabled(l.enabled)}))),o},Toolbar.prototype.addButton=function(t,e,i,n){var l=this.createButton(t);return n=null!=n?n:this.container,this.initElement(l,e),this.addClickHandler(l,i),n.appendChild(l),l},Toolbar.prototype.initElement=function(t,e){null!=e&&t.setAttribute("title",e),this.addEnabledState(t)},Toolbar.prototype.addEnabledState=function(t){var e=t.className;t.setEnabled=function(i){if(t.enabled=i,i)t.className=e;else{t.className=e+" mxDisabled";var n=document.getElementsByClassName("geSprite-lockunlock")[0];n&&(n.style.backgroundPosition="0 -6226px")}},t.setEnabled(!0)},Toolbar.prototype.addClickHandler=function(t,e){null!=e&&(mxEvent.addListener(t,"click",function(i){t.enabled&&e(i),mxEvent.consume(i)}),null!=document.documentMode&&document.documentMode>=9&&mxEvent.addListener(t,"mousedown",function(t){t.preventDefault()}))},Toolbar.prototype.createButton=function(t){var e=document.createElement("a");e.setAttribute("href","javascript:void(0);"),e.className="geButton";var i=document.createElement("div");return null!=t&&(i.className="geSprite "+t),e.appendChild(i),e},Toolbar.prototype.createLabel=function(t,e){var i=document.createElement("a");return i.setAttribute("href","javascript:void(0);"),i.className="geLabel",mxUtils.write(i,t),i},Toolbar.prototype.addMenuHandler=function(t,e,i,n){if(null!=i){var l=this.editorUi.editor.graph,o=null,r=!0;mxEvent.addListener(t,"click",mxUtils.bind(this,function(s){if(r&&(null==t.enabled||t.enabled)){l.popupMenuHandler.hideMenu(),(o=new mxPopupMenu(i)).div.className+=" geToolbarMenu",o.showDisabled=n,o.labels=e,o.autoExpand=!0;var a=mxUtils.getOffset(t),g=this.editorUi.container.offsetLeft,C=this.editorUi.container.offsetTop;o.popup(a.x-g,a.y+t.offsetHeight-C,null,s),this.editorUi.setCurrentMenu(o,t),!e&&o.div.scrollHeight>o.div.clientHeight&&(o.div.style.width="40px"),o.addListener(mxEvent.EVENT_HIDE,mxUtils.bind(this,function(){this.currentElt=null}))}r=!0,mxEvent.consume(s)})),mxEvent.addListener(t,"mousedown",mxUtils.bind(this,function(e){r=this.currentElt!=t,null!=document.documentMode&&document.documentMode>=9&&e.preventDefault()}))}},Toolbar.prototype.destroy=function(){null!=this.gestureHandler&&(mxEvent.removeGestureListeners(document,this.gestureHandler),this.gestureHandler=null)},Dialog.prototype.zIndex=mxPopupMenu.prototype.zIndex-1,Dialog.prototype.noColorImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEzRDlBMUUwODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEzRDlBMUUxODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTNEOUExREU4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTNEOUExREY4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xh3fmAAAABlBMVEX////MzMw46qqDAAAAGElEQVR42mJggAJGKGAYIIGBth8KAAIMAEUQAIElnLuQAAAAAElFTkSuQmCC":IMAGE_PATH+"/nocolor.png",Dialog.prototype.closeImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAQMAAADaX5RTAAAABlBMVEV7mr3///+wksspAAAAAnRSTlP/AOW3MEoAAAAdSURBVAgdY9jXwCDDwNDRwHCwgeExmASygSL7GgB12QiqNHZZIwAAAABJRU5ErkJggg==":IMAGE_PATH+"/close.png",Dialog.prototype.clearImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQAKAIABAMDAwP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUIzOEM1NzI4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUIzOEM1NzM4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QjM4QzU3MDg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QjM4QzU3MTg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAEALAAAAAANAAoAAAIXTGCJebD9jEOTqRlttXdrB32PJ2ncyRQAOw==":IMAGE_PATH+"/clear.gif",Dialog.prototype.editImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJFSURBVFiF3Ze/axNhGMc/T34jCLoI4uIJyZkKVdE2IkiNgrMidnJxcRGUgOL/oAFFB3FREB10VHSsk9jEOCiS3KVopEtxsFVQbDG5x6GUavtekrsmKfWZ7u778Hw/7/M+7x0nqsp6RmRd3Tc0gIj0BF7CzIBt5woCRaCBclei3KvVSl8HAmDbh3cIrU9A4q/H84qcdt3JF0EBQrTRK6wwB0iJ6KXgtQICWNb+LYKeN2mq+jYMQCxIcjKeuABsNkgL0ah3G8C2cydFZOfqFH3vOKWJ0ACWlU8lE1z0kR9Wq5UZERE7PTIGWCsTBDYB4QGSyZ/nUNlmkFRpFRcvVIFCtzWhyxkQGY+ictkoqj5z3YoTxDQwQCYzfQbYZa6g18KaQ5dbIOhVH+G147x5BZBNj46pSNa3SERnHaf8JDBANn3oBBH2mTRVllcf4Riw16+OamTOsvJPG42X8/+sodObcLedmwDyBqnu1stZVfXaFugQbWfAtkdHfMxRtLhW844AIhj3XuGL5809WKs5tJmBbDaXQeWUSYvALXdqagEWuyQqBzo6BR1C9biCuUM/4snEnaUbUTkKHO/kryqzXQ/h0NDB7V4r+pnVXz1QvenUy4Hedu3COAOeFxs3mkMz1vJu9MrcF0A84sZs5fGHj5XpvgN4oi2jv3C9l+a+ACKy8nx/Q/Ss65beDQZAlzsg8ByJ73Gc8qNem4PfMVR+I3xHpVCrT97vh/FSGI/h8PCRrc3mr1S1Wpnpp7kvwCBj4/6a/TcAfwDYcdFseNencAAAAABJRU5ErkJggg==":IMAGE_PATH+"/edit.png",Dialog.prototype.addImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIXSURBVFiFzZe/attQFIe/I9vQRzCpp4KRUrIU/G9xoFBoDS3Ea7a+RrvnOTp1bSBD3KUFd5GSQJeQyGjoYoc8gim1TodaQpaU+jqO5fw2Sdfn+7jyvfdIVJVtxtoqHSivMti2W89EeYvFvqjUFHYABG5UdEzIEEtOfN/7ZVpTTF6BbbdeCXIENE2KKrgifPR979taAnt7reqf3/IJ4bUJOCeDckXfX16e3a4s4DjtBsox8PSe8CgThAPf9y6MBZ7XO53Q0u/AkzXhUaZWKC+vAtddKlCvd2olS8+B6gPBo9zOQmkGgTtO3swsw5Kln43hoj1Ee4YC1XntVInEDNh2+0Dgi2FB/JEnAI7dNt7NFPqjkXccXS/MgMCRaaH7Js2IBer15gtgd9MCwO6ctShgWaV3BcAzrFhA0P2iBJKs5H+gVpRAkpU8jHZyh4r2fP9s8L9q0WpIx3Fab1A5zXkUsx7VcXwD2JkRKqeO3c798fJ9IHdiIhawOAPjnIGbSsyKBRQZFkVPsmKBMJydFCWQZMUCQXD+E7gugH89Zy0KACh82DQ9zcj0A47dHgJdo2rRUZy/1vPywx95CztupiuehXJo3JCYg+FfQ3KYvpnZiILAHVuh9IHpCsWXZWqF0k93Q7kCAFeB6yJ0gckDwCcI3bx+8E4BAN/3LsoVbaB8XQM+KFe0cVdHDI/9wyRHZDufZpvM1o/jv1853ddhRcR9AAAAAElFTkSuQmCC":IMAGE_PATH+"/add.png",Dialog.prototype.lockedImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCODExNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCODIxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3RjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI4MDE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvqMCFYAAAAVUExURZmZmb+/v7KysqysrMzMzLGxsf///4g8N1cAAAAHdFJOU////////wAaSwNGAAAAPElEQVR42lTMQQ4AIQgEwUa0//9kTQirOweYOgDqAMbZUr10AGlAwx4/BJ2QJ4U0L5brYjovvpv32xZgAHZaATFtMbu4AAAAAElFTkSuQmCC":IMAGE_PATH+"/locked.png",Dialog.prototype.unlockedImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCN0QxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCN0UxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3QjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI3QzE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkKMpVwAAAAYUExURZmZmbKysr+/v6ysrOXl5czMzLGxsf///zHN5lwAAAAIdFJOU/////////8A3oO9WQAAADxJREFUeNpUzFESACAEBNBVsfe/cZJU+8Mzs8CIABCidtfGOndnYsT40HDSiCcbPdoJo10o9aI677cpwACRoAF3dFNlswAAAABJRU5ErkJggg==":IMAGE_PATH+"/unlocked.png",Dialog.prototype.bgOpacity=80,Dialog.prototype.close=function(t){null!=this.onDialogClose&&(this.onDialogClose(t),this.onDialogClose=null),null!=this.dialogImg&&(this.dialogImg.parentNode.removeChild(this.dialogImg),this.dialogImg=null),null!=this.bg&&null!=this.bg.parentNode&&this.bg.parentNode.removeChild(this.bg),this.container.parentNode.removeChild(this.container)};var OpenDialog=function(){var t=document.createElement("iframe");t.style.backgroundColor="transparent",t.allowTransparency="true",t.style.borderStyle="none",t.style.borderWidth="0px",t.style.overflow="hidden",t.frameBorder="0";var e=mxClient.IS_VML&&(null==document.documentMode||document.documentMode<8)?20:0;t.setAttribute("width",(Editor.useLocalStorage?640:320)+e+"px"),t.setAttribute("height",(Editor.useLocalStorage?480:220)+e+"px"),t.setAttribute("src",OPEN_FORM),this.container=t},ColorDialog=function(t,e,i,n){function l(t,e,i){e=null!=e?e:12;var n=document.createElement("table");n.style.borderCollapse="collapse",n.setAttribute("cellspacing","0"),n.style.marginBottom="20px",n.style.cellSpacing="0px";var l=document.createElement("tbody");n.appendChild(l);for(var s=t.length/e,g=0;g<s;g++){for(var C=document.createElement("tr"),h=0;h<e;h++)!function(t){var e=document.createElement("td");e.style.border="1px solid black",e.style.padding="0px",e.style.width="16px",e.style.height="16px",null==t&&(t=i),"none"==t?e.style.background="url('"+Dialog.prototype.noColorImage+"')":e.style.backgroundColor="#"+t,C.appendChild(e),null!=t&&(e.style.cursor="pointer",mxEvent.addListener(e,"click",function(){"none"==t?(r.fromString("ffffff"),o.value="none"):r.fromString(t)}))}(t[g*e+h]);l.appendChild(C)}return a.appendChild(n),n}this.editorUi=t;var o=document.createElement("input");o.style.marginBottom="10px",o.style.width="216px",mxClient.IS_IE&&(o.style.marginTop="10px",t.container.appendChild(o)),this.init=function(){mxClient.IS_TOUCH||o.focus()};var r=new jscolor.color(o);r.pickerOnfocus=!1,r.showPicker();var s=document.createElement("div");jscolor.picker.box.style.position="relative",jscolor.picker.box.style.width="230px",jscolor.picker.box.style.height="100px",jscolor.picker.box.style.paddingBottom="10px",s.appendChild(jscolor.picker.box);var a=document.createElement("center");s.appendChild(o),mxUtils.br(s);var g=l(0==ColorDialog.recentColors.length?["FFFFFF"]:ColorDialog.recentColors,12,"FFFFFF");g.style.marginBottom="8px",(g=l(["E6D0DE","CDA2BE","B5739D","E1D5E7","C3ABD0","A680B8","D4E1F5","A9C4EB","7EA6E0","D5E8D4","9AC7BF","67AB9F","D5E8D4","B9E0A5","97D077","FFF2CC","FFE599","FFD966","FFF4C3","FFCE9F","FFB570","F8CECC","F19C99","EA6B66"],12)).style.marginBottom="8px",(g=l(["none","FFFFFF","E6E6E6","CCCCCC","B3B3B3","999999","808080","666666","4D4D4D","333333","1A1A1A","000000","FFCCCC","FFE6CC","FFFFCC","E6FFCC","CCFFCC","CCFFE6","CCFFFF","CCE5FF","CCCCFF","E5CCFF","FFCCFF","FFCCE6","FF9999","FFCC99","FFFF99","CCFF99","99FF99","99FFCC","99FFFF","99CCFF","9999FF","CC99FF","FF99FF","FF99CC","FF6666","FFB366","FFFF66","B3FF66","66FF66","66FFB3","66FFFF","66B2FF","6666FF","B266FF","FF66FF","FF66B3","FF3333","FF9933","FFFF33","99FF33","33FF33","33FF99","33FFFF","3399FF","3333FF","9933FF","FF33FF","FF3399","FF0000","FF8000","FFFF00","80FF00","00FF00","00FF80","00FFFF","007FFF","0000FF","7F00FF","FF00FF","FF0080","CC0000","CC6600","CCCC00","66CC00","00CC00","00CC66","00CCCC","0066CC","0000CC","6600CC","CC00CC","CC0066","990000","994C00","999900","4D9900","009900","00994D","009999","004C99","000099","4C0099","990099","99004D","660000","663300","666600","336600","006600","006633","006666","003366","000066","330066","660066","660033","330000","331A00","333300","1A3300","003300","00331A","003333","001933","000033","190033","330033","33001A"])).style.marginBottom="16px",s.appendChild(a);var C=document.createElement("div");C.style.textAlign="right",C.style.whiteSpace="nowrap";var h=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog(),null!=n&&n()});h.className="geBtn",t.editor.cancelFirst&&C.appendChild(h);var A=null!=i?i:this.createApplyFunction(),I=mxUtils.button(mxResources.get("apply"),function(){var e=o.value;ColorDialog.addRecentColor(e,12),"none"!=e&&"#"!=e.charAt(0)&&(e="#"+e),A(e),t.hideDialog()});I.className="geBtn gePrimaryBtn",C.appendChild(I),t.editor.cancelFirst||C.appendChild(h),null!=e&&("none"==e?(r.fromString("ffffff"),o.value="none"):r.fromString(e)),s.appendChild(C),this.picker=r,this.colorInput=o,mxEvent.addListener(s,"keydown",function(e){27==e.keyCode&&(t.hideDialog(),null!=n&&n(),mxEvent.consume(e))}),this.container=s};ColorDialog.prototype.createApplyFunction=function(){return mxUtils.bind(this,function(t){var e=this.editorUi.editor.graph;e.getModel().beginUpdate();try{e.setCellStyles(this.currentColorKey,t),this.editorUi.fireEvent(new mxEventObject("styleChanged","keys",[this.currentColorKey],"values",[t],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}})},ColorDialog.recentColors=[],ColorDialog.addRecentColor=function(t,e){null!=t&&(mxUtils.remove(t,ColorDialog.recentColors),ColorDialog.recentColors.splice(0,0,t),ColorDialog.recentColors.length>e&&ColorDialog.recentColors.pop())};var AboutDialog=function(t){var e=document.createElement("div");e.setAttribute("align","center");var i=document.createElement("h3");mxUtils.write(i,mxResources.get("about")+" GraphEditor"),e.appendChild(i);var n=document.createElement("img");n.style.border="0px",n.setAttribute("width","176"),n.setAttribute("width","151"),n.setAttribute("src",IMAGE_PATH+"/logo.png"),e.appendChild(n),mxUtils.br(e),mxUtils.write(e,"Powered by mxGraph "+mxClient.VERSION),mxUtils.br(e);var l=document.createElement("a");l.setAttribute("href","http://www.jgraph.com/"),l.setAttribute("target","_blank"),mxUtils.write(l,"www.jgraph.com"),e.appendChild(l),mxUtils.br(e),mxUtils.br(e);var o=mxUtils.button(mxResources.get("close"),function(){t.hideDialog()});o.className="geBtn gePrimaryBtn",e.appendChild(o),this.container=e},PageSetupDialog=function(t){function e(){null==w||w==mxConstants.NONE?(b.style.backgroundColor="",b.style.backgroundImage="url('"+Dialog.prototype.noColorImage+"')"):(b.style.backgroundColor=w,b.style.backgroundImage="")}function i(){null==T?(S.removeAttribute("title"),S.style.fontSize="",S.innerHTML=mxResources.get("change")+"..."):(S.setAttribute("title",T.src),S.style.fontSize="11px",S.innerHTML=T.src.substring(0,42)+"...")}var n,l,o=t.editor.graph,r=document.createElement("table");r.style.width="100%",r.style.height="100%";var s=document.createElement("tbody");n=document.createElement("tr"),(l=document.createElement("td")).style.fontSize="10pt",mxUtils.write(l,mxResources.get("paperSize")+":"),n.appendChild(l);var a=document.createElement("input");a.setAttribute("name","format"),a.setAttribute("type","radio"),a.setAttribute("value","portrait");var g=document.createElement("input");g.setAttribute("name","format"),g.setAttribute("type","radio"),g.setAttribute("value","landscape");var C=document.createElement("tr");C.style.display="none";var h=document.createElement("tr");h.style.display="none";for(var A=document.createElement("select"),I=!1,c=new Object,d=PageSetupDialog.getFormats(),u=0;u<d.length;u++){var p=d[u];c[p.key]=p;var m=document.createElement("option");m.setAttribute("value",p.key),mxUtils.write(m,p.title),A.appendChild(m),null!=p.format?o.pageFormat.width==p.format.width&&o.pageFormat.height==p.format.height?(m.setAttribute("selected","selected"),a.setAttribute("checked","checked"),a.defaultChecked=!0,C.style.display="",I=!0):o.pageFormat.width==p.format.height&&o.pageFormat.height==p.format.width&&(m.setAttribute("selected","selected"),g.setAttribute("checked","checked"),a.defaultChecked=!0,C.style.display="",I=!0):I||(m.setAttribute("selected","selected"),h.style.display="")}(l=document.createElement("td")).style.fontSize="10pt",l.appendChild(A),n.appendChild(l),s.appendChild(n),(C=document.createElement("tr")).style.height="40px",l=document.createElement("td"),C.appendChild(l),(l=document.createElement("td")).style.fontSize="10pt",l.appendChild(a);x=document.createElement("span");mxUtils.write(x," "+mxResources.get("portrait")),l.appendChild(x),mxEvent.addListener(x,"click",function(t){a.checked=!0,mxEvent.consume(t)}),g.style.marginLeft="10px",l.appendChild(g);var x=document.createElement("span");mxUtils.write(x," "+mxResources.get("landscape")),l.appendChild(x),mxEvent.addListener(x,"click",function(t){g.checked=!0,mxEvent.consume(t)}),C.appendChild(l),s.appendChild(C),n=document.createElement("tr"),l=document.createElement("td"),h.appendChild(l),(l=document.createElement("td")).style.fontSize="10pt";var v=document.createElement("input");v.setAttribute("size","6"),v.setAttribute("value",o.pageFormat.width),l.appendChild(v),mxUtils.write(l," x ");var y=document.createElement("input");y.setAttribute("size","6"),y.setAttribute("value",o.pageFormat.height),l.appendChild(y),mxUtils.write(l," pt"),h.appendChild(l),h.style.height=C.style.height,s.appendChild(h);var f=function(){var t=c[A.value];null!=t.format?(v.value=t.format.width,y.value=t.format.height,h.style.display="none",C.style.display=""):(C.style.display="none",h.style.display="")};mxEvent.addListener(A,"change",f),f(),n=document.createElement("tr"),l=document.createElement("td"),mxUtils.write(l,mxResources.get("background")+":"),n.appendChild(l),(l=document.createElement("td")).style.whiteSpace="nowrap",document.createElement("input").setAttribute("type","text");var b=document.createElement("button");b.style.width="18px",b.style.height="18px",b.style.marginRight="20px",b.style.backgroundPosition="center center",b.style.backgroundRepeat="no-repeat";var w=o.background;e(),mxEvent.addListener(b,"click",function(i){t.pickColor(w||"none",function(t){w=t,e()}),mxEvent.consume(i)}),l.appendChild(b),mxUtils.write(l,mxResources.get("gridSize")+":");var E=document.createElement("input");E.setAttribute("type","number"),E.setAttribute("min","0"),E.style.width="40px",E.style.marginLeft="6px",E.value=o.getGridSize(),l.appendChild(E),n.appendChild(l),s.appendChild(n),n=document.createElement("tr"),l=document.createElement("td"),mxUtils.write(l,mxResources.get("image")+":"),n.appendChild(l),l=document.createElement("td");var S=document.createElement("a");S.style.textDecoration="underline",S.style.cursor="pointer",S.style.color="#a0a0a0";var T=o.backgroundImage;mxEvent.addListener(S,"click",function(e){t.showBackgroundImageDialog(function(t){T=t,i()}),mxEvent.consume(e)}),i(),l.appendChild(S),n.appendChild(l),s.appendChild(n),n=document.createElement("tr"),(l=document.createElement("td")).colSpan=2,l.style.paddingTop="16px",l.setAttribute("align","right");var G=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});G.className="geBtn",t.editor.cancelFirst&&l.appendChild(G);var R=mxUtils.button(mxResources.get("apply"),function(){t.hideDialog();var e=g.checked,i=c[A.value].format;null==i&&(i=new mxRectangle(0,0,parseInt(v.value),parseInt(y.value))),e&&(i=new mxRectangle(0,0,i.height,i.width)),t.setPageFormat(i),o.background!=w&&t.setBackgroundColor(w),o.backgroundImage!==T&&t.setBackgroundImage(T),o.gridSize!==E.value&&o.setGridSize(parseFloat(E.value))});R.className="geBtn gePrimaryBtn",l.appendChild(R),t.editor.cancelFirst||l.appendChild(G),n.appendChild(l),s.appendChild(n),r.appendChild(s),this.container=r};PageSetupDialog.getFormats=function(){return[{key:"letter",title:'US-Letter (8,5" x 11")',format:mxConstants.PAGE_FORMAT_LETTER_PORTRAIT},{key:"legal",title:'US-Legal (8,5" x 14")',format:new mxRectangle(0,0,850,1400)},{key:"tabloid",title:"US-Tabloid (279 mm x 432 mm)",format:new mxRectangle(0,0,1100,1700)},{key:"a3",title:"A3 (297 mm x 420 mm)",format:new mxRectangle(0,0,1169,1652)},{key:"a4",title:"A4 (210 mm x 297 mm)",format:mxConstants.PAGE_FORMAT_A4_PORTRAIT},{key:"a5",title:"A5 (148 mm x 210 mm)",format:new mxRectangle(0,0,584,826)},{key:"custom",title:mxResources.get("custom"),format:null}]};var PrintDialog=function(t){this.create(t)};PrintDialog.prototype.create=function(t){function e(t){var e=s.checked||a.checked,i=parseInt(h.value)/100;isNaN(i)&&(i=1,h.value="100%"),i*=.75;var n=l.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT,o=1/l.pageScale;if(e){var r=s.checked?1:parseInt(C.value);isNaN(r)||(o=mxUtils.getScaleForPageCount(r,l,n))}l.getGraphBounds();var g=0,A=0;if(n=mxRectangle.fromRectangle(n),n.width=Math.ceil(n.width*i),n.height=Math.ceil(n.height*i),o*=i,!e&&l.pageVisible){var I=l.getPageLayout();g-=I.x*n.width,A-=I.y*n.height}else e=!0;return PrintDialog.showPreview(PrintDialog.createPrintPreview(l,o,n,0,g,A,e,t),t)}var i,n,l=t.editor.graph,o=document.createElement("table");o.style.width="100%",o.style.height="100%";var r=document.createElement("tbody");i=document.createElement("tr");var s=document.createElement("input");s.setAttribute("type","checkbox"),(n=document.createElement("td")).setAttribute("colspan","2"),n.style.fontSize="10pt",n.appendChild(s);g=document.createElement("span");mxUtils.write(g," "+mxResources.get("fitPage")),n.appendChild(g),mxEvent.addListener(g,"click",function(t){s.checked=!s.checked,a.checked=!s.checked,mxEvent.consume(t)}),mxEvent.addListener(s,"change",function(){a.checked=!s.checked}),i.appendChild(n),r.appendChild(i),i=i.cloneNode(!1);var a=document.createElement("input");a.setAttribute("type","checkbox"),(n=document.createElement("td")).style.fontSize="10pt",n.appendChild(a);var g=document.createElement("span");mxUtils.write(g," "+mxResources.get("posterPrint")+":"),n.appendChild(g),mxEvent.addListener(g,"click",function(t){a.checked=!a.checked,s.checked=!a.checked,mxEvent.consume(t)}),i.appendChild(n);var C=document.createElement("input");C.setAttribute("value","1"),C.setAttribute("type","number"),C.setAttribute("min","1"),C.setAttribute("size","4"),C.setAttribute("disabled","disabled"),C.style.width="50px",(n=document.createElement("td")).style.fontSize="10pt",n.appendChild(C),mxUtils.write(n," "+mxResources.get("pages")+" (max)"),i.appendChild(n),r.appendChild(i),mxEvent.addListener(a,"change",function(){a.checked?C.removeAttribute("disabled"):C.setAttribute("disabled","disabled"),s.checked=!a.checked}),i=i.cloneNode(!1),n=document.createElement("td"),mxUtils.write(n,mxResources.get("pageScale")+":"),i.appendChild(n),n=document.createElement("td");var h=document.createElement("input");h.setAttribute("value","100 %"),h.setAttribute("size","5"),h.style.width="50px",n.appendChild(h),i.appendChild(n),r.appendChild(i),i=document.createElement("tr"),(n=document.createElement("td")).colSpan=2,n.style.paddingTop="20px",n.setAttribute("align","right");var A=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});if(A.className="geBtn",t.editor.cancelFirst&&n.appendChild(A),!mxClient.IS_CHROMEAPP){var I=mxUtils.button(mxResources.get("preview"),function(){t.hideDialog(),e(!1)});I.className="geBtn",n.appendChild(I)}var c=mxUtils.button(mxResources.get(mxClient.IS_CHROMEAPP?"ok":"print"),function(){t.hideDialog(),e(!0)});c.className="geBtn gePrimaryBtn",n.appendChild(c),t.editor.cancelFirst||n.appendChild(A),i.appendChild(n),r.appendChild(i),o.appendChild(r),this.container=o},PrintDialog.showPreview=function(t,e){var i=t.open();if(e&&null!=i){var e=function(){i.focus(),i.print(),i.close()};mxClient.IS_GC?window.setTimeout(e,500):e()}return i},PrintDialog.createPrintPreview=function(t,e,i,n,l,o,r){var s=new mxPrintPreview(t,e,i,n,l,o);s.title=mxResources.get("preview"),s.printBackgroundImage=!0,s.autoOrigin=r;var a=t.background;null!=a&&""!=a&&a!=mxConstants.NONE||(a="#ffffff"),s.backgroundColor=a;var g=s.writeHead;return s.writeHead=function(t){g.apply(this,arguments),t.writeln('<style type="text/css">'),t.writeln("@media screen {"),t.writeln("  body > div { padding:30px;box-sizing:content-box; }"),t.writeln("}"),t.writeln("</style>")},s};var FilenameDialog=function(t,e,i,n,l,o,r,s,a){a=null==a||a;var g,C,h=document.createElement("table"),A=document.createElement("tbody");h.style.marginTop="8px",g=document.createElement("tr"),(C=document.createElement("td")).style.fontSize="10pt",C.style.width="120px",mxUtils.write(C,(l||mxResources.get("filename"))+":"),g.appendChild(C);var I=document.createElement("input");I.setAttribute("value",e||""),I.style.width="180px";var c=mxUtils.button(i,function(){(null==o||o(I.value))&&n(I.value)});c.className="geBtn gePrimaryBtn",this.init=function(){if((null!=l||null==r)&&(I.focus(),mxClient.IS_FF||document.documentMode>=5||mxClient.IS_QUIRKS?I.select():document.execCommand("selectAll",!1,null),Graph.fileSupport)){var e=h.parentNode,i=(t.editor.graph,null);mxEvent.addListener(e,"dragleave",function(t){null!=i&&(i.style.backgroundColor="",i=null),t.stopPropagation(),t.preventDefault()}),mxEvent.addListener(e,"dragover",mxUtils.bind(this,function(t){null==i&&(!mxClient.IS_IE||document.documentMode>10)&&((i=I).style.backgroundColor="#ebf2f9"),t.stopPropagation(),t.preventDefault()})),mxEvent.addListener(e,"drop",mxUtils.bind(this,function(t){null!=i&&(i.style.backgroundColor="",i=null),mxUtils.indexOf(t.dataTransfer.types,"text/uri-list")>=0&&(I.value=decodeURIComponent(t.dataTransfer.getData("text/uri-list")),c.click()),t.stopPropagation(),t.preventDefault()}))}},(C=document.createElement("td")).appendChild(I),g.appendChild(C),null==l&&null!=r||A.appendChild(g),null!=r&&(g=document.createElement("tr"),(C=document.createElement("td")).colSpan=2,C.appendChild(r),g.appendChild(C),A.appendChild(g)),g=document.createElement("tr"),(C=document.createElement("td")).colSpan=2,C.style.paddingTop="20px",C.style.whiteSpace="nowrap",C.setAttribute("align","right");var d=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});if(d.className="geBtn",t.editor.cancelFirst&&C.appendChild(d),null!=s){var u=mxUtils.button(mxResources.get("help"),function(){window.open(s)});u.className="geBtn",C.appendChild(u)}mxEvent.addListener(I,"keypress",function(t){13==t.keyCode&&c.click()}),C.appendChild(c),t.editor.cancelFirst||C.appendChild(d),g.appendChild(C),A.appendChild(g),h.appendChild(A),this.container=h},TextareaDialog=function(t,e,i,n,l,o,r,s,a,g){r=null!=r?r:300,s=null!=s?s:120,g=null!=g&&g;var C,h,A=document.createElement("table"),I=document.createElement("tbody");C=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",h.style.width="100px",mxUtils.write(h,e),C.appendChild(h),I.appendChild(C),C=document.createElement("tr"),h=document.createElement("td");var c=document.createElement("textarea");mxUtils.write(c,i||""),c.style.resize="none",c.style.width=r+"px",c.style.height=s+"px",this.textarea=c,this.init=function(){c.focus(),c.scrollTop=0},h.appendChild(c),C.appendChild(h),I.appendChild(C),C=document.createElement("tr"),(h=document.createElement("td")).style.paddingTop="14px",h.style.whiteSpace="nowrap",h.setAttribute("align","right");var d=mxUtils.button(o||mxResources.get("cancel"),function(){t.hideDialog(),null!=l&&l()});if(d.className="geBtn",t.editor.cancelFirst&&h.appendChild(d),null!=a&&a(h),null!=n){var u=mxUtils.button(mxResources.get("apply"),function(){g||t.hideDialog(),n(c.value)});u.className="geBtn gePrimaryBtn",h.appendChild(u)}t.editor.cancelFirst||h.appendChild(d),C.appendChild(h),I.appendChild(C),A.appendChild(I),this.container=A},EditDiagramDialog=function(t,e){function i(e){if(e.stopPropagation(),e.preventDefault(),e.dataTransfer.files.length>0){var i=e.dataTransfer.files[0],n=new FileReader;n.onload=function(t){o.value=t.target.result},n.readAsText(i)}else o.value=t.extractGraphModelFromEvent(e)}function n(t){t.stopPropagation(),t.preventDefault()}var l=document.createElement("div"),o=document.createElement("textarea");o.setAttribute("wrap","off"),o.style.overflow="auto",o.style.resize="none",o.style.width="600px",o.style.height="370px",o.style.marginBottom="16px";var r,s=t.editor.getGraphXml(t);if("XML"==e)r=mxUtils.getPrettyXml(s);else if("JSON"==e){var a=mxUtils.parseXml(mxUtils.getXml(s));r=CodeTranslator.xml2json(a,"  ")}o.value=r,l.appendChild(o),this.init=function(){var t=CodeMirror.fromTextArea(o,{lineNumbers:!0,smartIndent:!0,mode:"XML"==e?"xml":"javascript"});t.on("change",function(){o.value=t.getValue()}),o.focus()},Graph.fileSupport&&(o.addEventListener("dragover",n,!1),o.addEventListener("drop",i,!1));var g=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});g.className="geBtn",t.editor.cancelFirst&&l.appendChild(g);var C=document.createElement("select");if(C.style.width="180px",C.className="geBtn",t.editor.graph.isEnabled()){var h=document.createElement("option");h.setAttribute("value","replace"),mxUtils.write(h,mxResources.get("replaceExistingDrawing")),C.appendChild(h)}var A=document.createElement("option");if(A.setAttribute("value","new"),mxUtils.write(A,mxResources.get("openInNewWindow")),null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime||C.appendChild(A),t.editor.graph.isEnabled()){var I=document.createElement("option");I.setAttribute("value","import"),mxUtils.write(I,mxResources.get("addToExistingDrawing")),C.appendChild(I)}l.appendChild(C);var c=mxUtils.button(mxResources.get("ok"),function(){var e=t.editor.graph.zapGremlins(mxUtils.trim(o.value)),i=null;if("new"==C.value)window.openFile=new OpenFile(function(){t.hideDialog(),window.openFile=null}),window.openFile.setData(e,null),window.open(t.getUrl());else if("replace"==C.value){t.editor.graph.model.beginUpdate();try{t.editor.setGraphXml(mxUtils.parseXml(e).documentElement),t.hideDialog()}catch(t){i=t}finally{t.editor.graph.model.endUpdate()}}else if("import"==C.value){t.editor.graph.model.beginUpdate();try{var n=mxUtils.parseXml(e),l=new mxGraphModel;new mxCodec(n).decode(n.documentElement,l);var r=l.getChildren(l.getChildAt(l.getRoot(),0));t.editor.graph.setSelectionCells(t.editor.graph.importCells(r)),t.hideDialog()}catch(t){i=t}finally{t.editor.graph.model.endUpdate()}}null!=i&&mxUtils.alert(i.message)});c.className="geBtn gePrimaryBtn",l.appendChild(c),t.editor.cancelFirst||l.appendChild(g),this.container=l},ExportDialog=function(t){function e(){var t=c.value,e=t.lastIndexOf(".");c.value=e>0?t.substring(0,e+1)+d.value:t+"."+d.value,"xml"===d.value||"json"===d.value||"yaml"==d.value||"png"===d.value||"svg"===d.value||"jpg"===d.value?(w.setAttribute("hidden","true"),G.setAttribute("hidden","true"),L.setAttribute("hidden","true"),M.setAttribute("hidden","true")):(w.removeAttribute("hidden"),G.removeAttribute("hidden"),L.removeAttribute("hidden"),M.removeAttribute("hidden"))}function i(){R.value*P.value>MAX_AREA||R.value<=0?R.style.backgroundColor="red":R.style.backgroundColor="",R.value*P.value>MAX_AREA||P.value<=0?P.style.backgroundColor="red":P.style.backgroundColor=""}function n(){var t=Math.max(0,parseInt(N.value))+1,e=parseInt(R.value)/C,i=null;return""==E.value||E.value==mxConstants.NONE||T.checked||(i=E.value),s.getSvg(i,e,t)}function l(t){return new Promise(function(e,i){var n=new Image;n.src=t,n.crossOrigin="Anonymous",n.onload=function(){e(this)},n.onerror=function(t){i(t)}})}var o,r,s=t.editor.graph,a=s.getGraphBounds(),g=s.view.scale,C=Math.ceil(a.width/g),h=Math.ceil(a.height/g),A=document.createElement("table"),I=document.createElement("tbody");o=document.createElement("tr"),(r=document.createElement("td")).style.fontSize="10pt",r.style.width="100px",mxUtils.write(r,mxResources.get("filename")+":"),o.appendChild(r);var c=document.createElement("input");c.setAttribute("value",t.editor.getOrCreateJsonFilename()),c.style.width="180px",(r=document.createElement("td")).appendChild(c),o.appendChild(r),I.appendChild(o),o=document.createElement("tr"),(r=document.createElement("td")).style.fontSize="10pt",mxUtils.write(r,mxResources.get("format")+":"),o.appendChild(r);var d=document.createElement("select");if(d.style.width="100%",ExportDialog.showJsonOption){var u=document.createElement("option");u.setAttribute("value","json"),mxUtils.write(u,mxResources.get("formatJson")),d.appendChild(u)}if(ExportDialog.showXmlOption){var p=document.createElement("option");p.setAttribute("value","xml"),mxUtils.write(p,mxResources.get("formatXml")),d.appendChild(p)}if(ExportDialog.showYamlOption){var m=document.createElement("option");m.setAttribute("value","yaml"),mxUtils.write(m,mxResources.get("formatYaml")),d.appendChild(m)}if(ExportDialog.showPngOption){var x=document.createElement("option");x.setAttribute("value","png"),mxUtils.write(x,mxResources.get("formatPng")),d.appendChild(x)}if(ExportDialog.showGifOption){var v=document.createElement("option");v.setAttribute("value","gif"),mxUtils.write(v,mxResources.get("formatGif")),d.appendChild(v)}if(ExportDialog.showJpgOption){var y=document.createElement("option");y.setAttribute("value","jpg"),mxUtils.write(y,mxResources.get("formatJpg")),d.appendChild(y)}if(ExportDialog.showPdfOption){var f=document.createElement("option");f.setAttribute("value","pdf"),mxUtils.write(f,mxResources.get("formatPdf")),d.appendChild(f)}if(ExportDialog.showSvgOption){var b=document.createElement("option");b.setAttribute("value","svg"),mxUtils.write(b,mxResources.get("formatSvg")),d.appendChild(b)}(r=document.createElement("td")).appendChild(d),o.appendChild(r),I.appendChild(o);var w=document.createElement("tr");(r=document.createElement("td")).style.fontSize="10pt",mxUtils.write(r,mxResources.get("backgroundColor")+":"),w.appendChild(r);var E=document.createElement("input"),S=null==s.background||s.background==mxConstants.NONE?"#ffffff":s.background;E.setAttribute("value",S),E.style.width="80px";var T=document.createElement("input");T.setAttribute("type","checkbox"),T.checked=null==s.background||s.background==mxConstants.NONE,(r=document.createElement("td")).appendChild(E),r.appendChild(T),mxUtils.write(r,mxResources.get("transparent")),w.appendChild(r),I.appendChild(w);var G=document.createElement("tr");(r=document.createElement("td")).style.fontSize="10pt",mxUtils.write(r,mxResources.get("width")+":"),G.appendChild(r);var R=document.createElement("input");R.setAttribute("value",C),R.style.width="180px",(r=document.createElement("td")).appendChild(R),G.appendChild(r),I.appendChild(G);var L=document.createElement("tr");(r=document.createElement("td")).style.fontSize="10pt",mxUtils.write(r,mxResources.get("height")+":"),L.appendChild(r);var P=document.createElement("input");P.setAttribute("value",h),P.style.width="180px",(r=document.createElement("td")).appendChild(P),L.appendChild(r),I.appendChild(L);var M=document.createElement("tr");(r=document.createElement("td")).style.fontSize="10pt",mxUtils.write(r,mxResources.get("borderWidth")+":"),M.appendChild(r);var N=document.createElement("input");N.setAttribute("value",C),N.style.width="180px",N.value="0",(r=document.createElement("td")).appendChild(N),M.appendChild(r),I.appendChild(M),A.appendChild(I),mxEvent.addListener(d,"change",e),e(),mxEvent.addListener(R,"change",function(){P.value=C>0?Math.ceil(parseInt(R.value)*h/C):"0",i()}),mxEvent.addListener(P,"change",function(){R.value=h>0?Math.ceil(parseInt(P.value)*C/h):"0",i()});var D=new mxImageExport;o=document.createElement("tr"),(r=document.createElement("td")).setAttribute("align","right"),r.style.paddingTop="24px",r.colSpan=2;var O=mxUtils.button(mxResources.get("export"),mxUtils.bind(this,function(){if(parseInt(R.value)<=0&&parseInt(P.value)<=0)mxUtils.alert(mxResources.get("drawingEmpty"));else{var e=d.value,i=c.value;if("xml"==e||"json"==e||"yaml"==e){var o;t.hideDialog();var r=t.editor.getGraphXml(t);if("xml"==e)o=mxUtils.getPrettyXml(r);else if("json"==e){a=mxUtils.parseXml(mxUtils.getXml(r));o=CodeTranslator.xml2json(a,"  ")}else if("yaml"==e){var a=mxUtils.parseXml(mxUtils.getXml(r));o=CodeTranslator.xml2json(a,"  "),o=jsyaml.dump(JSON.parse(o))}g=new Blob([o],{type:"text/plain;charset=utf-8"});fileSaveAs(g,i)}else if("svg"==e)if((A=mxUtils.getXml(n())).length<MAX_REQUEST_SIZE){t.hideDialog();var g=new Blob([A],{type:"text/plain;charset=utf-8"});fileSaveAs(g,i)}else mxUtils.alert(mxResources.get("drawingTooLarge")),mxUtils.popup(xml);else if("png"==e||"gif"==e||"jpg"==e){var h=n(),A=mxUtils.getXml(h);A=A.replace(/\<image[^\\>]*\>/g,"");var I="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(A))),u=parseInt(h.getAttribute("width")),p=parseInt(h.getAttribute("height")),m=h.querySelectorAll("image");m=Array.prototype.slice.call(m),s.selectAll(null,!1);var x=s.getSelectionCells();s.clearSelection();var v=[],y={};for(var f in x){var b=x[f].getStyle(),w=x[f].parent.id,S=x[f].geometry;if("1"==w&&"1"==x[f].vertex&&((!y.x||y.x&&S.x<y.x)&&(y.x=S.x),(!y.y||y.y&&S.y<y.y)&&(y.y=S.y)),b.indexOf("group")>=0&&b.indexOf("collapsible=1")>=0){var G,L,M,O=x[f].collapsed,U=S.x,k=S.y;O?(G=x[f].value.getAttribute("image"),L=s.view.getState(x[f]).width,M=s.view.getState(x[f]).height):(G=mxGraph.prototype.expandedImage.src,U+=5,k+=5,L=mxGraph.prototype.expandedImage.width,M=mxGraph.prototype.expandedImage.height);var H=document.createElement("img");H.setAttribute("x",U),H.setAttribute("y",k),H.setAttribute("width",L),H.setAttribute("height",M),H.setAttribute("xlink:href",G),v.push(H),H.remove()}}for(var V in v)v[V].setAttribute("x",parseInt(v[V].getAttribute("x"))-y.x),v[V].setAttribute("y",parseInt(v[V].getAttribute("y"))-y.y),m.push(v[V]);t.hideDialog(),l(I).then(function(t){var n=document.createElement("canvas"),o=n.getContext("2d");n.width=u,n.height=p,o.drawImage(t,0,0),m.reduce(function(t,e){return t.then(function(){var t=e.getAttribute("xlink:href"),i=parseInt(e.getAttribute("x")),n=parseInt(e.getAttribute("y")),r=parseInt(e.getAttribute("width")),s=parseInt(e.getAttribute("height"));return l(t).then(function(t){var e,l,a,g,C=t.width,h=t.height;C/h>r/s?(e=i,l=n+(s-h*r/C)/2,a=C*r/C,g=h*r/C):(e=i+(r-C*s/h)/2,l=n,a=C*s/h,g=h*s/h),o.drawImage(t,0,0,C,h,e,l,a,g)},function(t){console.log(t)})},function(t){console.log(t)})},Promise.resolve()).then(function(){var t=document.createElement("a");t.download=i,"jpg"==e&&(e="jpeg"),t.href=n.toDataURL("image/"+e,"1.0");var l=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(l)})},function(t){console.log(t)})}else{var Z=null,Y=parseInt(R.value)||0,F=parseInt(P.value)||0,X=Math.max(0,parseInt(N.value))+1,B=ExportDialog.getExportParameter(t,e);if("function"==typeof B)Z=B();else{var W=parseInt(R.value)/C,z=s.getGraphBounds(),_=s.view.scale,J=(a=mxUtils.createXmlDocument()).createElement("output");a.appendChild(J);var j=new mxXmlCanvas2D(J);j.translate(Math.floor((X/W-z.x)/_),Math.floor((X/W-z.y)/_)),j.scale(W/_),D.drawState(s.getView().getState(s.model.root),j),Y=Math.ceil(z.width*W/_+2*X),F=Math.ceil(z.height*W/_+2*X),Z="xml="+encodeURIComponent(mxUtils.getXml(J))}if(null!=Z&&Z.length<=MAX_REQUEST_SIZE&&Y*F<MAX_AREA){var K="&bg=none";""==E.value||E.value==mxConstants.NONE||"png"==e&&T.checked||(K="&bg="+E.value),t.hideDialog();var Q=decodeURIComponent(Z.substring(Z.indexOf("=")+1));ExportDialog.saveRequest(Q,i,e,function(t,i){return new mxXmlRequest(EXPORT_URL,"format="+e+"&base64="+(i||"0")+(null!=t?"&filename="+encodeURIComponent(t):"")+K+"&w="+Y+"&h="+F+"&border="+X+"&"+Z)})}else mxUtils.alert(mxResources.get("drawingTooLarge"))}}}));O.className="geBtn gePrimaryBtn";var U=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});U.className="geBtn",t.editor.cancelFirst?(r.appendChild(U),r.appendChild(O)):(r.appendChild(O),r.appendChild(U)),o.appendChild(r),I.appendChild(o),A.appendChild(I),this.container=A};ExportDialog.showPngOption=!0,ExportDialog.showGifOption=!1,ExportDialog.showJpgOption=!0,ExportDialog.showSvgOption=!0,ExportDialog.showPdfOption=!1,ExportDialog.showXmlOption=!0,ExportDialog.showJsonOption=!0,ExportDialog.showYamlOption=!0,ExportDialog.saveLocalFile=function(t,e,i){new mxXmlRequest(SAVE_URL,"xml="+encodeURIComponent(t)+"&filename="+encodeURIComponent(e)+"&format="+i).simulate(document,"_blank")},ExportDialog.saveRequest=function(t,e,i,n){n(e).simulate(document,"_blank")},ExportDialog.getExportParameter=function(t,e){return null};var EditDataDialog=function(t,e){function i(){m.value.length>0?x.removeAttribute("disabled"):x.setAttribute("disabled","disabled")}var n=document.createElement("div"),l=t.editor.graph;n.style.height="310px",n.style.overflow="auto";var o=l.getModel().getValue(e);if(!mxUtils.isNode(o)){var r=mxUtils.createXmlDocument().createElement("object");r.setAttribute("label",o||""),o=r}var s=new mxForm("properties");s.table.style.width="95%",s.table.style.paddingRight="20px";for(var a=o.attributes,g=[],C=[],h=0,A=function(t,e){t.parentNode.style.marginRight="12px";var i=document.createElement("a"),n=mxUtils.createImage(Dialog.prototype.closeImage);n.style.height="9px",n.style.fontSize="9px",n.style.marginBottom="7px",i.className="geButton",i.setAttribute("title",mxResources.get("delete")),i.style.margin="0px",i.style.width="14px",i.style.height="14px",i.style.fontSize="14px",i.style.cursor="pointer",i.style.marginLeft="6px",i.appendChild(n);var l=function(t){return function(){for(var e=0,i=0;i<g.length;i++){if(g[i]==t){C[i]=null,s.table.deleteRow(e);break}null!=C[i]&&e++}}}(e);mxEvent.addListener(i,"click",l),t.parentNode.style.whiteSpace="nowrap",t.parentNode.appendChild(i)},I=0;I<a.length;I++)if("label"!=a[I].nodeName&&"placeholders"!=a[I].nodeName){var c=a[I].nodeValue,d=c.indexOf(":"),u=[];u[0]=c.substr(0,d),u[1]=c.substr(d+1),function(t,e,i){g[t]=e,C[t]=s.addText2(g[h]+":",i);for(var n in C[t])C[t][n].style.width="95%";C[t][0].setAttribute("placeholder",mxResources.get("enterPropertyCName")),C[t][1].setAttribute("placeholder",mxResources.get("enterPropertyValue")),A(C[t][n],e)}(h,a[I].nodeName,u),h++}n.appendChild(s.table);var p=document.createElement("div");p.style.whiteSpace="nowrap",p.style.marginTop="6px";var m=document.createElement("input");m.setAttribute("placeholder",mxResources.get("enterPropertyName")),m.setAttribute("type","text"),m.setAttribute("size",mxClient.IS_QUIRKS?"18":"22"),m.style.marginLeft="2px",p.appendChild(m),n.appendChild(p);var x=mxUtils.button(mxResources.get("addProperty"),function(){if(m.value.length>0){var t=m.value;if(null!=t&&t.length>0&&"label"!=t&&"placeholders"!=t)try{var e=mxUtils.indexOf(g,t);if(e>=0&&null!=C[e])C[e][0].focus();else{o.cloneNode(!1).setAttribute(t,""),e>=0&&(g.splice(e,1),C.splice(e,1)),g.push(t);var i=["",""],n=s.addText2(t+":",i);for(var l in n)n[l].style.width="95%";n[0].setAttribute("placeholder",mxResources.get("enterPropertyCName")),n[1].setAttribute("placeholder",mxResources.get("enterPropertyValue")),C.push(n),A(n[l],t),n[0].focus()}m.value=""}catch(t){mxUtils.alert(t)}}else mxUtils.alert(mxResources.get("invalidName"))});this.init=function(){C.length>0?C[0][0].focus():m.focus()},x.setAttribute("disabled","disabled"),x.style.marginLeft="10px",x.style.width="144px",p.appendChild(x);var v=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog.apply(t,arguments)});v.className="geBtn";var y=mxUtils.button(mxResources.get("apply"),function(){try{t.hideDialog.apply(t,arguments),o=o.cloneNode(!0);for(var i=0;i<g.length;i++)if(null==C[i])o.removeAttribute(g[i]);else{var n=[];for(var r in C[i])n.push(C[i][r].value);o.setAttribute(g[i],n.join(":"))}l.getModel().setValue(e,o)}catch(t){mxUtils.alert(t)}});y.className="geBtn gePrimaryBtn",mxEvent.addListener(m,"keyup",i),mxEvent.addListener(m,"change",i);var f=document.createElement("div");if(f.style.marginTop="18px",f.style.textAlign="right",t.editor.graph.getModel().isVertex(e)||t.editor.graph.getModel().isEdge(e)){var b=document.createElement("span");b.style.marginRight="10px";var w=document.createElement("input");if(w.setAttribute("type","checkbox"),w.style.marginRight="6px","1"==o.getAttribute("placeholders")&&(w.setAttribute("checked","checked"),w.defaultChecked=!0),mxEvent.addListener(w,"click",function(){"1"==o.getAttribute("placeholders")?o.removeAttribute("placeholders"):o.setAttribute("placeholders","1")}),b.appendChild(w),mxUtils.write(b,mxResources.get("placeholders")),null!=EditDataDialog.placeholderHelpLink){var E=document.createElement("a");E.setAttribute("href",EditDataDialog.placeholderHelpLink),E.setAttribute("title",mxResources.get("help")),E.setAttribute("target","_blank"),E.style.marginLeft="10px",E.style.cursor="help";var S=document.createElement("img");S.setAttribute("border","0"),S.setAttribute("valign","middle"),S.style.marginTop="-4px",S.setAttribute("src",Editor.helpImage),E.appendChild(S),b.appendChild(E)}f.appendChild(b)}t.editor.cancelFirst?(f.appendChild(v),f.appendChild(y)):(f.appendChild(y),f.appendChild(v)),n.appendChild(f),this.container=n};EditDataDialog.placeholderHelpLink=null;var LinkDialog=function(t,e,i,n){var l=document.createElement("div");mxUtils.write(l,mxResources.get("editLink")+":");var o=document.createElement("div");o.className="geTitle",o.style.backgroundColor="transparent",o.style.borderColor="transparent",o.style.whiteSpace="nowrap",o.style.textOverflow="clip",o.style.cursor="default",mxClient.IS_VML||(o.style.paddingRight="20px");var r=document.createElement("input");r.setAttribute("value",e),r.setAttribute("placeholder","http://www.example.com/"),r.setAttribute("type","text"),r.style.marginTop="6px",r.style.width="400px",r.style.backgroundImage="url('"+Dialog.prototype.clearImage+"')",r.style.backgroundRepeat="no-repeat",r.style.backgroundPosition="100% 50%",r.style.paddingRight="14px";var s=document.createElement("div");s.setAttribute("title",mxResources.get("reset")),s.style.position="relative",s.style.left="-16px",s.style.width="12px",s.style.height="14px",s.style.cursor="pointer",s.style.display=mxClient.IS_VML?"inline":"inline-block",s.style.top=(mxClient.IS_VML?0:3)+"px",s.style.background="url("+IMAGE_PATH+"/transparent.gif)",mxEvent.addListener(s,"click",function(){r.value="",r.focus()}),o.appendChild(r),o.appendChild(s),l.appendChild(o),this.init=function(){r.focus(),mxClient.IS_FF||document.documentMode>=5||mxClient.IS_QUIRKS?r.select():document.execCommand("selectAll",!1,null)};var a=document.createElement("div");a.style.marginTop="18px",a.style.textAlign="right",mxEvent.addListener(r,"keypress",function(e){13==e.keyCode&&(t.hideDialog(),n(r.value))});var g=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});g.className="geBtn",t.editor.cancelFirst&&a.appendChild(g);var C=mxUtils.button(i,function(){t.hideDialog(),n(r.value)});C.className="geBtn gePrimaryBtn",a.appendChild(C),t.editor.cancelFirst||a.appendChild(g),l.appendChild(a),this.container=l},LocalImgDialog=function(t,e,i){var n=document.createElement("div");mxUtils.write(n,mxResources.get("insertLocal")+":");var l=document.createElement("div");l.className="geTitle",l.style.whiteSpace="nowrap",l.style.textOverflow="clip",l.style.marginTop="10px",l.style.position="relative",mxClient.IS_VML||(l.style.paddingRight="20px");var o=document.createElement("a");o.className="fileA btn-purple",mxUtils.write(o,mxResources.get("selectImgFile"));var r=document.createElement("span");r.style.position="absolute",r.style.top="6px",r.style.marginLeft="10px",r.style.width="230px",r.style.textOverflow="ellipsis",r.style.overflow="hidden";var s=document.createElement("input");s.className="fileInput",s.setAttribute("type","file"),s.setAttribute("accept","image/png,image/jpeg"),mxEvent.addListener(s,"change",function(){s.files.length>0&&(mxUtils.write(r,s.files[0].name),r.setAttribute("title",s.files[0].name))}),o.appendChild(s),l.appendChild(o),l.appendChild(r),n.appendChild(l);var a=document.createElement("div");a.style.marginTop="18px",a.style.textAlign="right";var g=mxUtils.button(mxResources.get("cancel"),function(){t.hideDialog()});g.className="geBtn",t.editor.cancelFirst&&a.appendChild(g);var C=mxUtils.button(e,function(){if(t.hideDialog(),s.files.length>0){if(s.files[0].size>1024*t.maxUploadImgSize*1024)return void mxUtils.alert(mxResources.get("maxFileSize",[t.maxUploadImgSize]));var e=new FileReader;e.onload=function(t){var e=new Image;e.src=t.target.result;var n=BASE_URL+SAVE_IMG,l="data="+encodeURIComponent(e.src);mxUtils.post(n,l,mxUtils.bind(this,function(t){var n=JSON.parse(t.getText());if(0==n.status){var l=UPLOADIMAGE_PATH+"/"+n.data.url;i(l,e.width,e.height)}else mxUtils.alert(n.data.msg)}))},e.readAsDataURL(s.files[0])}});C.className="geBtn gePrimaryBtn",a.appendChild(C),t.editor.cancelFirst||a.appendChild(g),n.appendChild(a),this.container=n},OutlineWindow=function(t,e,i,n,l){function o(){a.outline.pageScale=r.pageScale,a.outline.pageFormat=r.pageFormat,a.outline.pageVisible=r.pageVisible,a.outline.background=r.background;var t=mxUtils.getCurrentStyle(r.container);s.style.backgroundColor=t.backgroundColor,null!=r.view.backgroundPageShape&&null!=a.outline.view.backgroundPageShape&&(a.outline.view.backgroundPageShape.fill=r.view.backgroundPageShape.fill),a.outline.refresh()}var r=t.editor.graph,s=document.createElement("div");s.style.position="absolute",s.style.width="100%",s.style.height="100%",s.style.border="1px solid whiteSmoke",s.style.overflow="hidden",this.editorUi=t,this.window=new mxWindow(mxResources.get("outline"),s,e,i,n,l,!0,!0),this.window.destroyOnClose=!1,this.window.setMaximizable(!1),this.window.setResizable(!0),this.window.setClosable(!0),this.window.setVisible(!0),this.window.setLocation=function(t,e){t=Math.max(0,t),e=Math.max(0,e),mxWindow.prototype.setLocation.apply(this,arguments)},mxEvent.addListener(window,"resize",mxUtils.bind(this,function(){var t=window.innerWidth||document.documentElement.clientWidth||this.editorUi.container.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||this.editorUi.container.clientHeight,i=this.window.getX(),n=this.window.getY();i+this.window.table.clientWidth>t&&(i=Math.max(0,t-this.window.table.clientWidth)),n+this.window.table.clientHeight>e&&(n=Math.max(0,e-this.window.table.clientHeight)),this.window.getX()==i&&this.window.getY()==n||this.window.setLocation(i,n)}));var a=t.createOutline(this.window);this.window.addListener(mxEvent.RESIZE,mxUtils.bind(this,function(){a.update(!1),a.outline.sizeDidChange()})),this.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){a.suspended=!1,a.outline.refresh(),a.update()})),this.window.addListener(mxEvent.HIDE,mxUtils.bind(this,function(){a.suspended=!0})),this.window.addListener(mxEvent.NORMALIZE,mxUtils.bind(this,function(){a.suspended=!1,a.update()})),this.window.addListener(mxEvent.MINIMIZE,mxUtils.bind(this,function(){a.suspended=!0}));var g=a.createGraph;if(a.createGraph=function(t){var e=g.apply(this,arguments);e.gridEnabled=!1,e.pageScale=r.pageScale,e.pageFormat=r.pageFormat,e.background=r.background,e.pageVisible=r.pageVisible;var i=mxUtils.getCurrentStyle(r.container);return s.style.backgroundColor=i.backgroundColor,e},a.init(s),t.editor.addListener("resetGraphView",o),t.addListener("pageFormatChanged",o),t.addListener("backgroundColorChanged",o),t.addListener("backgroundImageChanged",o),t.addListener("pageViewChanged",function(){o(),a.update(!0)}),a.outline.dialect==mxConstants.DIALECT_SVG){var C=t.actions.get("zoomIn"),h=t.actions.get("zoomOut");mxEvent.addMouseWheelListener(function(t,e){for(var i=!1,n=mxEvent.getSource(t);null!=n;){if(n==a.outline.view.canvas.ownerSVGElement){i=!0;break}n=n.parentNode}i&&(e?C.funct():h.funct(),mxEvent.consume(t))})}},LayersWindow=function(t,e,i,n,l){function o(e){if(s.isEnabled()&&null!=e){var i=new FilenameDialog(t,e.value||mxResources.get("background"),mxResources.get("rename"),mxUtils.bind(this,function(t){null!=t&&s.getModel().setValue(e,t)}),mxResources.get("enterName"));t.showDialog(i.container,300,100,!0,!0),i.init()}}function r(){function t(t,e,i,n){var l=document.createElement("div");l.className="geToolbarContainer",l.style.overflow="hidden",l.style.position="relative",l.style.padding="4px",l.style.height="22px",l.style.display="block",l.style.backgroundColor="whiteSmoke",l.style.borderWidth="0px 0px 1px 0px",l.style.borderColor="#c3c3c3",l.style.borderStyle="solid",l.style.whiteSpace="nowrap";var a=document.createElement("div");a.style.display="inline-block",a.style.width="100%",a.style.textOverflow="ellipsis",a.style.overflow="hidden",mxEvent.addListener(l,"dragover",function(e){e.dataTransfer.dropEffect="move",A=t,e.stopPropagation(),e.preventDefault()}),mxEvent.addListener(l,"dragstart",function(t){h=l,mxClient.IS_FF&&t.dataTransfer.setData("Text","<layer/>")}),mxEvent.addListener(l,"dragend",function(t){null!=h&&(s.addCell(i,s.model.root,A),h=null,A=null),t.stopPropagation(),t.preventDefault()});var g=document.createElement("img");g.setAttribute("draggable","false"),g.setAttribute("align","top"),g.setAttribute("border","0"),g.style.cursor="pointer",g.style.padding="4px",g.setAttribute("title",mxResources.get("lockUnlock"));var d=s.view.getState(i),u=null!=d?d.style:s.getCellStyle(i);"1"==mxUtils.getValue(u,"locked","0")?g.setAttribute("src",Dialog.prototype.lockedImage):g.setAttribute("src",Dialog.prototype.unlockedImage),mxEvent.addListener(g,"click",function(t){if(s.isEnabled()){var e=null;s.getModel().beginUpdate();try{e="1"==mxUtils.getValue(u,"locked","0")?null:"1",s.setCellStyles("locked",e,[i])}finally{s.getModel().endUpdate()}"1"==e&&s.removeSelectionCells(s.getModel().getDescendants(i)),mxEvent.consume(t)}}),a.appendChild(g);var p=document.createElement("input");if(p.setAttribute("type","checkbox"),p.setAttribute("title",mxResources.get("hideIt",[i.value||mxResources.get("background")])),p.style.marginLeft="4px",p.style.marginRight="6px",p.style.marginTop="4px",a.appendChild(p),s.isEnabled()||p.setAttribute("disabled","disabled"),s.model.isVisible(i)&&(p.setAttribute("checked","checked"),p.defaultChecked=!0),mxEvent.addListener(p,"click",function(t){s.isEnabled()&&(s.model.setVisible(i,!s.model.isVisible(i)),mxEvent.consume(t))}),mxUtils.write(a,e),l.appendChild(a),s.isEnabled()){if(mxClient.IS_TOUCH||mxClient.IS_POINTER||mxClient.IS_VML||mxClient.IS_IE&&document.documentMode<10){var m=document.createElement("div");if(m.style.display="block",m.style.textAlign="right",m.style.whiteSpace="nowrap",m.style.position="absolute",m.style.right="6px",m.style.top="6px",t>0){var x=document.createElement("a");x.setAttribute("title",mxResources.get("toBack")),x.className="geButton",x.style.cssFloat="none",x.innerHTML="&#9650;",x.style.width="14px",x.style.height="14px",x.style.fontSize="14px",x.style.margin="0px",x.style.marginTop="-1px",m.appendChild(x),mxEvent.addListener(x,"click",function(e){s.isEnabled()&&s.addCell(i,s.model.root,t-1),mxEvent.consume(e)})}if(t>=0&&t<I-1){var v=document.createElement("a");v.setAttribute("title",mxResources.get("toFront")),v.className="geButton",v.style.cssFloat="none",v.innerHTML="&#9660;",v.style.width="14px",v.style.height="14px",v.style.fontSize="14px",v.style.margin="0px",v.style.marginTop="-1px",m.appendChild(v),mxEvent.addListener(v,"click",function(e){s.isEnabled()&&s.addCell(i,s.model.root,t+1),mxEvent.consume(e)})}l.appendChild(m)}mxClient.IS_SVG&&(!mxClient.IS_IE||document.documentMode>=10)&&(l.setAttribute("draggable","true"),l.style.cursor="move")}mxEvent.addListener(l,"dblclick",function(t){var e=mxEvent.getSource(t).nodeName;"INPUT"!=e&&"IMG"!=e&&(o(i),mxEvent.consume(t))}),s.getDefaultParent()==i?(l.style.background="#e6eff8",c=i):mxEvent.addListener(l,"click",function(t){s.isEnabled()&&(s.setDefaultParent(n),s.view.setCurrentRoot(null),r())}),C.appendChild(l)}I=s.model.getChildCount(s.model.root),C.innerHTML="";for(var e=0;e<I;e++)mxUtils.bind(this,function(i){t(e,i.value||mxResources.get("background"),i,i)})(s.model.getChildAt(s.model.root,e));p.setAttribute("title",mxResources.get("removeIt",[c.value||mxResources.get("background")])),m.setAttribute("title",mxResources.get("moveSelectionTo",[c.value||mxResources.get("background")])),v.setAttribute("title",mxResources.get("duplicateIt",[c.value||mxResources.get("background")])),x.setAttribute("title",mxResources.get("renameIt",[c.value||mxResources.get("background")])),s.isSelectionEmpty()&&(m.className="geButton mxDisabled")}var s=t.editor.graph,a=document.createElement("div");a.style.userSelect="none",a.style.background="whiteSmoke",a.style.border="1px solid whiteSmoke",a.style.height="100%",a.style.marginBottom="10px",a.style.overflow="auto";var g=EditorUi.compactUi?"26px":"30px",C=document.createElement("div");C.style.backgroundColor="#e5e5e5",C.style.position="absolute",C.style.overflow="auto",C.style.left="0px",C.style.right="0px",C.style.top="0px",C.style.bottom=g,a.appendChild(C);var h=null,A=null;mxEvent.addListener(a,"dragover",function(t){t.dataTransfer.dropEffect="move",A=null,t.stopPropagation(),t.preventDefault()});var I=null,c=null,d=document.createElement("div");d.className="geToolbarContainer",d.style.position="absolute",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.style.height=g,d.style.overflow="hidden",d.style.padding=EditorUi.compactUi?"4px 0px 3px 0px":"1px",d.style.backgroundColor="whiteSmoke",d.style.borderWidth="1px 0px 0px 0px",d.style.borderColor="#c3c3c3",d.style.borderStyle="solid",d.style.display="block",d.style.whiteSpace="nowrap",mxClient.IS_QUIRKS&&(d.style.filter="none");var u=document.createElement("a");u.className="geButton",mxClient.IS_QUIRKS&&(u.style.filter="none");var p=u.cloneNode();p.innerHTML='<div class="geSprite geSprite-delete" style="display:inline-block;"></div>',mxEvent.addListener(p,"click",function(t){if(s.isEnabled()){s.model.beginUpdate();try{var e=s.model.root.getIndex(c);s.removeCells([c],!1),0==s.model.getChildCount(s.model.root)?(s.model.add(s.model.root,new mxCell),s.setDefaultParent(null)):e>0&&e<=s.model.getChildCount(s.model.root)?s.setDefaultParent(s.model.getChildAt(s.model.root,e-1)):s.setDefaultParent(null)}finally{s.model.endUpdate()}}mxEvent.consume(t)}),s.isEnabled()||(p.className="geButton mxDisabled"),d.appendChild(p);var m=u.cloneNode();m.innerHTML='<div class="geSprite geSprite-insert" style="display:inline-block;"></div>',mxEvent.addListener(m,"click",function(t){s.isEnabled()&&!s.isSelectionEmpty()&&s.moveCells(s.getSelectionCells(),0,0,!1,c)}),d.appendChild(m);var x=u.cloneNode();x.innerHTML='<div class="geSprite geSprite-dots" style="display:inline-block;"></div>',x.setAttribute("title",mxResources.get("rename")),mxEvent.addListener(x,"click",function(t){s.isEnabled()&&o(c),mxEvent.consume(t)}),s.isEnabled()||(x.className="geButton mxDisabled"),d.appendChild(x);var v=u.cloneNode();v.innerHTML='<div class="geSprite geSprite-duplicate" style="display:inline-block;"></div>',mxEvent.addListener(v,"click",function(t){if(s.isEnabled()){var e=null;s.model.beginUpdate();try{(e=s.cloneCells([c])[0]).value=mxResources.get("untitledLayer"),e.setVisible(!0),e=s.addCell(e,s.model.root),s.setDefaultParent(e)}finally{s.model.endUpdate()}null==e||s.isCellLocked(e)||s.selectAll(e)}}),s.isEnabled()||(v.className="geButton mxDisabled"),d.appendChild(v);var y=u.cloneNode();y.innerHTML='<div class="geSprite geSprite-plus" style="display:inline-block;"></div>',y.setAttribute("title",mxResources.get("addLayer")),mxEvent.addListener(y,"click",function(t){if(s.isEnabled()){s.model.beginUpdate();try{var e=s.addCell(new mxCell(mxResources.get("untitledLayer")),s.model.root);s.setDefaultParent(e)}finally{s.model.endUpdate()}}mxEvent.consume(t)}),s.isEnabled()||(y.className="geButton mxDisabled"),d.appendChild(y),a.appendChild(d),r(),s.model.addListener(mxEvent.CHANGE,function(){r()}),s.selectionModel.addListener(mxEvent.CHANGE,function(){s.isSelectionEmpty()?m.className="geButton mxDisabled":m.className="geButton"}),this.editorUi=t,this.window=new mxWindow(mxResources.get("layers"),a,e,i,n,l,!0,!0),this.window.destroyOnClose=!1,this.window.setMaximizable(!1),this.window.setResizable(!0),this.window.setClosable(!0),this.window.setVisible(!0),this.refreshLayers=r,this.window.setLocation=function(t,e){t=Math.max(0,t),e=Math.max(0,e),mxWindow.prototype.setLocation.apply(this,arguments)},mxEvent.addListener(window,"resize",mxUtils.bind(this,function(){var t=window.innerWidth||document.documentElement.clientWidth||this.editorUi.container.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||this.editorUi.container.clientHeight,i=this.window.getX(),n=this.window.getY();i+this.window.table.clientWidth>t&&(i=Math.max(0,t-this.window.table.clientWidth)),n+this.window.table.clientHeight>e&&(n=Math.max(0,e-this.window.table.clientHeight)),this.window.getX()==i&&this.window.getY()==n||this.window.setLocation(i,n)}))},fileSaveAs=fileSaveAs||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in i,l=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},a=function(t){var i=function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()};setTimeout(i,4e4)},g=function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var l=t["on"+e[n]];if("function"==typeof l)try{l.call(t,i||t)}catch(t){s(t)}}},C=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(s,h,A){A||(s=C(s));var I,c=this,d="application/octet-stream"===s.type,u=function(){g(c,"writestart progress write writeend".split(" "))};if(c.readyState=c.INIT,n)return I=e().createObjectURL(s),void setTimeout(function(){i.href=I,i.download=h,l(i),u(),a(I),c.readyState=c.DONE});!function(){if((r||d&&o)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=r?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,c.readyState=c.DONE,u()},i.readAsDataURL(s),void(c.readyState=c.INIT)}I||(I=e().createObjectURL(s)),d?t.location.href=I:t.open(I,"_blank")||(t.location.href=I),c.readyState=c.DONE,u(),a(I)}()},A=h.prototype,I=function(t,e,i){return new h(t,e||t.name||"download",i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=C(t)),navigator.msSaveOrOpenBlob(t,e)}:(A.abort=function(){},A.readyState=A.INIT=0,A.WRITING=1,A.DONE=2,A.error=A.onwritestart=A.onprogress=A.onwrite=A.onabort=A.onerror=A.onwriteend=null,I)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.fileSaveAs=fileSaveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return fileSaveAs});var CodeTranslator={xml2json_translator:function(){var t={err:function(t){alert("Error: "+t)},toObj:function(e,i){if(9==e.nodeType)return t.toObj(e.documentElement,i);var n={};if(!i||i instanceof Array)return 1==e.nodeType?n[e.nodeName]=t.toObj(e,n):t.err("unhandled node type: "+e.nodeType),n;if(1==e.nodeType){if(e.attributes.length)for(var l=0;l<e.attributes.length;l++)i[e.nodeName+"@"+e.attributes[l].nodeName]=e.attributes[l].nodeValue;if(e.firstChild){for(var o=0,r=0,s=!1,a=!1,g={},C=e.firstChild;C;C=C.nextSibling)1==C.nodeType?(s=!0,g[C.nodeName]=g[C.nodeName]?g[C.nodeName]+1:1,(g[C.nodeName]>1||Object.keys(g).length>1)&&(a=!0)):3==C.nodeType&&C.nodeValue.match(/[^ \f\n\r\t\v]/)?o++:4==C.nodeType&&r++;if(s&&o&&(a=!0),s&&r&&(a=!0),o&&r&&(a=!0),r>1&&(a=!0),s&&!a){t.removeWhite(e);for(C=e.firstChild;C;C=C.nextSibling)3==C.nodeType?n["#text"]=t.escape(C.nodeValue):4==C.nodeType?n["#cdata"]=t.escape(C.nodeValue):n[C.nodeName]?n[C.nodeName]instanceof Array?n[C.nodeName][n[C.nodeName].length]=t.toObj(C,n):n[C.nodeName]=[n[C.nodeName],t.toObj(C,n)]:n[C.nodeName]=t.toObj(C,n)}else if(a){n=[],t.removeWhite(e);for(C=e.firstChild;C;C=C.nextSibling)3==C.nodeType?n[n.length]=t.escape(C.nodeValue):4==C.nodeType?n[n.length]={"#cdata":t.escape(C.nodeValue)}:n[n.length]=t.toObj(C,n)}else o?n=t.escape(t.innerXml(e)):r&&(t.removeWhite(e),n["#cdata"]=t.escape(e.firstChild.nodeValue))}e.firstChild||(n=null)}else t.err("unhandled node type: "+e.nodeType);return n},toJson:function(e,i){var n="";if(e instanceof Array){for(var l=0,o=e.length;l<o;l++){var r="";"string"==typeof e[l]&&(r=i+"\t"),e[l]=r+t.toJson(e[l],i+"\t")}n+="["+(e.length>1?"\n"+e.join(",\n")+"\n"+i:e.join(""))+"]"}else if(null==e)n+="null";else if("string"==typeof e)n+='"'+t.htmlEntities(e.toString())+'"';else if("object"==typeof e){n+=i+"{";l=0;for(var s in e)l++;for(var s in e)n+="\n"+i+'\t"'+s+'":'+t.toJson(e[s],i+"\t"),n+=l>1?",":"\n"+i,l--;n+="}"}else n+=e.toString();return n},innerXml:function(t){var e="";if("innerHTML"in t)e=t.innerHTML;else for(var i=function(t){var e="";if(1==t.nodeType){e+="<"+t.nodeName;for(var n=0;n<t.attributes.length;n++)e+=" "+t.attributes[n].nodeName+'="'+(t.attributes[n].nodeValue||"").toString()+'"';if(t.firstChild){e+=">";for(var l=t.firstChild;l;l=l.nextSibling)e+=i(l);e+="</"+t.nodeName+">"}else e+="/>"}else 3==t.nodeType?e+=t.nodeValue:4==t.nodeType&&(e+="<![CDATA["+t.nodeValue+"]]>");return e},n=t.firstChild;n;n=n.nextSibling)e+=i(n);return e},escape:function(t){return t.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},htmlEntities:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},removeWhite:function(e){e.normalize();for(var i=e.firstChild;i;)if(3==i.nodeType)if(i.nodeValue.match(/[^ \f\n\r\t\v]/))i=i.nextSibling;else{var n=i.nextSibling;e.removeChild(i),i=n}else 1==i.nodeType?(t.removeWhite(i),i=i.nextSibling):i=i.nextSibling;return e},parseXml:function(t){return require("libxml").parseFromString(t)}};return t},xml2json:function(t,e){var i=CodeTranslator.xml2json_translator();9==t.nodeType&&(t=t.documentElement);var n=i.toObj(i.removeWhite(t)),l=i.toJson(n,"");return e?l.replace(/\t/g,e):l.replace(/\t|\n/g,"")},json2xml_translator:function(){var X={toXml:function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=""),void 0===n&&(n={});var l="";if(t instanceof Array){l+=i+"<"+e;for(var o in n)l+=" "+o+'="'+n[o].toString()+'"';l+=">\n";for(var r=0,s=t.length;r<s;r++)t[r]instanceof Array?l+=i+X.toXml(t[r],e,i+"\t")+"\n":"object"==typeof t[r]?l+=X.toXml(t[r],null,i):(l+=i+"\t"+t[r].toString(),l+="\n"==l.charAt(l.length-1)?"":"\n");null!=e&&(l+=("\n"==l.charAt(l.length-1)?i:"")+"</"+e+">")}else if("object"==typeof t){var a=!1;null===e||(l+=i+"<"+e);var g={};for(var o in t)if(o.search("@")>=1){var C=o.split("@");void 0===g[C[0]]&&(g[C[0]]={}),g[C[0]][C[1]]=t[o],delete t[o]}for(var o in t)"@"==o.charAt(0)?l+=" "+o.substr(1)+'="'+t[o].toString()+'"':a=!0;for(var o in n)l+=" "+o+'="'+n[o].toString()+'"';if(null!=e&&(l+=a?"":"/",l+=">\n"),a){for(var o in t)"#text"==o?l+=t[o]:"#cdata"==o?l+="<![CDATA["+t[o]+"]]>":"@"!=o.charAt(0)&&(l+=X.toXml(t[o],o,i+"\t",g[o])+"\n");null!=e&&(l+=("\n"==l.charAt(l.length-1)?i:"")+"</"+e+">")}}else{l+=i+"<"+e;for(var o in n)l+=" "+o+'="'+n[o].toString()+'"';l+=">",l+=t.toString()+"</"+e+">"}return l},parseJson:function(jsonString){var obj;return eval("obj = "+jsonString+";"),obj=JSON.parse(jsonString)}};return X},json2xml:function(t,e){var i=CodeTranslator.json2xml_translator(),n=i.toXml(i.parseJson(t));return e?n.replace(/\t/g,e):n.replace(/\t|\n/g,"")}};ModelAttribute.prototype.setValue=function(t,e){this[t]=e},ModelAttribute.prototype.toAttributeString=function(){var t={};return t.intrinsic=JSON.stringify(this.intrinsic),t.extended=JSON.stringify(this.extended),t};